{"version":3,"sources":["webpack:///webpack/bootstrap 575b4c10d1f915db40a1","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./src/images/back_6.png","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./src/images/view_4.png","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./src/libs/laya.core.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./src/images/back_4.png","webpack:///./src/images/bg-game.png","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./src/images/hit4-1.png","webpack:///./src/pages/home/home.ts","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./src/images/back_3.png","webpack:///./src/images/view_3.png","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./src/libs/laya.wxmini.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./src/images/hit3-1.png","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./src/images/view_1.png","webpack:///./src/images/bg-distance.png","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./src/images/hit3-2.png","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./src/images/view_2.png","webpack:///./src/images/view_6.png","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./src/images/view_5.png","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./src/images/back_5.png","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./src/images/back_1.png","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./src/images/hit1.png","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/images/hit2.png","webpack:///./src/images/back_2.png","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./src/images/hit4-2.png","webpack:///./src/images/road.png","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./src/libs/laya.webgl.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","a","aFunction","fn","that","length","undefined","b","apply","arguments","id","px","Math","random","key","concat","toString","classof","ITERATOR","Iterators","getIteratorMethod","it","TypeError","Array","from","isObject","global","window","self","Function","__g","create","descriptor","setToStringTag","IteratorPrototype","this","Constructor","NAME","next","$Object","desc","Laya","document","__internals","__packages","__classmap","String","__sysClass","array","string","dictionary","__propun","writable","__presubstr","substr","__substr","ofs","sz","__init","_classs","forEach","__init$","__isClass","__isclass","__newvec","value","__extend","gs","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptor___default","g","set","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default","__","un","__copy","__imps","dec","src","__package","strs","split","__hasOwnProperty","classHas","__super","__class","__typeof","Number","__interface__","__as","type","__int","parseInt","interface","_super","ins","supers","extend","nm","push","words","class","fullName","miniName","indexOf","paths","console","log","Main","imps","exs","superSet","clas","prop","fun","superGet","getset","isStatic","getfn","setfn","static","_class","def","v","tmp","obj","uns","names","trace","Error","throwError","__static","__getset","RunDriver","FILTER_ACTIONS","pixelRatio","_charSizeTestDiv","now","Date","getWindow","getPixelRatio","ctx","Browser","context","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","getIncludeStr","createShaderCondition","conditionScript","_runScript","fontMap","measureText","txt","font","isChinese","hanzi","test","r","getWebGLContext","canvas","beginFlush","endFinish","addToAtlas","flashFlushImage","atlasWebGLCanvas","drawToCanvas","sprite","_renderType","canvasWidth","canvasHeight","offsetX","offsetY","HTMLCanvas","RenderContext","RenderSprite","renders","_fun","createParticleTemplate2D","createGLTextur","createWebGLContext2D","changeWebGLSize","w","h","createRenderSprite","createFilterAction","ColorFilterAction","createGraphics","Graphics","clear","Render","_context","cancelLoadByUrl","url","clearAtlas","isAtlas","bitmap","addTextureToAtlas","getTexturePixels","x","y","width","height","skinAniSprite","update3DLoop","RegExp","Config","erralert","onerror","msg","line","column","detail","alert","stack","init","__plugins","plugins","_isinit","ArrayBuffer","slice","_arrayBufferSlice","__init__","Context","timer","Timer","scaleTimer","loader","LoaderManager","WeakObject","enable","Font","Style","ResourceManager","CacheManager","beginCheck","_currentStage","stage","Stage","conchModel","setRootNode","getUrlPath","render","size","KeyBoardManager","MouseManager","instance","Input","SoundManager","autoStopMusic","LocalStorage","location","pathName","pathname","charAt","substring","URL","rootPath","basePath","getPath","protocol","host","start","end","arrU8List","Uint8Array","newU8List","buffer","script","fromCharCode","version","MiniAdpter","navigator","userAgent","error","conchMarket","conch","PlatformClass","WebGLTextCacheCount","atlasEnable","showCanvasMark","animationInterval","isAntialias","isAlpha","premultipliedAlpha","isStencil","preserveDrawingBuffer","EventDispatcher","EventHandler","_events","__proto","hasListener","event","data","listeners","run","once","runWith","listener","splice","on","caller","args","_createListener","offBefore","off","handler","events","onceOnly","method","recover","count","item","offAll","_recoverHandlers","arr","isMouseEvent","MOUSE_EVENTS","rightmousedown","rightmouseup","rightclick","mousedown","mouseup","mousemove","mouseover","mouseout","click","doubleclick","laya","Handler","_id","_pool","pop","setTo","_gid","result","unshift","BitmapFont","_texture","_fontCharDic","_fontWidthMap","_complete","_path","_maxWidth","_spaceWidth","_padding","fontSize","autoScaleSize","letterSpacing","loadFont","path","complete","load","replace","onLoaded","parseFont","Loader","getRes","xml","texture","tInfo","getElementsByTagName","getAttributeNode","parseFont2","nodeValue","chars","tPaddingArray","tAttribute","tId","xOffset","yOffset","xAdvance","region","Rectangle","tTexture","Texture","max","attributes","getCharTexture","char","charCodeAt","destroy","setSpaceWidth","spaceWidth","getCharWidth","code","getTextWidth","text","tWidth","getMaxWidth","getMaxHeight","drawText","drawX","drawY","align","dx","tX","graphics","drawTexture","alpha","visible","scrollRect","blendMode","_type","_tf","_TF_EMPTY","getTransform","setTransform","setTranslateX","TransformInfo","translateX","setTranslateY","translateY","setScaleX","scaleX","setScale","scaleY","setScaleY","setRotate","rotate","setSkewX","skewX","setSkewY","skewY","getCSSStyle","CSSStyle","EMPTY","_enableLayout","_weight","_decoration","_text","indent","_color","Color","defaultColor","family","defaultFamily","stroke","_STROKE","defaultSize","copyTo","str","italic","bold","strColor","weight","color","defaultFont","_ITALIC","_PASSWORD","_BOLD","_one","_cmds","_render","_renderEmpty","isConchNode","_nativeObj","_conchGraphics","conchID","_graphicBounds","_vectorgraphArray","_sp","recoverCmds","len","tCmd","callee","_drawTexture","_drawTextureWithTransform","_cache","_repaint","VectorGraphManager","getInstance","deleteShape","_clearBoundsCache","reset","_initGraphicBounds","GraphicsBounds","_graphics","repaint","_isOnlyOne","getBounds","realSize","getBoundPoints","_addCmd","shift","setFilters","fs","_saveToCmd","_setFilters","tex","sourceWidth","sourceHeight","offset","isWebGL","onFirefox","onEdge","onIE","onSafari","wRate","hRate","loaded","_renderOneImg","_textureLoaded","cleanByTexture","drawTextures","pos","_drawTextures","fillTexture","Point","_fillTexture","param","fillCircle","cx","cy","radius","segNum","enableMerageInAtlas","verts","Float32Array","uvs","indices","Uint16Array","dang","PI","cang","idx","cos","py","sin","drawTriangles","vertices","matrix","_renderOne","_renderAll","clipRect","_clipRect","fillText","textAlign","underLine","_fillText","fillBorderText","fillColor","borderColor","lineWidth","_fillBorderText","strokeText","_strokeText","_alpha","setAlpha","_setAlpha","transform","pivotX","pivotY","_transform","angle","_rotate","scale","_scale","translate","_translate","save","_save","restore","_restore","replaceText","cmds","_isTextCmd","toUpperCase","setText","replaceTextColor","changed","loadImage","_$this","onloaded","cmd","drawLine","fromX","fromY","toX","toY","lineColor","getId","_drawLine","drawLines","points","_drawLines","drawCurves","_drawCurves","drawRect","lineOffset","_drawRect","drawCircle","_drawCircle","drawPie","startAngle","endAngle","Utils","toRadian","_drawPie","drawPoly","tIsConvexPolygon","_drawPoly","drawPath","brush","pen","_drawPath","display","to","ConchGraphics","list","temp","drawImageS","source","uv","drawImageM","pat","ctxi","DEF_UV","createPattern","sX","sY","_fillImage","_cacheBoundsType","_temp","_rstBoundPoints","_bounds","_getWrapRec","_getCmdPoints","copyArray","rst","matrixs","_tempCmds","_tempMatrixArrays","tMatrix","_initMatrix","identity","tempMatrix","_tempMatrix","NaN","oWidth","oHeight","offX","offY","clone","_switchMatrix","_addPointArrToRst","_getBoundPointS","drawMatrix","_fillCircle","_tempPoints","Bezier","I","getBezierPoints","_getPathPoints","_getPiePoints","_getBoundPoints","GrahamScan","scanPList","tMatix","step","tCMD","dy","_addPointToRst","_tempPoint","TEMP","transformPoint","Matrix","Event","currentTarget","target","stopPropagation","_stoped","mouseY","nativeEvent","charCode","touches","e","point","clientX","clientY","_canvasTransform","invertTransformPoint","stageX","stageY","keyLocation","ctrlKey","altKey","shiftKey","mouseX","MOUSE_DOWN","MOUSE_UP","CLICK","RIGHT_MOUSE_DOWN","RIGHT_MOUSE_UP","RIGHT_CLICK","MOUSE_MOVE","MOUSE_OVER","MOUSE_OUT","MOUSE_WHEEL","ROLL_OVER","ROLL_OUT","DOUBLE_CLICK","CHANGE","CHANGED","RESIZE","ADDED","REMOVED","DISPLAY","UNDISPLAY","ERROR","COMPLETE","LOADED","PROGRESS","INPUT","RENDER","OPEN","MESSAGE","CLOSE","KEY_DOWN","KEY_PRESS","KEY_UP","FRAME","DRAG_START","DRAG_MOVE","DRAG_END","ENTER","SELECT","BLUR","FOCUS","VISIBILITY_CHANGE","FOCUS_CHANGE","PLAYED","PAUSED","STOPPED","START","END","ENABLE_CHANGED","ACTIVE_IN_HIERARCHY_CHANGED","COMPONENT_ADDED","COMPONENT_REMOVED","LAYER_CHANGED","HIERARCHY_LOADED","RECOVERED","RELEASED","LINK","LABEL","FULL_SCREEN_CHANGE","DEVICE_LOST","MESH_CHANGED","MATERIAL_CHANGED","WORLDMATRIX_NEEDCHANGE","ANIMATION_CHANGED","TRIGGER_ENTER","TRIGGER_STAY","TRIGGER_EXIT","TRAIL_FILTER_CHANGE","DOMINO_FILTER_CHANGE","Keyboard","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","A","B","C","D","E","F","G","H","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","NUMPAD","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","SEMICOLON","EQUAL","COMMA","MINUS","PERIOD","SLASH","BACKQUOTE","LEFTBRACKET","BACKSLASH","RIGHTBRACKET","QUOTE","ALTERNATE","BACKSPACE","CAPS_LOCK","COMMAND","CONTROL","DELETE","ESCAPE","PAGE_UP","PAGE_DOWN","HOME","LEFT","UP","RIGHT","DOWN","SHIFT","SPACE","TAB","INSERT","_addEvent","addEventListener","_dispatch","enabled","_event","keyCode","which","_pressKeys","focus","displayedInStage","ct","parent","hasKeyDown","KeyLocation","STANDARD","NUM_PAD","disableMouseEvent","mouseDownTime","mouseMoveAccuracy","_stage","_target","_lastMoveTimer","_isLeftMouse","_eventList","_touchIDs","_tTouchID","_matrix","_point","_rect","_prePoint","_curTouchID","_this","oncontextmenu","preventDefault","_isFirstTouch","isInputting","initEvent","evt","pageX","pageY","touchId","identifier","TouchManager","checkMouseWheel","delta","wheelDelta","_lastOvers","getLastOvers","ele","onMouseMove","onMouseDown","contains","pre_input","new_input","multiline","onMouseUp","check","sp","callBack","fromParentPoint","hitTestPrior","mouseThrough","hitTest","_childs","child","destroyed","mouseEnabled","isHit","hitArea","utils","HitArea","getGraphicBounds","hitRect","runEvent","touch","j","_isTouchRespond","button","abs","changedTouches","multiTouchEnabled","isNaN","touchends","touchemoves","stageMouseOut","preOvers","preDowns","preRightDowns","_lastClickTime","_clearTempArrs","_oldArr","_newArr","_tEleArr","getTouchFromArr","touchID","tTouchO","removeTouchFromArr","createTouchO","Pool","getItem","tar","isLeft","preO","tO","arrs","getEles","onMobile","sendEvents","eles","tE","checkMouseOutAndOverOfMove","eleNew","elePre","oldArr","newArr","tIndex","lastOvers","sendArr","isDouble","Filter","_action","laya.filters.IFilter","callNative","COLOR","GLOW","_filterStart","_filterEnd","_EndTarget","_recycleScope","_filter","_useSrc","_endSrc","_useOut","_endOut","laya.filters.IFilterAction","srcCanvas","nData","imgdata","getImageData","getColor","putImageData","red","green","blue","_mat","mat","tempAlpha","Arith","formatR","isPOT","setMatToArray","tx","ty","_controlPoints","_calFun","getPoint2","_switchPoint","tPoint","t","p1","p2","p3","lineX","pow","lineY","getPoint3","p4","insertPoints","dLen","pList","inSertCount","multiply","p0","dis","_getPoints","tempUse","_mPointList","getFrom","getFromR","pListToPointList","_tempPointList","pointListToPlist","pointList","_temPList","scan","PointSet","ch","k","_tmpDic","_temArr","MathUtil","subtractVector3","lerp","left","right","amount","scaleVector3","f","lerpVector3","ax","ay","az","lerpVector4","aw","slerpQuaternionArray","Offset1","Offset2","out","Offset3","omega","cosom","sinom","scale0","scale1","bx","by","bz","bw","acos","getRotation","x0","y0","x1","y1","atan2","sortBigFirst","sortSmallFirst","sortNumBigFirst","parseFloat","sortNumSmallFirst","sortByKey","bigFirst","forceNum","_sortFun","inPool","bTransform","_checkTransform","setTranslate","a1","c1","tx1","skew","tanX","tan","tanY","b1","d1","a2","b2","c2","d2","tx2","ty2","transformPointN","transformPointArray","transformPointArrayScale","getScaleX","sqrt","getScaleY","invert","scaleEx","ba","bb","bc","bd","rotateEx","cache","_length","mul","m1","m2","aa","ab","ac","ad","atx","aty","btx","bty","mul16","mulPre","mulPos","preMul","pa","pb","pc","pd","na","nb","nc","nd","ntx","nty","preMulXY","distance","normalize","copyFrom","bottom","intersects","rect","intersection","min","union","addPoint","equals","_temB","isEmpty","_temA","minX","maxX","minY","maxY","_useAudioMusic","_musicClass","AudioSound","_autoStopMusic","_stageOnBlur","_stageOnFocus","_visibilityChange","_muted","stopAllSound","musicMuted","_musicMuted","_tMusic","_musicChannel","isStopped","pause","resume","_soundMuted","addChannel","channel","_channels","removeChannel","disposeSoundIfNotUsed","destroySound","isVisibility","_isActive","_blurPaused","_recoverWebAudio","WebAudioSound","state","playSound","loops","soundClass","startTime","formatURL","isConchApp","ext","getFileExtension","tSound","onMiniGame","_soundClass","cacheRes","play","volume","musicVolume","soundVolume","completeHandler","clearRes","dispose","playMusic","stop","stopSound","stopAll","stopMusic","setSoundVolume","_setVolume","setMusicVolume","playbackRate","autoReleaseSound","Storage","_baseClass","items","support","setItem","setJSON","getJSON","removeItem","localStorage","warn","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","JSON","parse","TTFLoader","ResourceVersion","manifestFile","callback","net","onManifestLoaded","customFormat","addVersionPrefix","manifest","originURL","FOLDER_VERSION","FILENAME_VERSION","fontName","err","_fontTxt","_url","_div","_txtWidth","_http","fontPath","tArr","_loadConch","FontFace","_loadWithFontFace","_loadWithCSS","HttpRequest","_onErr","_onHttpLoaded","send","setFontFaceFromBuffer","_clearHttp","_checkComplete","parentNode","removeChild","fontFace","fonts","add","then","_createDiv","createElement","innerHTML","_style","style","fontFamily","position","top","body","appendChild","fontStyle","textContent","onload","loop","_testString","base","char1","formatRelativePath","parts","join","isAbsolute","lastIndexOf","getFileName","newUrl","_timeId","_mainCanvas","background","isWebGl","WebGL","container","setIsMainContext","requestAnimationFrame","_loop","_onVisibilitychange","clearInterval","setInterval","_enterFrame","isConchWebGL","is3DMode","optimizeTextureMemory","ConchRenderType","drawTextureWithTransform","_fillQuadrangle","fillQuadrangle","fillStyle","fillRect","strokeStyle","strokeRect","setPathId","beginPath","movePath","moveTo","arc","closePath","_fillAndStroke","_fillRect","Stat","drawCall","PI2","fill","_setShader","setShader","lineTo","_drawLinesWebGL","_draw","_transformByMatrix","transformByMatrix","_setTransform","_setTransformByMatrix","setTransformByMatrix","globalAlpha","_blendMode","globalCompositeOperation","_beginClip","beginClip","_setIBVB","setIBVB","_fillTrangles","fillTrangles","arcTo","lineJoin","lineCap","miterLimit","_drawSkin","tSprite","_drawParticle","drawParticle","getContext","_setContext","point4","drawCanvas","strokeColor","isConvexPolygon","index0","index1","index2","drawTriangle","shader","fillWords","fillBorderWords","flush","addRenderObject","endClip","_next","NORENDER","_no","_image","_blend","_canvas","_mask","_clip","_custom","_image2","_initRenderFun","onCreate","customRender","tf","mask","numChildren","cacheAsBitmap","drawTexture2","_needRepaint","paddingLeft","paddingTop","_calculation","_getWords","tStyle","textDecoration","childs","viewport","optimizeScrollRect","_x","_y","_cacheCanvas","_$P","cacheCanvas","canvasBitmap","canvasNormal","_canvas_repaint","tRec","_cacheRec","tCacheType","getSelfBounds","floor","clientScaleX","clientScaleY","chainScaleX","chainScaleY","asBitmap","cf","setFilterMatrix","_applyFilters","staticCache","reCache","canvasReCache","initRender","_initSame","_getTypeRender","tType","IMAGE","ALPHA","TRANSFORM","BLEND","CANVAS","FILTERS","MASK","CLIP","STYLE","GRAPHICS","CUSTOM","CHILDS","INIT","replaceReset","replaceKeys","newKeys","replaceResotre","__restore","__reset","drawImage","__fillRect","textBaseline","__fillText","__strokeText","clip","args2","alphaChanged","other","oX","oY","canvasPadding","textureSource","textureWidth","textureHeight","u0","u1","u2","v0","v1","v2","x2","y2","centerX","centerY","normX","normY","dist","dDelta","deltaA","deltaB","deltaC","deltaD","deltaE","deltaF","tHeight","dX","clearRect","quadraticCurveTo","resource","CanvasRenderingContext2D","inited","replaceCanvasGetSet","oldO","tkey","newO","preFun","_ct","replaceGetSet","dataKey","_default","_name","_resources","_memorySize","_garbageCollectionRate","_isOverflow","autoRelease","autoReleaseMaxSize","_uniqueIDCounter","_isResourceManagersSorted","_resourceManagers","laya.resource.IDispose","getResourceByIndex","index","getResourcesLength","addResource","resourceManager","removeResource","_resourceManager","addSize","memorySize","unload","tempResources","_systemResourceManager","garbageCollection","reserveSize","all","sort","released","_lastUseFrameCount","currentFrameCount","loopCount","resou","releaseResource","currentResourceManager","systemResourceManager","getLoadedResourceManagerByIndex","getLoadedResourceManagersCount","recreateContentManagers","force","activeResource","releaseContentManagers","System","changeDefinition","classObj","disableConchResManager","disableConchAutoRestoreLostedDevice","canvasRotation","clientWidth","clientHeight","innerWidth","_window","innerHeight","documentElement","_container","_document","_onMessage","__createElement","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","$BS","u","onIOS","match","onIPhone","onMac","onIPad","onAndroid","onWP","onQQBrowser","onMQQBrowser","ActiveXObject","onWeiXin","onPC","onLimixiu","httpProtocol","webAudioEnabled","soundType","Sound","initWebAudio","_initMusicAudio","enableTouch","DocumentTouch","__innerHeight","createEvent","dispatchEvent","getElementById","removeElement","Byte","_xd_","_allocated_","_pos_","_u8d_","_d_","DataView","byteLength","___resizeBuffer","newByteView","subarray","getString","rUTF","getUint16","getFloat32Array","getUint8Array","getInt16Array","Int16Array","getFloat32","getFloat64","writeFloat32","ensureWrite","setFloat32","writeFloat64","setFloat64","getInt32","float","getUint32","writeInt32","setInt32","writeUint32","setUint32","getInt16","us","writeUint16","setUint16","writeInt16","setInt16","getUint8","writeUint8","setUint8","_getUInt8","_getUint16","_getMatrix","getCustomString","ulen","__getBuffer","writeUTFBytes","writeByte","writeUTFString","tPos","dPos","readUTFString","readUTFBytes","getUTFString","lastBytes","bytesAvailable","getUTFBytes","setInt8","readByte","getInt8","getByte","lengthToEnsure","writeArrayBuffer","arraybuffer","uint8array","rstBuffer","endianStr","getSystemEndian","_sysEndian","BIG_ENDIAN","LITTLE_ENDIAN","regCacheByFunction","disposeFunction","getCacheListFunction","unRegCacheByFunction","tryDispose","getCacheList","_cacheList","forceDispose","waitTime","_checkLoop","stopCheck","cacheList","tTime","_index","loopTimeLimit","ClassUtils","regClass","className","classDef","_classMap","getRegClass","compClass","getClass","createByJson","json","node","root","customHandler","instanceHandler","props","runtime","renderType","addGraphicsToSprite","isDrawType","addGraphicToSprite","tChild","addChild","itemRender","customProps","created","graphicO","_getGraphicsFromSprite","ox","oy","_getObjVar","_addGraphicToGraphics","isChild","dataO","propsName","_getTransformData","propsO","sx","sy","graphic","drawConfig","DrawTypeDic","params","_getParams","_tM","_adptLineData","_adptTextureData","_adptLinesData","_getPointListByStr","xPos","adptFun","_temParam","pointArr","noValue","Sprite","Text","Animation","Skeleton","Particle2D","div","img","span","br","#text","classObject","Rect","Circle","Pie","Image","FillTexture","FillText","Line","Lines","Curves","Poly","numColor","toHexColor","__id","_COLODID","_initDefault","_DEFAULT","_COLOR_MAP","_SAVE","_initSaveMap","_SAVE_SIZE","white","black","yellow","gray","Dragging","Dictionary","_values","_keys","remove","ratio","maxOffset","_dragging","_clickOnly","area","hasInertia","elasticDistance","elasticBackTime","clearTimer","_disableMouseEvent","globalScaleX","globalScaleY","_parent","_elasticRateX","_elasticRateY","_lastX","_lastY","onStageMouseUp","frameLoop","tweenMove","_tween","backToArea","getMousePoint","_offsets","_set$P","checkArea","_offsetX","_offsetY","checkElastic","Tween","Ease","sineOut","linearNone","linearIn","linearInOut","linearOut","bounceIn","bounceOut","bounceInOut","backIn","backInOut","backOut","elasticIn","asin","elasticInOut","elasticOut","strongIn","strongInOut","strongOut","sineInOut","sineIn","HALF_PI","quintIn","quintInOut","quintOut","quartIn","quartInOut","quartOut","cubicIn","cubicInOut","cubicOut","quadIn","quadInOut","quadOut","expoIn","expoInOut","expoOut","circIn","circInOut","circOut","_hit","_unHit","isHitGraphic","hit","unHit","isHitCmd","_rec","ptInPolygon","areaPoints","_ptPoint","nCross","p1x","p1y","p2x","p2y","HTMLChar","charNum","isWord","_isWordRegExp","laya.display.ILayout","setSprite","_sprite","getSprite","_isChar","_getCSSStyle","_w","_h","Log","_logdiv","cssText","toggle","print","_count","maxCount","innerText","scrollTop","scrollHeight","Mouse","cursor","cursorStr","hide","_preCursor","show","getPoolBySign","sign","_poolDic","clearBySign","getItemByClass","cls","pool","getItemByCreateFun","createFun","InPoolSign","PoolCache","addPoolCacheManager","bind","onclick","pointerEvents","_useCanvas","_show","_fpsData","_view","title","units","createUIPre","createUI","showFPS","pixel","_width","_vx","_height","_fontSize","_ctx","_first","stat","_leftText","_txt","trianglesFaces","shaderCall","spriteCount","spriteRenderUseCacheCount","treeNodeCollision","treeSpriteCollision","_timer","FPS","round","ceil","delay","_fpsStr","renderSlow","_spriteStr","_canvasStr","currentMemorySize","renderInfoPre","renderInfo","one","StringKey","_strsToID","_idToStrs","getID","getName","TimerHandler","_delta","currFrame","_mid","_map","_laters","_handlers","currTimer","_now","_lastTimer","_init","_update","frame","handlers","userFrame","exeTime","repeat","jumpFrame","_clearHandlers","laters","_recoverHandler","_create","useFrame","coverBefore","_getHandler","_indexHandler","cid","$_GID","getGID","mid","$_TID","frameOnce","clearAll","callLater","runCallLater","runTimer","withClear","gid","duration","ease","isTo","usePool","runNow","_duration","_ease","easeNone","_delay","_props","_usedTimer","_startTimer","_usedPool","_delayParam","update","tweenMap","clearTween","firstStart","_initProps","_beginLoop","_doEase","_updateEase","time","usedTimer","dTime","setStartTime","_remove","_clear","tweens","restart","uTime","autoRecover","tween","_pi2","toAngle","radian","_pi","concatArray","clearArray","getGlobalRecByPoints","newLTPoint","newRBPoint","localToGlobal","getGlobalPosAndScale","scope","updateOrder","_zOrder","model","updateZOrder","addChildAt","transPointList","radix","_extReg","lastIndex","exec","toLowerCase","getTransformRelativeToWindow","coordinateSpace","globalTransform","canvasMatrix","canvasLeft","canvasTop","canvasDegree","perpendicular","domScaleX","domScaleY","fitDOMElementInArea","dom","_fitLayaAirInitialized","transformOrigin","webKittransformOrigin","webkitTransform","isOkTextureList","textureList","isOKCmdList","parseXMLFromString","DOMParser","parseFromString","firstChild","useDic","shapeDic","shapeLineDic","_checkKey","_freeIdArray","startDispose","addShape","shape","addLine","getShape","endDispose","_obj","supportWeakMap","WeakMap","_maps","objKey","del","delete","has","delInterval","clearCache","WordText","Node","_bits","_displayedInStage","_destroyed","ARRAY_EMPTY","PROP_EMPTY","createConchModel","_setBit","_getBit","_updateDisplayedInstage","_setUpNoticeChain","_setUpNoticeType","destroyChild","destroyChildren","removeChildren","zOrder","getChildIndex","_childChanged","addChildren","__args","oldIndex","getChildByName","nodes","_get$P","getChildAt","setChildIndex","removeChildAt","removeSelf","removeChildByName","beginIndex","endIndex","replaceChild","newNode","oldNode","_setDisplay","_displayChild","timerLoop","timerOnce","NOTICE_DISPLAY","MOUSEENABLE","ower","_bgground","_border","lineHeight","_PADDING","_spacing","_SPACING","_aligns","_ALIGNS","_font","_ower","inherit","_widthAuto","widthed","getValue","pw","nums","onParentResize","input","heighted","resize","_layoutLater","_getAlign","_getValign","_getCssFloat","_createFont","attrs","parseOneCSS","attr","_$get_block","_valigndef","_aligndef","lineElement","decoration","bgColor","password","values","border","padding","rotation","clipWord","valueArray","_CSSTOVALUE","parseCSS","uri","_parseCSSRegExp","styleSheets","letter-spacing","line-spacing","white-space","line-height","scale-x","scale-y","translate-x","translate-y","font-family","font-weight","vertical-align","text-decoration","background-color","border-color","center","0","1","2","middle","ALIGN_CENTER","ALIGN_RIGHT","VALIGN_MIDDLE","VALIGN_BOTTOM","_CSS_BLOCK","_DISPLAY_NONE","_ABSOLUTE","_WIDTH_SET","_RECT","ADDLAYOUTED","_NEWFONT","_HEIGHT_SET","_BACKGROUND_SET","_FLOAT_RIGHT","_LINE_ELEMENT","_NOWARP","_WIDTHAUTO","_LISTERRESZIE","audio","_audioCache","_musicAudio","readyState","onErr","me","offs","removeEventListener","tAd","cloneNode","AudioSoundChannel","_makeMusicOK","SoundChannel","__runComplete","audioBuffer","__toPlays","_disposed","_dataCache","_loaded","_err","__loadingSound","request","XMLHttpRequest","open","responseType","_removeLoadEvents","response","buffs","decode","__playAfterLoaded","toPlays","tParams","WebAudioSoundChannel","isDecoding","decodeAudioData","_done","_fail","_playEmptySound","createBufferSource","_miniBuffer","connect","destination","_unlock","_unlocked","createBuffer","_responseType","_data","headers","http","setRequestHeader","_onError","onabort","_onAbort","onprogress","_onProgress","_onLoad","lengthComputable","total","status","statusText","responseURL","message","flag","responseText","_customParse","group","ignoreCache","getTypeFromUrl","loadedMap","setGroup","parserMap","_loadImage","_loadSound","_loadTTF","contentType","preLoadedMap","onProgress","onError","typeMap","ttfLoader","image","imgCache","crossOrigin","HTMLImage","sound","parsePLFData","meta","toloadPics","folderPath","reverse","toLoads","pics","frames","cleanUrl","directory","prefix","atlasURL","map","atlasMap","dir","scaleRate","tPic","spriteSourceSize","sourceSize","bFont","registerBitmapFont","tex1","plfData","filePath","fileDic","_loaders","_isWorking","checkNext","endLoad","content","startTimer","_startIndex","maxTimeOut","getAtlas","resUrl","res","clearTextureRes","releaseTexture","_atlaser","groupMap","clearResByGroup","TEXT","XML","BUFFER","SOUND","ATLAS","FONT","TTF","PLF","PKM","png","jpg","jpeg","als","atlas","mp3","ogg","wav","part","fnt","pkm","ttf","plf","ResInfo","retryNum","retryDelay","maxLoader","_loaderCount","_resInfos","_infoPool","_maxPriority","_failRes","progress","priority","onComplete","loadedCount","itemCount","num","progress2","progressHandler","formarUrl","extension","creatItem","createMap","_setUrl","_setGroup","_createLoad","onAsynLoaded","_loadAssets","info","_resMap","infos","_doLoad","resInfo","_endLoad","errorCount","_addReTry","clearUnLoaded","cancelLoadByUrls","urls","totalSize","success","loadProgress","loadComplete","item1","Resource","ColorFilter","z","Socket","port","byteClass","_endian","_stamp","_socket","_connected","_addInputPosition","_input","_output","timeout","objectEncoding","disableInput","_byteClass","protocols","endian","connectByUrl","close","cleanSocket","WebSocket","binaryType","onopen","_onOpen","onmessage","onclose","_onClose","pre","WorkerLoader","worker","Worker","workerPath","workerMessage","imageLoaded","_enable","_myTrace","dataType","imageData","createImageData","imagedata","imageBitmap","webgl","WebGLImage","__arg","arg","postMessage","_preLoadFun","disableJSDecode","createImageBitmap","workerSupported","IMAGE_LOADED","IMAGE_ERR","IMAGE_MSG","_$1__id","__loaded","_referenceCount","_idResourcesMap","_released","lock","laya.resource.ICreateResource","resList","_urlResourcesMap","_getGroup","_group","groupList","_groupResourcesMap","_addReference","_removeReference","_clearReference","_endLoaded","recreateResource","completeCreate","disposeResource","offsetValue","getResourceByID","getResourceByURL","getResourceCountByURL","destroyUnusedResources","resouList","tempResouList","_uvID","_atlasID","HTMLElement","bm","active","referenceCount","conchDestroy","fileBitmap","getPixels","tUint8Array","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default","minFifter","magFifter","moveUV","btex","bIsAtlas","atlaser","nAtlasID","_inAtlasTextureBitmapValue","_inAtlasTextureOriUVValue","dwidth","dheight","inAltasUVWidth","inAltasUVHeight","oriUV","bitmapScale","createFromTexture","texScaleRate","_rect1","_rect2","INV_UV","TimeLine","tweenData","_labelDic","_tweenDic","_tweenDataList","_endTweenDataList","_currTime","_lastTime","_startTime","_gidIndex","_firstTweenDic","_startTimeSort","_endTimeSort","_loopKey","_frameRate","_frameIndex","_total","tTweenData","endTime","addLabel","label","removeLabel","gotoTime","tTween","tObject","tTweenDataCopyList","tDataP","diyTarget","paraA","paraB","tP","_animComplete","gotoLabel","Label","tLabelData","timeOrLabel","tTarget","tSrcData","tNow","tFrameTime","tCurrTime","_tfChanged","_mouseEnableState","_optimizeScrollRect","autoSize","ConchNode","_releaseMem","setBounds","bound","mBounds","_boundPointsToParent","uBounds","_getBoundPointsM","ifRotate","pX","pY","toParentPoint","temBM","rec","cList","__childs","getStyle","setStyle","_adjustTransform","skx","sky","ssx","ssy","speedMode","parentRepaint","maskParent","pivot","setCanvasType","_filters","filters","action","_isHaveGlowFilter","createNewPoint","globalToLocal","scroll","_$2__onDisplay","startDrag","dragging","stopDrag","cc","fc","_filterCache","recycle","hitTestPoint","_addChildsToLayout","_addToLayout","absolute","block","_setAttributes","CustomList","customContext","custom","cacheAs","setZOrder","RUNTIMEVERION","removeType","_$get_parent","fromImage","conchConfig","getRuntimeVersion","_audio","_onEnd","_resumePlay","__onEnd","__resumePlay","currentTime","gain","bufferSource","_currentTime","_volume","_pauseTime","_onPlayEnd","__onPlayEnd","_clearBufferSource","disconnect","onended","setTargetAtTime","sourceNode","noteOff","_tryCleanFailed","_tryClearBuffer","Bitmap","_source","AnimationPlayerBase","wrapMode","_isPlaying","_labels","_isReverse","_frameRateChanged","_controlNode","_actionName","_interval","showWarn","_getFrameByLabel","interval","_frameLoop","_setControlNode","_checkResumePlaying","_removeLabelFromLabelList","gotoAndStop","_displayToIndex","WRAP_POSITIVE","WRAP_REVERSE","WRAP_PINGPONG","_clipPoint","_currBitmapFont","_isChanged","_textWidth","_textHeight","_lines","_lineWidths","_startX","_startY","_lastVisibleLineIndex","_words","_charSize","underline","_underlineColor","overflow","VISIBLE","wordWrap","lang","arg1","arg2","arg3","arg4","arg5","arg6","arg7","arg8","arg9","arg10","langPacks","_isPassWordMode","_getPassWordTxt","word","renderText","begin","visibleLineCount","ctxFont","_fontFamilyMap","startX","textAlgin","lines","leading","tCurrBitmapFont","startY","tempVAlign","valign","tClipWidth","tClipHeight","_word","drawUnderline","tScale","lineIndex","underlineColor","typeset","parseLines","evalTextSize","checkEnabledViewportOrNot","lineCount","func","HIDDEN","startLine","scrollY","nw","nh","SCROLL","changeText","needWordWrapOrTruncate","wordWrapWidth","getWordWrapWidth","measureResult","_testWord","parseLine","execResult","maybeIndex","charsWidth","wordWidth","startIndex","newLine","RightToLeft","getCharPoint","charIndex","textWidth","isChanged","textHeight","_bitmapFonts","backgroundColor","maxScrollX","maxScrollY","bitmapFont","unregisterBitmapFont","tBitmapFont","setTextRightToLeft","direction","supportFont","defaultFontWidth","customFontWidth","CharacterCache","报隶","黑体","楷体","兰亭黑","隶变","凌慧体","翩翩体","苹方","手札体","宋体","娃娃体","魏碑","行楷","雅痞","圆体","designWidth","designHeight","renderingEnabled","screenAdaptationEnabled","_screenMode","_scaleMode","_alignV","_alignH","_bgColor","_mouseMoveTime","_renderCount","_frameStartTime","_isFocused","_isVisibility","_scenes","_previousOrientation","orientation","_isInputting","visibilityChange","hidden","mozHidden","msHidden","webkitHidden","_setStageVisible","_resetCanvas","_onmouseMove","_changeCanvasSize","setScreenSize","screenWidth","screenHeight","canvasStyle","scaleMode","realWidth","realHeight","_formatData","webkitTransformOrigin","msTransformOrigin","mozTransformOrigin","oTransformOrigin","msTransform","mozTransform","oTransform","getTimeFromFrameStart","isFlash","isFastMode","isDoubleLoop","scene","_updateSceneConch","_updateScene","customList","customItem","_requestFullscreen","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","_fullScreenChanged","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","debug","setSlowFrame","setMouseFrame","setLimitFPS","_$get_width","_$get_height","_$set_transform","_wgColor","_$get_visible","visibility","SCALE_NOSCALE","SCALE_EXACTFIT","SCALE_SHOWALL","SCALE_NOBORDER","SCALE_FULL","SCALE_FIXED_WIDTH","SCALE_FIXED_HEIGHT","SCALE_FIXED_AUTO","ALIGN_LEFT","ALIGN_TOP","ALIGN_MIDDLE","ALIGN_BOTTOM","SCREEN_NONE","SCREEN_HORIZONTAL","SCREEN_VERTICAL","FRAME_FAST","FRAME_SLOW","FRAME_MOUSE","FRAME_SLEEP","FRAME_MOUSE_THREDHOLD","FileBitmap","SoundNode","_channel","_tar","_playEvents","_stopEvents","_onParentChange","_setPlayAction","_setPlayActions","eventArr","_src","_onload","_onerror","_is2D","contextID","release","_createContext","getMemSize","getCanvas","toBase64","encoderOptions","base64Data","toDataURL","TYPE2D","TYPE3D","TYPEAUTO","FrameAnimation","HTMLSubImage","atlasImage","allowMerageInAtlas","_frames","_setFramesFromCache","tAniO","framesMap","nodeRoot","_parseGraphicAnimationByData","_copyLabels","labels","loadImages","cacheName","createFrames","loadAtlas","_this_","loadUrl","loadAnimation","_loadAnimationData","aniData","_parseGraphicAnimation","defaultO","aniList","animationList","animationData","GraphicAnimation","parseAnimationData","animationObject","parseAnimationByData","val","key2","_targetDic","_animationData","_animationNewFrames","_sortIndexFun","_setUp","targetDic","frameRate","parsed","animationNewFrames","_calculateDatas","_displayNodeToFrame","propFrames","keys","tNode","_calculateNodeKeyFrames","tKeyFrames","keyFrames","keyframes","initValues","_calculateNodePropFrames","resetToInitState","_dealKeyFrame","_calculateFrameValues","keyFrame","startFrame","endFrame","easeFun","startValue","dValue","tweenMethod","_focus","_multiline","_editable","_restrictPattern","_prompt","_promptColor","_originColor","_content","_maxChars","_onMouseDown","_onUnDisplay","setSelection","inputElement","selectionStart","selectionEnd","_syncInputTransform","nativeInput","inputWid","inputHei","setSize","setPos","inputContainer","select","_setInputMethod","parentElement","_focusIn","cssStyle","whiteSpace","_setPromptColor","readOnly","setType","setForbidEdit","maxLength","placeholder","_onKeyDown","setColor","setFontSize","setFontFace","setMultiAble","fontWeight","promptStyleDOM","setAttribute","head","_focusOut","blur","_$get_color","promptColor","pattern","_createInputElement","IOS_IFRAME","_popupInputMethod","_initInput","zIndex","outline","_processInputting","_stopEvent","TYPE_TEXT","TYPE_PASSWORD","TYPE_EMAIL","TYPE_URL","TYPE_NUMBER","TYPE_RANGE","TYPE_DATE","TYPE_MONTH","TYPE_WEEK","TYPE_TIME","TYPE_DATE_TIME","TYPE_DATE_TIME_LOCAL","TYPE_SEARCH","confirmButton","inputHeight","stageMatrix","_recreateLock","_needReleaseAgain","_enableMerageInAtlas","_init_","onresize","EffectAnimation","_initData","_aniKeys","_effectClass","_onOtherBegin","effect","addEvent","_onPlayAction","_recordInitData","secondFrames","tSecondFrame","uiData","classStr","EffectAnimationBegin","GraphicNode","animationDic","_nodeList","_nodeDefaultProps","_gList","_nodeIDAniDic","_rootNode","_nodeGDic","_parseNodeList","uiView","compId","_calGraphicData","_createGraphicData","preGraphic","gList","animationDataNew","_createFrameGraphic","_rootMatrix","_updateNodeGraphic","parentTransfrom","tNodeG","tResultTransform","tTex","tGraphicAlpha","_getNodeGraphicData","resultTransform","skin","_getTextureByUrl","_updateNoChilds","tTransform","_updateNodeGraphic2","onlyTranslate","hasTrans","ifSave","getNodeDataByID","nodeID","obj2","vArr","frameData","_drawTextureCmd","aX","aY","tm","_tempMt","setAniData","aniName","animations","aniDic","anilist","frameO","parseByData","rootNode","aniO","setUpAniData","tGNode","_I","LayaMain","define","require","default","core","__e","Util","Bwidth","Bheight","SW","SH","Game","rh","distanceGap","bgImage","roadImage","carPos","routes","car","randomHitArr","carArr","viewsArr","hitArr","beginPosRadio","curCarPos","curMoveArr","standerGap","speed","initialSpeed","mapDistanceToSpeed","0,300","speedRate","300,500","500,800","800,1100","1100,1400","1400,1700","1700,2000","2000,2300","2300,2600","2600,2900","2900,3200","3200,3600","3600,3900","gap","initialGap","mapDisntanceToGap","gapRate","curRandomHitArr","isGameOver","distanceImage","initStage","_a","sent","drawBg","drawRoad","getRoute","drawDistance","gameBegin","mouseDown","alignV","alignH","originMouse","mouseUp","curMouse","turnCarPos","dest","curX","endPos","drawCar","setCarPos","createViews","gameRun","initTime","initHitTime","initViewTime","lastHitGap","lastViewGap","lastAdGap","point2Y","move","hitGap","viewGap","cur","radio","equation","routeIndex","setDistance","getRandomTime","appendViews","appendHit","rate","distanceText","randomIndex","view","viewFactory","viewImg","curZorder","beginPos","getScaleR","routeFactory","originPos","originScale","originSpeed","getRandomHit","hitFactory","hitData","isArray","carPosIndex","safe","ani","setCarAnimation","curBounds","bounds","direc","hitPathArr","el","el2","Promise","bg","road","point1Y","dot1","dot2","curPos","route","point1","point2","scaleFix","toIObject","arrayIndexOf","IE_PROTO","maths","media","getJson","isPosMsg","isSon","_inited","isZiYu","isPosMsgYu","EnvConfig","WebGLCanvas","premulAlpha","MiniFileMgr","setNativeFileDir","existDir","fileNativeDir","onMkdirCallBack","systemInfo","wx","getSystemInfoSync","logtime","alertTimeLog","resetShareInfo","createCanvas","__proto__","pixelRatioInt","_preCreateElement","MiniInput","MiniLoader","MiniImage","MiniLocalStorage","getUrlEncode","downLoadFile","fileUrl","fileType","encoding","getFileInfo","deleteFile","removeAll","deleteAll","hasNativeFile","isLocalNativeFile","getFileList","filesListObj","exitMiniProgram","errorCode","sharedCanvas","onCreateInput","wxinputFocus","wxinputblur","autoCacheFile","minClearSize","Parser","nativefiles","fileNativePath","fileObj","read","readyUrl","isSaveFile","getFileNativePath","readFile","fail","downFiles","wxdown","statusCode","tempFilePath","onProgressUpdate","copyFile","downOtherFiles","tempFileName","saveFilePath","fileUseSize","getCacheUseSize","onClearCacheRes","srcPath","destPath","data2","onSaveFile","memSize","tempFileListArr","sortOn","clearSize","options","fileName","mini","fileSize","deleteFileUrl","md5","unlink","isAdd","md5Name","fileurlkey","times","writeFilesList","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","deletefileSize","filesListStr","listFilesPath","fileListName","writeFile","isLoad","dirPath","mkdir","errMsg","readSync","readFileSync","env","USER_DATA_PATH","ziyuFileData","loadPath","DESCENDING","NUMERIC","getFileSystemManager","downloadFile","onCreateImage","isTransformUrl","tempStr","onDownImgCallBack","sourceUrl","thisLoader","isLocal","fileNativeUrl","fileMd5Name","_onStageResize","onWindowResize","MiniSound","system","_inputTarget","editable","offKeyboardConfirm","offKeyboardInput","showKeyboard","defaultValue","maxChars","multiple","confirmHold","confirmType","onKeyboardConfirm","inputEnter","onKeyboardInput","hideKeyboard","setStorageSync","getStorageSync","removeStorageSync","clearStorageSync","getStorageInfoSync","currentSize","limitSize","MiniLocation","geolocation","getCurrentPosition","watchPosition","clearWatch","paramO","getLocation","curWatchO","_curID","_watchDic","_myLoop","_hasWatch","_mySuccess","_myError","coords","timestamp","MiniAccelerator","startListen","stopListen","Acc","device","motion","Accelerator","_callBack","_isListening","onAccelerometerChange","stopAccelerometer","acceleration","accelerationIncludingGravity","rotationRate","urlType","_fileTypeArr","tempData","onReadNativeCallBack","tempUrl","_sound","onDownLoadCallBack","_createSound","onCanplay","bindToThis","onCanPlay","offError","offCanplay","MiniSoundChannel","createInnerAudioContext","miniSound","_miniSound","onEnded","offEnded","autoplay","pIE","createDesc","toPrimitive","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","cof","propertyIsEnumerable","ArrayProto","valueOf","is","toObject","ObjectProto","getPrototypeOf","constructor","toInteger","TAG","ARG","tryGet","IObject","defined","anObject","dPs","enumBugKeys","Empty","createDict","iframeDocument","iframe","contentWindow","write","lt","Properties","shared","uid","store","Symbol","USE_SYMBOL","SAFE_CLOSING","riter","skipClosing","iter","done","tag","mode","copyright","dP","Attributes","$defineProperty","TO_STRING","$getOwnPropertyDescriptor","$export","own","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","IS_WRAP","expProto","virtual","$keys","iterator","entries","ret","__webpack_amd_options__","getKeys","defineProperties","$JSON","stringify","isArrayIter","toLength","createProperty","getIterFn","arrayLike","aLen","mapfn","mapping","iterFn","fails","KEY","exp","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","LIBRARY","redefine","$iterCreate","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","css","FilterActionGL","laya.filters.IFilterActionGL","setValue","setValueMix","apply3d","ShaderValue","AtlasGrid","TexRowInfo","TexMergeTexSize","atlasID","_texCount","_rowInfo","_cells","_failSize","getAltasID","setAltasID","addTex","_get","_fill","_release","pFillInfo","MergeFillInfo","rx","ry","nWidth","nHeight","pCellBox","spaceCount","xx","nHeghit","_check","yy","AtlasResourceManager","gridSize","maxTexNum","_currentAtlasCount","_maxAtlaserCount","_gridSize","_gridNumX","_gridNumY","_curAtlasIndex","_setAtlasParam","_atlaserArray","_needGC","setAtlasParam","_sid_","freeAll","pushData","nWebGLImageIndex","curAtlas","altasIndex","findBitmapIsExist","InAtlasWebGLImagesOffsetValue","nImageGridX","nImageGridY","bSuccess","maxAtlaserCount","Atlaser","fillInfo","addToAtlasTexture","getAtlaserCount","getAtlaserByIndex","_Instance","atlasTextureWidth","atlasTextureHeight","maxTextureCount","_atlasLimitWidth","_atlasLimitHeight","_disable","atlasLimitWidth","atlasLimitHeight","_atlasRestore","BOARDER_TYPE_NO","BOARDER_TYPE_RIGHT","BOARDER_TYPE_LEFT","BOARDER_TYPE_BOTTOM","BOARDER_TYPE_TOP","BOARDER_TYPE_ALL","BlendMode","gl","fns","BlendNormal","BlendAdd","BlendMultiply","BlendScreen","BlendOverlay","BlendLight","BlendMask","BlendDestinationOut","targetFns","BlendNormalTarget","BlendAddTarget","BlendMultiplyTarget","BlendScreenTarget","BlendOverlayTarget","BlendLightTarget","blendFunc","activeBlendFunction","NAMES","TOINT","normal","screen","lighter","overlay","light","destination-out","NORMAL","ADD","MULTIPLY","SCREEN","LIGHT","OVERLAY","DESTINATIONOUT","DrawStyle","equal","toColorStr","_drawStyle","Path","dirty","geoStart","tempArray","geomatrys","mainContext","ib","IndexBuffer2D","vb","VertexBuffer2D","pointX","pointY","getEndPointX","getEndPointY","polygon","borderWidth","geo","_curGeomatry","Polygon","setGeomtry","LoopLine","si","_byteLength","getData","CONST3D2D","BYTES_PIDX","destory","SaveBase","laya.webgl.canvas.save.ISaveData","isSaveMark","_dataObj","_valueName","_value","_newSubmit","_curSubmit","Submit","RENDERBASE","_renderKey","_createArray","namemap","_namemap","dataObj","newSubmit","_saveMark","_saveuse","SaveClipRect","_clipSaveRect","_submitScissor","submitLength","_submits","submitIndex","submitScissor","SaveClipRectStencil","_contextX","_contextY","SubmitStencil","_saveMatrix","_curMat","submitStencil","clipX","clipY","clipWidth","clipHeight","_submitStencil","SaveMark","_preSaveMark","Create","no","SaveTransform","_savematrix","SaveTranslate","RenderTargetMAX","setSP","RenderTarget2D","_flushToTarget","_destroy","worldScissorTest","RenderState2D","preworldClipRect","worldClipRect","disable","preAlpha","worldAlpha","preMatrix4","worldMatrix4","preMatrix","worldMatrix","preFilters","worldFilters","preShaderDefines","worldShaderDefines","restoreTempArray","TEMPMAT4_ARRAY","BaseShader","activeShader","scissor","drawTo","getTexture","Shader2D","shaderType","defines","ShaderDefines2D","glTexture","vs","ps","Shader","addInclude","preCompile2D","ShaderDefines","name2int","int2name","int2nameMap","_name2int","_int2name","_int2nameMap","addInt","isDefine","toNameDic","_toText","_reg","_toInt","SkinMesh","mVBBuffer","mIBBuffer","mVBData","mIBData","mEleNum","mTexture","_vs","_ps","_indexStart","_verticles","_uvs","_defaultPS","init2","verticles","_initMyData","vsI","vI","tempVLen","_tempVS","insertNew","_tVSLen","getData2","tIB","appendEx2","_tempIB","append","_shader2D","SkinMeshBuffer","addSkinMesh","tempSubmit","createShape","Value2D","tShaderValue","shaderValue","tArray","u_mmat2","getMatrArray","mat2MatArray","textureHost","setSkinMesh","skinMesh","BasePoly","edges","r0","r1","laya.webgl.shapes.IShape","rebuild","setMatrix","needUpdate","sector","outVert","outIndex","seg","createLine2","outVertex","indexCount","p3x","p3y","perpx","perpy","perp2x","perp2y","denom","iStart","groupLen","createLine","createLoopLine","firstPoint","lastPoint","midPointX","midPointY","Earcut","earcut","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","prev","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","maxZ","nextZ","prevZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","qx","Infinity","mx","my","tanMin","sortLinked","q","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","inside","EarcutNode","an","bp","sum","GeometryData","lineAlpha","fillAlpha","getIndexData","getVertexData","Vertex","laya.webgl.submit.ISubmit","releaseRender","_vb","getRenderType","renderSubmit","_numEle","_tex","bind_upload","_ib","upload","_blendFn","drawElements","_startIdx","createSubmit","sv","_selfVb","blendType","_nBlendType","_targets","numEle","TYPE_2D","TYPE_CANVAS","TYPE_CMDSETRT","TYPE_CUSTOM","TYPE_BLURRT","TYPE_CMDDESTORYPRERT","TYPE_DISABLESTENCIL","TYPE_OTHERIBVB","TYPE_PRIMITIVE","TYPE_RT","TYPE_BLUR_RT","TYPE_TARGET","TYPE_CHANGE_VALUE","TYPE_SHAPE","TYPE_TEXTURE","TYPE_FILLTEXTURE","SubmitCMD","SubmitCMDScope","variables","addValue","POOL","SubmitOtherIBVB","_shaderValue","wmat","tempMatrix4","_shader","_offset","refresh","numElement","BYTES_PE","vertexStride","SubmitScissor","screenRect","_scissor","submitElement","_scissorWithTagart","level","do1","do2","do3","do4","do5","do6","do7","do8","colorMask","stencilFunc","stencilOp","submit","GlUtils","fillRectImgVb","restore2","SubmitTarget","proName","blend","CharSegment","_sourceStr","laya.webgl.text.ICharSegment","textToSpit","getChar","getCharCode","DrawText","CharValue","_charsTemp","_drawValue","_charSeg","customCharSeg","charseg","drawValue","WebGLCharImage","createOneChar","_charsCache","_drawSlow","curMat","oneChar","htmlWord","txtID","cw","bdSz","saveLength","isSpace","borderSize","_drawText","_drawFast","tempTx","WebGLContext2D","_tmpMatrix","tempTy","idNum","myCache","_textsCache","__length","_curPoolIndex","_textCachesPool","_keymap","_keymapCount","FontInContext","_size","_italic","_cache2","setFont","getItalic","hasType","defaultMatrix4","defaultMinusYMatrix4","uniformMatrix3","_TMPARRAY","_OFFSETX","_OFFSETY","BYTES_PER_ELEMENT","make2DProjection","depth","fillIBQuadrangle","_resizeBuffer","bufferLength","bufferData","getUint16Array","setNeedUpload","expandIBQuadrangle","mathCeilPowerOfTwo","fillQuadrangleImgVb","vpos","vbdata","_upload","fillTranglesVB","copyPreImgVb","ci","toBx","toBy","toEx","toEy","cBx","cBy","cEx","cEy","w0","h0","finalX","finalY","mType","useClip","aw1","ch1","dh1","bw1","aw0","ch0","dh0","bw0","fillLineVb","fx","fy","linew","_fillLineArray","insertData","Mesh2D","MatirxArray","ArrayMul","ai0","ai1","ai2","ai3","stride","vballoc","iballoc","_stride","vertNum","indexNum","_applied","_vao","_attribInfo","_quadNum","canReuse","cloneWithNewVB","mesh","cloneWithNewVBIB","getVBW","getVBR","getIBR","getIBW","createQuadIB","QuadNum","curvert","setAttributes","attribs","getEleNum","getBuffer","releaseMesh","clearVB","_gvaoid","matArray","m4","EMPTYMAT4_ARRAY","curRenderTarget","_MAXSIZE","ShaderCompile","ShaderNode","InlcudeFile","nameMap","defs","_compile","includefiles","_compileToTree","_VS","_PS","_nameMap","preNode","fname","noUseNode","noCompile","setCondition","setParent","_splitToWordExps3","condition","conditionType","splitToWords","inlcudeFile","includes","getWith","file","createShader","shaderName","defMap","defineStr","toscript","_parseOne","uniforms","shaderParamsMap","preGetParams","definesInfo","definesName","_removeAnnotation","tempelse","ofs2","useFuns","IFDEF_NO","IFDEF_YES","IFDEF_ELSE","IFDEF_PARENT","_splitToWordExps","int","bool","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","mat2","mat3","mat4","sampler2D","samplerCube","__condition","_toscript","ifdef","funsCode","curUseID","getFunsScript","codes","funs","funnames","funsdef","_uint8ArraySlice","_float32ArraySlice","_uint16ArraySlice","expandContext","Buffer2D","__int__","shaderValues","QuadrangleIB","sd","Shader2X","_vertType","stencil","antialias","WebGLSubImage","RenderSprite3D","onStageResize","GraphicsGL","ColorFilterActionGL","clearBG","AtlasWebGLCanvas","atlasResourceManager","atlerCanvas","_flashCacheImageNeedFlush","renderTarget","pixels","htmlCanvas","tempContext","imgData","Uint8ClampedArray","_imgData","tRenderTarget","flipY","tClilpRect","tClipRect","_getTransformMatrix","tPadding","tHalfPadding","tIsHaveGlowFilter","tSX","tSY","tY","drawTarget","onInvalidGLRes","doNodeRepaint","mainCanvas","getShaderPrecisionFormat","vertexPrecisionFormat","framePrecisionFormat","shaderHighPrecision","precision","compressAstc","getExtension","compressAtc","compressEtc","compressEtc1","compressPvrtc","compressS3tc","compressS3tc_srgb","deleteTexture1","deleteTexture","WebGLContext","curBindTexValue","setOnInvalidGLRes","_bg_null","UseProgram","program","_useProgram","useProgram","setDepthTest","_depthTest","setDepthMask","_depthMask","depthMask","setDepthFunc","_depthFunc","depthFunc","setBlend","setBlendFunc","sFactor","dFactor","_sFactor","_dFactor","setCullFace","_cullFace","setFrontFace","_frontFace","frontFace","bindTexture","curBindTexTarget","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","COLOR_BUFFER_BIT","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","FUNC_ADD","BLEND_EQUATION","BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","BLEND_DST_RGB","BLEND_SRC_RGB","BLEND_DST_ALPHA","BLEND_SRC_ALPHA","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","BLEND_COLOR","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER_BINDING","ELEMENT_ARRAY_BUFFER_BINDING","STREAM_DRAW","STATIC_DRAW","DYNAMIC_DRAW","BUFFER_SIZE","BUFFER_USAGE","CURRENT_VERTEX_ATTRIB","FRONT","BACK","CULL_FACE","FRONT_AND_BACK","DITHER","STENCIL_TEST","DEPTH_TEST","SCISSOR_TEST","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","SAMPLE_COVERAGE","NO_ERROR","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","OUT_OF_MEMORY","CW","CCW","LINE_WIDTH","ALIASED_POINT_SIZE_RANGE","ALIASED_LINE_WIDTH_RANGE","CULL_FACE_MODE","FRONT_FACE","DEPTH_RANGE","DEPTH_WRITEMASK","DEPTH_CLEAR_VALUE","DEPTH_FUNC","STENCIL_CLEAR_VALUE","STENCIL_FUNC","STENCIL_FAIL","STENCIL_PASS_DEPTH_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_REF","STENCIL_VALUE_MASK","STENCIL_WRITEMASK","STENCIL_BACK_FUNC","STENCIL_BACK_FAIL","STENCIL_BACK_PASS_DEPTH_FAIL","STENCIL_BACK_PASS_DEPTH_PASS","STENCIL_BACK_REF","STENCIL_BACK_VALUE_MASK","STENCIL_BACK_WRITEMASK","VIEWPORT","SCISSOR_BOX","COLOR_CLEAR_VALUE","COLOR_WRITEMASK","UNPACK_ALIGNMENT","PACK_ALIGNMENT","MAX_TEXTURE_SIZE","MAX_VIEWPORT_DIMS","SUBPIXEL_BITS","RED_BITS","GREEN_BITS","BLUE_BITS","ALPHA_BITS","DEPTH_BITS","STENCIL_BITS","POLYGON_OFFSET_UNITS","POLYGON_OFFSET_FACTOR","TEXTURE_BINDING_2D","SAMPLE_BUFFERS","SAMPLES","SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT","NUM_COMPRESSED_TEXTURE_FORMATS","COMPRESSED_TEXTURE_FORMATS","DONT_CARE","FASTEST","NICEST","GENERATE_MIPMAP_HINT","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","DEPTH_COMPONENT","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","FRAGMENT_SHADER","VERTEX_SHADER","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","SHADER_TYPE","DELETE_STATUS","LINK_STATUS","VALIDATE_STATUS","ATTACHED_SHADERS","ACTIVE_UNIFORMS","ACTIVE_ATTRIBUTES","SHADING_LANGUAGE_VERSION","CURRENT_PROGRAM","NEVER","LESS","LEQUAL","GREATER","NOTEQUAL","GEQUAL","ALWAYS","KEEP","REPLACE","INCR","DECR","INVERT","INCR_WRAP","DECR_WRAP","VENDOR","RENDERER","VERSION","NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_2D","TEXTURE","TEXTURE_CUBE_MAP","TEXTURE_BINDING_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","MAX_CUBE_MAP_TEXTURE_SIZE","TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7","TEXTURE8","TEXTURE9","TEXTURE10","TEXTURE11","TEXTURE12","TEXTURE13","TEXTURE14","TEXTURE15","TEXTURE16","TEXTURE17","TEXTURE18","TEXTURE19","TEXTURE20","TEXTURE21","TEXTURE22","TEXTURE23","TEXTURE24","TEXTURE25","TEXTURE26","TEXTURE27","TEXTURE28","TEXTURE29","TEXTURE30","TEXTURE31","ACTIVE_TEXTURE","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","VERTEX_ATTRIB_ARRAY_ENABLED","VERTEX_ATTRIB_ARRAY_SIZE","VERTEX_ATTRIB_ARRAY_STRIDE","VERTEX_ATTRIB_ARRAY_TYPE","VERTEX_ATTRIB_ARRAY_NORMALIZED","VERTEX_ATTRIB_ARRAY_POINTER","VERTEX_ATTRIB_ARRAY_BUFFER_BINDING","COMPILE_STATUS","LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT","FRAMEBUFFER","RENDERBUFFER","RGBA4","RGB5_A1","RGB565","DEPTH_COMPONENT16","STENCIL_INDEX","STENCIL_INDEX8","DEPTH_STENCIL","RENDERBUFFER_WIDTH","RENDERBUFFER_HEIGHT","RENDERBUFFER_INTERNAL_FORMAT","RENDERBUFFER_RED_SIZE","RENDERBUFFER_GREEN_SIZE","RENDERBUFFER_BLUE_SIZE","RENDERBUFFER_ALPHA_SIZE","RENDERBUFFER_DEPTH_SIZE","RENDERBUFFER_STENCIL_SIZE","FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE","FRAMEBUFFER_ATTACHMENT_OBJECT_NAME","FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL","FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","NONE","FRAMEBUFFER_COMPLETE","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_UNSUPPORTED","FRAMEBUFFER_BINDING","RENDERBUFFER_BINDING","MAX_RENDERBUFFER_SIZE","INVALID_FRAMEBUFFER_OPERATION","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","CONTEXT_LOST_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","pt","ContextParams","_COUNT","_drawCount","_maxNumEle","_isMain","_atlasResourceChange","meshlist","mId","mHaveKey","mHaveLineKey","mX","mY","MAXCLIPRECT","mOutPoint","_contextcount","clearColor","_getSubmits","_other","_triangleMesh","MeshTexture","getAMesh","fontStr","curShader","colorAdd","_fontTemp","SubmitTexture","tTextureX","tTextureY","tTextureW","tTextureH","u_TexRange","u_offset","addTexture","_repaintSprite","_drawTextureM","addTextureVb","invb","finalVB","willDrawTexture","webGLImg","rid","vbSize","_preIsSameTextureShader","alphaBack","TextSV","prex","prey","t_tex","preblendType","SubmitCanvas","mixRGBandAlpha","_mixRGBandAlpha","rgba","eleNum","addData","submitStencil0","nPos","submitStencil1","minx","maxx","miny","maxy","submitSc","falshVB","_selfIB","renderList","finish","maxNum","checkTexture","curm","tVGM","_x1","_y1","tPath","_getPath","tShapeLine","tPosArray","u_pos","mainID","len1","ndx","ndy","dx2","dy2","len22","len2","ndx2","ndy2","odx","ody","olen","nOdx","nOdy","halfAng","ptx1","pty1","orilen","orix","oriy","sinx","cosx","fda","SEGNUM","cvx","cvy","counterclockwise","tShape","hda","da","kappa","ndivs","cpx","cpy","tBezier","make","parameterLineWidth","tW","boderColor","_SUBMITVBSIZE","_RECTVBSIZE","_drawStyleTemp","subID","_cacheID","_POSITION","_inClassCache","mmat","_ShaderWithCompile","withCompile2D","_withWorldShaderDefines","sharders","renderstate2d","_shaderValueWidth","_shaderValueHeight","_params2dQuick2","_make2dQuick2","_params2dQuick1","_make2dQuick1","_initone","classT","_typeClass","_TEXCOORD","Color2dSV","PrimitiveSV","FillTextureSV","SkinSV","TextureSV","mainType","subType","types","submitCMD","preBlendMode","tRect","tmpTarget","endTmpTarget","tempUV","recycleTarget","colorMat","colorAlpha","gridNumX","gridNumY","_atlasCanvas","_inAtlasTextureKey","_InAtlasWebGLImagesKey","_InAtlasWebGLImagesOffsetValue","computeUVinAtlasTexture","webImage","sUrl","offsetInfoID","mergeAtlasBitmap","texSubImage2D","atlasSource","clearAtlasSource","oriBitmap","__name2int","__int2name","__int2nameMap","reg","toText","toInt","TEXTURE2D","COLOR2D","PRIMITIVE","FILTERGLOW","FILTERBLUR","FILTERCOLOR","COLORADD","WORLDMAT","FILLTEXTURE","SKINMESH","SHADERDEFINE_FSHIGHPRECISION","Ellipse","_points","mUint16Array","mFloat32Array","tCurrX","tCurrY","tLastX","tLastY","tLen","_start","earcutTriangles","vertsEarcut","_matrix4","_ctx_src","preWorldShaderDefines","mout","ctx_src","_isSameTexture","_texs","_texsID","_vbPos","vbpos","newUV","vbPos","_shaderSet","uploadTexture2D","tex2","const_stride","_fixattriInfo","f32pos","needSize","vertN","tmpIdx","ii","appendU16Array","_POOL","bindShader","surfaceFormat","surfaceType","depthStencilFormat","mipMap","_svWidth","_svHeight","_preRenderTarget","_alreadyResolved","_looked","_surfaceFormat","_surfaceType","_depthStencilFormat","_mipMap","_repeat","_minFifter","_magFifter","_createWebGLRenderTarget","getType","bindFramebuffer","frameBuffer","clearFlag","checkFramebufferStatus","readPixels","foreDiposeTexture","WebGLRenderTarget","Buffer","_glBuffer","_buffer","_bufferType","_bufferUsage","_gl","_bind","_bindActive","_bindVertexBuffer","bindBuffer","deleteBuffer","_enableAtributes","texcoord","_vlen","u_colorMatrix","strength","vo","blurInfo","a_color","_flashCacheImage","glTex","createTexture","preTarget","preTexture","texImage2D","texParameteri","xoffset","yoffset","bmData","bitmapdata","copyPixels","texSubImage2DEx","pixelStorei","texSubImage2DPixel","alwaysChange","createWebGlTexture","iscpuSource","texImage2DEx","reloadCanvasData","webglCanvas","CborderSize","xs","ys","pCanvas","bIsConchApp","ConchTextCanvas","laya.webgl.resource.IMergeAtlasBitmap","nFontSize","sFont","nW","_allowMerageInAtlas","_frameBuffer","createFramebuffer","isPot","generateMipmap","framebufferTexture2D","_depthStencilBuffer","createRenderbuffer","bindRenderbuffer","renderbufferStorage","framebufferRenderbuffer","deleteFramebuffer","deleteRenderbuffer","mipmap","saveName","_curActTexIndex","_program","_params","_paramsMap","deleteShader","_vshader","_pshader","deleteProgram","_reCompile","createProgram","_createShader","attachShader","linkProgram","getProgramParameter","getProgramInfoLog","attribNum","getProgramParameterEx","attrib","vartype","glfun","ivartype","getActiveAttribEx","getActiveAttrib","getAttribLocation","isSame","preValue","indexOfParams","nUniformNum","uniform","getActiveUniformEx","getActiveUniform","getUniformLocation","codename","uploadedValue","_uniform1iv","_uniform1i","_uniform1fv","_uniform1f","_uniform_vec2v","_uniform_vec2","_uniform_vec3v","_uniform_vec3","_uniform_vec4v","_uniform_vec4","_uniform_sampler2D","_uniform_samplerCube","uniformMatrix4fv","_uniformMatrix4fv","_attribute","getUniform","enableAtributes","enableVertexAttribArray","vertexAttribPointer","uniform1f","uniform1fv","uniform2f","uniform2fv","uniform3f","uniform3fv","uniform4f","uniform4fv","_uniformMatrix2fv","uniformMatrix2fv","_uniformMatrix3fv","uniformMatrix3fv","uniform1i","uniform1iv","_uniform_ivec2","uniform2i","_uniform_ivec2v","uniform2iv","_uniform_vec3i","uniform3i","_uniform_vec3vi","uniform3iv","_uniform_vec4i","uniform4i","_uniform_vec4vi","uniform4iv","activeTexture","_TEXTURES","_noSetValue","uploadOne","uploadArray","getParams","getShader","withCompile","nameID","_preCompileShader","preCompile","shaderSource","compileShader","SHADERNAME2ID","nameKey","_maxsize","_uploadSize","old","needsz","_bufferData","_checkArrayUse","bufferSubData","_bufferSubData","dataStart","dataLength","subBuffer","_bind_upload","_bind_subUpload","nsz","copy","newbuffer","byteLen","appendEx","dataLen","perDataLen","getNeedUpload","scuess","subUpload","FLOAT32","GlowSV","u_blurX","u_color","u_strength","u_texW","u_texH","upload2dQuick1","upload2dQuick2","bufferUsage","_uint8Array","_uint16Array","_floatArray32","_vertexStride","ibBuffer","disableVertexAttribArray","format","_format","_mipmap","readData","COMPRESSED_RGB_ETC1_WEBGL","_$5__enableMerageInAtlas","_createWebGlTexture","compressedTexImage2D","__WEBPACK_AMD_DEFINE_RESULT__","$at","iterated","_t","_i"],"mappings":"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","file":"static/js/home.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"H4rU\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 575b4c10d1f915db40a1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = +E39\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = +ZMJ\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_6.png\n// module id = /3KF\n// module chunks = 0","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = /bQp\n// module chunks = 0","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 3Eo+\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 3fs2\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 52gC\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 77Pl\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 7KvD\n// module chunks = 0","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 880/\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_4.00ab341.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_4.png\n// module id = 8SzH\n// module chunks = 0","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 94VQ\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 0","\r\n/***********************************/\r\n/*http://www.layabox.com  2017/12/12*/\r\n/***********************************/\r\nvar Laya=window.Laya=(function(window,document){\r\n\tvar Laya={\r\n\t\t__internals:[],\r\n\t\t__packages:{},\r\n\t\t__classmap:{'Object':Object,'Function':Function,'Array':Array,'String':String},\r\n\t\t__sysClass:{'object':'Object','array':'Array','string':'String','dictionary':'Dictionary'},\r\n\t\t__propun:{writable: true,enumerable: false,configurable: true},\r\n\t\t__presubstr:String.prototype.substr,\r\n\t\t__substr:function(ofs,sz){return arguments.length==1?Laya.__presubstr.call(this,ofs):Laya.__presubstr.call(this,ofs,sz>0?sz:(this.length+sz));},\r\n\t\t__init:function(_classs){_classs.forEach(function(o){o.__init$ && o.__init$();});},\r\n\t\t__isClass:function(o){return o && (o.__isclass || o==Object || o==String || o==Array);},\r\n\t\t__newvec:function(sz,value){\r\n\t\t\tvar d=[];\r\n\t\t\td.length=sz;\r\n\t\t\tfor(var i=0;i<sz;i++) d[i]=value;\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\t__extend:function(d,b){\r\n\t\t\tfor (var p in b){\r\n\t\t\t\tif (!b.hasOwnProperty(p)) continue;\r\n\t\t\t\tvar gs=Object.getOwnPropertyDescriptor(b, p);\r\n\t\t\t\tvar g = gs.get, s = gs.set; \r\n\t\t\t\tif ( g || s ) {\r\n\t\t\t\t\tif ( g && s)\r\n\t\t\t\t\t\tObject.defineProperty(d,p,gs);\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tg && Object.defineProperty(d, p, g);\r\n\t\t\t\t\t\ts && Object.defineProperty(d, p, s);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse d[p] = b[p];\r\n\t\t\t}\r\n\t\t\tfunction __() { Laya.un(this,'constructor',d); }__.prototype=b.prototype;d.prototype=new __();Laya.un(d.prototype,'__imps',Laya.__copy({},b.prototype.__imps));\r\n\t\t},\r\n\t\t__copy:function(dec,src){\r\n\t\t\tif(!src) return null;\r\n\t\t\tdec=dec||{};\r\n\t\t\tfor(var i in src) dec[i]=src[i];\r\n\t\t\treturn dec;\r\n\t\t},\r\n\t\t__package:function(name,o){\r\n\t\t\tif(Laya.__packages[name]) return;\r\n\t\t\tLaya.__packages[name]=true;\r\n\t\t\tvar p=window,strs=name.split('.');\r\n\t\t\tif(strs.length>1){\r\n\t\t\t\tfor(var i=0,sz=strs.length-1;i<sz;i++){\r\n\t\t\t\t\tvar c=p[strs[i]];\r\n\t\t\t\t\tp=c?c:(p[strs[i]]={});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tp[strs[strs.length-1]] || (p[strs[strs.length-1]]=o||{});\r\n\t\t},\r\n\t\t__hasOwnProperty:function(name,o){\r\n\t\t\to=o ||this;\r\n\t\t    function classHas(name,o){\r\n\t\t\t\tif(Object.hasOwnProperty.call(o.prototype,name)) return true;\r\n\t\t\t\tvar s=o.prototype.__super;\r\n\t\t\t\treturn s==null?null:classHas(name,s);\r\n\t\t\t}\r\n\t\t\treturn (Object.hasOwnProperty.call(o,name)) || classHas(name,o.__class);\r\n\t\t},\r\n\t\t__typeof:function(o,value){\r\n\t\t\tif(!o || !value) return false;\r\n\t\t\tif(value===String) return (typeof o==='string');\r\n\t\t\tif(value===Number) return (typeof o==='number');\r\n\t\t\tif(value.__interface__) value=value.__interface__;\r\n\t\t\telse if(typeof value!='string')  return (o instanceof value);\r\n\t\t\treturn (o.__imps && o.__imps[value]) || (o.__class==value);\r\n\t\t},\r\n\t\t__as:function(value,type){\r\n\t\t\treturn (this.__typeof(value,type))?value:null;\r\n\t\t},\r\n        __int:function(value){\r\n            return value?parseInt(value):0;\r\n        },\r\n\t\tinterface:function(name,_super){\r\n\t\t\tLaya.__package(name,{});\r\n\t\t\tvar ins=Laya.__internals;\r\n\t\t\tvar a=ins[name]=ins[name] || {self:name};\r\n\t\t\tif(_super)\r\n\t\t\t{\r\n\t\t\t\tvar supers=_super.split(',');\r\n\t\t\t\ta.extend=[];\r\n\t\t\t\tfor(var i=0;i<supers.length;i++){\r\n\t\t\t\t\tvar nm=supers[i];\r\n\t\t\t\t\tins[nm]=ins[nm] || {self:nm};\r\n\t\t\t\t\ta.extend.push(ins[nm]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar o=window,words=name.split('.');\r\n\t\t\tfor(var i=0;i<words.length-1;i++) o=o[words[i]];\r\n\t\t\to[words[words.length-1]]={__interface__:name};\r\n\t\t},\r\n\t\tclass:function(o,fullName,_super,miniName){\r\n\t\t\t_super && Laya.__extend(o,_super);\r\n\t\t\tif(fullName){\r\n\t\t\t\tLaya.__package(fullName,o);\r\n\t\t\t\tLaya.__classmap[fullName]=o;\r\n\t\t\t\tif(fullName.indexOf('.')>0){\r\n\t\t\t\t\tif(fullName.indexOf('laya.')==0){\r\n\t\t\t\t\t\tvar paths=fullName.split('.');\r\n\t\t\t\t\t\tminiName=miniName || paths[paths.length-1];\r\n\t\t\t\t\t\tif(Laya[miniName]) console.log(\"Warning!,this class[\"+miniName+\"] already exist:\",Laya[miniName]);\r\n\t\t\t\t\t\tLaya[miniName]=o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(fullName==\"Main\")\r\n\t\t\t\t\t\twindow.Main=o;\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(Laya[fullName]){\r\n\t\t\t\t\t\t\tconsole.log(\"Error!,this class[\"+fullName+\"] already exist:\",Laya[fullName]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tLaya[fullName]=o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar un=Laya.un,p=o.prototype;\r\n\t\t\tun(p,'hasOwnProperty',Laya.__hasOwnProperty);\r\n\t\t\tun(p,'__class',o);\r\n\t\t\tun(p,'__super',_super);\r\n\t\t\tun(p,'__className',fullName);\r\n\t\t\tun(o,'__super',_super);\r\n\t\t\tun(o,'__className',fullName);\r\n\t\t\tun(o,'__isclass',true);\r\n\t\t\tun(o,'super',function(o){this.__super.call(o);});\r\n\t\t},\r\n\t\timps:function(dec,src){\r\n\t\t\tif(!src) return null;\r\n\t\t\tvar d=dec.__imps|| Laya.un(dec,'__imps',{});\r\n\t\t\tfunction __(name){\r\n\t\t\t\tvar c,exs;\r\n\t\t\t\tif(! (c=Laya.__internals[name]) ) return;\r\n\t\t\t\td[name]=true;\r\n\t\t\t\tif(!(exs=c.extend)) return;\r\n\t\t\t\tfor(var i=0;i<exs.length;i++){\r\n\t\t\t\t\t__(exs[i].self);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(var i in src) __(i);\r\n\t\t},\r\n        superSet:function(clas,o,prop,value){\r\n            var fun = clas.prototype[\"_$set_\"+prop];\r\n            fun && fun.call(o,value);\r\n        },\r\n        superGet:function(clas,o,prop){\r\n            var fun = clas.prototype[\"_$get_\"+prop];\r\n           \treturn fun?fun.call(o):null;\r\n        },\r\n\t\tgetset:function(isStatic,o,name,getfn,setfn){\r\n\t\t\tif(!isStatic){\r\n\t\t\t\tgetfn && Laya.un(o,'_$get_'+name,getfn);\r\n\t\t\t\tsetfn && Laya.un(o,'_$set_'+name,setfn);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tgetfn && (o['_$GET_'+name]=getfn);\r\n\t\t\t\tsetfn && (o['_$SET_'+name]=setfn);\r\n\t\t\t}\r\n\t\t\tif(getfn && setfn) \r\n\t\t\t\tObject.defineProperty(o,name,{get:getfn,set:setfn,enumerable:false,configurable:true});\r\n\t\t\telse{\r\n\t\t\t\tgetfn && Object.defineProperty(o,name,{get:getfn,enumerable:false,configurable:true});\r\n\t\t\t\tsetfn && Object.defineProperty(o,name,{set:setfn,enumerable:false,configurable:true});\r\n\t\t\t}\r\n\t\t},\r\n\t\tstatic:function(_class,def){\r\n\t\t\t\tfor(var i=0,sz=def.length;i<sz;i+=2){\r\n\t\t\t\t\tif(def[i]=='length') \r\n\t\t\t\t\t\t_class.length=def[i+1].call(_class);\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tfunction tmp(){\r\n\t\t\t\t\t\t\tvar name=def[i];\r\n\t\t\t\t\t\t\tvar getfn=def[i+1];\r\n\t\t\t\t\t\t\tObject.defineProperty(_class,name,{\r\n\t\t\t\t\t\t\t\tget:function(){delete this[name];return this[name]=getfn.call(this);},\r\n\t\t\t\t\t\t\t\tset:function(v){delete this[name];this[name]=v;},enumerable: true,configurable: true});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttmp();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\t\t\r\n\t\tun:function(obj,name,value){\r\n\t\t\tvalue || (value=obj[name]);\r\n\t\t\tLaya.__propun.value=value;\r\n\t\t\tObject.defineProperty(obj, name, Laya.__propun);\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tuns:function(obj,names){\r\n\t\t\tnames.forEach(function(o){Laya.un(obj,o)});\r\n\t\t}\r\n\t};\r\n\r\n    window.console=window.console || ({log:function(){}});\r\n\twindow.trace=window.console.log;\r\n\tError.prototype.throwError=function(){throw arguments;};\r\n\t//String.prototype.substr=Laya.__substr;\r\n\tObject.defineProperty(Array.prototype,'fixed',{enumerable: false});\r\n\r\n\treturn Laya;\r\n})(window,document);\r\n\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\n\r\n})(window,document,Laya);\r\n\r\n\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\nLaya.interface('laya.runtime.IMarket');\r\nLaya.interface('laya.filters.IFilter');\r\nLaya.interface('laya.display.ILayout');\r\nLaya.interface('laya.resource.IDispose');\r\nLaya.interface('laya.runtime.IPlatform');\r\nLaya.interface('laya.resource.IDestroy');\r\nLaya.interface('laya.runtime.IConchNode');\r\nLaya.interface('laya.filters.IFilterAction');\r\nLaya.interface('laya.runtime.ICPlatformClass');\r\nLaya.interface('laya.resource.ICreateResource');\r\nLaya.interface('laya.runtime.IConchRenderObject');\r\nLaya.interface('laya.runtime.IPlatformClass','laya.runtime.IPlatform');\r\n/**\r\n*@private\r\n*/\r\n//class laya.utils.RunDriver\r\nvar RunDriver=(function(){\r\n\tfunction RunDriver(){}\r\n\t__class(RunDriver,'laya.utils.RunDriver');\r\n\tRunDriver.FILTER_ACTIONS=[];\r\n\tRunDriver.pixelRatio=-1;\r\n\tRunDriver._charSizeTestDiv=null;\r\n\tRunDriver.now=function(){\r\n\t\treturn /*__JS__ */Date.now();\r\n\t}\r\n\r\n\tRunDriver.getWindow=function(){\r\n\t\treturn /*__JS__ */window;\r\n\t}\r\n\r\n\tRunDriver.getPixelRatio=function(){\r\n\t\tif (RunDriver.pixelRatio < 0){\r\n\t\t\tvar ctx=Browser.context;\r\n\t\t\tvar backingStore=ctx.backingStorePixelRatio || ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\r\n\t\t\tRunDriver.pixelRatio=(Browser.window.devicePixelRatio || 1)/ backingStore;\r\n\t\t\tif (RunDriver.pixelRatio < 1)RunDriver.pixelRatio=1;\r\n\t\t}\r\n\t\treturn RunDriver.pixelRatio;\r\n\t}\r\n\r\n\tRunDriver.getIncludeStr=function(name){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tRunDriver.createShaderCondition=function(conditionScript){\r\n\t\tvar fn=\"(function() {return \"+conditionScript+\";})\";\r\n\t\treturn Laya._runScript(fn);\r\n\t}\r\n\r\n\tRunDriver.fontMap=[];\r\n\tRunDriver.measureText=function(txt,font){\r\n\t\tvar isChinese=RunDriver.hanzi.test(txt);\r\n\t\tif (isChinese && RunDriver.fontMap[font]){\r\n\t\t\treturn RunDriver.fontMap[font];\r\n\t\t};\r\n\t\tvar ctx=Browser.context;\r\n\t\tctx.font=font;\r\n\t\tvar r=ctx.measureText(txt);\r\n\t\tif (isChinese)RunDriver.fontMap[font]=r;\r\n\t\treturn r;\r\n\t}\r\n\r\n\tRunDriver.getWebGLContext=function(canvas){\r\n\t};\r\n\r\n\tRunDriver.beginFlush=function(){\r\n\t};\r\n\r\n\tRunDriver.endFinish=function(){\r\n\t};\r\n\r\n\tRunDriver.addToAtlas=null;\r\n\tRunDriver.flashFlushImage=function(atlasWebGLCanvas){\r\n\t};\r\n\r\n\tRunDriver.drawToCanvas=function(sprite,_renderType,canvasWidth,canvasHeight,offsetX,offsetY){\r\n\t\tvar canvas=HTMLCanvas.create(\"2D\");\r\n\t\tvar context=new RenderContext(canvasWidth,canvasHeight,canvas);\r\n\t\tRenderSprite.renders[_renderType]._fun(sprite,context,offsetX,offsetY);\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tRunDriver.createParticleTemplate2D=null;\r\n\tRunDriver.createGLTextur=null;\r\n\tRunDriver.createWebGLContext2D=null;\r\n\tRunDriver.changeWebGLSize=function(w,h){\r\n\t};\r\n\r\n\tRunDriver.createRenderSprite=function(type,next){\r\n\t\treturn new RenderSprite(type,next);\r\n\t}\r\n\r\n\tRunDriver.createFilterAction=function(type){\r\n\t\treturn new ColorFilterAction();\r\n\t}\r\n\r\n\tRunDriver.createGraphics=function(){\r\n\t\treturn new Graphics();\r\n\t}\r\n\r\n\tRunDriver.clear=function(value){\r\n\t\tRender._context.ctx.clear();\r\n\t}\r\n\r\n\tRunDriver.cancelLoadByUrl=function(url){\r\n\t};\r\n\r\n\tRunDriver.clearAtlas=function(value){\r\n\t};\r\n\r\n\tRunDriver.isAtlas=function(bitmap){\r\n\t\treturn false;\r\n\t}\r\n\r\n\tRunDriver.addTextureToAtlas=function(value){\r\n\t};\r\n\r\n\tRunDriver.getTexturePixels=function(value,x,y,width,height){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tRunDriver.skinAniSprite=function(){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tRunDriver.update3DLoop=function(){\r\n\t};\r\n\r\n\t__static(RunDriver,\r\n\t['hanzi',function(){return this.hanzi=new RegExp(\"^[\\u4E00-\\u9FA5]$\");}\r\n\t]);\r\n\treturn RunDriver;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Laya</code> 是全局对象的引用入口集。\r\n*Laya类引用了一些常用的全局对象，比如Laya.stage：舞台，Laya.timer：时间管理器，Laya.loader：加载管理器，使用时注意大小写。\r\n*/\r\n//class Laya\r\nvar ___Laya=(function(){\r\n\t//function Laya(){}\r\n\t/**\r\n\t*表示是否捕获全局错误并弹出提示。默认为false。\r\n\t*适用于移动设备等不方便调试的时候，设置为true后，如有未知错误，可以弹窗抛出详细错误堆栈。\r\n\t*/\r\n\t__getset(1,Laya,'alertGlobalError',null,function(value){\r\n\t\tvar erralert=0;\r\n\t\tif (value){\r\n\t\t\tBrowser.window.onerror=function (msg,url,line,column,detail){\r\n\t\t\t\tif (erralert++< 5 && detail)\r\n\t\t\t\t\talert(\"出错啦，请把此信息截图给研发商\\n\"+msg+\"\\n\"+detail.stack||detail);\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tBrowser.window.onerror=null;\r\n\t\t}\r\n\t});\r\n\r\n\tLaya.init=function(width,height,__plugins){\r\n\t\tvar plugins=[];for(var i=2,sz=arguments.length;i<sz;i++)plugins.push(arguments[i]);\r\n\t\tif (Laya._isinit)return;\r\n\t\tArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice=Laya._arrayBufferSlice);\r\n\t\tLaya._isinit=true;\r\n\t\tBrowser.__init__();\r\n\t\tContext.__init__();\r\n\t\tGraphics.__init__();\r\n\t\tLaya.timer=new Timer();\r\n\t\tLaya.scaleTimer=new Timer();\r\n\t\tLaya.loader=new LoaderManager();\r\n\t\tWeakObject.__init__();\r\n\t\tfor (var i=0,n=plugins.length;i < n;i++){\r\n\t\t\tif (plugins[i].enable)plugins[i].enable();\r\n\t\t}\r\n\t\tFont.__init__();\r\n\t\tStyle.__init__();\r\n\t\tResourceManager.__init__();\r\n\t\tCacheManager.beginCheck();\r\n\t\tLaya._currentStage=Laya.stage=new Stage();\r\n\t\tLaya.stage.conchModel && Laya.stage.conchModel.setRootNode();\r\n\t\tLaya.getUrlPath();\r\n\t\tLaya.render=new Render(0,0);\r\n\t\tLaya.stage.size(width,height);\r\n\t\tRenderSprite.__init__();\r\n\t\tKeyBoardManager.__init__();\r\n\t\tMouseManager.instance.__init__(Laya.stage,Render.canvas);\r\n\t\tInput.__init__();\r\n\t\tSoundManager.autoStopMusic=true;\r\n\t\tLocalStorage.__init__();\r\n\t\treturn Render.canvas;\r\n\t}\r\n\r\n\tLaya.getUrlPath=function(){\r\n\t\tvar location=Browser.window.location;\r\n\t\tvar pathName=location.pathname;\r\n\t\tpathName=pathName.charAt(2)==':' ? pathName.substring(1):pathName;\r\n\t\tURL.rootPath=URL.basePath=URL.getPath(location.protocol==\"file:\" ? pathName :location.protocol+\"//\"+location.host+location.pathname);\r\n\t}\r\n\r\n\tLaya._arrayBufferSlice=function(start,end){\r\n\t\tvar arr=/*__JS__ */this;\r\n\t\tvar arrU8List=new Uint8Array(arr,start,end-start);\r\n\t\tvar newU8List=new Uint8Array(arrU8List.length);\r\n\t\tnewU8List.set(arrU8List);\r\n\t\treturn newU8List.buffer;\r\n\t}\r\n\r\n\tLaya._runScript=function(script){\r\n\t\treturn Browser.window[\"e\"+String.fromCharCode(100+10+8)+\"a\"+\"l\"](script);\r\n\t}\r\n\r\n\tLaya.stage=null;\r\n\tLaya.timer=null;\r\n\tLaya.scaleTimer=null;\r\n\tLaya.loader=null;\r\n\tLaya.version=\"1.7.19.1beta\";\r\n\tLaya.render=null;\r\n\tLaya._currentStage=null;\r\n\tLaya._isinit=false;\r\n\tLaya.MiniAdpter=/*__JS__ */{init:function(){if (window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf(\"MiniGame\")>-1)console.error(\"请先引用小游戏适配库laya.wxmini.js,详细教程：https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0\")}};\r\n\t__static(Laya,\r\n\t['conchMarket',function(){return this.conchMarket=/*__JS__ */window.conch?conchMarket:null;},'PlatformClass',function(){return this.PlatformClass=/*__JS__ */window.PlatformClass;}\r\n\t]);\r\n\treturn Laya;\r\n})()\r\n\r\n\r\n/**\r\n*Config 用于配置一些全局参数。如需更改，请在初始化引擎之前设置。\r\n*/\r\n//class Config\r\nvar Config=(function(){\r\n\tfunction Config(){}\r\n\t__class(Config,'Config');\r\n\tConfig.WebGLTextCacheCount=500;\r\n\tConfig.atlasEnable=false;\r\n\tConfig.showCanvasMark=false;\r\n\tConfig.animationInterval=50;\r\n\tConfig.isAntialias=false;\r\n\tConfig.isAlpha=false;\r\n\tConfig.premultipliedAlpha=true;\r\n\tConfig.isStencil=true;\r\n\tConfig.preserveDrawingBuffer=false;\r\n\treturn Config;\r\n})()\r\n\r\n\r\n/**\r\n*<code>EventDispatcher</code> 类是可调度事件的所有类的基类。\r\n*/\r\n//class laya.events.EventDispatcher\r\nvar EventDispatcher=(function(){\r\n\tvar EventHandler;\r\n\tfunction EventDispatcher(){\r\n\t\t/**@private */\r\n\t\tthis._events=null;\r\n\t}\r\n\r\n\t__class(EventDispatcher,'laya.events.EventDispatcher');\r\n\tvar __proto=EventDispatcher.prototype;\r\n\t/**\r\n\t*检查 EventDispatcher 对象是否为特定事件类型注册了任何侦听器。\r\n\t*@param type 事件的类型。\r\n\t*@return 如果指定类型的侦听器已注册，则值为 true；否则，值为 false。\r\n\t*/\r\n\t__proto.hasListener=function(type){\r\n\t\tvar listener=this._events && this._events[type];\r\n\t\treturn !!listener;\r\n\t}\r\n\r\n\t/**\r\n\t*派发事件。\r\n\t*@param type 事件类型。\r\n\t*@param data （可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。\r\n\t*@return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。\r\n\t*/\r\n\t__proto.event=function(type,data){\r\n\t\tif (!this._events || !this._events[type])return false;\r\n\t\tvar listeners=this._events[type];\r\n\t\tif (listeners.run){\r\n\t\t\tif (listeners.once)delete this._events[type];\r\n\t\t\tdata !=null ? listeners.runWith(data):listeners.run();\r\n\t\t\t}else {\r\n\t\t\tfor (var i=0,n=listeners.length;i < n;i++){\r\n\t\t\t\tvar listener=listeners[i];\r\n\t\t\t\tif (listener){\r\n\t\t\t\t\t(data !=null)? listener.runWith(data):listener.run();\r\n\t\t\t\t}\r\n\t\t\t\tif (!listener || listener.once){\r\n\t\t\t\t\tlisteners.splice(i,1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t\tn--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (listeners.length===0 && this._events)delete this._events[type];\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知。\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.on=function(type,caller,listener,args){\r\n\t\treturn this._createListener(type,caller,listener,args,false);\r\n\t}\r\n\r\n\t/**\r\n\t*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知，此侦听事件响应一次后自动移除。\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.once=function(type,caller,listener,args){\r\n\t\treturn this._createListener(type,caller,listener,args,true);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._createListener=function(type,caller,listener,args,once,offBefore){\r\n\t\t(offBefore===void 0)&& (offBefore=true);\r\n\t\toffBefore && this.off(type,caller,listener,once);\r\n\t\tvar handler=EventHandler.create(caller || this,listener,args,once);\r\n\t\tthis._events || (this._events={});\r\n\t\tvar events=this._events;\r\n\t\tif (!events[type])events[type]=handler;\r\n\t\telse {\r\n\t\t\tif (!events[type].run)events[type].push(handler);\r\n\t\t\telse events[type]=[events[type],handler];\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*从 EventDispatcher 对象中删除侦听器。\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param onceOnly （可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.off=function(type,caller,listener,onceOnly){\r\n\t\t(onceOnly===void 0)&& (onceOnly=false);\r\n\t\tif (!this._events || !this._events[type])return this;\r\n\t\tvar listeners=this._events[type];\r\n\t\tif (listener !=null){\r\n\t\t\tif (listeners.run){\r\n\t\t\t\tif ((!caller || listeners.caller===caller)&& listeners.method===listener && (!onceOnly || listeners.once)){\r\n\t\t\t\t\tdelete this._events[type];\r\n\t\t\t\t\tlisteners.recover();\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tvar count=0;\r\n\t\t\t\tfor (var i=0,n=listeners.length;i < n;i++){\r\n\t\t\t\t\tvar item=listeners[i];\r\n\t\t\t\t\tif (!item){\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item && (!caller || item.caller===caller)&& item.method===listener && (!onceOnly || item.once)){\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tlisteners[i]=null;\r\n\t\t\t\t\t\titem.recover();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (count===n)delete this._events[type];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*从 EventDispatcher 对象中删除指定事件类型的所有侦听器。\r\n\t*@param type （可选）事件类型，如果值为 null，则移除本对象所有类型的侦听器。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.offAll=function(type){\r\n\t\tvar events=this._events;\r\n\t\tif (!events)return this;\r\n\t\tif (type){\r\n\t\t\tthis._recoverHandlers(events[type]);\r\n\t\t\tdelete events[type];\r\n\t\t\t}else {\r\n\t\t\tfor (var name in events){\r\n\t\t\t\tthis._recoverHandlers(events[name]);\r\n\t\t\t}\r\n\t\t\tthis._events=null;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto._recoverHandlers=function(arr){\r\n\t\tif (!arr)return;\r\n\t\tif (arr.run){\r\n\t\t\tarr.recover();\r\n\t\t\t}else {\r\n\t\t\tfor (var i=arr.length-1;i >-1;i--){\r\n\t\t\t\tif (arr[i]){\r\n\t\t\t\t\tarr[i].recover();\r\n\t\t\t\t\tarr[i]=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*检测指定事件类型是否是鼠标事件。\r\n\t*@param type 事件的类型。\r\n\t*@return 如果是鼠标事件，则值为 true;否则，值为 false。\r\n\t*/\r\n\t__proto.isMouseEvent=function(type){\r\n\t\treturn EventDispatcher.MOUSE_EVENTS[type];\r\n\t}\r\n\r\n\tEventDispatcher.MOUSE_EVENTS={\"rightmousedown\":true,\"rightmouseup\":true,\"rightclick\":true,\"mousedown\":true,\"mouseup\":true,\"mousemove\":true,\"mouseover\":true,\"mouseout\":true,\"click\":true,\"doubleclick\":true};\r\n\tEventDispatcher.__init$=function(){\r\n\t\tObject.defineProperty(laya.events.EventDispatcher.prototype,\"_events\",{enumerable:false,writable:true});\r\n\t\t/**@private */\r\n\t\t//class EventHandler extends laya.utils.Handler\r\n\t\tEventHandler=(function(_super){\r\n\t\t\tfunction EventHandler(caller,method,args,once){\r\n\t\t\t\tEventHandler.__super.call(this,caller,method,args,once);\r\n\t\t\t}\r\n\t\t\t__class(EventHandler,'',_super);\r\n\t\t\tvar __proto=EventHandler.prototype;\r\n\t\t\t__proto.recover=function(){\r\n\t\t\t\tif (this._id > 0){\r\n\t\t\t\t\tthis._id=0;\r\n\t\t\t\t\tEventHandler._pool.push(this.clear());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tEventHandler.create=function(caller,method,args,once){\r\n\t\t\t\t(once===void 0)&& (once=true);\r\n\t\t\t\tif (EventHandler._pool.length)return EventHandler._pool.pop().setTo(caller,method,args,once);\r\n\t\t\t\treturn new EventHandler(caller,method,args,once);\r\n\t\t\t}\r\n\t\t\tEventHandler._pool=[];\r\n\t\t\treturn EventHandler;\r\n\t\t})(Handler)\r\n\t}\r\n\r\n\treturn EventDispatcher;\r\n})()\r\n\r\n\r\n/**\r\n*<p><code>Handler</code> 是事件处理器类。</p>\r\n*<p>推荐使用 Handler.create()方法从对象池创建，减少对象创建消耗。创建的 Handler 对象不再使用后，可以使用 Handler.recover()将其回收到对象池，回收后不要再使用此对象，否则会导致不可预料的错误。</p>\r\n*<p><b>注意：</b>由于鼠标事件也用本对象池，不正确的回收及调用，可能会影响鼠标事件的执行。</p>\r\n*/\r\n//class laya.utils.Handler\r\nvar Handler=(function(){\r\n\tfunction Handler(caller,method,args,once){\r\n\t\t/**执行域(this)。*/\r\n\t\t//this.caller=null;\r\n\t\t/**处理方法。*/\r\n\t\t//this.method=null;\r\n\t\t/**参数。*/\r\n\t\t//this.args=null;\r\n\t\t/**表示是否只执行一次。如果为true，回调后执行recover()进行回收，回收后会被再利用，默认为false 。*/\r\n\t\tthis.once=false;\r\n\t\t/**@private */\r\n\t\tthis._id=0;\r\n\t\t(once===void 0)&& (once=false);\r\n\t\tthis.setTo(caller,method,args,once);\r\n\t}\r\n\r\n\t__class(Handler,'laya.utils.Handler');\r\n\tvar __proto=Handler.prototype;\r\n\t/**\r\n\t*设置此对象的指定属性值。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 回调方法。\r\n\t*@param args 携带的参数。\r\n\t*@param once 是否只执行一次，如果为true，执行后执行recover()进行回收。\r\n\t*@return 返回 handler 本身。\r\n\t*/\r\n\t__proto.setTo=function(caller,method,args,once){\r\n\t\tthis._id=Handler._gid++;\r\n\t\tthis.caller=caller;\r\n\t\tthis.method=method;\r\n\t\tthis.args=args;\r\n\t\tthis.once=once;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*执行处理器。\r\n\t*/\r\n\t__proto.run=function(){\r\n\t\tif (this.method==null)return null;\r\n\t\tvar id=this._id;\r\n\t\tvar result=this.method.apply(this.caller,this.args);\r\n\t\tthis._id===id && this.once && this.recover();\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t*执行处理器，携带额外数据。\r\n\t*@param data 附加的回调数据，可以是单数据或者Array(作为多参)。\r\n\t*/\r\n\t__proto.runWith=function(data){\r\n\t\tif (this.method==null)return null;\r\n\t\tvar id=this._id;\r\n\t\tif (data==null)\r\n\t\t\tvar result=this.method.apply(this.caller,this.args);\r\n\t\telse if (!this.args && !data.unshift)result=this.method.call(this.caller,data);\r\n\t\telse if (this.args)result=this.method.apply(this.caller,this.args.concat(data));\r\n\t\telse result=this.method.apply(this.caller,data);\r\n\t\tthis._id===id && this.once && this.recover();\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t*清理对象引用。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis.caller=null;\r\n\t\tthis.method=null;\r\n\t\tthis.args=null;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*清理并回收到 Handler 对象池内。\r\n\t*/\r\n\t__proto.recover=function(){\r\n\t\tif (this._id > 0){\r\n\t\t\tthis._id=0;\r\n\t\t\tHandler._pool.push(this.clear());\r\n\t\t}\r\n\t}\r\n\r\n\tHandler.create=function(caller,method,args,once){\r\n\t\t(once===void 0)&& (once=true);\r\n\t\tif (Handler._pool.length)return Handler._pool.pop().setTo(caller,method,args,once);\r\n\t\treturn new Handler(caller,method,args,once);\r\n\t}\r\n\r\n\tHandler._pool=[];\r\n\tHandler._gid=1;\r\n\treturn Handler;\r\n})()\r\n\r\n\r\n/**\r\n*<code>BitmapFont</code> 是位图字体类，用于定义位图字体信息。\r\n*/\r\n//class laya.display.BitmapFont\r\nvar BitmapFont=(function(){\r\n\tfunction BitmapFont(){\r\n\t\tthis._texture=null;\r\n\t\tthis._fontCharDic={};\r\n\t\tthis._fontWidthMap={};\r\n\t\tthis._complete=null;\r\n\t\tthis._path=null;\r\n\t\tthis._maxWidth=0;\r\n\t\tthis._spaceWidth=10;\r\n\t\tthis._padding=null;\r\n\t\t/**当前位图字体字号。*/\r\n\t\tthis.fontSize=12;\r\n\t\t/**表示是否根据实际使用的字体大小缩放位图字体大小。*/\r\n\t\tthis.autoScaleSize=false;\r\n\t\t/**字符间距（以像素为单位）。*/\r\n\t\tthis.letterSpacing=0;\r\n\t}\r\n\r\n\t__class(BitmapFont,'laya.display.BitmapFont');\r\n\tvar __proto=BitmapFont.prototype;\r\n\t/**\r\n\t*通过指定位图字体文件路径，加载位图字体文件，加载完成后会自动解析。\r\n\t*@param path 位图字体文件的路径。\r\n\t*@param complete 加载并解析完成的回调。如果成功返回this,如果失败返回null\r\n\t*/\r\n\t__proto.loadFont=function(path,complete){\r\n\t\tthis._path=path;\r\n\t\tthis._complete=complete;\r\n\t\tLaya.loader.load([{url:this._path,type:/*laya.net.Loader.XML*/\"xml\"},{url:this._path.replace(\".fnt\",\".png\"),type:/*laya.net.Loader.IMAGE*/\"image\"}],Handler.create(this,this.onLoaded));\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.onLoaded=function(){\r\n\t\tthis.parseFont(Loader.getRes(this._path),Loader.getRes(this._path.replace(\".fnt\",\".png\")));\r\n\t\tthis._complete && this._complete.runWith(this._texture?this:null);\r\n\t}\r\n\r\n\t/**\r\n\t*解析字体文件。\r\n\t*@param xml 字体文件XML。\r\n\t*@param texture 字体的纹理。\r\n\t*/\r\n\t__proto.parseFont=function(xml,texture){\r\n\t\tif (xml==null || texture==null)return;\r\n\t\tthis._texture=texture;\r\n\t\tvar tX=0;\r\n\t\tvar tScale=1;\r\n\t\tvar tInfo=xml.getElementsByTagName(\"info\");\r\n\t\tif (!tInfo[0].getAttributeNode){\r\n\t\t\treturn this.parseFont2(xml,texture);\r\n\t\t}\r\n\t\tthis.fontSize=parseInt(tInfo[0].getAttributeNode(\"size\").nodeValue);\r\n\t\tvar tPadding=tInfo[0].getAttributeNode(\"padding\").nodeValue;\r\n\t\tvar tPaddingArray=tPadding.split(\",\");\r\n\t\tthis._padding=[parseInt(tPaddingArray[0]),parseInt(tPaddingArray[1]),parseInt(tPaddingArray[2]),parseInt(tPaddingArray[3])];\r\n\t\tvar chars;\r\n\t\tchars=xml.getElementsByTagName(\"char\");\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < chars.length;i++){\r\n\t\t\tvar tAttribute=chars[i];\r\n\t\t\tvar tId=parseInt(tAttribute.getAttributeNode(\"id\").nodeValue);\r\n\t\t\tvar xOffset=parseInt(tAttribute.getAttributeNode(\"xoffset\").nodeValue)/ tScale;\r\n\t\t\tvar yOffset=parseInt(tAttribute.getAttributeNode(\"yoffset\").nodeValue)/ tScale;\r\n\t\t\tvar xAdvance=parseInt(tAttribute.getAttributeNode(\"xadvance\").nodeValue)/ tScale;\r\n\t\t\tvar region=new Rectangle();\r\n\t\t\tregion.x=parseInt(tAttribute.getAttributeNode(\"x\").nodeValue);\r\n\t\t\tregion.y=parseInt(tAttribute.getAttributeNode(\"y\").nodeValue);\r\n\t\t\tregion.width=parseInt(tAttribute.getAttributeNode(\"width\").nodeValue);\r\n\t\t\tregion.height=parseInt(tAttribute.getAttributeNode(\"height\").nodeValue);\r\n\t\t\tvar tTexture=Texture.create(texture,region.x,region.y,region.width,region.height,xOffset,yOffset);\r\n\t\t\tthis._maxWidth=Math.max(this._maxWidth,xAdvance+this.letterSpacing);\r\n\t\t\tthis._fontCharDic[tId]=tTexture;\r\n\t\t\tthis._fontWidthMap[tId]=xAdvance;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*解析字体文件。\r\n\t*@param xml 字体文件XML。\r\n\t*@param texture 字体的纹理。\r\n\t*/\r\n\t__proto.parseFont2=function(xml,texture){\r\n\t\tif (xml==null || texture==null)return;\r\n\t\tthis._texture=texture;\r\n\t\tvar tX=0;\r\n\t\tvar tScale=1;\r\n\t\tvar tInfo=xml.getElementsByTagName(\"info\");\r\n\t\tthis.fontSize=parseInt(tInfo[0].attributes[\"size\"].nodeValue);\r\n\t\tvar tPadding=tInfo[0].attributes[\"padding\"].nodeValue;\r\n\t\tvar tPaddingArray=tPadding.split(\",\");\r\n\t\tthis._padding=[parseInt(tPaddingArray[0]),parseInt(tPaddingArray[1]),parseInt(tPaddingArray[2]),parseInt(tPaddingArray[3])];\r\n\t\tvar chars=xml.getElementsByTagName(\"char\");\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < chars.length;i++){\r\n\t\t\tvar tAttribute=chars[i].attributes;\r\n\t\t\tvar tId=parseInt(tAttribute[\"id\"].nodeValue);\r\n\t\t\tvar xOffset=parseInt(tAttribute[\"xoffset\"].nodeValue)/ tScale;\r\n\t\t\tvar yOffset=parseInt(tAttribute[\"yoffset\"].nodeValue)/ tScale;\r\n\t\t\tvar xAdvance=parseInt(tAttribute[\"xadvance\"].nodeValue)/ tScale;\r\n\t\t\tvar region=new Rectangle();\r\n\t\t\tregion.x=parseInt(tAttribute[\"x\"].nodeValue);\r\n\t\t\tregion.y=parseInt(tAttribute[\"y\"].nodeValue);\r\n\t\t\tregion.width=parseInt(tAttribute[\"width\"].nodeValue);\r\n\t\t\tregion.height=parseInt(tAttribute[\"height\"].nodeValue);\r\n\t\t\tvar tTexture=Texture.create(texture,region.x,region.y,region.width,region.height,xOffset,yOffset);\r\n\t\t\tthis._maxWidth=Math.max(this._maxWidth,xAdvance+this.letterSpacing);\r\n\t\t\tthis._fontCharDic[tId]=tTexture;\r\n\t\t\tthis._fontWidthMap[tId]=xAdvance;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定字符的字体纹理对象。\r\n\t*@param char 字符。\r\n\t*@return 指定的字体纹理对象。\r\n\t*/\r\n\t__proto.getCharTexture=function(char){\r\n\t\treturn this._fontCharDic[char.charCodeAt(0)];\r\n\t}\r\n\r\n\t/**\r\n\t*销毁位图字体，调用Text.unregisterBitmapFont 时，默认会销毁。\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tif (this._texture){\r\n\t\t\tfor (var p in this._fontCharDic){\r\n\t\t\t\tvar tTexture=this._fontCharDic[p];\r\n\t\t\t\tif (tTexture)tTexture.destroy();\r\n\t\t\t}\r\n\t\t\tthis._texture.destroy();\r\n\t\t\tthis._fontCharDic=null;\r\n\t\t\tthis._fontWidthMap=null;\r\n\t\t\tthis._texture=null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*设置空格的宽（如果字体库有空格，这里就可以不用设置了）。\r\n\t*@param spaceWidth 宽度，单位为像素。\r\n\t*/\r\n\t__proto.setSpaceWidth=function(spaceWidth){\r\n\t\tthis._spaceWidth=spaceWidth;\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定字符的宽度。\r\n\t*@param char 字符。\r\n\t*@return 宽度。\r\n\t*/\r\n\t__proto.getCharWidth=function(char){\r\n\t\tvar code=char.charCodeAt(0);\r\n\t\tif (this._fontWidthMap[code])return this._fontWidthMap[code]+this.letterSpacing;\r\n\t\tif (char==\" \")return this._spaceWidth+this.letterSpacing;\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定文本内容的宽度。\r\n\t*@param text 文本内容。\r\n\t*@return 宽度。\r\n\t*/\r\n\t__proto.getTextWidth=function(text){\r\n\t\tvar tWidth=0;\r\n\t\tfor (var i=0,n=text.length;i < n;i++){\r\n\t\t\ttWidth+=this.getCharWidth(text.charAt(i));\r\n\t\t}\r\n\t\treturn tWidth;\r\n\t}\r\n\r\n\t/**\r\n\t*获取最大字符宽度。\r\n\t*/\r\n\t__proto.getMaxWidth=function(){\r\n\t\treturn this._maxWidth;\r\n\t}\r\n\r\n\t/**\r\n\t*获取最大字符高度。\r\n\t*/\r\n\t__proto.getMaxHeight=function(){\r\n\t\treturn this.fontSize;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*将指定的文本绘制到指定的显示对象上。\r\n\t*/\r\n\t__proto.drawText=function(text,sprite,drawX,drawY,align,width){\r\n\t\tvar tWidth=this.getTextWidth(text);\r\n\t\tvar tTexture;\r\n\t\tvar dx=0;\r\n\t\talign===\"center\" && (dx=(width-tWidth)/ 2);\r\n\t\talign===\"right\" && (dx=(width-tWidth));\r\n\t\tvar tX=0;\r\n\t\tfor (var i=0,n=text.length;i < n;i++){\r\n\t\t\ttTexture=this.getCharTexture(text.charAt(i));\r\n\t\t\tif (tTexture){\r\n\t\t\t\tsprite.graphics.drawTexture(tTexture,drawX+tX+dx,drawY);\r\n\t\t\t\ttX+=this.getCharWidth(text.charAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn BitmapFont;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Style</code> 类是元素样式定义类。\r\n*/\r\n//class laya.display.css.Style\r\nvar Style=(function(){\r\n\tfunction Style(){\r\n\t\t/**透明度。*/\r\n\t\tthis.alpha=1;\r\n\t\t/**表示是否显示。*/\r\n\t\tthis.visible=true;\r\n\t\t/**表示滚动区域。*/\r\n\t\tthis.scrollRect=null;\r\n\t\t/**混合模式。*/\r\n\t\tthis.blendMode=null;\r\n\t\t/**@private */\r\n\t\tthis._type=0;\r\n\t\tthis._tf=Style._TF_EMPTY;\r\n\t}\r\n\r\n\t__class(Style,'laya.display.css.Style');\r\n\tvar __proto=Style.prototype;\r\n\t__proto.getTransform=function(){\r\n\t\treturn this._tf;\r\n\t}\r\n\r\n\t__proto.setTransform=function(value){\r\n\t\tthis._tf=value==='none' || !value ? Style._TF_EMPTY :value;\r\n\t}\r\n\r\n\t__proto.setTranslateX=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.translateX=value;\r\n\t}\r\n\r\n\t__proto.setTranslateY=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.translateY=value;\r\n\t}\r\n\r\n\t__proto.setScaleX=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.scaleX=value;\r\n\t}\r\n\r\n\t__proto.setScale=function(x,y){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.scaleX=x;\r\n\t\tthis._tf.scaleY=y;\r\n\t}\r\n\r\n\t__proto.setScaleY=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.scaleY=value;\r\n\t}\r\n\r\n\t__proto.setRotate=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.rotate=value;\r\n\t}\r\n\r\n\t__proto.setSkewX=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.skewX=value;\r\n\t}\r\n\r\n\t__proto.setSkewY=function(value){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.skewY=value;\r\n\t}\r\n\r\n\t/**销毁此对象。*/\r\n\t__proto.destroy=function(){\r\n\t\tthis.scrollRect=null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.render=function(sprite,context,x,y){}\r\n\t/**@private */\r\n\t__proto.getCSSStyle=function(){\r\n\t\treturn CSSStyle.EMPTY;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._enableLayout=function(){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**X 轴缩放值。*/\r\n\t__getset(0,__proto,'scaleX',function(){\r\n\t\treturn this._tf.scaleX;\r\n\t\t},function(value){\r\n\t\tthis.setScaleX(value);\r\n\t});\r\n\r\n\t/**元素应用的 2D 或 3D 转换的值。该属性允许我们对元素进行旋转、缩放、移动或倾斜。*/\r\n\t__getset(0,__proto,'transform',function(){\r\n\t\treturn this.getTransform();\r\n\t\t},function(value){\r\n\t\tthis.setTransform(value);\r\n\t});\r\n\r\n\t/**定义转换，只是用 X 轴的值。*/\r\n\t__getset(0,__proto,'translateX',function(){\r\n\t\treturn this._tf.translateX;\r\n\t\t},function(value){\r\n\t\tthis.setTranslateX(value);\r\n\t});\r\n\r\n\t/**定义转换，只是用 Y 轴的值。*/\r\n\t__getset(0,__proto,'translateY',function(){\r\n\t\treturn this._tf.translateY;\r\n\t\t},function(value){\r\n\t\tthis.setTranslateY(value);\r\n\t});\r\n\r\n\t/**Y 轴缩放值。*/\r\n\t__getset(0,__proto,'scaleY',function(){\r\n\t\treturn this._tf.scaleY;\r\n\t\t},function(value){\r\n\t\tthis.setScaleY(value);\r\n\t});\r\n\r\n\t/**表示元素是否显示为块级元素。*/\r\n\t__getset(0,__proto,'block',function(){\r\n\t\treturn (this._type & 0x1)!=0;\r\n\t});\r\n\r\n\t/**定义沿着 Y 轴的 2D 倾斜转换。*/\r\n\t__getset(0,__proto,'skewY',function(){\r\n\t\treturn this._tf.skewY;\r\n\t\t},function(value){\r\n\t\tthis.setSkewY(value);\r\n\t});\r\n\r\n\t/**定义旋转角度。*/\r\n\t__getset(0,__proto,'rotate',function(){\r\n\t\treturn this._tf.rotate;\r\n\t\t},function(value){\r\n\t\tthis.setRotate(value);\r\n\t});\r\n\r\n\t/**定义沿着 X 轴的 2D 倾斜转换。*/\r\n\t__getset(0,__proto,'skewX',function(){\r\n\t\treturn this._tf.skewX;\r\n\t\t},function(value){\r\n\t\tthis.setSkewX(value);\r\n\t});\r\n\r\n\t/**表示元素的左内边距。*/\r\n\t__getset(0,__proto,'paddingLeft',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\t/**表示元素的上内边距。*/\r\n\t__getset(0,__proto,'paddingTop',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\t/**是否为绝对定位。*/\r\n\t__getset(0,__proto,'absolute',function(){\r\n\t\treturn true;\r\n\t});\r\n\r\n\tStyle.__init__=function(){\r\n\t\tStyle._TF_EMPTY=new TransformInfo();\r\n\t\tStyle.EMPTY=new Style();\r\n\t}\r\n\r\n\tStyle.EMPTY=null;\r\n\tStyle._TF_EMPTY=null;\r\n\treturn Style;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Font</code> 类是字体显示定义类。\r\n*/\r\n//class laya.display.css.Font\r\nvar Font=(function(){\r\n\tfunction Font(src){\r\n\t\tthis._type=0;\r\n\t\tthis._weight=0;\r\n\t\tthis._decoration=null;\r\n\t\tthis._text=null;\r\n\t\t/**\r\n\t\t*首行缩进 （以像素为单位）。\r\n\t\t*/\r\n\t\tthis.indent=0;\r\n\t\tthis._color=Color.create(Font.defaultColor);\r\n\t\tthis.family=Font.defaultFamily;\r\n\t\tthis.stroke=Font._STROKE;\r\n\t\tthis.size=Font.defaultSize;\r\n\t\tsrc && src!==Font.EMPTY && src.copyTo(this);\r\n\t}\r\n\r\n\t__class(Font,'laya.display.css.Font');\r\n\tvar __proto=Font.prototype;\r\n\t/**\r\n\t*字体样式字符串。\r\n\t*/\r\n\t__proto.set=function(value){\r\n\t\tthis._text=null;\r\n\t\tvar strs=value.split(' ');\r\n\t\tfor (var i=0,n=strs.length;i < n;i++){\r\n\t\t\tvar str=strs[i];\r\n\t\t\tswitch (str){\r\n\t\t\t\tcase 'italic':\r\n\t\t\t\t\tthis.italic=true;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tcase 'bold':\r\n\t\t\t\t\tthis.bold=true;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\tif (str.indexOf('px')> 0){\r\n\t\t\t\tthis.size=parseInt(str);\r\n\t\t\t\tthis.family=strs[i+1];\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*返回字体样式字符串。\r\n\t*@return 字体样式字符串。\r\n\t*/\r\n\t__proto.toString=function(){\r\n\t\tthis._text=\"\"\r\n\t\tthis.italic && (this._text+=\"italic \");\r\n\t\tthis.bold && (this._text+=\"bold \");\r\n\t\treturn this._text+=this.size+\"px \"+this.family;\r\n\t}\r\n\r\n\t/**\r\n\t*将当前的属性值复制到传入的 <code>Font</code> 对象。\r\n\t*@param dec 一个 Font 对象。\r\n\t*/\r\n\t__proto.copyTo=function(dec){\r\n\t\tdec._type=this._type;\r\n\t\tdec._text=this._text;\r\n\t\tdec._weight=this._weight;\r\n\t\tdec._color=this._color;\r\n\t\tdec.family=this.family;\r\n\t\tdec.stroke=this.stroke !=Font._STROKE ? this.stroke.slice():Font._STROKE;\r\n\t\tdec.indent=this.indent;\r\n\t\tdec.size=this.size;\r\n\t}\r\n\r\n\t/**\r\n\t*表示是否为密码格式。\r\n\t*/\r\n\t__getset(0,__proto,'password',function(){\r\n\t\treturn (this._type & 0x400)!==0;\r\n\t\t},function(value){\r\n\t\tvalue ? (this._type |=0x400):(this._type &=~0x400);\r\n\t});\r\n\r\n\t/**\r\n\t*表示颜色字符串。\r\n\t*/\r\n\t__getset(0,__proto,'color',function(){\r\n\t\treturn this._color.strColor;\r\n\t\t},function(value){\r\n\t\tthis._color=Color.create(value);\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否为斜体。\r\n\t*/\r\n\t__getset(0,__proto,'italic',function(){\r\n\t\treturn (this._type & 0x200)!==0;\r\n\t\t},function(value){\r\n\t\tvalue ? (this._type |=0x200):(this._type &=~0x200);\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否为粗体。\r\n\t*/\r\n\t__getset(0,__proto,'bold',function(){\r\n\t\treturn (this._type & 0x800)!==0;\r\n\t\t},function(value){\r\n\t\tvalue ? (this._type |=0x800):(this._type &=~0x800);\r\n\t});\r\n\r\n\t/**\r\n\t*文本的粗细。\r\n\t*/\r\n\t__getset(0,__proto,'weight',function(){\r\n\t\treturn \"\"+this._weight;\r\n\t\t},function(value){\r\n\t\tvar weight=0;\r\n\t\tswitch (value){\r\n\t\t\tcase 'normal':\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'bold':\r\n\t\t\t\tthis.bold=true;\r\n\t\t\t\tweight=700;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'bolder':\r\n\t\t\t\tweight=800;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'lighter':\r\n\t\t\t\tweight=100;\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t\tweight=parseInt(value);\r\n\t\t\t}\r\n\t\tthis._weight=weight;\r\n\t\tthis._text=null;\r\n\t});\r\n\r\n\t/**\r\n\t*规定添加到文本的修饰。\r\n\t*/\r\n\t__getset(0,__proto,'decoration',function(){\r\n\t\treturn this._decoration ? this._decoration.value :\"none\";\r\n\t\t},function(value){\r\n\t\tvar strs=value.split(' ');\r\n\t\tthis._decoration || (this._decoration={});\r\n\t\tswitch (strs[0]){\r\n\t\t\tcase '_':\r\n\t\t\t\tthis._decoration.type='underline'\r\n\t\t\t\tbreak ;\r\n\t\t\tcase '-':\r\n\t\t\t\tthis._decoration.type='line-through'\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'overline':\r\n\t\t\t\tthis._decoration.type='overline'\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t\tthis._decoration.type=strs[0];\r\n\t\t\t}\r\n\t\tstrs[1] && (this._decoration.color=Color.create(strs));\r\n\t\tthis._decoration.value=value;\r\n\t});\r\n\r\n\tFont.__init__=function(){\r\n\t\tFont.EMPTY=new Font(null);\r\n\t}\r\n\r\n\tFont.EMPTY=null;\r\n\tFont.defaultColor=\"#000000\";\r\n\tFont.defaultSize=12;\r\n\tFont.defaultFamily=\"Arial\";\r\n\tFont.defaultFont=\"12px Arial\";\r\n\tFont._STROKE=[0,\"#000000\"];\r\n\tFont._ITALIC=0x200;\r\n\tFont._PASSWORD=0x400;\r\n\tFont._BOLD=0x800;\r\n\treturn Font;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.display.css.TransformInfo\r\nvar TransformInfo=(function(){\r\n\tfunction TransformInfo(){\r\n\t\tthis.translateX=0;\r\n\t\tthis.translateY=0;\r\n\t\tthis.scaleX=1;\r\n\t\tthis.scaleY=1;\r\n\t\tthis.rotate=0;\r\n\t\tthis.skewX=0;\r\n\t\tthis.skewY=0;\r\n\t}\r\n\r\n\t__class(TransformInfo,'laya.display.css.TransformInfo');\r\n\treturn TransformInfo;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Graphics</code> 类用于创建绘图显示对象。Graphics可以同时绘制多个位图或者矢量图，还可以结合save，restore，transform，scale，rotate，translate，alpha等指令对绘图效果进行变化。\r\n*Graphics以命令流方式存储，可以通过cmds属性访问所有命令流。Graphics是比Sprite更轻量级的对象，合理使用能提高应用性能(比如把大量的节点绘图改为一个节点的Graphics命令集合，能减少大量节点创建消耗)。\r\n*@see laya.display.Sprite#graphics\r\n*/\r\n//class laya.display.Graphics\r\nvar Graphics=(function(){\r\n\tfunction Graphics(){\r\n\t\t/**@private */\r\n\t\t//this._sp=null;\r\n\t\t/**@private */\r\n\t\tthis._one=null;\r\n\t\t/**@private */\r\n\t\tthis._cmds=null;\r\n\t\t/**@private */\r\n\t\t//this._vectorgraphArray=null;\r\n\t\t/**@private */\r\n\t\t//this._graphicBounds=null;\r\n\t\tthis._render=this._renderEmpty;\r\n\t\tif (Render.isConchNode){\r\n\t\t\tvar _this_=this;\r\n\t\t\t_this_._nativeObj=new (window)._conchGraphics();\r\n\t\t\t_this_.id=_this_._nativeObj.conchID;\r\n\t\t}\r\n\t}\r\n\r\n\t__class(Graphics,'laya.display.Graphics');\r\n\tvar __proto=Graphics.prototype;\r\n\t/**\r\n\t*<p>销毁此对象。</p>\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tthis.clear();\r\n\t\tif (this._graphicBounds)this._graphicBounds.destroy();\r\n\t\tthis._graphicBounds=null;\r\n\t\tthis._vectorgraphArray=null;\r\n\t\tthis._sp && (this._sp._renderType=0);\r\n\t\tthis._sp=null;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>清空绘制命令。</p>\r\n\t*@param recoverCmds 是否回收绘图指令\r\n\t*/\r\n\t__proto.clear=function(recoverCmds){\r\n\t\t(recoverCmds===void 0)&& (recoverCmds=false);\r\n\t\tvar i=0,len=0;\r\n\t\tif (recoverCmds){\r\n\t\t\tvar tCmd=this._one;\r\n\t\t\tif (this._cmds){\r\n\t\t\t\tlen=this._cmds.length;\r\n\t\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\t\ttCmd=this._cmds[i];\r\n\t\t\t\t\tif (tCmd && (tCmd.callee===Render._context._drawTexture || tCmd.callee===Render._context._drawTextureWithTransform)){\r\n\t\t\t\t\t\ttCmd[0]=null;\r\n\t\t\t\t\t\tGraphics._cache.push(tCmd);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._cmds.length=0;\r\n\t\t\t\t}else if (tCmd){\r\n\t\t\t\tif (tCmd && (tCmd.callee===Render._context._drawTexture || tCmd.callee===Render._context._drawTextureWithTransform)){\r\n\t\t\t\t\ttCmd[0]=null;\r\n\t\t\t\t\tGraphics._cache.push(tCmd);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis._cmds=null;\r\n\t\t}\r\n\t\tthis._one=null;\r\n\t\tthis._render=this._renderEmpty;\r\n\t\tthis._sp && (this._sp._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01 & ~ /*laya.renders.RenderSprite.GRAPHICS*/0x200);\r\n\t\tthis._repaint();\r\n\t\tif (this._vectorgraphArray){\r\n\t\t\tfor (i=0,len=this._vectorgraphArray.length;i < len;i++){\r\n\t\t\t\tVectorGraphManager.getInstance().deleteShape(this._vectorgraphArray[i]);\r\n\t\t\t}\r\n\t\t\tthis._vectorgraphArray.length=0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._clearBoundsCache=function(){\r\n\t\tif (this._graphicBounds)this._graphicBounds.reset();\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._initGraphicBounds=function(){\r\n\t\tif (!this._graphicBounds){\r\n\t\t\tthis._graphicBounds=new GraphicsBounds();\r\n\t\t\tthis._graphicBounds._graphics=this;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*重绘此对象。\r\n\t*/\r\n\t__proto._repaint=function(){\r\n\t\tthis._clearBoundsCache();\r\n\t\tthis._sp && this._sp.repaint();\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._isOnlyOne=function(){\r\n\t\treturn !this._cmds || this._cmds.length===0;\r\n\t}\r\n\r\n\t/**\r\n\t*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。\r\n\t*@param realSize （可选）使用图片的真实大小，默认为false\r\n\t*@return 位置与宽高组成的 一个 Rectangle 对象。\r\n\t*/\r\n\t__proto.getBounds=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tthis._initGraphicBounds();\r\n\t\treturn this._graphicBounds.getBounds(realSize);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*@param realSize （可选）使用图片的真实大小，默认为false\r\n\t*获取端点列表。\r\n\t*/\r\n\t__proto.getBoundPoints=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tthis._initGraphicBounds();\r\n\t\treturn this._graphicBounds.getBoundPoints(realSize);\r\n\t}\r\n\r\n\t__proto._addCmd=function(a){\r\n\t\tthis._cmds=this._cmds || [];\r\n\t\ta.callee=a.shift();\r\n\t\tthis._cmds.push(a);\r\n\t}\r\n\r\n\t__proto.setFilters=function(fs){\r\n\t\tthis._saveToCmd(Render._context._setFilters,fs);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制纹理。\r\n\t*@param tex 纹理。\r\n\t*@param x （可选）X轴偏移量。\r\n\t*@param y （可选）Y轴偏移量。\r\n\t*@param width （可选）宽度。\r\n\t*@param height （可选）高度。\r\n\t*@param m （可选）矩阵信息。\r\n\t*@param alpha （可选）透明度。\r\n\t*/\r\n\t__proto.drawTexture=function(tex,x,y,width,height,m,alpha){\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\t(alpha===void 0)&& (alpha=1);\r\n\t\tif (!tex || alpha < 0.01)return null;\r\n\t\tif (!width)width=tex.sourceWidth;\r\n\t\tif (!height)height=tex.sourceHeight;\r\n\t\talpha=alpha < 0 ? 0 :(alpha > 1 ? 1 :alpha);\r\n\t\tvar offset=(!Render.isWebGL && (Browser.onFirefox || Browser.onEdge||Browser.onIE||Browser.onSafari))? 0.5 :0;\r\n\t\tvar wRate=width / tex.sourceWidth;\r\n\t\tvar hRate=height / tex.sourceHeight;\r\n\t\twidth=tex.width *wRate;\r\n\t\theight=tex.height *hRate;\r\n\t\tif (tex.loaded && (width <=0 || height <=0))return null;\r\n\t\tx+=tex.offsetX *wRate;\r\n\t\ty+=tex.offsetY *hRate;\r\n\t\tthis._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);\r\n\t\tvar args;\r\n\t\tx-=offset;\r\n\t\ty-=offset;\r\n\t\twidth+=2 *offset;\r\n\t\theight+=2 *offset;\r\n\t\tif (Graphics._cache.length){\r\n\t\t\targs=Graphics._cache.pop();\r\n\t\t\targs[0]=tex;\r\n\t\t\targs[1]=x;\r\n\t\t\targs[2]=y;\r\n\t\t\targs[3]=width;\r\n\t\t\targs[4]=height;\r\n\t\t\targs[5]=m;\r\n\t\t\targs[6]=alpha;\r\n\t\t\t}else {\r\n\t\t\targs=[tex,x,y,width,height,m,alpha];\r\n\t\t}\r\n\t\targs.callee=(m || alpha !=1)? Render._context._drawTextureWithTransform :Render._context._drawTexture;\r\n\t\tif (this._one==null && !m && alpha==1){\r\n\t\t\tthis._one=args;\r\n\t\t\tthis._render=this._renderOneImg;\r\n\t\t\t}else {\r\n\t\t\tthis._saveToCmd(args.callee,args);\r\n\t\t}\r\n\t\tif (!tex.loaded){\r\n\t\t\ttex.once(/*laya.events.Event.LOADED*/\"loaded\",this,this._textureLoaded,[tex,args]);\r\n\t\t}\r\n\t\tthis._repaint();\r\n\t\treturn args;\r\n\t}\r\n\r\n\t/**\r\n\t*@private 清理贴图并替换为最新的\r\n\t*@param tex\r\n\t*/\r\n\t__proto.cleanByTexture=function(tex,x,y,width,height){\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\tif (!tex)return this.clear();\r\n\t\tif (this._one && this._render===this._renderOneImg){\r\n\t\t\tif (!width)width=tex.sourceWidth;\r\n\t\t\tif (!height)height=tex.sourceHeight;\r\n\t\t\tvar wRate=width / tex.sourceWidth;\r\n\t\t\tvar hRate=height / tex.sourceHeight;\r\n\t\t\twidth=tex.width *wRate;\r\n\t\t\theight=tex.height *hRate;\r\n\t\t\tx+=tex.offsetX *wRate;\r\n\t\t\ty+=tex.offsetY *hRate;\r\n\t\t\tthis._one[0]=tex;\r\n\t\t\tthis._one[1]=x;\r\n\t\t\tthis._one[2]=y;\r\n\t\t\tthis._one[3]=width;\r\n\t\t\tthis._one[4]=height;\r\n\t\t\tthis._repaint();\r\n\t\t\t}else {\r\n\t\t\tthis.clear();\r\n\t\t\ttex && this.drawTexture(tex,x,y,width,height);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*批量绘制同样纹理。\r\n\t*@param tex 纹理。\r\n\t*@param pos 绘制坐标。\r\n\t*/\r\n\t__proto.drawTextures=function(tex,pos){\r\n\t\tif (!tex)return;\r\n\t\tthis._saveToCmd(Render._context._drawTextures,[tex,pos]);\r\n\t}\r\n\r\n\t/**\r\n\t*用texture填充。\r\n\t*@param tex 纹理。\r\n\t*@param x X轴偏移量。\r\n\t*@param y Y轴偏移量。\r\n\t*@param width （可选）宽度。\r\n\t*@param height （可选）高度。\r\n\t*@param type （可选）填充类型 repeat|repeat-x|repeat-y|no-repeat\r\n\t*@param offset （可选）贴图纹理偏移\r\n\t*/\r\n\t__proto.fillTexture=function(tex,x,y,width,height,type,offset){\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\t(type===void 0)&& (type=\"repeat\");\r\n\t\tif (!tex)return;\r\n\t\tvar args=[tex,x,y,width,height,type,offset || Point.EMPTY,{}];\r\n\t\tif (!tex.loaded){\r\n\t\t\ttex.once(/*laya.events.Event.LOADED*/\"loaded\",this,this._textureLoaded,[tex,args]);\r\n\t\t}\r\n\t\tthis._saveToCmd(Render._context._fillTexture,args);\r\n\t}\r\n\r\n\t__proto._textureLoaded=function(tex,param){\r\n\t\tparam[3]=param[3] || tex.width;\r\n\t\tparam[4]=param[4] || tex.height;\r\n\t\tthis._repaint();\r\n\t}\r\n\r\n\t/**\r\n\t*填充一个圆形。这是一个临时函数，以后会删除，建议用户自己实现。\r\n\t*@param x\r\n\t*@param y\r\n\t*@param tex\r\n\t*@param cx 圆心位置。\r\n\t*@param cy\r\n\t*@param radius\r\n\t*@param segNum 分段数，越大越平滑。\r\n\t*/\r\n\t__proto.fillCircle=function(x,y,tex,cx,cy,radius,segNum){\r\n\t\ttex.bitmap.enableMerageInAtlas=false;\r\n\t\tvar verts=new Float32Array((segNum+1)*2);\r\n\t\tvar uvs=new Float32Array((segNum+1)*2);\r\n\t\tvar indices=new Uint16Array(segNum*3);\r\n\t\tvar dang=2 *Math.PI / segNum;\r\n\t\tvar cang=0;\r\n\t\tverts[0]=cx;\r\n\t\tverts[1]=cy;\r\n\t\tuvs[0]=cx / tex.width;\r\n\t\tuvs[1]=cy / tex.height;\r\n\t\tvar idx=2;\r\n\t\tfor (var i=0;i < segNum;i++){\r\n\t\t\tvar px=radius *Math.cos(cang)+cx;\r\n\t\t\tvar py=radius *Math.sin(cang)+cy;\r\n\t\t\tverts[idx]=px;\r\n\t\t\tverts[idx+1]=py;\r\n\t\t\tuvs[idx]=px / tex.width;\r\n\t\t\tuvs[idx+1]=py / tex.height;\r\n\t\t\tcang+=dang;\r\n\t\t\tidx+=2;\r\n\t\t}\r\n\t\tidx=0;\r\n\t\tfor (i=0;i < segNum;i++){\r\n\t\t\tindices[idx++]=0;\r\n\t\t\tindices[idx++]=i+1;\r\n\t\t\tindices[idx++]=(i+2 >=segNum+1)?1:(i+2);\r\n\t\t}\r\n\t\tthis.drawTriangles(tex,x,y,verts,uvs,indices);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制一组三角形\r\n\t*@param texture 纹理。\r\n\t*@param x X轴偏移量。\r\n\t*@param y Y轴偏移量。\r\n\t*@param vertices 顶点数组。\r\n\t*@param indices 顶点索引。\r\n\t*@param uvData UV数据。\r\n\t*@param matrix 缩放矩阵。\r\n\t*@param alpha alpha\r\n\t*@param color 颜色变换\r\n\t*@param blendMode blend模式\r\n\t*/\r\n\t__proto.drawTriangles=function(texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){\r\n\t\t(alpha===void 0)&& (alpha=1);\r\n\t\tthis._saveToCmd(Render._context.drawTriangles,[texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode]);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*保存到命令流。\r\n\t*/\r\n\t__proto._saveToCmd=function(fun,args){\r\n\t\tthis._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);\r\n\t\tif (this._one==null){\r\n\t\t\tthis._one=args;\r\n\t\t\tthis._render=this._renderOne;\r\n\t\t\t}else {\r\n\t\t\tthis._sp && (this._sp._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01);\r\n\t\t\tthis._render=this._renderAll;\r\n\t\t\t(this._cmds || (this._cmds=[])).length===0 && this._cmds.push(this._one);\r\n\t\t\tthis._cmds.push(args);\r\n\t\t}\r\n\t\targs.callee=fun;\r\n\t\tthis._repaint();\r\n\t\treturn args;\r\n\t}\r\n\r\n\t/**\r\n\t*设置剪裁区域，超出剪裁区域的坐标不显示。\r\n\t*@param x X 轴偏移量。\r\n\t*@param y Y 轴偏移量。\r\n\t*@param width 宽度。\r\n\t*@param height 高度。\r\n\t*/\r\n\t__proto.clipRect=function(x,y,width,height){\r\n\t\tthis._saveToCmd(Render._context._clipRect,[x,y,width,height]);\r\n\t}\r\n\r\n\t/**\r\n\t*在画布上绘制文本。\r\n\t*@param text 在画布上输出的文本。\r\n\t*@param x 开始绘制文本的 x 坐标位置（相对于画布）。\r\n\t*@param y 开始绘制文本的 y 坐标位置（相对于画布）。\r\n\t*@param font 定义字号和字体，比如\"20px Arial\"。\r\n\t*@param color 定义文本颜色，比如\"#ff0000\"。\r\n\t*@param textAlign 文本对齐方式，可选值：\"left\"，\"center\"，\"right\"。\r\n\t*/\r\n\t__proto.fillText=function(text,x,y,font,color,textAlign,underLine){\r\n\t\t(underLine===void 0)&& (underLine=0);\r\n\t\tthis._saveToCmd(Render._context._fillText,[text,x,y,font || Font.defaultFont,color,textAlign]);\r\n\t}\r\n\r\n\t/**\r\n\t*在画布上绘制“被填充且镶边的”文本。\r\n\t*@param text 在画布上输出的文本。\r\n\t*@param x 开始绘制文本的 x 坐标位置（相对于画布）。\r\n\t*@param y 开始绘制文本的 y 坐标位置（相对于画布）。\r\n\t*@param font 定义字体和字号，比如\"20px Arial\"。\r\n\t*@param fillColor 定义文本颜色，比如\"#ff0000\"。\r\n\t*@param borderColor 定义镶边文本颜色。\r\n\t*@param lineWidth 镶边线条宽度。\r\n\t*@param textAlign 文本对齐方式，可选值：\"left\"，\"center\"，\"right\"。\r\n\t*/\r\n\t__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){\r\n\t\tthis._saveToCmd(Render._context._fillBorderText,[text,x,y,font || Font.defaultFont,fillColor,borderColor,lineWidth,textAlign]);\r\n\t}\r\n\r\n\t/**\r\n\t*在画布上绘制文本（没有填色）。文本的默认颜色是黑色。\r\n\t*@param text 在画布上输出的文本。\r\n\t*@param x 开始绘制文本的 x 坐标位置（相对于画布）。\r\n\t*@param y 开始绘制文本的 y 坐标位置（相对于画布）。\r\n\t*@param font 定义字体和字号，比如\"20px Arial\"。\r\n\t*@param color 定义文本颜色，比如\"#ff0000\"。\r\n\t*@param lineWidth 线条宽度。\r\n\t*@param textAlign 文本对齐方式，可选值：\"left\"，\"center\"，\"right\"。\r\n\t*/\r\n\t__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){\r\n\t\tthis._saveToCmd(Render._context._strokeText,[text,x,y,font || Font.defaultFont,color,lineWidth,textAlign]);\r\n\t}\r\n\r\n\t/**\r\n\t*设置透明度。\r\n\t*@param value 透明度。\r\n\t*/\r\n\t__proto.alpha=function(value){\r\n\t\tvalue=value < 0 ? 0 :(value > 1 ? 1 :value);\r\n\t\tthis._saveToCmd(Render._context._alpha,[value]);\r\n\t}\r\n\r\n\t/**\r\n\t*设置当前透明度。\r\n\t*@param value 透明度。\r\n\t*/\r\n\t__proto.setAlpha=function(value){\r\n\t\tvalue=value < 0 ? 0 :(value > 1 ? 1 :value);\r\n\t\tthis._saveToCmd(Render._context._setAlpha,[value]);\r\n\t}\r\n\r\n\t/**\r\n\t*替换绘图的当前转换矩阵。\r\n\t*@param mat 矩阵。\r\n\t*@param pivotX （可选）水平方向轴心点坐标。\r\n\t*@param pivotY （可选）垂直方向轴心点坐标。\r\n\t*/\r\n\t__proto.transform=function(matrix,pivotX,pivotY){\r\n\t\t(pivotX===void 0)&& (pivotX=0);\r\n\t\t(pivotY===void 0)&& (pivotY=0);\r\n\t\tthis._saveToCmd(Render._context._transform,[matrix,pivotX,pivotY]);\r\n\t}\r\n\r\n\t/**\r\n\t*旋转当前绘图。(推荐使用transform，性能更高)\r\n\t*@param angle 旋转角度，以弧度计。\r\n\t*@param pivotX （可选）水平方向轴心点坐标。\r\n\t*@param pivotY （可选）垂直方向轴心点坐标。\r\n\t*/\r\n\t__proto.rotate=function(angle,pivotX,pivotY){\r\n\t\t(pivotX===void 0)&& (pivotX=0);\r\n\t\t(pivotY===void 0)&& (pivotY=0);\r\n\t\tthis._saveToCmd(Render._context._rotate,[angle,pivotX,pivotY]);\r\n\t}\r\n\r\n\t/**\r\n\t*缩放当前绘图至更大或更小。(推荐使用transform，性能更高)\r\n\t*@param scaleX 水平方向缩放值。\r\n\t*@param scaleY 垂直方向缩放值。\r\n\t*@param pivotX （可选）水平方向轴心点坐标。\r\n\t*@param pivotY （可选）垂直方向轴心点坐标。\r\n\t*/\r\n\t__proto.scale=function(scaleX,scaleY,pivotX,pivotY){\r\n\t\t(pivotX===void 0)&& (pivotX=0);\r\n\t\t(pivotY===void 0)&& (pivotY=0);\r\n\t\tthis._saveToCmd(Render._context._scale,[scaleX,scaleY,pivotX,pivotY]);\r\n\t}\r\n\r\n\t/**\r\n\t*重新映射画布上的 (0,0)位置。\r\n\t*@param x 添加到水平坐标（x）上的值。\r\n\t*@param y 添加到垂直坐标（y）上的值。\r\n\t*/\r\n\t__proto.translate=function(x,y){\r\n\t\tthis._saveToCmd(Render._context._translate,[x,y]);\r\n\t}\r\n\r\n\t/**\r\n\t*保存当前环境的状态。\r\n\t*/\r\n\t__proto.save=function(){\r\n\t\tthis._saveToCmd(Render._context._save,[]);\r\n\t}\r\n\r\n\t/**\r\n\t*返回之前保存过的路径状态和属性。\r\n\t*/\r\n\t__proto.restore=function(){\r\n\t\tthis._saveToCmd(Render._context._restore,[]);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*替换文本内容。\r\n\t*@param text 文本内容。\r\n\t*@return 替换成功则值为true，否则值为flase。\r\n\t*/\r\n\t__proto.replaceText=function(text){\r\n\t\tthis._repaint();\r\n\t\tvar cmds=this._cmds;\r\n\t\tif (!cmds){\r\n\t\t\tif (this._one && this._isTextCmd(this._one.callee)){\r\n\t\t\t\tif (this._one[0].toUpperCase)this._one[0]=text;\r\n\t\t\t\telse this._one[0].setText(text);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (var i=cmds.length-1;i >-1;i--){\r\n\t\t\t\tif (this._isTextCmd(cmds[i].callee)){\r\n\t\t\t\t\tif (cmds[i][0].toUpperCase)cmds[i][0]=text;\r\n\t\t\t\t\telse cmds[i][0].setText(text);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._isTextCmd=function(fun){\r\n\t\treturn fun===Render._context._fillText || fun===Render._context._fillBorderText || fun===Render._context._strokeText;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*替换文本颜色。\r\n\t*@param color 颜色。\r\n\t*/\r\n\t__proto.replaceTextColor=function(color){\r\n\t\tthis._repaint();\r\n\t\tvar cmds=this._cmds;\r\n\t\tif (!cmds){\r\n\t\t\tif (this._one && this._isTextCmd(this._one.callee)){\r\n\t\t\t\tthis._one[4]=color;\r\n\t\t\t\tif (!this._one[0].toUpperCase)this._one[0].changed=true;\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (var i=cmds.length-1;i >-1;i--){\r\n\t\t\t\tif (this._isTextCmd(cmds[i].callee)){\r\n\t\t\t\t\tcmds[i][4]=color;\r\n\t\t\t\t\tif (!cmds[i][0].toUpperCase)cmds[i][0].changed=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*加载并显示一个图片。\r\n\t*@param url 图片地址。\r\n\t*@param x （可选）显示图片的x位置。\r\n\t*@param y （可选）显示图片的y位置。\r\n\t*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。\r\n\t*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。\r\n\t*@param complete （可选）加载完成回调。\r\n\t*/\r\n\t__proto.loadImage=function(url,x,y,width,height,complete){\r\n\t\tvar _$this=this;\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\tvar tex=Loader.getRes(url);\r\n\t\tif (tex)onloaded(tex);\r\n\t\telse Laya.loader.load(url,Handler.create(null,onloaded),null,/*laya.net.Loader.IMAGE*/\"image\");\r\n\t\tfunction onloaded (tex){\r\n\t\t\tif (tex){\r\n\t\t\t\t_$this.drawTexture(tex,x,y,width,height);\r\n\t\t\t\tif (complete !=null)complete.call(_$this._sp,tex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._renderEmpty=function(sprite,context,x,y){}\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._renderAll=function(sprite,context,x,y){\r\n\t\tvar cmds=this._cmds,cmd;\r\n\t\tfor (var i=0,n=cmds.length;i < n;i++){\r\n\t\t\t(cmd=cmds[i]).callee.call(context,x,y,cmd);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._renderOne=function(sprite,context,x,y){\r\n\t\tthis._one.callee.call(context,x,y,this._one);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._renderOneImg=function(sprite,context,x,y){\r\n\t\tthis._one.callee.call(context,x,y,this._one);\r\n\t\tif (sprite._renderType!==2305){\r\n\t\t\tsprite._renderType |=/*laya.renders.RenderSprite.IMAGE*/0x01;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*绘制一条线。\r\n\t*@param fromX X轴开始位置。\r\n\t*@param fromY Y轴开始位置。\r\n\t*@param toX X轴结束位置。\r\n\t*@param toY Y轴结束位置。\r\n\t*@param lineColor 颜色。\r\n\t*@param lineWidth （可选）线条宽度。\r\n\t*/\r\n\t__proto.drawLine=function(fromX,fromY,toX,toY,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar tId=0;\r\n\t\tif (Render.isWebGL){\r\n\t\t\ttId=VectorGraphManager.getInstance().getId();\r\n\t\t\tif (this._vectorgraphArray==null)this._vectorgraphArray=[];\r\n\t\t\tthis._vectorgraphArray.push(tId);\r\n\t\t};\r\n\t\tvar offset=lineWidth % 2===0 ? 0 :0.5;\r\n\t\tvar arr=[fromX+offset,fromY+offset,toX+offset,toY+offset,lineColor,lineWidth,tId];\r\n\t\tthis._saveToCmd(Render._context._drawLine,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制一系列线段。\r\n\t*@param x 开始绘制的X轴位置。\r\n\t*@param y 开始绘制的Y轴位置。\r\n\t*@param points 线段的点集合。格式:[x1,y1,x2,y2,x3,y3...]。\r\n\t*@param lineColor 线段颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）线段宽度。\r\n\t*/\r\n\t__proto.drawLines=function(x,y,points,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar tId=0;\r\n\t\tif (!points || points.length < 4)return;\r\n\t\tif (Render.isWebGL){\r\n\t\t\ttId=VectorGraphManager.getInstance().getId();\r\n\t\t\tif (this._vectorgraphArray==null)this._vectorgraphArray=[];\r\n\t\t\tthis._vectorgraphArray.push(tId);\r\n\t\t};\r\n\t\tvar offset=lineWidth % 2===0 ? 0 :0.5;\r\n\t\tvar arr=[x+offset,y+offset,points,lineColor,lineWidth,tId];\r\n\t\tthis._saveToCmd(Render._context._drawLines,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制一系列曲线。\r\n\t*@param x 开始绘制的 X 轴位置。\r\n\t*@param y 开始绘制的 Y 轴位置。\r\n\t*@param points 线段的点集合，格式[startx,starty,ctrx,ctry,startx,starty...]。\r\n\t*@param lineColor 线段颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）线段宽度。\r\n\t*/\r\n\t__proto.drawCurves=function(x,y,points,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar arr=[x,y,points,lineColor,lineWidth];\r\n\t\tthis._saveToCmd(Render._context._drawCurves,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制矩形。\r\n\t*@param x 开始绘制的 X 轴位置。\r\n\t*@param y 开始绘制的 Y 轴位置。\r\n\t*@param width 矩形宽度。\r\n\t*@param height 矩形高度。\r\n\t*@param fillColor 填充颜色，或者填充绘图的渐变对象。\r\n\t*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）边框宽度。\r\n\t*/\r\n\t__proto.drawRect=function(x,y,width,height,fillColor,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar offset=lineColor ? lineWidth / 2 :0;\r\n\t\tvar lineOffset=lineColor ? lineWidth :0;\r\n\t\tvar arr=[x+offset,y+offset,width-lineOffset,height-lineOffset,fillColor,lineColor,lineWidth];\r\n\t\tthis._saveToCmd(Render._context._drawRect,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制圆形。\r\n\t*@param x 圆点X 轴位置。\r\n\t*@param y 圆点Y 轴位置。\r\n\t*@param radius 半径。\r\n\t*@param fillColor 填充颜色，或者填充绘图的渐变对象。\r\n\t*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）边框宽度。\r\n\t*/\r\n\t__proto.drawCircle=function(x,y,radius,fillColor,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar offset=lineColor ? lineWidth / 2 :0;\r\n\t\tvar tId=0;\r\n\t\tif (Render.isWebGL){\r\n\t\t\ttId=VectorGraphManager.getInstance().getId();\r\n\t\t\tif (this._vectorgraphArray==null)this._vectorgraphArray=[];\r\n\t\t\tthis._vectorgraphArray.push(tId);\r\n\t\t};\r\n\t\tvar arr=[x,y,radius-offset,fillColor,lineColor,lineWidth,tId];\r\n\t\tthis._saveToCmd(Render._context._drawCircle,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制扇形。\r\n\t*@param x 开始绘制的 X 轴位置。\r\n\t*@param y 开始绘制的 Y 轴位置。\r\n\t*@param radius 扇形半径。\r\n\t*@param startAngle 开始角度。\r\n\t*@param endAngle 结束角度。\r\n\t*@param fillColor 填充颜色，或者填充绘图的渐变对象。\r\n\t*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）边框宽度。\r\n\t*/\r\n\t__proto.drawPie=function(x,y,radius,startAngle,endAngle,fillColor,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar offset=lineColor ? lineWidth / 2 :0;\r\n\t\tvar lineOffset=lineColor ? lineWidth :0;\r\n\t\tvar tId=0;\r\n\t\tif (Render.isWebGL){\r\n\t\t\ttId=VectorGraphManager.getInstance().getId();\r\n\t\t\tif (this._vectorgraphArray==null)this._vectorgraphArray=[];\r\n\t\t\tthis._vectorgraphArray.push(tId);\r\n\t\t};\r\n\t\tvar arr=[x+offset,y+offset,radius-lineOffset,startAngle,endAngle,fillColor,lineColor,lineWidth,tId];\r\n\t\tarr[3]=Utils.toRadian(startAngle);\r\n\t\tarr[4]=Utils.toRadian(endAngle);\r\n\t\tthis._saveToCmd(Render._context._drawPie,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制多边形。\r\n\t*@param x 开始绘制的 X 轴位置。\r\n\t*@param y 开始绘制的 Y 轴位置。\r\n\t*@param points 多边形的点集合。\r\n\t*@param fillColor 填充颜色，或者填充绘图的渐变对象。\r\n\t*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。\r\n\t*@param lineWidth （可选）边框宽度。\r\n\t*/\r\n\t__proto.drawPoly=function(x,y,points,fillColor,lineColor,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar tId=0;\r\n\t\tvar tIsConvexPolygon=false;\r\n\t\tif (Render.isWebGL){\r\n\t\t\ttId=VectorGraphManager.getInstance().getId();\r\n\t\t\tif (this._vectorgraphArray==null)this._vectorgraphArray=[];\r\n\t\t\tthis._vectorgraphArray.push(tId);\r\n\t\t\tif (points.length > 6){\r\n\t\t\t\ttIsConvexPolygon=false;\r\n\t\t\t\t}else {\r\n\t\t\t\ttIsConvexPolygon=true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar offset=lineColor ? (lineWidth % 2===0 ? 0 :0.5):0;\r\n\t\tvar arr=[x+offset,y+offset,points,fillColor,lineColor,lineWidth,tId,tIsConvexPolygon];\r\n\t\tthis._saveToCmd(Render._context._drawPoly,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*绘制路径。\r\n\t*@param x 开始绘制的 X 轴位置。\r\n\t*@param y 开始绘制的 Y 轴位置。\r\n\t*@param paths 路径集合，路径支持以下格式：[[\"moveTo\",x,y],[\"lineTo\",x,y,x,y,x,y],[\"arcTo\",x1,y1,x2,y2,r],[\"closePath\"]]。\r\n\t*@param brush （可选）刷子定义，支持以下设置{fillStyle}。\r\n\t*@param pen （可选）画笔定义，支持以下设置{strokeStyle,lineWidth,lineJoin,lineCap,miterLimit}。\r\n\t*/\r\n\t__proto.drawPath=function(x,y,paths,brush,pen){\r\n\t\tvar arr=[x,y,paths,brush,pen];\r\n\t\tthis._saveToCmd(Render._context._drawPath,arr);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*命令流。存储了所有绘制命令。\r\n\t*/\r\n\t__getset(0,__proto,'cmds',function(){\r\n\t\treturn this._cmds;\r\n\t\t},function(value){\r\n\t\tthis._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);\r\n\t\tthis._cmds=value;\r\n\t\tthis._render=this._renderAll;\r\n\t\tthis._repaint();\r\n\t});\r\n\r\n\tGraphics.__init__=function(){\r\n\t\tif (Render.isConchNode){\r\n\t\t\tvar from=laya.display.Graphics.prototype;\r\n\t\t\tvar to=Browser.window.ConchGraphics.prototype;\r\n\t\t\tvar list=[\"clear\",\"destroy\",\"alpha\",\"rotate\",\"transform\",\"scale\",\"translate\",\"save\",\"restore\",\"clipRect\",\"blendMode\",\"fillText\",\"fillBorderText\",\"_fands\",\"drawRect\",\"drawCircle\",\"drawPie\",\"drawPoly\",\"drawPath\",\"drawImageM\",\"drawLine\",\"drawLines\",\"_drawPs\",\"drawCurves\",\"replaceText\",\"replaceTextColor\",\"_fillImage\",\"fillTexture\",\"setSkinMesh\",\"drawParticle\",\"drawImageS\"];\r\n\t\t\tfor (var i=0,len=list.length;i <=len;i++){\r\n\t\t\t\tvar temp=list[i];\r\n\t\t\t\tfrom[temp]=to[temp];\r\n\t\t\t}\r\n\t\t\tfrom._saveToCmd=null;\r\n\t\t\tif (to.drawImageS){\r\n\t\t\t\tfrom.drawTextures=function (tex,pos){\r\n\t\t\t\t\tif (!tex)return;\r\n\t\t\t\t\tif (!(tex.loaded && tex.bitmap && tex.source)){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;\r\n\t\t\t\t\tthis.drawImageS(tex.bitmap.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,tex.offsetX,tex.offsetY,tex.width,tex.height,pos);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfrom.drawTexture=function (tex,x,y,width,height,m,alpha){\r\n\t\t\t\t(x===void 0)&& (x=0);\r\n\t\t\t\t(y===void 0)&& (y=0);\r\n\t\t\t\t(width===void 0)&& (width=0);\r\n\t\t\t\t(height===void 0)&& (height=0);\r\n\t\t\t\t(alpha===void 0)&& (alpha=1);\r\n\t\t\t\tif (!tex)return;\r\n\t\t\t\tif (!tex.loaded){\r\n\t\t\t\t\ttex.once(/*laya.events.Event.LOADED*/\"loaded\",this,function(){\r\n\t\t\t\t\t\tthis.drawTexture(tex,x,y,width,height,m);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!(tex.loaded && tex.bitmap && tex.source)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!width)width=tex.sourceWidth;\r\n\t\t\t\tif (!height)height=tex.sourceHeight;\r\n\t\t\t\talpha=alpha < 0 ? 0 :(alpha > 1 ? 1 :alpha);\r\n\t\t\t\twidth=width-tex.sourceWidth+tex.width;\r\n\t\t\t\theight=height-tex.sourceHeight+tex.height;\r\n\t\t\t\tif (width <=0 || height <=0)return;\r\n\t\t\t\tx+=tex.offsetX;\r\n\t\t\t\ty+=tex.offsetY;\r\n\t\t\t\tvar uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;\r\n\t\t\t\tthis.drawImageM(tex.bitmap.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x,y,width,height,m,alpha);\r\n\t\t\t\tthis._repaint();\r\n\t\t\t}\r\n\t\t\tfrom.fillTexture=function (tex,x,y,width,height,type,offset){\r\n\t\t\t\t(width===void 0)&& (width=0);\r\n\t\t\t\t(height===void 0)&& (height=0);\r\n\t\t\t\t(type===void 0)&& (type=\"repeat\");\r\n\t\t\t\tif (!tex)return;\r\n\t\t\t\tif (tex.loaded){\r\n\t\t\t\t\tvar ctxi=Render._context.ctx;\r\n\t\t\t\t\tvar w=tex.bitmap.width,h=tex.bitmap.height,uv=tex.uv;\r\n\t\t\t\t\tvar pat;\r\n\t\t\t\t\tif (tex.uv !=Texture.DEF_UV){\r\n\t\t\t\t\t\tpat=ctxi.createPattern(tex.bitmap.source,type,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tpat=ctxi.createPattern(tex.bitmap.source,type);\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar sX=0,sY=0;\r\n\t\t\t\t\tif (offset){\r\n\t\t\t\t\t\tx+=offset.x % tex.width;\r\n\t\t\t\t\t\ty+=offset.y % tex.height;\r\n\t\t\t\t\t\tsX-=offset.x % tex.width;\r\n\t\t\t\t\t\tsY-=offset.y % tex.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._fillImage(pat,x,y,sX,sY,width,height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tGraphics._cache=[];\r\n\treturn Graphics;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*Graphic bounds数据类\r\n*/\r\n//class laya.display.GraphicsBounds\r\nvar GraphicsBounds=(function(){\r\n\tfunction GraphicsBounds(){\r\n\t\t/**@private */\r\n\t\t//this._temp=null;\r\n\t\t/**@private */\r\n\t\t//this._bounds=null;\r\n\t\t/**@private */\r\n\t\t//this._rstBoundPoints=null;\r\n\t\t/**@private */\r\n\t\tthis._cacheBoundsType=false;\r\n\t\t/**@private */\r\n\t\t//this._graphics=null;\r\n\t}\r\n\r\n\t__class(GraphicsBounds,'laya.display.GraphicsBounds');\r\n\tvar __proto=GraphicsBounds.prototype;\r\n\t/**\r\n\t*销毁\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tthis._graphics=null;\r\n\t\tthis._temp=null;\r\n\t\tthis._rstBoundPoints=null;\r\n\t\tthis._bounds=null;\r\n\t}\r\n\r\n\t/**\r\n\t*重置数据\r\n\t*/\r\n\t__proto.reset=function(){\r\n\t\tthis._temp && (this._temp.length=0);\r\n\t}\r\n\r\n\t/**\r\n\t*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。\r\n\t*@param realSize （可选）使用图片的真实大小，默认为false\r\n\t*@return 位置与宽高组成的 一个 Rectangle 对象。\r\n\t*/\r\n\t__proto.getBounds=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tif (!this._bounds || !this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType){\r\n\t\t\tthis._bounds=Rectangle._getWrapRec(this.getBoundPoints(realSize),this._bounds)\r\n\t\t}\r\n\t\tthis._cacheBoundsType=realSize;\r\n\t\treturn this._bounds;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*@param realSize （可选）使用图片的真实大小，默认为false\r\n\t*获取端点列表。\r\n\t*/\r\n\t__proto.getBoundPoints=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tif (!this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType)\r\n\t\t\tthis._temp=this._getCmdPoints(realSize);\r\n\t\tthis._cacheBoundsType=realSize;\r\n\t\treturn this._rstBoundPoints=Utils.copyArray(this._rstBoundPoints,this._temp);\r\n\t}\r\n\r\n\t__proto._getCmdPoints=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tvar context=Render._context;\r\n\t\tvar cmds=this._graphics.cmds;\r\n\t\tvar rst;\r\n\t\trst=this._temp || (this._temp=[]);\r\n\t\trst.length=0;\r\n\t\tif (!cmds && this._graphics._one !=null){\r\n\t\t\tGraphicsBounds._tempCmds.length=0;\r\n\t\t\tGraphicsBounds._tempCmds.push(this._graphics._one);\r\n\t\t\tcmds=GraphicsBounds._tempCmds;\r\n\t\t}\r\n\t\tif (!cmds)\r\n\t\t\treturn rst;\r\n\t\tvar matrixs;\r\n\t\tmatrixs=GraphicsBounds._tempMatrixArrays;\r\n\t\tmatrixs.length=0;\r\n\t\tvar tMatrix=GraphicsBounds._initMatrix;\r\n\t\ttMatrix.identity();\r\n\t\tvar tempMatrix=GraphicsBounds._tempMatrix;\r\n\t\tvar cmd;\r\n\t\tvar tex;\r\n\t\tvar wRate=NaN;\r\n\t\tvar hRate=NaN;\r\n\t\tvar oWidth=NaN;\r\n\t\tvar oHeight=NaN;\r\n\t\tvar offX=NaN;\r\n\t\tvar offY=NaN;\r\n\t\tfor (var i=0,n=cmds.length;i < n;i++){\r\n\t\t\tcmd=cmds[i];\r\n\t\t\tif (!cmd.callee)continue ;\r\n\t\t\tswitch (cmd.callee){\r\n\t\t\t\tcase context._save:\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tmatrixs.push(tMatrix);\r\n\t\t\t\t\ttMatrix=tMatrix.clone();\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._restore:\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\ttMatrix=matrixs.pop();\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._scale:\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\ttempMatrix.identity();\r\n\t\t\t\t\ttempMatrix.translate(-cmd[2],-cmd[3]);\r\n\t\t\t\t\ttempMatrix.scale(cmd[0],cmd[1]);\r\n\t\t\t\t\ttempMatrix.translate(cmd[2],cmd[3]);\r\n\t\t\t\t\tthis._switchMatrix(tMatrix,tempMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._rotate:\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\ttempMatrix.identity();\r\n\t\t\t\t\ttempMatrix.translate(-cmd[1],-cmd[2]);\r\n\t\t\t\t\ttempMatrix.rotate(cmd[0]);\r\n\t\t\t\t\ttempMatrix.translate(cmd[1],cmd[2]);\r\n\t\t\t\t\tthis._switchMatrix(tMatrix,tempMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._translate:\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\ttempMatrix.identity();\r\n\t\t\t\t\ttempMatrix.translate(cmd[0],cmd[1]);\r\n\t\t\t\t\tthis._switchMatrix(tMatrix,tempMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._transform:\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\ttempMatrix.identity();\r\n\t\t\t\t\ttempMatrix.translate(-cmd[1],-cmd[2]);\r\n\t\t\t\t\ttempMatrix.concat(cmd[0]);\r\n\t\t\t\t\ttempMatrix.translate(cmd[1],cmd[2]);\r\n\t\t\t\t\tthis._switchMatrix(tMatrix,tempMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 24:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\ttMatrix.copyTo(tempMatrix);\r\n\t\t\t\t\ttempMatrix.concat(cmd[4]);\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tempMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawTexture:\r\n\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\tif (realSize){\r\n\t\t\t\t\t\tif (cmd[3] && cmd[4]){\r\n\t\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),tMatrix);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\twRate=(cmd[3] || tex.sourceWidth)/ tex.width;\r\n\t\t\t\t\t\thRate=(cmd[4] || tex.sourceHeight)/ tex.height;\r\n\t\t\t\t\t\toWidth=wRate *tex.sourceWidth;\r\n\t\t\t\t\t\toHeight=hRate *tex.sourceHeight;\r\n\t\t\t\t\t\toffX=tex.offsetX > 0 ? tex.offsetX :0;\r\n\t\t\t\t\t\toffY=tex.offsetY > 0 ? tex.offsetY :0;\r\n\t\t\t\t\t\toffX *=wRate;\r\n\t\t\t\t\t\toffY *=hRate;\r\n\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1]-offX,cmd[2]-offY,oWidth,oHeight),tMatrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._fillTexture:\r\n\t\t\t\t\tif (cmd[3] && cmd[4]){\r\n\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),tMatrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawTextureWithTransform:;\r\n\t\t\t\t\tvar drawMatrix;\r\n\t\t\t\t\tif (cmd[5]){\r\n\t\t\t\t\t\ttMatrix.copyTo(tempMatrix);\r\n\t\t\t\t\t\ttempMatrix.concat(cmd[5]);\r\n\t\t\t\t\t\tdrawMatrix=tempMatrix;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tdrawMatrix=tMatrix;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (realSize){\r\n\t\t\t\t\t\tif (cmd[3] && cmd[4]){\r\n\t\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),drawMatrix);\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),drawMatrix);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\t\twRate=(cmd[3] || tex.sourceWidth)/ tex.width;\r\n\t\t\t\t\t\thRate=(cmd[4] || tex.sourceHeight)/ tex.height;\r\n\t\t\t\t\t\toWidth=wRate *tex.sourceWidth;\r\n\t\t\t\t\t\toHeight=hRate *tex.sourceHeight;\r\n\t\t\t\t\t\toffX=tex.offsetX > 0 ? tex.offsetX :0;\r\n\t\t\t\t\t\toffY=tex.offsetY > 0 ? tex.offsetY :0;\r\n\t\t\t\t\t\toffX *=wRate;\r\n\t\t\t\t\t\toffY *=hRate;\r\n\t\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1]-offX,cmd[2]-offY,oWidth,oHeight),drawMatrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawRect:\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawCircle:\r\n\t\t\t\tcase context._fillCircle:\r\n\t\t\t\tcase 14:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0]-cmd[2],cmd[1]-cmd[2],cmd[2]+cmd[2],cmd[2]+cmd[2]),tMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawLine:\r\n\t\t\t\tcase 20:\r\n\t\t\t\t\tGraphicsBounds._tempPoints.length=0;\r\n\t\t\t\t\tvar lineWidth=NaN;\r\n\t\t\t\t\tlineWidth=cmd[5] *0.5;\r\n\t\t\t\t\tif (cmd[0]==cmd[2]){\r\n\t\t\t\t\t\tGraphicsBounds._tempPoints.push(cmd[0]+lineWidth,cmd[1],cmd[2]+lineWidth,cmd[3],cmd[0]-lineWidth,cmd[1],cmd[2]-lineWidth,cmd[3]);\r\n\t\t\t\t\t\t}else if (cmd[1]==cmd[3]){\r\n\t\t\t\t\t\tGraphicsBounds._tempPoints.push(cmd[0],cmd[1]+lineWidth,cmd[2],cmd[3]+lineWidth,cmd[0],cmd[1]-lineWidth,cmd[2],cmd[3]-lineWidth);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tGraphicsBounds._tempPoints.push(cmd[0],cmd[1],cmd[2],cmd[3]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,GraphicsBounds._tempPoints,tMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawCurves:\r\n\t\t\t\tcase 22:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,Bezier.I.getBezierPoints(cmd[2]),tMatrix,cmd[0],cmd[1]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawPoly:\r\n\t\t\t\tcase context._drawLines:\r\n\t\t\t\tcase 18:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,cmd[2],tMatrix,cmd[0],cmd[1]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawPath:\r\n\t\t\t\tcase 19:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,this._getPathPoints(cmd[2]),tMatrix,cmd[0],cmd[1]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase context._drawPie:\r\n\t\t\t\tcase 15:\r\n\t\t\t\t\tGraphicsBounds._addPointArrToRst(rst,this._getPiePoints(cmd[0],cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tif (rst.length > 200){\r\n\t\t\trst=Utils.copyArray(rst,Rectangle._getWrapRec(rst)._getBoundPoints());\r\n\t\t}else if (rst.length > 8)\r\n\t\trst=GrahamScan.scanPList(rst);\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t__proto._switchMatrix=function(tMatix,tempMatrix){\r\n\t\ttempMatrix.concat(tMatix);\r\n\t\ttempMatrix.copyTo(tMatix);\r\n\t}\r\n\r\n\t__proto._getPiePoints=function(x,y,radius,startAngle,endAngle){\r\n\t\tvar rst=GraphicsBounds._tempPoints;\r\n\t\tGraphicsBounds._tempPoints.length=0;\r\n\t\trst.push(x,y);\r\n\t\tvar delta=(endAngle-startAngle)% (2 *Math.PI);\r\n\t\tvar segnum=10;\r\n\t\tvar step=delta / segnum;\r\n\t\tvar i=NaN;\r\n\t\tvar angle=startAngle;\r\n\t\tfor (i=0;i <=segnum;i++){\r\n\t\t\trst.push(x+radius *Math.cos(angle),y+radius *Math.sin(angle));\r\n\t\t\tangle+=step;\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t__proto._getPathPoints=function(paths){\r\n\t\tvar i=0,len=0;\r\n\t\tvar rst=GraphicsBounds._tempPoints;\r\n\t\trst.length=0;\r\n\t\tlen=paths.length;\r\n\t\tvar tCMD;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttCMD=paths[i];\r\n\t\t\tif (tCMD.length > 1){\r\n\t\t\t\trst.push(tCMD[1],tCMD[2]);\r\n\t\t\t\tif (tCMD.length > 3){\r\n\t\t\t\t\trst.push(tCMD[3],tCMD[4]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGraphicsBounds._addPointArrToRst=function(rst,points,matrix,dx,dy){\r\n\t\t(dx===void 0)&& (dx=0);\r\n\t\t(dy===void 0)&& (dy=0);\r\n\t\tvar i=0,len=0;\r\n\t\tlen=points.length;\r\n\t\tfor (i=0;i < len;i+=2){\r\n\t\t\tGraphicsBounds._addPointToRst(rst,points[i]+dx,points[i+1]+dy,matrix);\r\n\t\t}\r\n\t}\r\n\r\n\tGraphicsBounds._addPointToRst=function(rst,x,y,matrix){\r\n\t\tvar _tempPoint=Point.TEMP;\r\n\t\t_tempPoint.setTo(x ? x :0,y ? y :0);\r\n\t\tmatrix.transformPoint(_tempPoint);\r\n\t\trst.push(_tempPoint.x,_tempPoint.y);\r\n\t}\r\n\r\n\tGraphicsBounds._tempPoints=[];\r\n\tGraphicsBounds._tempMatrixArrays=[];\r\n\tGraphicsBounds._tempCmds=[];\r\n\t__static(GraphicsBounds,\r\n\t['_tempMatrix',function(){return this._tempMatrix=new Matrix();},'_initMatrix',function(){return this._initMatrix=new Matrix();}\r\n\t]);\r\n\treturn GraphicsBounds;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Event</code> 是事件类型的集合。一般当发生事件时，<code>Event</code> 对象将作为参数传递给事件侦听器。\r\n*/\r\n//class laya.events.Event\r\nvar Event=(function(){\r\n\tfunction Event(){\r\n\t\t/**事件类型。*/\r\n\t\t//this.type=null;\r\n\t\t/**原生浏览器事件。*/\r\n\t\t//this.nativeEvent=null;\r\n\t\t/**事件目标触发对象。*/\r\n\t\t//this.target=null;\r\n\t\t/**事件当前冒泡对象。*/\r\n\t\t//this.currentTarget=null;\r\n\t\t/**@private */\r\n\t\t//this._stoped=false;\r\n\t\t/**分配给触摸点的唯一标识号（作为 int）。*/\r\n\t\t//this.touchId=0;\r\n\t\t/**键盘值*/\r\n\t\t//this.keyCode=0;\r\n\t\t/**滚轮滑动增量*/\r\n\t\t//this.delta=0;\r\n\t}\r\n\r\n\t__class(Event,'laya.events.Event');\r\n\tvar __proto=Event.prototype;\r\n\t/**\r\n\t*设置事件数据。\r\n\t*@param type 事件类型。\r\n\t*@param currentTarget 事件目标触发对象。\r\n\t*@param target 事件当前冒泡对象。\r\n\t*@return 返回当前 Event 对象。\r\n\t*/\r\n\t__proto.setTo=function(type,currentTarget,target){\r\n\t\tthis.type=type;\r\n\t\tthis.currentTarget=currentTarget;\r\n\t\tthis.target=target;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*阻止对事件流中当前节点的后续节点中的所有事件侦听器进行处理。此方法不会影响当前节点 (currentTarget)中的任何事件侦听器。\r\n\t*/\r\n\t__proto.stopPropagation=function(){\r\n\t\tthis._stoped=true;\r\n\t}\r\n\r\n\t/**鼠标在 Stage 上的 Y 轴坐标*/\r\n\t__getset(0,__proto,'stageY',function(){\r\n\t\treturn Laya.stage.mouseY;\r\n\t});\r\n\r\n\t/**\r\n\t*包含按下或释放的键的字符代码值。字符代码值为英文键盘值。\r\n\t*/\r\n\t__getset(0,__proto,'charCode',function(){\r\n\t\treturn this.nativeEvent.charCode;\r\n\t});\r\n\r\n\t/**\r\n\t*触摸点列表。\r\n\t*/\r\n\t__getset(0,__proto,'touches',function(){\r\n\t\tvar arr=this.nativeEvent.touches;\r\n\t\tif (arr){\r\n\t\t\tvar stage=Laya.stage;\r\n\t\t\tfor (var i=0,n=arr.length;i < n;i++){\r\n\t\t\t\tvar e=arr[i];\r\n\t\t\t\tvar point=Point.TEMP;\r\n\t\t\t\tpoint.setTo(e.clientX,e.clientY);\r\n\t\t\t\tstage._canvasTransform.invertTransformPoint(point);\r\n\t\t\t\tstage.transform.invertTransformPoint(point);\r\n\t\t\t\te.stageX=point.x;\r\n\t\t\t\te.stageY=point.y;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t});\r\n\r\n\t/**\r\n\t*表示键在键盘上的位置。这对于区分在键盘上多次出现的键非常有用。<br>\r\n\t*例如，您可以根据此属性的值来区分左 Shift 键和右 Shift 键：左 Shift 键的值为 KeyLocation.LEFT，右 Shift 键的值为 KeyLocation.RIGHT。另一个示例是区分标准键盘 (KeyLocation.STANDARD)与数字键盘 (KeyLocation.NUM_PAD)上按下的数字键。\r\n\t*/\r\n\t__getset(0,__proto,'keyLocation',function(){\r\n\t\treturn this.nativeEvent.keyLocation;\r\n\t});\r\n\r\n\t/**\r\n\t*表示 Ctrl 键是处于活动状态 (true)还是非活动状态 (false)。\r\n\t*/\r\n\t__getset(0,__proto,'ctrlKey',function(){\r\n\t\treturn this.nativeEvent.ctrlKey;\r\n\t});\r\n\r\n\t/**\r\n\t*表示 Alt 键是处于活动状态 (true)还是非活动状态 (false)。\r\n\t*/\r\n\t__getset(0,__proto,'altKey',function(){\r\n\t\treturn this.nativeEvent.altKey;\r\n\t});\r\n\r\n\t/**\r\n\t*表示 Shift 键是处于活动状态 (true)还是非活动状态 (false)。\r\n\t*/\r\n\t__getset(0,__proto,'shiftKey',function(){\r\n\t\treturn this.nativeEvent.shiftKey;\r\n\t});\r\n\r\n\t/**鼠标在 Stage 上的 X 轴坐标*/\r\n\t__getset(0,__proto,'stageX',function(){\r\n\t\treturn Laya.stage.mouseX;\r\n\t});\r\n\r\n\tEvent.EMPTY=new Event();\r\n\tEvent.MOUSE_DOWN=\"mousedown\";\r\n\tEvent.MOUSE_UP=\"mouseup\";\r\n\tEvent.CLICK=\"click\";\r\n\tEvent.RIGHT_MOUSE_DOWN=\"rightmousedown\";\r\n\tEvent.RIGHT_MOUSE_UP=\"rightmouseup\";\r\n\tEvent.RIGHT_CLICK=\"rightclick\";\r\n\tEvent.MOUSE_MOVE=\"mousemove\";\r\n\tEvent.MOUSE_OVER=\"mouseover\";\r\n\tEvent.MOUSE_OUT=\"mouseout\";\r\n\tEvent.MOUSE_WHEEL=\"mousewheel\";\r\n\tEvent.ROLL_OVER=\"mouseover\";\r\n\tEvent.ROLL_OUT=\"mouseout\";\r\n\tEvent.DOUBLE_CLICK=\"doubleclick\";\r\n\tEvent.CHANGE=\"change\";\r\n\tEvent.CHANGED=\"changed\";\r\n\tEvent.RESIZE=\"resize\";\r\n\tEvent.ADDED=\"added\";\r\n\tEvent.REMOVED=\"removed\";\r\n\tEvent.DISPLAY=\"display\";\r\n\tEvent.UNDISPLAY=\"undisplay\";\r\n\tEvent.ERROR=\"error\";\r\n\tEvent.COMPLETE=\"complete\";\r\n\tEvent.LOADED=\"loaded\";\r\n\tEvent.PROGRESS=\"progress\";\r\n\tEvent.INPUT=\"input\";\r\n\tEvent.RENDER=\"render\";\r\n\tEvent.OPEN=\"open\";\r\n\tEvent.MESSAGE=\"message\";\r\n\tEvent.CLOSE=\"close\";\r\n\tEvent.KEY_DOWN=\"keydown\";\r\n\tEvent.KEY_PRESS=\"keypress\";\r\n\tEvent.KEY_UP=\"keyup\";\r\n\tEvent.FRAME=\"enterframe\";\r\n\tEvent.DRAG_START=\"dragstart\";\r\n\tEvent.DRAG_MOVE=\"dragmove\";\r\n\tEvent.DRAG_END=\"dragend\";\r\n\tEvent.ENTER=\"enter\";\r\n\tEvent.SELECT=\"select\";\r\n\tEvent.BLUR=\"blur\";\r\n\tEvent.FOCUS=\"focus\";\r\n\tEvent.VISIBILITY_CHANGE=\"visibilitychange\";\r\n\tEvent.FOCUS_CHANGE=\"focuschange\";\r\n\tEvent.PLAYED=\"played\";\r\n\tEvent.PAUSED=\"paused\";\r\n\tEvent.STOPPED=\"stopped\";\r\n\tEvent.START=\"start\";\r\n\tEvent.END=\"end\";\r\n\tEvent.ENABLE_CHANGED=\"enablechanged\";\r\n\tEvent.ACTIVE_IN_HIERARCHY_CHANGED=\"activeinhierarchychanged\";\r\n\tEvent.COMPONENT_ADDED=\"componentadded\";\r\n\tEvent.COMPONENT_REMOVED=\"componentremoved\";\r\n\tEvent.LAYER_CHANGED=\"layerchanged\";\r\n\tEvent.HIERARCHY_LOADED=\"hierarchyloaded\";\r\n\tEvent.RECOVERED=\"recovered\";\r\n\tEvent.RELEASED=\"released\";\r\n\tEvent.LINK=\"link\";\r\n\tEvent.LABEL=\"label\";\r\n\tEvent.FULL_SCREEN_CHANGE=\"fullscreenchange\";\r\n\tEvent.DEVICE_LOST=\"devicelost\";\r\n\tEvent.MESH_CHANGED=\"meshchanged\";\r\n\tEvent.MATERIAL_CHANGED=\"materialchanged\";\r\n\tEvent.WORLDMATRIX_NEEDCHANGE=\"worldmatrixneedchanged\";\r\n\tEvent.ANIMATION_CHANGED=\"animationchanged\";\r\n\tEvent.TRIGGER_ENTER=\"triggerenter\";\r\n\tEvent.TRIGGER_STAY=\"triggerstay\";\r\n\tEvent.TRIGGER_EXIT=\"triggerexit\";\r\n\tEvent.TRAIL_FILTER_CHANGE=\"trailfilterchange\";\r\n\tEvent.DOMINO_FILTER_CHANGE=\"dominofilterchange\";\r\n\treturn Event;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Keyboard</code> 类的属性是一些常数，这些常数表示控制游戏时最常用的键。\r\n*/\r\n//class laya.events.Keyboard\r\nvar Keyboard=(function(){\r\n\tfunction Keyboard(){}\r\n\t__class(Keyboard,'laya.events.Keyboard');\r\n\tKeyboard.NUMBER_0=48;\r\n\tKeyboard.NUMBER_1=49;\r\n\tKeyboard.NUMBER_2=50;\r\n\tKeyboard.NUMBER_3=51;\r\n\tKeyboard.NUMBER_4=52;\r\n\tKeyboard.NUMBER_5=53;\r\n\tKeyboard.NUMBER_6=54;\r\n\tKeyboard.NUMBER_7=55;\r\n\tKeyboard.NUMBER_8=56;\r\n\tKeyboard.NUMBER_9=57;\r\n\tKeyboard.A=65;\r\n\tKeyboard.B=66;\r\n\tKeyboard.C=67;\r\n\tKeyboard.D=68;\r\n\tKeyboard.E=69;\r\n\tKeyboard.F=70;\r\n\tKeyboard.G=71;\r\n\tKeyboard.H=72;\r\n\tKeyboard.I=73;\r\n\tKeyboard.J=74;\r\n\tKeyboard.K=75;\r\n\tKeyboard.L=76;\r\n\tKeyboard.M=77;\r\n\tKeyboard.N=78;\r\n\tKeyboard.O=79;\r\n\tKeyboard.P=80;\r\n\tKeyboard.Q=81;\r\n\tKeyboard.R=82;\r\n\tKeyboard.S=83;\r\n\tKeyboard.T=84;\r\n\tKeyboard.U=85;\r\n\tKeyboard.V=86;\r\n\tKeyboard.W=87;\r\n\tKeyboard.X=88;\r\n\tKeyboard.Y=89;\r\n\tKeyboard.Z=90;\r\n\tKeyboard.F1=112;\r\n\tKeyboard.F2=113;\r\n\tKeyboard.F3=114;\r\n\tKeyboard.F4=115;\r\n\tKeyboard.F5=116;\r\n\tKeyboard.F6=117;\r\n\tKeyboard.F7=118;\r\n\tKeyboard.F8=119;\r\n\tKeyboard.F9=120;\r\n\tKeyboard.F10=121;\r\n\tKeyboard.F11=122;\r\n\tKeyboard.F12=123;\r\n\tKeyboard.F13=124;\r\n\tKeyboard.F14=125;\r\n\tKeyboard.F15=126;\r\n\tKeyboard.NUMPAD=21;\r\n\tKeyboard.NUMPAD_0=96;\r\n\tKeyboard.NUMPAD_1=97;\r\n\tKeyboard.NUMPAD_2=98;\r\n\tKeyboard.NUMPAD_3=99;\r\n\tKeyboard.NUMPAD_4=100;\r\n\tKeyboard.NUMPAD_5=101;\r\n\tKeyboard.NUMPAD_6=102;\r\n\tKeyboard.NUMPAD_7=103;\r\n\tKeyboard.NUMPAD_8=104;\r\n\tKeyboard.NUMPAD_9=105;\r\n\tKeyboard.NUMPAD_ADD=107;\r\n\tKeyboard.NUMPAD_DECIMAL=110;\r\n\tKeyboard.NUMPAD_DIVIDE=111;\r\n\tKeyboard.NUMPAD_ENTER=108;\r\n\tKeyboard.NUMPAD_MULTIPLY=106;\r\n\tKeyboard.NUMPAD_SUBTRACT=109;\r\n\tKeyboard.SEMICOLON=186;\r\n\tKeyboard.EQUAL=187;\r\n\tKeyboard.COMMA=188;\r\n\tKeyboard.MINUS=189;\r\n\tKeyboard.PERIOD=190;\r\n\tKeyboard.SLASH=191;\r\n\tKeyboard.BACKQUOTE=192;\r\n\tKeyboard.LEFTBRACKET=219;\r\n\tKeyboard.BACKSLASH=220;\r\n\tKeyboard.RIGHTBRACKET=221;\r\n\tKeyboard.QUOTE=222;\r\n\tKeyboard.ALTERNATE=18;\r\n\tKeyboard.BACKSPACE=8;\r\n\tKeyboard.CAPS_LOCK=20;\r\n\tKeyboard.COMMAND=15;\r\n\tKeyboard.CONTROL=17;\r\n\tKeyboard.DELETE=46;\r\n\tKeyboard.ENTER=13;\r\n\tKeyboard.ESCAPE=27;\r\n\tKeyboard.PAGE_UP=33;\r\n\tKeyboard.PAGE_DOWN=34;\r\n\tKeyboard.END=35;\r\n\tKeyboard.HOME=36;\r\n\tKeyboard.LEFT=37;\r\n\tKeyboard.UP=38;\r\n\tKeyboard.RIGHT=39;\r\n\tKeyboard.DOWN=40;\r\n\tKeyboard.SHIFT=16;\r\n\tKeyboard.SPACE=32;\r\n\tKeyboard.TAB=9;\r\n\tKeyboard.INSERT=45;\r\n\treturn Keyboard;\r\n})()\r\n\r\n\r\n/**\r\n*<p><code>KeyBoardManager</code> 是键盘事件管理类。该类从浏览器中接收键盘事件，并派发该事件。</p>\r\n*<p>派发事件时若 Stage.focus 为空则只从 Stage 上派发该事件，否则将从 Stage.focus 对象开始一直冒泡派发该事件。所以在 Laya.stage 上监听键盘事件一定能够收到，如果在其他地方监听，则必须处在Stage.focus的冒泡链上才能收到该事件。</p>\r\n*<p>用户可以通过代码 Laya.stage.focus=someNode 的方式来设置focus对象。</p>\r\n*<p>用户可统一的根据事件对象中 e.keyCode 来判断按键类型，该属性兼容了不同浏览器的实现。</p>\r\n*/\r\n//class laya.events.KeyBoardManager\r\nvar KeyBoardManager=(function(){\r\n\tfunction KeyBoardManager(){}\r\n\t__class(KeyBoardManager,'laya.events.KeyBoardManager');\r\n\tKeyBoardManager.__init__=function(){\r\n\t\tKeyBoardManager._addEvent(\"keydown\");\r\n\t\tKeyBoardManager._addEvent(\"keypress\");\r\n\t\tKeyBoardManager._addEvent(\"keyup\");\r\n\t}\r\n\r\n\tKeyBoardManager._addEvent=function(type){\r\n\t\tBrowser.document.addEventListener(type,function(e){\r\n\t\t\tlaya.events.KeyBoardManager._dispatch(e,type);\r\n\t\t},true);\r\n\t}\r\n\r\n\tKeyBoardManager._dispatch=function(e,type){\r\n\t\tif (!KeyBoardManager.enabled)return;\r\n\t\tKeyBoardManager._event._stoped=false;\r\n\t\tKeyBoardManager._event.nativeEvent=e;\r\n\t\tKeyBoardManager._event.keyCode=e.keyCode || e.which || e.charCode;\r\n\t\tif (type===\"keydown\")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=true;\r\n\t\telse if (type===\"keyup\")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=null;\r\n\t\tvar target=(Laya.stage.focus && (Laya.stage.focus.event !=null)&& Laya.stage.focus.displayedInStage)? Laya.stage.focus :Laya.stage;\r\n\t\tvar ct=target;\r\n\t\twhile (ct){\r\n\t\t\tct.event(type,KeyBoardManager._event.setTo(type,ct,target));\r\n\t\t\tct=ct.parent;\r\n\t\t}\r\n\t}\r\n\r\n\tKeyBoardManager.hasKeyDown=function(key){\r\n\t\treturn KeyBoardManager._pressKeys[key];\r\n\t}\r\n\r\n\tKeyBoardManager._pressKeys={};\r\n\tKeyBoardManager.enabled=true;\r\n\t__static(KeyBoardManager,\r\n\t['_event',function(){return this._event=new Event();}\r\n\t]);\r\n\treturn KeyBoardManager;\r\n})()\r\n\r\n\r\n/**\r\n*<p><code>KeyLocation</code> 类包含表示在键盘或类似键盘的输入设备上按键位置的常量。</p>\r\n*<p><code>KeyLocation</code> 常数用在键盘事件对象的 <code>keyLocation </code>属性中。</p>\r\n*/\r\n//class laya.events.KeyLocation\r\nvar KeyLocation=(function(){\r\n\tfunction KeyLocation(){}\r\n\t__class(KeyLocation,'laya.events.KeyLocation');\r\n\tKeyLocation.STANDARD=0;\r\n\tKeyLocation.LEFT=1;\r\n\tKeyLocation.RIGHT=2;\r\n\tKeyLocation.NUM_PAD=3;\r\n\treturn KeyLocation;\r\n})()\r\n\r\n\r\n/**\r\n*<p><code>MouseManager</code> 是鼠标、触摸交互管理器。</p>\r\n*<p>鼠标事件流包括捕获阶段、目标阶段、冒泡阶段。<br/>\r\n*捕获阶段：此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象；<br/>\r\n*目标阶段：找到命中的目标对象；<br/>\r\n*冒泡阶段：事件离开目标对象，按节点层级向上逐层通知，直到到达舞台的过程。</p>\r\n*/\r\n//class laya.events.MouseManager\r\nvar MouseManager=(function(){\r\n\tfunction MouseManager(){\r\n\t\t/**canvas 上的鼠标X坐标。*/\r\n\t\tthis.mouseX=0;\r\n\t\t/**canvas 上的鼠标Y坐标。*/\r\n\t\tthis.mouseY=0;\r\n\t\t/**是否禁用除 stage 以外的鼠标事件检测。*/\r\n\t\tthis.disableMouseEvent=false;\r\n\t\t/**鼠标按下的时间。单位为毫秒。*/\r\n\t\tthis.mouseDownTime=0;\r\n\t\t/**鼠标移动精度。*/\r\n\t\tthis.mouseMoveAccuracy=2;\r\n\t\tthis._stage=null;\r\n\t\tthis._target=null;\r\n\t\tthis._lastMoveTimer=0;\r\n\t\tthis._isLeftMouse=false;\r\n\t\tthis._eventList=[];\r\n\t\tthis._touchIDs={};\r\n\t\tthis._id=1;\r\n\t\tthis._tTouchID=0;\r\n\t\tthis._event=new Event();\r\n\t\tthis._matrix=new Matrix();\r\n\t\tthis._point=new Point();\r\n\t\tthis._rect=new Rectangle();\r\n\t\tthis._prePoint=new Point();\r\n\t\tthis._curTouchID=NaN;\r\n\t}\r\n\r\n\t__class(MouseManager,'laya.events.MouseManager');\r\n\tvar __proto=MouseManager.prototype;\r\n\t/**\r\n\t*@private\r\n\t*初始化。\r\n\t*/\r\n\t__proto.__init__=function(stage,canvas){\r\n\t\tvar _$this=this;\r\n\t\tthis._stage=stage;\r\n\t\tvar _this=this;\r\n\t\tvar list=this._eventList;\r\n\t\tcanvas.oncontextmenu=function (e){\r\n\t\t\tif (MouseManager.enabled)return false;\r\n\t\t}\r\n\t\tcanvas.addEventListener('mousedown',function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\tif(!Browser.onIE)e.preventDefault();\r\n\t\t\t\tlist.push(e);\r\n\t\t\t\t_this.mouseDownTime=Browser.now();\r\n\t\t\t}\r\n\t\t});\r\n\t\tcanvas.addEventListener('mouseup',function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlist.push(e);\r\n\t\t\t\t_this.mouseDownTime=-Browser.now();\r\n\t\t\t}\r\n\t\t},true);\r\n\t\tcanvas.addEventListener('mousemove',function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar now=Browser.now();\r\n\t\t\t\tif (now-_this._lastMoveTimer < 10)return;\r\n\t\t\t\t_this._lastMoveTimer=now;\r\n\t\t\t\tlist.push(e);\r\n\t\t\t}\r\n\t\t},true);\r\n\t\tcanvas.addEventListener(\"mouseout\",function(e){\r\n\t\t\tif (MouseManager.enabled)list.push(e);\r\n\t\t})\r\n\t\tcanvas.addEventListener(\"mouseover\",function(e){\r\n\t\t\tif (MouseManager.enabled)list.push(e);\r\n\t\t})\r\n\t\tcanvas.addEventListener(\"touchstart\",function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\tlist.push(e);\r\n\t\t\t\tif (!MouseManager._isFirstTouch&&!Input.isInputting)e.preventDefault();\r\n\t\t\t\t_this.mouseDownTime=Browser.now();\r\n\t\t\t}\r\n\t\t});\r\n\t\tcanvas.addEventListener(\"touchend\",function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\tif (!MouseManager._isFirstTouch&&!Input.isInputting)e.preventDefault();\r\n\t\t\t\tMouseManager._isFirstTouch=false;\r\n\t\t\t\tlist.push(e);\r\n\t\t\t\t_this.mouseDownTime=-Browser.now();\r\n\t\t\t\t}else {\r\n\t\t\t\t_$this._curTouchID=NaN;\r\n\t\t\t}\r\n\t\t},true);\r\n\t\tcanvas.addEventListener(\"touchmove\",function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlist.push(e);\r\n\t\t\t}\r\n\t\t},true);\r\n\t\tcanvas.addEventListener(\"touchcancel\",function(e){\r\n\t\t\tif (MouseManager.enabled){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlist.push(e);\r\n\t\t\t\t}else {\r\n\t\t\t\t_$this._curTouchID=NaN;\r\n\t\t\t}\r\n\t\t},true);\r\n\t\tcanvas.addEventListener('mousewheel',function(e){\r\n\t\t\tif (MouseManager.enabled)list.push(e);\r\n\t\t});\r\n\t\tcanvas.addEventListener('DOMMouseScroll',function(e){\r\n\t\t\tif (MouseManager.enabled)list.push(e);\r\n\t\t});\r\n\t}\r\n\r\n\t__proto.initEvent=function(e,nativeEvent){\r\n\t\tvar _this=this;\r\n\t\t_this._event._stoped=false;\r\n\t\t_this._event.nativeEvent=nativeEvent || e;\r\n\t\t_this._target=null;\r\n\t\tthis._point.setTo(e.pageX || e.clientX,e.pageY || e.clientY);\r\n\t\tthis._stage._canvasTransform.invertTransformPoint(this._point);\r\n\t\t_this.mouseX=this._point.x;\r\n\t\t_this.mouseY=this._point.y;\r\n\t\t_this._event.touchId=e.identifier || 0;\r\n\t\tthis._tTouchID=_this._event.touchId;\r\n\t\tvar evt;\r\n\t\tevt=TouchManager.I._event;\r\n\t\tevt._stoped=false;\r\n\t\tevt.nativeEvent=_this._event.nativeEvent;\r\n\t\tevt.touchId=_this._event.touchId;\r\n\t}\r\n\r\n\t__proto.checkMouseWheel=function(e){\r\n\t\tthis._event.delta=e.wheelDelta ? e.wheelDelta *0.025 :-e.detail;\r\n\t\tvar _lastOvers=TouchManager.I.getLastOvers();\r\n\t\tfor (var i=0,n=_lastOvers.length;i < n;i++){\r\n\t\t\tvar ele=_lastOvers[i];\r\n\t\t\tele.event(/*laya.events.Event.MOUSE_WHEEL*/\"mousewheel\",this._event.setTo(/*laya.events.Event.MOUSE_WHEEL*/\"mousewheel\",ele,this._target));\r\n\t\t}\r\n\t}\r\n\r\n\t// _stage.event(Event.MOUSE_WHEEL,_event.setTo(Event.MOUSE_WHEEL,_stage,_target));\r\n\t__proto.onMouseMove=function(ele){\r\n\t\tTouchManager.I.onMouseMove(ele,this._tTouchID);\r\n\t}\r\n\r\n\t__proto.onMouseDown=function(ele){\r\n\t\tif (Input.isInputting && Laya.stage.focus && Laya.stage.focus[\"focus\"] && !Laya.stage.focus.contains(this._target)){\r\n\t\t\tvar pre_input=Laya.stage.focus['_tf'] || Laya.stage.focus;\r\n\t\t\tvar new_input=ele['_tf'] || ele;\r\n\t\t\tif ((new_input instanceof laya.display.Input )&& new_input.multiline==pre_input.multiline)\r\n\t\t\t\tpre_input['_focusOut']();\r\n\t\t\telse\r\n\t\t\tpre_input.focus=false;\r\n\t\t}\r\n\t\tTouchManager.I.onMouseDown(ele,this._tTouchID,this._isLeftMouse);\r\n\t}\r\n\r\n\t__proto.onMouseUp=function(ele){\r\n\t\tTouchManager.I.onMouseUp(ele,this._tTouchID,this._isLeftMouse);\r\n\t}\r\n\r\n\t__proto.check=function(sp,mouseX,mouseY,callBack){\r\n\t\tthis._point.setTo(mouseX,mouseY);\r\n\t\tsp.fromParentPoint(this._point);\r\n\t\tmouseX=this._point.x;\r\n\t\tmouseY=this._point.y;\r\n\t\tvar scrollRect=sp.scrollRect;\r\n\t\tif (scrollRect){\r\n\t\t\tthis._rect.setTo(scrollRect.x,scrollRect.y,scrollRect.width,scrollRect.height);\r\n\t\t\tif (!this._rect.contains(mouseX,mouseY))return false;\r\n\t\t}\r\n\t\tif (!this.disableMouseEvent){\r\n\t\t\tif (sp.hitTestPrior && !sp.mouseThrough && !this.hitTest(sp,mouseX,mouseY)){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (var i=sp._childs.length-1;i >-1;i--){\r\n\t\t\t\tvar child=sp._childs[i];\r\n\t\t\t\tif (!child.destroyed && child.mouseEnabled && child.visible){\r\n\t\t\t\t\tif (this.check(child,mouseX,mouseY,callBack))return true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar isHit=(sp.hitTestPrior && !sp.mouseThrough && !this.disableMouseEvent)? true :this.hitTest(sp,mouseX,mouseY);\r\n\t\tif (isHit){\r\n\t\t\tthis._target=sp;\r\n\t\t\tcallBack.call(this,sp);\r\n\t\t\t}else if (callBack===this.onMouseUp && sp===this._stage){\r\n\t\t\tthis._target=this._stage;\r\n\t\t\tcallBack.call(this,this._target);\r\n\t\t}\r\n\t\treturn isHit;\r\n\t}\r\n\r\n\t__proto.hitTest=function(sp,mouseX,mouseY){\r\n\t\tvar isHit=false;\r\n\t\tif (sp.scrollRect){\r\n\t\t\tmouseX-=sp.scrollRect.x;\r\n\t\t\tmouseY-=sp.scrollRect.y;\r\n\t\t}\r\n\t\tif ((sp.hitArea instanceof laya.utils.HitArea )){\r\n\t\t\treturn sp.hitArea.isHit(mouseX,mouseY);\r\n\t\t}\r\n\t\tif (sp.width > 0 && sp.height > 0 || sp.mouseThrough || sp.hitArea){\r\n\t\t\tif (!sp.mouseThrough){\r\n\t\t\t\tvar hitRect=this._rect;\r\n\t\t\t\tif (sp.hitArea)hitRect=sp.hitArea;\r\n\t\t\t\telse hitRect.setTo(0,0,sp.width,sp.height);\r\n\t\t\t\tisHit=hitRect.contains(mouseX,mouseY);\r\n\t\t\t\t}else {\r\n\t\t\t\tisHit=sp.getGraphicBounds().contains(mouseX,mouseY);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isHit;\r\n\t}\r\n\r\n\t/**\r\n\t*执行事件处理。\r\n\t*/\r\n\t__proto.runEvent=function(){\r\n\t\tvar len=this._eventList.length;\r\n\t\tif (!len)return;\r\n\t\tvar _this=this;\r\n\t\tvar i=0,j=0,n=0,touch;\r\n\t\twhile (i < len){\r\n\t\t\tvar evt=this._eventList[i];\r\n\t\t\tif (evt.type!=='mousemove')this._prePoint.x=this._prePoint.y=-1000000;\r\n\t\t\tswitch (evt.type){\r\n\t\t\t\tcase 'mousedown':\r\n\t\t\t\t\tthis._touchIDs[0]=this._id++;\r\n\t\t\t\t\tif (!MouseManager._isTouchRespond){\r\n\t\t\t\t\t\t_this._isLeftMouse=evt.button===0;\r\n\t\t\t\t\t\t_this.initEvent(evt);\r\n\t\t\t\t\t\t_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);\r\n\t\t\t\t\t}else\r\n\t\t\t\t\tMouseManager._isTouchRespond=false;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'mouseup':\r\n\t\t\t\t\t_this._isLeftMouse=evt.button===0;\r\n\t\t\t\t\t_this.initEvent(evt);\r\n\t\t\t\t\t_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'mousemove':\r\n\t\t\t\t\tif ((Math.abs(this._prePoint.x-evt.clientX)+Math.abs(this._prePoint.y-evt.clientY))>=this.mouseMoveAccuracy){\r\n\t\t\t\t\t\tthis._prePoint.x=evt.clientX;\r\n\t\t\t\t\t\tthis._prePoint.y=evt.clientY;\r\n\t\t\t\t\t\t_this.initEvent(evt);\r\n\t\t\t\t\t\t_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"touchstart\":\r\n\t\t\t\t\tMouseManager._isTouchRespond=true;\r\n\t\t\t\t\t_this._isLeftMouse=true;\r\n\t\t\t\t\tvar touches=evt.changedTouches;\r\n\t\t\t\t\tfor (j=0,n=touches.length;j < n;j++){\r\n\t\t\t\t\t\ttouch=touches[j];\r\n\t\t\t\t\t\tif (MouseManager.multiTouchEnabled || isNaN(this._curTouchID)){\r\n\t\t\t\t\t\t\tthis._curTouchID=touch.identifier;\r\n\t\t\t\t\t\t\tif (this._id % 200===0)this._touchIDs={};\r\n\t\t\t\t\t\t\tthis._touchIDs[touch.identifier]=this._id++;\r\n\t\t\t\t\t\t\t_this.initEvent(touch,evt);\r\n\t\t\t\t\t\t\t_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"touchend\":\r\n\t\t\t\tcase \"touchcancel\":\r\n\t\t\t\t\tMouseManager._isTouchRespond=true;\r\n\t\t\t\t\t_this._isLeftMouse=true;\r\n\t\t\t\t\tvar touchends=evt.changedTouches;\r\n\t\t\t\t\tfor (j=0,n=touchends.length;j < n;j++){\r\n\t\t\t\t\t\ttouch=touchends[j];\r\n\t\t\t\t\t\tif (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){\r\n\t\t\t\t\t\t\tthis._curTouchID=NaN;\r\n\t\t\t\t\t\t\t_this.initEvent(touch,evt);\r\n\t\t\t\t\t\t\tvar isChecked=false;\r\n\t\t\t\t\t\t\tisChecked=_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);\r\n\t\t\t\t\t\t\tif (!isChecked){\r\n\t\t\t\t\t\t\t\t_this.onMouseUp(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"touchmove\":;\r\n\t\t\t\t\tvar touchemoves=evt.changedTouches;\r\n\t\t\t\t\tfor (j=0,n=touchemoves.length;j < n;j++){\r\n\t\t\t\t\t\ttouch=touchemoves[j];\r\n\t\t\t\t\t\tif (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){\r\n\t\t\t\t\t\t\t_this.initEvent(touch,evt);\r\n\t\t\t\t\t\t\t_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"wheel\":\r\n\t\t\t\tcase \"mousewheel\":\r\n\t\t\t\tcase \"DOMMouseScroll\":\r\n\t\t\t\t\t_this.checkMouseWheel(evt);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"mouseout\":\r\n\t\t\t\t\tTouchManager.I.stageMouseOut();\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"mouseover\":\r\n\t\t\t\t\t_this._stage.event(/*laya.events.Event.MOUSE_OVER*/\"mouseover\",_this._event.setTo(/*laya.events.Event.MOUSE_OVER*/\"mouseover\",_this._stage,_this._stage));\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tthis._eventList.length=0;\r\n\t}\r\n\r\n\tMouseManager.enabled=true;\r\n\tMouseManager.multiTouchEnabled=true;\r\n\tMouseManager._isTouchRespond=false;\r\n\tMouseManager._isFirstTouch=true;\r\n\t__static(MouseManager,\r\n\t['instance',function(){return this.instance=new MouseManager();}\r\n\t]);\r\n\treturn MouseManager;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*Touch事件管理类，处理多点触控下的鼠标事件\r\n*/\r\n//class laya.events.TouchManager\r\nvar TouchManager=(function(){\r\n\tfunction TouchManager(){\r\n\t\t/**\r\n\t\t*当前over的touch表\r\n\t\t*/\r\n\t\tthis.preOvers=[];\r\n\t\t/**\r\n\t\t*当前down的touch表\r\n\t\t*/\r\n\t\tthis.preDowns=[];\r\n\t\tthis.preRightDowns=[];\r\n\t\t/**\r\n\t\t*是否启用\r\n\t\t*/\r\n\t\tthis.enable=true;\r\n\t\tthis._lastClickTime=0;\r\n\t\tthis._event=new Event();\r\n\t}\r\n\r\n\t__class(TouchManager,'laya.events.TouchManager');\r\n\tvar __proto=TouchManager.prototype;\r\n\t__proto._clearTempArrs=function(){\r\n\t\tTouchManager._oldArr.length=0;\r\n\t\tTouchManager._newArr.length=0;\r\n\t\tTouchManager._tEleArr.length=0;\r\n\t}\r\n\r\n\t/**\r\n\t*从touch表里查找对应touchID的数据\r\n\t*@param touchID touch ID\r\n\t*@param arr touch表\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.getTouchFromArr=function(touchID,arr){\r\n\t\tvar i=0,len=0;\r\n\t\tlen=arr.length;\r\n\t\tvar tTouchO;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttTouchO=arr[i];\r\n\t\t\tif (tTouchO.id==touchID){\r\n\t\t\t\treturn tTouchO;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t*从touch表里移除一个元素\r\n\t*@param touchID touch ID\r\n\t*@param arr touch表\r\n\t*\r\n\t*/\r\n\t__proto.removeTouchFromArr=function(touchID,arr){\r\n\t\tvar i=0;\r\n\t\tfor (i=arr.length-1;i >=0;i--){\r\n\t\t\tif (arr[i].id==touchID){\r\n\t\t\t\tarr.splice(i,1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*创建一个touch数据\r\n\t*@param ele 当前的根节点\r\n\t*@param touchID touchID\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.createTouchO=function(ele,touchID){\r\n\t\tvar rst;\r\n\t\trst=Pool.getItem(\"TouchData\")|| {};\r\n\t\trst.id=touchID;\r\n\t\trst.tar=ele;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*处理touchStart\r\n\t*@param ele 根节点\r\n\t*@param touchID touchID\r\n\t*@param isLeft （可选）是否为左键\r\n\t*/\r\n\t__proto.onMouseDown=function(ele,touchID,isLeft){\r\n\t\t(isLeft===void 0)&& (isLeft=false);\r\n\t\tif (!this.enable)\r\n\t\t\treturn;\r\n\t\tvar preO;\r\n\t\tvar tO;\r\n\t\tvar arrs;\r\n\t\tpreO=this.getTouchFromArr(touchID,this.preOvers);\r\n\t\tarrs=this.getEles(ele,null,TouchManager._tEleArr);\r\n\t\tif (!preO){\r\n\t\t\ttO=this.createTouchO(ele,touchID);\r\n\t\t\tthis.preOvers.push(tO);\r\n\t\t\t}else {\r\n\t\t\tpreO.tar=ele;\r\n\t\t}\r\n\t\tif (Browser.onMobile)\r\n\t\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/\"mouseover\",touchID);\r\n\t\tvar preDowns;\r\n\t\tpreDowns=isLeft ? this.preDowns :this.preRightDowns;\r\n\t\tpreO=this.getTouchFromArr(touchID,preDowns);\r\n\t\tif (!preO){\r\n\t\t\ttO=this.createTouchO(ele,touchID);\r\n\t\t\tpreDowns.push(tO);\r\n\t\t\t}else {\r\n\t\t\tpreO.tar=ele;\r\n\t\t}\r\n\t\tthis.sendEvents(arrs,isLeft ? /*laya.events.Event.MOUSE_DOWN*/\"mousedown\" :/*laya.events.Event.RIGHT_MOUSE_DOWN*/\"rightmousedown\",touchID);\r\n\t\tthis._clearTempArrs();\r\n\t}\r\n\r\n\t/**\r\n\t*派发事件。\r\n\t*@param eles 对象列表。\r\n\t*@param type 事件类型。\r\n\t*@param touchID （可选）touchID，默认为0。\r\n\t*/\r\n\t__proto.sendEvents=function(eles,type,touchID){\r\n\t\t(touchID===void 0)&& (touchID=0);\r\n\t\tvar i=0,len=0;\r\n\t\tlen=eles.length;\r\n\t\tthis._event._stoped=false;\r\n\t\tvar _target;\r\n\t\t_target=eles[0];\r\n\t\tvar tE;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttE=eles[i];\r\n\t\t\tif (tE.destroyed)return;\r\n\t\t\ttE.event(type,this._event.setTo(type,tE,_target));\r\n\t\t\tif (this._event._stoped)\r\n\t\t\t\tbreak ;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*获取对象列表。\r\n\t*@param start 起始节点。\r\n\t*@param end 结束节点。\r\n\t*@param rst 返回值。如果此值不为空，则将其赋值为计算结果，从而避免创建新数组；如果此值为空，则创建新数组返回。\r\n\t*@return Array 返回节点列表。\r\n\t*/\r\n\t__proto.getEles=function(start,end,rst){\r\n\t\tif (!rst){\r\n\t\t\trst=[];\r\n\t\t\t}else {\r\n\t\t\trst.length=0;\r\n\t\t}\r\n\t\twhile (start && start !=end){\r\n\t\t\trst.push(start);\r\n\t\t\tstart=start.parent;\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*touchMove时处理out事件和over时间。\r\n\t*@param eleNew 新的根节点。\r\n\t*@param elePre 旧的根节点。\r\n\t*@param touchID （可选）touchID，默认为0。\r\n\t*/\r\n\t__proto.checkMouseOutAndOverOfMove=function(eleNew,elePre,touchID){\r\n\t\t(touchID===void 0)&& (touchID=0);\r\n\t\tif (elePre==eleNew)\r\n\t\t\treturn;\r\n\t\tvar tar;\r\n\t\tvar arrs;\r\n\t\tvar i=0,len=0;\r\n\t\tif (elePre.contains(eleNew)){\r\n\t\t\tarrs=this.getEles(eleNew,elePre,TouchManager._tEleArr);\r\n\t\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/\"mouseover\",touchID);\r\n\t\t\t}else if (eleNew.contains(elePre)){\r\n\t\t\tarrs=this.getEles(elePre,eleNew,TouchManager._tEleArr);\r\n\t\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_OUT*/\"mouseout\",touchID);\r\n\t\t\t}else {\r\n\t\t\tarrs=TouchManager._tEleArr;\r\n\t\t\tarrs.length=0;\r\n\t\t\tvar oldArr;\r\n\t\t\toldArr=this.getEles(elePre,null,TouchManager._oldArr);\r\n\t\t\tvar newArr;\r\n\t\t\tnewArr=this.getEles(eleNew,null,TouchManager._newArr);\r\n\t\t\tlen=oldArr.length;\r\n\t\t\tvar tIndex=0;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\ttar=oldArr[i];\r\n\t\t\t\ttIndex=newArr.indexOf(tar);\r\n\t\t\t\tif (tIndex >=0){\r\n\t\t\t\t\tnewArr.splice(tIndex,newArr.length-tIndex);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tarrs.push(tar);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (arrs.length > 0){\r\n\t\t\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_OUT*/\"mouseout\",touchID);\r\n\t\t\t}\r\n\t\t\tif (newArr.length > 0){\r\n\t\t\t\tthis.sendEvents(newArr,/*laya.events.Event.MOUSE_OVER*/\"mouseover\",touchID);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*处理TouchMove事件\r\n\t*@param ele 根节点\r\n\t*@param touchID touchID\r\n\t*\r\n\t*/\r\n\t__proto.onMouseMove=function(ele,touchID){\r\n\t\tif (!this.enable)\r\n\t\t\treturn;\r\n\t\tvar preO;\r\n\t\tpreO=this.getTouchFromArr(touchID,this.preOvers);\r\n\t\tvar arrs;\r\n\t\tvar tO;\r\n\t\tif (!preO){\r\n\t\t\tarrs=this.getEles(ele,null,TouchManager._tEleArr);\r\n\t\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/\"mouseover\",touchID);\r\n\t\t\tthis.preOvers.push(this.createTouchO(ele,touchID));\r\n\t\t\t}else {\r\n\t\t\tthis.checkMouseOutAndOverOfMove(ele,preO.tar);\r\n\t\t\tpreO.tar=ele;\r\n\t\t\tarrs=this.getEles(ele,null,TouchManager._tEleArr);\r\n\t\t}\r\n\t\tthis.sendEvents(arrs,/*laya.events.Event.MOUSE_MOVE*/\"mousemove\",touchID);\r\n\t\tthis._clearTempArrs();\r\n\t}\r\n\r\n\t__proto.getLastOvers=function(){\r\n\t\tTouchManager._tEleArr.length=0;\r\n\t\tif (this.preOvers.length > 0 && this.preOvers[0].tar){\r\n\t\t\treturn this.getEles(this.preOvers[0].tar,null,TouchManager._tEleArr);\r\n\t\t}\r\n\t\tTouchManager._tEleArr.push(Laya.stage);\r\n\t\treturn TouchManager._tEleArr;\r\n\t}\r\n\r\n\t__proto.stageMouseOut=function(){\r\n\t\tvar lastOvers;\r\n\t\tlastOvers=this.getLastOvers();\r\n\t\tthis.preOvers.length=0;\r\n\t\tthis.sendEvents(lastOvers,/*laya.events.Event.MOUSE_OUT*/\"mouseout\",0);\r\n\t}\r\n\r\n\t/**\r\n\t*处理TouchEnd事件\r\n\t*@param ele 根节点\r\n\t*@param touchID touchID\r\n\t*@param isLeft 是否为左键\r\n\t*/\r\n\t__proto.onMouseUp=function(ele,touchID,isLeft){\r\n\t\t(isLeft===void 0)&& (isLeft=false);\r\n\t\tif (!this.enable)\r\n\t\t\treturn;\r\n\t\tvar preO;\r\n\t\tvar tO;\r\n\t\tvar arrs;\r\n\t\tvar oldArr;\r\n\t\tvar i=0,len=0;\r\n\t\tvar tar;\r\n\t\tvar sendArr;\r\n\t\tvar onMobile=Browser.onMobile;\r\n\t\tarrs=this.getEles(ele,null,TouchManager._tEleArr);\r\n\t\tthis.sendEvents(arrs,isLeft ? /*laya.events.Event.MOUSE_UP*/\"mouseup\" :/*laya.events.Event.RIGHT_MOUSE_UP*/\"rightmouseup\",touchID);\r\n\t\tvar preDowns;\r\n\t\tpreDowns=isLeft ? this.preDowns :this.preRightDowns;\r\n\t\tpreO=this.getTouchFromArr(touchID,preDowns);\r\n\t\tif (!preO){\r\n\t\t\t}else {\r\n\t\t\tvar isDouble=false;\r\n\t\t\tvar now=Browser.now();\r\n\t\t\tisDouble=now-this._lastClickTime < 300;\r\n\t\t\tthis._lastClickTime=now;\r\n\t\t\tif (ele==preO.tar){\r\n\t\t\t\tsendArr=arrs;\r\n\t\t\t\t}else {\r\n\t\t\t\toldArr=this.getEles(preO.tar,null,TouchManager._oldArr);\r\n\t\t\t\tsendArr=TouchManager._newArr;\r\n\t\t\t\tsendArr.length=0;\r\n\t\t\t\tlen=oldArr.length;\r\n\t\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\t\ttar=oldArr[i];\r\n\t\t\t\t\tif (arrs.indexOf(tar)>=0){\r\n\t\t\t\t\t\tsendArr.push(tar);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sendArr.length > 0){\r\n\t\t\t\tthis.sendEvents(sendArr,isLeft ? /*laya.events.Event.CLICK*/\"click\" :/*laya.events.Event.RIGHT_CLICK*/\"rightclick\",touchID);\r\n\t\t\t}\r\n\t\t\tif (isLeft && isDouble){\r\n\t\t\t\tthis.sendEvents(sendArr,/*laya.events.Event.DOUBLE_CLICK*/\"doubleclick\",touchID);\r\n\t\t\t}\r\n\t\t\tthis.removeTouchFromArr(touchID,preDowns);\r\n\t\t\tpreO.tar=null;\r\n\t\t\tPool.recover(\"TouchData\",preO);\r\n\t\t}\r\n\t\tpreO=this.getTouchFromArr(touchID,this.preOvers);\r\n\t\tif (!preO){\r\n\t\t\t}else {\r\n\t\t\tif (onMobile){\r\n\t\t\t\tsendArr=this.getEles(preO.tar,null,sendArr);\r\n\t\t\t\tif (sendArr && sendArr.length > 0){\r\n\t\t\t\t\tthis.sendEvents(sendArr,/*laya.events.Event.MOUSE_OUT*/\"mouseout\",touchID);\r\n\t\t\t\t}\r\n\t\t\t\tthis.removeTouchFromArr(touchID,this.preOvers);\r\n\t\t\t\tpreO.tar=null;\r\n\t\t\t\tPool.recover(\"TouchData\",preO);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._clearTempArrs();\r\n\t}\r\n\r\n\tTouchManager._oldArr=[];\r\n\tTouchManager._newArr=[];\r\n\tTouchManager._tEleArr=[];\r\n\t__static(TouchManager,\r\n\t['I',function(){return this.I=new TouchManager();}\r\n\t]);\r\n\treturn TouchManager;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Filter</code> 是滤镜基类。\r\n*/\r\n//class laya.filters.Filter\r\nvar Filter=(function(){\r\n\tfunction Filter(){\r\n\t\t/**@private */\r\n\t\tthis._action=null;\r\n\t}\r\n\r\n\t__class(Filter,'laya.filters.Filter');\r\n\tvar __proto=Filter.prototype;\r\n\tLaya.imps(__proto,{\"laya.filters.IFilter\":true})\r\n\t/**@private */\r\n\t__proto.callNative=function(sp){}\r\n\t/**@private 滤镜类型。*/\r\n\t__getset(0,__proto,'type',function(){return-1});\r\n\t/**@private 滤镜动作。*/\r\n\t__getset(0,__proto,'action',function(){return this._action });\r\n\tFilter.BLUR=0x10;\r\n\tFilter.COLOR=0x20;\r\n\tFilter.GLOW=0x08;\r\n\tFilter._filterStart=null;\r\n\tFilter._filterEnd=null;\r\n\tFilter._EndTarget=null;\r\n\tFilter._recycleScope=null;\r\n\tFilter._filter=null;\r\n\tFilter._useSrc=null;\r\n\tFilter._endSrc=null;\r\n\tFilter._useOut=null;\r\n\tFilter._endOut=null;\r\n\treturn Filter;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>ColorFilterAction</code> 是一个颜色滤镜应用类。\r\n*/\r\n//class laya.filters.ColorFilterAction\r\nvar ColorFilterAction=(function(){\r\n\tfunction ColorFilterAction(){\r\n\t\tthis.data=null;\r\n\t}\r\n\r\n\t__class(ColorFilterAction,'laya.filters.ColorFilterAction');\r\n\tvar __proto=ColorFilterAction.prototype;\r\n\tLaya.imps(__proto,{\"laya.filters.IFilterAction\":true})\r\n\t/**\r\n\t*给指定的对象应用颜色滤镜。\r\n\t*@param srcCanvas 需要应用画布对象。\r\n\t*@return 应用了滤镜后的画布对象。\r\n\t*/\r\n\t__proto.apply=function(srcCanvas){\r\n\t\tvar ctx=srcCanvas.ctx.ctx;\r\n\t\tvar canvas=srcCanvas.ctx.ctx.canvas;\r\n\t\tif (canvas.width==0 || canvas.height==0)return canvas;\r\n\t\tvar imgdata=ctx.getImageData(0,0,canvas.width,canvas.height);\r\n\t\tvar data=imgdata.data;\r\n\t\tvar nData;\r\n\t\tfor (var i=0,n=data.length;i < n;i+=4){\r\n\t\t\tnData=this.getColor(data[i],data[i+1],data[i+2],data[i+3]);\r\n\t\t\tif (data[i+3]==0)continue ;\r\n\t\t\tdata[i]=nData[0];\r\n\t\t\tdata[i+1]=nData[1];\r\n\t\t\tdata[i+2]=nData[2];\r\n\t\t\tdata[i+3]=nData[3];\r\n\t\t}\r\n\t\tctx.putImageData(imgdata,0,0);\r\n\t\treturn srcCanvas;\r\n\t}\r\n\r\n\t__proto.getColor=function(red,green,blue,alpha){\r\n\t\tvar rst=[];\r\n\t\tif (this.data._mat && this.data._alpha){\r\n\t\t\tvar mat=this.data._mat;\r\n\t\t\tvar tempAlpha=this.data._alpha;\r\n\t\t\trst[0]=mat[0] *red+mat[1] *green+mat[2] *blue+mat[3] *alpha+tempAlpha[0];\r\n\t\t\trst[1]=mat[4] *red+mat[5] *green+mat[6] *blue+mat[7] *alpha+tempAlpha[1];\r\n\t\t\trst[2]=mat[8] *red+mat[9] *green+mat[10] *blue+mat[11] *alpha+tempAlpha[2];\r\n\t\t\trst[3]=mat[12] *red+mat[13] *green+mat[14] *blue+mat[15] *alpha+tempAlpha[3];\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\treturn ColorFilterAction;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.maths.Arith\r\nvar Arith=(function(){\r\n\tfunction Arith(){}\r\n\t__class(Arith,'laya.maths.Arith');\r\n\tArith.formatR=function(r){\r\n\t\tif (r > Math.PI)r-=Math.PI *2;\r\n\t\tif (r <-Math.PI)r+=Math.PI *2;\r\n\t\treturn r;\r\n\t}\r\n\r\n\tArith.isPOT=function(w,h){\r\n\t\treturn (w > 0 && (w & (w-1))===0 && h > 0 && (h & (h-1))===0);\r\n\t}\r\n\r\n\tArith.setMatToArray=function(mat,array){\r\n\t\tmat.a,mat.b,0,0,mat.c,mat.d,0,0,0,0,1,0,mat.tx+20,mat.ty+20,0,1\r\n\t\tarray[0]=mat.a;\r\n\t\tarray[1]=mat.b;\r\n\t\tarray[4]=mat.c;\r\n\t\tarray[5]=mat.d;\r\n\t\tarray[12]=mat.tx;\r\n\t\tarray[13]=mat.ty;\r\n\t}\r\n\r\n\treturn Arith;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*计算贝塞尔曲线的工具类。\r\n*/\r\n//class laya.maths.Bezier\r\nvar Bezier=(function(){\r\n\tfunction Bezier(){\r\n\t\t/**@private */\r\n\t\tthis._controlPoints=[new Point(),new Point(),new Point()];\r\n\t\tthis._calFun=this.getPoint2;\r\n\t}\r\n\r\n\t__class(Bezier,'laya.maths.Bezier');\r\n\tvar __proto=Bezier.prototype;\r\n\t/**@private */\r\n\t__proto._switchPoint=function(x,y){\r\n\t\tvar tPoint=this._controlPoints.shift();\r\n\t\ttPoint.setTo(x,y);\r\n\t\tthis._controlPoints.push(tPoint);\r\n\t}\r\n\r\n\t/**\r\n\t*计算二次贝塞尔点。\r\n\t*@param t\r\n\t*@param rst\r\n\t*\r\n\t*/\r\n\t__proto.getPoint2=function(t,rst){\r\n\t\tvar p1=this._controlPoints[0];\r\n\t\tvar p2=this._controlPoints[1];\r\n\t\tvar p3=this._controlPoints[2];\r\n\t\tvar lineX=Math.pow((1-t),2)*p1.x+2 *t *(1-t)*p2.x+Math.pow(t,2)*p3.x;\r\n\t\tvar lineY=Math.pow((1-t),2)*p1.y+2 *t *(1-t)*p2.y+Math.pow(t,2)*p3.y;\r\n\t\trst.push(lineX,lineY);\r\n\t}\r\n\r\n\t/**\r\n\t*计算三次贝塞尔点\r\n\t*@param t\r\n\t*@param rst\r\n\t*\r\n\t*/\r\n\t__proto.getPoint3=function(t,rst){\r\n\t\tvar p1=this._controlPoints[0];\r\n\t\tvar p2=this._controlPoints[1];\r\n\t\tvar p3=this._controlPoints[2];\r\n\t\tvar p4=this._controlPoints[3];\r\n\t\tvar lineX=Math.pow((1-t),3)*p1.x+3 *p2.x *t *(1-t)*(1-t)+3 *p3.x *t *t *(1-t)+p4.x *Math.pow(t,3);\r\n\t\tvar lineY=Math.pow((1-t),3)*p1.y+3 *p2.y *t *(1-t)*(1-t)+3 *p3.y *t *t *(1-t)+p4.y *Math.pow(t,3);\r\n\t\trst.push(lineX,lineY);\r\n\t}\r\n\r\n\t/**\r\n\t*计算贝塞尔点序列\r\n\t*@param count\r\n\t*@param rst\r\n\t*\r\n\t*/\r\n\t__proto.insertPoints=function(count,rst){\r\n\t\tvar i=NaN;\r\n\t\tcount=count > 0 ? count :5;\r\n\t\tvar dLen=NaN;\r\n\t\tdLen=1 / count;\r\n\t\tfor (i=0;i <=1;i+=dLen){\r\n\t\t\tthis._calFun(i,rst);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*获取贝塞尔曲线上的点。\r\n\t*@param pList 控制点[x0,y0,x1,y1...]\r\n\t*@param inSertCount 每次曲线的插值数量\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.getBezierPoints=function(pList,inSertCount,count){\r\n\t\t(inSertCount===void 0)&& (inSertCount=5);\r\n\t\t(count===void 0)&& (count=2);\r\n\t\tvar i=0,len=0;\r\n\t\tlen=pList.length;\r\n\t\tif (len < (count+1)*2)return [];\r\n\t\tvar rst;\r\n\t\trst=[];\r\n\t\tswitch (count){\r\n\t\t\tcase 2:\r\n\t\t\t\tthis._calFun=this.getPoint2;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis._calFun=this.getPoint3;\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\twhile (this._controlPoints.length <=count){\r\n\t\t\tthis._controlPoints.push(new Point());\r\n\t\t}\r\n\t\tfor (i=0;i < count *2;i+=2){\r\n\t\t\tthis._switchPoint(pList[i],pList[i+1]);\r\n\t\t}\r\n\t\tfor (i=count *2;i < len;i+=2){\r\n\t\t\tthis._switchPoint(pList[i],pList[i+1]);\r\n\t\t\tif ((i / 2)% count==0)\r\n\t\t\t\tthis.insertPoints(inSertCount,rst);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t__static(Bezier,\r\n\t['I',function(){return this.I=new Bezier();}\r\n\t]);\r\n\treturn Bezier;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*凸包算法。\r\n*/\r\n//class laya.maths.GrahamScan\r\nvar GrahamScan=(function(){\r\n\tfunction GrahamScan(){}\r\n\t__class(GrahamScan,'laya.maths.GrahamScan');\r\n\tGrahamScan.multiply=function(p1,p2,p0){\r\n\t\treturn ((p1.x-p0.x)*(p2.y-p0.y)-(p2.x-p0.x)*(p1.y-p0.y));\r\n\t}\r\n\r\n\tGrahamScan.dis=function(p1,p2){\r\n\t\treturn (p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y);\r\n\t}\r\n\r\n\tGrahamScan._getPoints=function(count,tempUse,rst){\r\n\t\t(tempUse===void 0)&& (tempUse=false);\r\n\t\tif (!GrahamScan._mPointList)GrahamScan._mPointList=[];\r\n\t\twhile (GrahamScan._mPointList.length < count)GrahamScan._mPointList.push(new Point());\r\n\t\tif (!rst)rst=[];\r\n\t\trst.length=0;\r\n\t\tif (tempUse){\r\n\t\t\tGrahamScan.getFrom(rst,GrahamScan._mPointList,count);\r\n\t\t\t}else {\r\n\t\t\tGrahamScan.getFromR(rst,GrahamScan._mPointList,count);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGrahamScan.getFrom=function(rst,src,count){\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < count;i++){\r\n\t\t\trst.push(src[i]);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGrahamScan.getFromR=function(rst,src,count){\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < count;i++){\r\n\t\t\trst.push(src.pop());\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGrahamScan.pListToPointList=function(pList,tempUse){\r\n\t\t(tempUse===void 0)&& (tempUse=false);\r\n\t\tvar i=0,len=pList.length / 2,rst=GrahamScan._getPoints(len,tempUse,GrahamScan._tempPointList);\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\trst[i].setTo(pList[i+i],pList[i+i+1]);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGrahamScan.pointListToPlist=function(pointList){\r\n\t\tvar i=0,len=pointList.length,rst=GrahamScan._temPList,tPoint;\r\n\t\trst.length=0;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttPoint=pointList[i];\r\n\t\t\trst.push(tPoint.x,tPoint.y);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGrahamScan.scanPList=function(pList){\r\n\t\treturn Utils.copyArray(pList,GrahamScan.pointListToPlist(GrahamScan.scan(GrahamScan.pListToPointList(pList,true))));\r\n\t}\r\n\r\n\tGrahamScan.scan=function(PointSet){\r\n\t\tvar i=0,j=0,k=0,top=2,tmp,n=PointSet.length,ch;\r\n\t\tvar _tmpDic={};\r\n\t\tvar key;\r\n\t\tch=GrahamScan._temArr;\r\n\t\tch.length=0;\r\n\t\tn=PointSet.length;\r\n\t\tfor (i=n-1;i >=0;i--){\r\n\t\t\ttmp=PointSet[i];\r\n\t\t\tkey=tmp.x+\"_\"+tmp.y;\r\n\t\t\tif (!_tmpDic.hasOwnProperty(key)){\r\n\t\t\t\t_tmpDic[key]=true;\r\n\t\t\t\tch.push(tmp);\r\n\t\t\t}\r\n\t\t}\r\n\t\tn=ch.length;\r\n\t\tUtils.copyArray(PointSet,ch);\r\n\t\tfor (i=1;i < n;i++)\r\n\t\tif ((PointSet[i].y < PointSet[k].y)|| ((PointSet[i].y==PointSet[k].y)&& (PointSet[i].x < PointSet[k].x)))\r\n\t\t\tk=i;\r\n\t\ttmp=PointSet[0];\r\n\t\tPointSet[0]=PointSet[k];\r\n\t\tPointSet[k]=tmp;\r\n\t\tfor (i=1;i < n-1;i++){\r\n\t\t\tk=i;\r\n\t\t\tfor (j=i+1;j < n;j++)\r\n\t\t\tif ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])> 0)|| ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])==0)&& (GrahamScan.dis(PointSet[0],PointSet[j])< GrahamScan.dis(PointSet[0],PointSet[k]))))\r\n\t\t\t\tk=j;\r\n\t\t\ttmp=PointSet[i];\r\n\t\t\tPointSet[i]=PointSet[k];\r\n\t\t\tPointSet[k]=tmp;\r\n\t\t}\r\n\t\tch=GrahamScan._temArr;\r\n\t\tch.length=0;\r\n\t\tif (PointSet.length < 3){\r\n\t\t\treturn Utils.copyArray(ch,PointSet);\r\n\t\t}\r\n\t\tch.push(PointSet[0],PointSet[1],PointSet[2]);\r\n\t\tfor (i=3;i < n;i++){\r\n\t\t\twhile (ch.length >=2 && GrahamScan.multiply(PointSet[i],ch[ch.length-1],ch[ch.length-2])>=0)ch.pop();\r\n\t\t\tPointSet[i] && ch.push(PointSet[i]);\r\n\t\t}\r\n\t\treturn ch;\r\n\t}\r\n\r\n\tGrahamScan._mPointList=null;\r\n\tGrahamScan._tempPointList=[];\r\n\tGrahamScan._temPList=[];\r\n\tGrahamScan._temArr=[];\r\n\treturn GrahamScan;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>MathUtil</code> 是一个数据处理工具类。\r\n*/\r\n//class laya.maths.MathUtil\r\nvar MathUtil=(function(){\r\n\tfunction MathUtil(){}\r\n\t__class(MathUtil,'laya.maths.MathUtil');\r\n\tMathUtil.subtractVector3=function(l,r,o){\r\n\t\to[0]=l[0]-r[0];\r\n\t\to[1]=l[1]-r[1];\r\n\t\to[2]=l[2]-r[2];\r\n\t}\r\n\r\n\tMathUtil.lerp=function(left,right,amount){\r\n\t\treturn left *(1-amount)+right *amount;\r\n\t}\r\n\r\n\tMathUtil.scaleVector3=function(f,b,e){\r\n\t\te[0]=f[0] *b;\r\n\t\te[1]=f[1] *b;\r\n\t\te[2]=f[2] *b;\r\n\t}\r\n\r\n\tMathUtil.lerpVector3=function(l,r,t,o){\r\n\t\tvar ax=l[0],ay=l[1],az=l[2];\r\n\t\to[0]=ax+t *(r[0]-ax);\r\n\t\to[1]=ay+t *(r[1]-ay);\r\n\t\to[2]=az+t *(r[2]-az);\r\n\t}\r\n\r\n\tMathUtil.lerpVector4=function(l,r,t,o){\r\n\t\tvar ax=l[0],ay=l[1],az=l[2],aw=l[3];\r\n\t\to[0]=ax+t *(r[0]-ax);\r\n\t\to[1]=ay+t *(r[1]-ay);\r\n\t\to[2]=az+t *(r[2]-az);\r\n\t\to[3]=aw+t *(r[3]-aw);\r\n\t}\r\n\r\n\tMathUtil.slerpQuaternionArray=function(a,Offset1,b,Offset2,t,out,Offset3){\r\n\t\tvar ax=a[Offset1+0],ay=a[Offset1+1],az=a[Offset1+2],aw=a[Offset1+3],bx=b[Offset2+0],by=b[Offset2+1],bz=b[Offset2+2],bw=b[Offset2+3];\r\n\t\tvar omega,cosom,sinom,scale0,scale1;\r\n\t\tcosom=ax *bx+ay *by+az *bz+aw *bw;\r\n\t\tif (cosom < 0.0){\r\n\t\t\tcosom=-cosom;\r\n\t\t\tbx=-bx;\r\n\t\t\tby=-by;\r\n\t\t\tbz=-bz;\r\n\t\t\tbw=-bw;\r\n\t\t}\r\n\t\tif ((1.0-cosom)> 0.000001){\r\n\t\t\tomega=Math.acos(cosom);\r\n\t\t\tsinom=Math.sin(omega);\r\n\t\t\tscale0=Math.sin((1.0-t)*omega)/ sinom;\r\n\t\t\tscale1=Math.sin(t *omega)/ sinom;\r\n\t\t\t}else {\r\n\t\t\tscale0=1.0-t;\r\n\t\t\tscale1=t;\r\n\t\t}\r\n\t\tout[Offset3+0]=scale0 *ax+scale1 *bx;\r\n\t\tout[Offset3+1]=scale0 *ay+scale1 *by;\r\n\t\tout[Offset3+2]=scale0 *az+scale1 *bz;\r\n\t\tout[Offset3+3]=scale0 *aw+scale1 *bw;\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMathUtil.getRotation=function(x0,y0,x1,y1){\r\n\t\treturn Math.atan2(y1-y0,x1-x0)/ Math.PI *180;\r\n\t}\r\n\r\n\tMathUtil.sortBigFirst=function(a,b){\r\n\t\tif (a==b)\r\n\t\t\treturn 0;\r\n\t\treturn b > a ? 1 :-1;\r\n\t}\r\n\r\n\tMathUtil.sortSmallFirst=function(a,b){\r\n\t\tif (a==b)\r\n\t\t\treturn 0;\r\n\t\treturn b > a ?-1 :1;\r\n\t}\r\n\r\n\tMathUtil.sortNumBigFirst=function(a,b){\r\n\t\treturn parseFloat(b)-parseFloat(a);\r\n\t}\r\n\r\n\tMathUtil.sortNumSmallFirst=function(a,b){\r\n\t\treturn parseFloat(a)-parseFloat(b);\r\n\t}\r\n\r\n\tMathUtil.sortByKey=function(key,bigFirst,forceNum){\r\n\t\t(bigFirst===void 0)&& (bigFirst=false);\r\n\t\t(forceNum===void 0)&& (forceNum=true);\r\n\t\tvar _sortFun;\r\n\t\tif (bigFirst){\r\n\t\t\t_sortFun=forceNum ? MathUtil.sortNumBigFirst :MathUtil.sortBigFirst;\r\n\t\t\t}else {\r\n\t\t\t_sortFun=forceNum ? MathUtil.sortNumSmallFirst :MathUtil.sortSmallFirst;\r\n\t\t}\r\n\t\treturn function (a,b){\r\n\t\t\treturn _sortFun(a[key],b[key]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn MathUtil;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>Matrix</code> 类表示一个转换矩阵，它确定如何将点从一个坐标空间映射到另一个坐标空间。</p>\r\n*<p>您可以对一个显示对象执行不同的图形转换，方法是设置 Matrix 对象的属性，将该 Matrix 对象应用于 Transform 对象的 matrix 属性，然后应用该 Transform 对象作为显示对象的 transform 属性。这些转换函数包括平移（x 和 y 重新定位）、旋转、缩放和倾斜。</p>\r\n*/\r\n//class laya.maths.Matrix\r\nvar Matrix=(function(){\r\n\tfunction Matrix(a,b,c,d,tx,ty){\r\n\t\t/**缩放或旋转图像时影响像素沿 x 轴定位的值。*/\r\n\t\t//this.a=NaN;\r\n\t\t/**旋转或倾斜图像时影响像素沿 y 轴定位的值。*/\r\n\t\t//this.b=NaN;\r\n\t\t/**旋转或倾斜图像时影响像素沿 x 轴定位的值。*/\r\n\t\t//this.c=NaN;\r\n\t\t/**缩放或旋转图像时影响像素沿 y 轴定位的值。*/\r\n\t\t//this.d=NaN;\r\n\t\t/**沿 x 轴平移每个点的距离。*/\r\n\t\t//this.tx=NaN;\r\n\t\t/**沿 y 轴平移每个点的距离。*/\r\n\t\t//this.ty=NaN;\r\n\t\t/**@private 表示此对象是否在对象池中。*/\r\n\t\tthis.inPool=false;\r\n\t\t/**@private 是否有改变矩阵的值。*/\r\n\t\tthis.bTransform=false;\r\n\t\t(a===void 0)&& (a=1);\r\n\t\t(b===void 0)&& (b=0);\r\n\t\t(c===void 0)&& (c=0);\r\n\t\t(d===void 0)&& (d=1);\r\n\t\t(tx===void 0)&& (tx=0);\r\n\t\t(ty===void 0)&& (ty=0);\r\n\t\tthis.a=a;\r\n\t\tthis.b=b;\r\n\t\tthis.c=c;\r\n\t\tthis.d=d;\r\n\t\tthis.tx=tx;\r\n\t\tthis.ty=ty;\r\n\t\tthis._checkTransform();\r\n\t}\r\n\r\n\t__class(Matrix,'laya.maths.Matrix');\r\n\tvar __proto=Matrix.prototype;\r\n\t/**\r\n\t*将本矩阵设置为单位矩阵。\r\n\t*@return 返回当前矩形。\r\n\t*/\r\n\t__proto.identity=function(){\r\n\t\tthis.a=this.d=1;\r\n\t\tthis.b=this.tx=this.ty=this.c=0;\r\n\t\tthis.bTransform=false;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._checkTransform=function(){\r\n\t\treturn this.bTransform=(this.a!==1 || this.b!==0 || this.c!==0 || this.d!==1);\r\n\t}\r\n\r\n\t/**\r\n\t*设置沿 x 、y 轴平移每个点的距离。\r\n\t*@param x 沿 x 轴平移每个点的距离。\r\n\t*@param y 沿 y 轴平移每个点的距离。\r\n\t*@return 返回对象本身\r\n\t*/\r\n\t__proto.setTranslate=function(x,y){\r\n\t\tthis.tx=x;\r\n\t\tthis.ty=y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*沿 x 和 y 轴平移矩阵，平移的变化量由 x 和 y 参数指定。\r\n\t*@param x 沿 x 轴向右移动的量（以像素为单位）。\r\n\t*@param y 沿 y 轴向下移动的量（以像素为单位）。\r\n\t*@return 返回此矩形对象。\r\n\t*/\r\n\t__proto.translate=function(x,y){\r\n\t\tthis.tx+=x;\r\n\t\tthis.ty+=y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*对矩阵应用缩放转换。\r\n\t*@param x 用于沿 x 轴缩放对象的乘数。\r\n\t*@param y 用于沿 y 轴缩放对象的乘数。\r\n\t*/\r\n\t__proto.scale=function(x,y){\r\n\t\tthis.a *=x;\r\n\t\tthis.d *=y;\r\n\t\tthis.c *=x;\r\n\t\tthis.b *=y;\r\n\t\tthis.tx *=x;\r\n\t\tthis.ty *=y;\r\n\t\tthis.bTransform=true;\r\n\t}\r\n\r\n\t/**\r\n\t*对 Matrix 对象应用旋转转换。\r\n\t*@param angle 以弧度为单位的旋转角度。\r\n\t*/\r\n\t__proto.rotate=function(angle){\r\n\t\tvar cos=Math.cos(angle);\r\n\t\tvar sin=Math.sin(angle);\r\n\t\tvar a1=this.a;\r\n\t\tvar c1=this.c;\r\n\t\tvar tx1=this.tx;\r\n\t\tthis.a=a1 *cos-this.b *sin;\r\n\t\tthis.b=a1 *sin+this.b *cos;\r\n\t\tthis.c=c1 *cos-this.d *sin;\r\n\t\tthis.d=c1 *sin+this.d *cos;\r\n\t\tthis.tx=tx1 *cos-this.ty *sin;\r\n\t\tthis.ty=tx1 *sin+this.ty *cos;\r\n\t\tthis.bTransform=true;\r\n\t}\r\n\r\n\t/**\r\n\t*对 Matrix 对象应用倾斜转换。\r\n\t*@param x 沿着 X 轴的 2D 倾斜弧度。\r\n\t*@param y 沿着 Y 轴的 2D 倾斜弧度。\r\n\t*@return 当前 Matrix 对象。\r\n\t*/\r\n\t__proto.skew=function(x,y){\r\n\t\tvar tanX=Math.tan(x);\r\n\t\tvar tanY=Math.tan(y);\r\n\t\tvar a1=this.a;\r\n\t\tvar b1=this.b;\r\n\t\tthis.a+=tanY *this.c;\r\n\t\tthis.b+=tanY *this.d;\r\n\t\tthis.c+=tanX *a1;\r\n\t\tthis.d+=tanX *b1;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*对指定的点应用当前矩阵的逆转化并返回此点。\r\n\t*@param out 待转化的点 Point 对象。\r\n\t*@return 返回out\r\n\t*/\r\n\t__proto.invertTransformPoint=function(out){\r\n\t\tvar a1=this.a;\r\n\t\tvar b1=this.b;\r\n\t\tvar c1=this.c;\r\n\t\tvar d1=this.d;\r\n\t\tvar tx1=this.tx;\r\n\t\tvar n=a1 *d1-b1 *c1;\r\n\t\tvar a2=d1 / n;\r\n\t\tvar b2=-b1 / n;\r\n\t\tvar c2=-c1 / n;\r\n\t\tvar d2=a1 / n;\r\n\t\tvar tx2=(c1 *this.ty-d1 *tx1)/ n;\r\n\t\tvar ty2=-(a1 *this.ty-b1 *tx1)/ n;\r\n\t\treturn out.setTo(a2 *out.x+c2 *out.y+tx2,b2 *out.x+d2 *out.y+ty2);\r\n\t}\r\n\r\n\t/**\r\n\t*将 Matrix 对象表示的几何转换应用于指定点。\r\n\t*@param out 用来设定输出结果的点。\r\n\t*@return 返回out\r\n\t*/\r\n\t__proto.transformPoint=function(out){\r\n\t\treturn out.setTo(this.a *out.x+this.c *out.y+this.tx,this.b *out.x+this.d *out.y+this.ty);\r\n\t}\r\n\r\n\t/**\r\n\t*将 Matrix 对象表示的几何转换应用于指定点，忽略tx、ty。\r\n\t*@param out 用来设定输出结果的点。\r\n\t*@return 返回out\r\n\t*/\r\n\t__proto.transformPointN=function(out){\r\n\t\treturn out.setTo(this.a *out.x+this.c *out.y ,this.b *out.x+this.d *out.y);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*将 Matrix 对象表示的几何转换应用于指定点。\r\n\t*@param data 点集合。\r\n\t*@param out 存储应用转化的点的列表。\r\n\t*@return 返回out数组\r\n\t*/\r\n\t__proto.transformPointArray=function(data,out){\r\n\t\tvar len=data.length;\r\n\t\tfor (var i=0;i < len;i+=2){\r\n\t\t\tvar x=data[i],y=data[i+1];\r\n\t\t\tout[i]=this.a *x+this.c *y+this.tx;\r\n\t\t\tout[i+1]=this.b *x+this.d *y+this.ty;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*将 Matrix 对象表示的几何缩放转换应用于指定点。\r\n\t*@param data 点集合。\r\n\t*@param out 存储应用转化的点的列表。\r\n\t*@return 返回out数组\r\n\t*/\r\n\t__proto.transformPointArrayScale=function(data,out){\r\n\t\tvar len=data.length;\r\n\t\tfor (var i=0;i < len;i+=2){\r\n\t\t\tvar x=data[i],y=data[i+1];\r\n\t\t\tout[i]=this.a *x+this.c *y;\r\n\t\t\tout[i+1]=this.b *x+this.d *y;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\t/**\r\n\t*获取 X 轴缩放值。\r\n\t*@return X 轴缩放值。\r\n\t*/\r\n\t__proto.getScaleX=function(){\r\n\t\treturn this.b===0 ? this.a :Math.sqrt(this.a *this.a+this.b *this.b);\r\n\t}\r\n\r\n\t/**\r\n\t*获取 Y 轴缩放值。\r\n\t*@return Y 轴缩放值。\r\n\t*/\r\n\t__proto.getScaleY=function(){\r\n\t\treturn this.c===0 ? this.d :Math.sqrt(this.c *this.c+this.d *this.d);\r\n\t}\r\n\r\n\t/**\r\n\t*执行原始矩阵的逆转换。\r\n\t*@return 当前矩阵对象。\r\n\t*/\r\n\t__proto.invert=function(){\r\n\t\tvar a1=this.a;\r\n\t\tvar b1=this.b;\r\n\t\tvar c1=this.c;\r\n\t\tvar d1=this.d;\r\n\t\tvar tx1=this.tx;\r\n\t\tvar n=a1 *d1-b1 *c1;\r\n\t\tthis.a=d1 / n;\r\n\t\tthis.b=-b1 / n;\r\n\t\tthis.c=-c1 / n;\r\n\t\tthis.d=a1 / n;\r\n\t\tthis.tx=(c1 *this.ty-d1 *tx1)/ n;\r\n\t\tthis.ty=-(a1 *this.ty-b1 *tx1)/ n;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*将 Matrix 的成员设置为指定值。\r\n\t*@param a 缩放或旋转图像时影响像素沿 x 轴定位的值。\r\n\t*@param b 旋转或倾斜图像时影响像素沿 y 轴定位的值。\r\n\t*@param c 旋转或倾斜图像时影响像素沿 x 轴定位的值。\r\n\t*@param d 缩放或旋转图像时影响像素沿 y 轴定位的值。\r\n\t*@param tx 沿 x 轴平移每个点的距离。\r\n\t*@param ty 沿 y 轴平移每个点的距离。\r\n\t*@return 当前矩阵对象。\r\n\t*/\r\n\t__proto.setTo=function(a,b,c,d,tx,ty){\r\n\t\tthis.a=a,this.b=b,this.c=c,this.d=d,this.tx=tx,this.ty=ty;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*将指定矩阵与当前矩阵连接，从而将这两个矩阵的几何效果有效地结合在一起。\r\n\t*@param matrix 要连接到源矩阵的矩阵。\r\n\t*@return 当前矩阵。\r\n\t*/\r\n\t__proto.concat=function(matrix){\r\n\t\tvar a=this.a;\r\n\t\tvar c=this.c;\r\n\t\tvar tx=this.tx;\r\n\t\tthis.a=a *matrix.a+this.b *matrix.c;\r\n\t\tthis.b=a *matrix.b+this.b *matrix.d;\r\n\t\tthis.c=c *matrix.a+this.d *matrix.c;\r\n\t\tthis.d=c *matrix.b+this.d *matrix.d;\r\n\t\tthis.tx=tx *matrix.a+this.ty *matrix.c+matrix.tx;\r\n\t\tthis.ty=tx *matrix.b+this.ty *matrix.d+matrix.ty;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*对矩阵应用缩放转换。反向相乘\r\n\t*@param x 用于沿 x 轴缩放对象的乘数。\r\n\t*@param y 用于沿 y 轴缩放对象的乘数。\r\n\t*/\r\n\t__proto.scaleEx=function(x,y){\r\n\t\tvar ba=this.a,bb=this.b,bc=this.c,bd=this.d;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tthis.a=x *ba;\r\n\t\t\tthis.b=x *bb;\r\n\t\t\tthis.c=y *bc;\r\n\t\t\tthis.d=y *bd;\r\n\t\t\t}else {\r\n\t\t\tthis.a=x *ba;\r\n\t\t\tthis.b=0 *bd;\r\n\t\t\tthis.c=0 *ba;\r\n\t\t\tthis.d=y *bd;\r\n\t\t}\r\n\t\tthis.bTransform=true;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*对 Matrix 对象应用旋转转换。反向相乘\r\n\t*@param angle 以弧度为单位的旋转角度。\r\n\t*/\r\n\t__proto.rotateEx=function(angle){\r\n\t\tvar cos=Math.cos(angle);\r\n\t\tvar sin=Math.sin(angle);\r\n\t\tvar ba=this.a,bb=this.b,bc=this.c,bd=this.d;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tthis.a=cos *ba+sin *bc;\r\n\t\t\tthis.b=cos *bb+sin *bd;\r\n\t\t\tthis.c=-sin *ba+cos *bc;\r\n\t\t\tthis.d=-sin *bb+cos *bd;\r\n\t\t\t}else {\r\n\t\t\tthis.a=cos *ba;\r\n\t\t\tthis.b=sin *bd;\r\n\t\t\tthis.c=-sin *ba;\r\n\t\t\tthis.d=cos *bd;\r\n\t\t}\r\n\t\tthis.bTransform=true;\r\n\t}\r\n\r\n\t/**\r\n\t*返回此 Matrix 对象的副本。\r\n\t*@return 与原始实例具有完全相同的属性的新 Matrix 实例。\r\n\t*/\r\n\t__proto.clone=function(){\r\n\t\tvar dec=Matrix.create();\r\n\t\tdec.a=this.a;\r\n\t\tdec.b=this.b;\r\n\t\tdec.c=this.c;\r\n\t\tdec.d=this.d;\r\n\t\tdec.tx=this.tx;\r\n\t\tdec.ty=this.ty;\r\n\t\tdec.bTransform=this.bTransform;\r\n\t\treturn dec;\r\n\t}\r\n\r\n\t/**\r\n\t*将当前 Matrix 对象中的所有矩阵数据复制到指定的 Matrix 对象中。\r\n\t*@param dec 要复制当前矩阵数据的 Matrix 对象。\r\n\t*@return 已复制当前矩阵数据的 Matrix 对象。\r\n\t*/\r\n\t__proto.copyTo=function(dec){\r\n\t\tdec.a=this.a;\r\n\t\tdec.b=this.b;\r\n\t\tdec.c=this.c;\r\n\t\tdec.d=this.d;\r\n\t\tdec.tx=this.tx;\r\n\t\tdec.ty=this.ty;\r\n\t\tdec.bTransform=this.bTransform;\r\n\t\treturn dec;\r\n\t}\r\n\r\n\t/**\r\n\t*返回列出该 Matrix 对象属性的文本值。\r\n\t*@return 一个字符串，它包含 Matrix 对象的属性值：a、b、c、d、tx 和 ty。\r\n\t*/\r\n\t__proto.toString=function(){\r\n\t\treturn this.a+\",\"+this.b+\",\"+this.c+\",\"+this.d+\",\"+this.tx+\",\"+this.ty;\r\n\t}\r\n\r\n\t/**\r\n\t*销毁此对象。\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tif (this.inPool)return;\r\n\t\tvar cache=Matrix._cache;\r\n\t\tthis.inPool=true;\r\n\t\tcache._length || (cache._length=0);\r\n\t\tcache[cache._length++]=this;\r\n\t\tthis.a=this.d=1;\r\n\t\tthis.b=this.c=this.tx=this.ty=0;\r\n\t\tthis.bTransform=false;\r\n\t}\r\n\r\n\tMatrix.mul=function(m1,m2,out){\r\n\t\tvar aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;\r\n\t\tvar ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tout.a=aa *ba+ab *bc;\r\n\t\t\tout.b=aa *bb+ab *bd;\r\n\t\t\tout.c=ac *ba+ad *bc;\r\n\t\t\tout.d=ac *bb+ad *bd;\r\n\t\t\tout.tx=ba *atx+bc *aty+btx;\r\n\t\t\tout.ty=bb *atx+bd *aty+bty;\r\n\t\t\t}else {\r\n\t\t\tout.a=aa *ba;\r\n\t\t\tout.b=ab *bd;\r\n\t\t\tout.c=ac *ba;\r\n\t\t\tout.d=ad *bd;\r\n\t\t\tout.tx=ba *atx+btx;\r\n\t\t\tout.ty=bd *aty+bty;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.mul16=function(m1,m2,out){\r\n\t\tvar aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;\r\n\t\tvar ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tout[0]=aa *ba+ab *bc;\r\n\t\t\tout[1]=aa *bb+ab *bd;\r\n\t\t\tout[4]=ac *ba+ad *bc;\r\n\t\t\tout[5]=ac *bb+ad *bd;\r\n\t\t\tout[12]=ba *atx+bc *aty+btx;\r\n\t\t\tout[13]=bb *atx+bd *aty+bty;\r\n\t\t\t}else {\r\n\t\t\tout[0]=aa *ba;\r\n\t\t\tout[1]=ab *bd;\r\n\t\t\tout[4]=ac *ba;\r\n\t\t\tout[5]=ad *bd;\r\n\t\t\tout[12]=ba *atx+btx;\r\n\t\t\tout[13]=bd *aty+bty;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.mulPre=function(m1,ba,bb,bc,bd,btx,bty,out){\r\n\t\tvar aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tout.a=aa *ba+ab *bc;\r\n\t\t\tout.b=aa *bb+ab *bd;\r\n\t\t\tout.c=ac *ba+ad *bc;\r\n\t\t\tout.d=ac *bb+ad *bd;\r\n\t\t\tout.tx=ba *atx+bc *aty+btx;\r\n\t\t\tout.ty=bb *atx+bd *aty+bty;\r\n\t\t\t}else {\r\n\t\t\tout.a=aa *ba;\r\n\t\t\tout.b=ab *bd;\r\n\t\t\tout.c=ac *ba;\r\n\t\t\tout.d=ad *bd;\r\n\t\t\tout.tx=ba *atx+btx;\r\n\t\t\tout.ty=bd *aty+bty;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.mulPos=function(m1,aa,ab,ac,ad,atx,aty,out){\r\n\t\tvar ba=m1.a,bb=m1.b,bc=m1.c,bd=m1.d,btx=m1.tx,bty=m1.ty;\r\n\t\tif (bb!==0 || bc!==0){\r\n\t\t\tout.a=aa *ba+ab *bc;\r\n\t\t\tout.b=aa *bb+ab *bd;\r\n\t\t\tout.c=ac *ba+ad *bc;\r\n\t\t\tout.d=ac *bb+ad *bd;\r\n\t\t\tout.tx=ba *atx+bc *aty+btx;\r\n\t\t\tout.ty=bb *atx+bd *aty+bty;\r\n\t\t\t}else {\r\n\t\t\tout.a=aa *ba;\r\n\t\t\tout.b=ab *bd;\r\n\t\t\tout.c=ac *ba;\r\n\t\t\tout.d=ad *bd;\r\n\t\t\tout.tx=ba *atx+btx;\r\n\t\t\tout.ty=bd *aty+bty;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.preMul=function(parent,self,out){\r\n\t\tvar pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;\r\n\t\tvar na=self.a,nb=self.b,nc=self.c,nd=self.d,ntx=self.tx,nty=self.ty;\r\n\t\tout.a=na *pa;\r\n\t\tout.b=out.c=0;\r\n\t\tout.d=nd *pd;\r\n\t\tout.tx=ntx *pa+parent.tx;\r\n\t\tout.ty=nty *pd+parent.ty;\r\n\t\tif (nb!==0 || nc!==0 || pb!==0 || pc!==0){\r\n\t\t\tout.a+=nb *pc;\r\n\t\t\tout.d+=nc *pb;\r\n\t\t\tout.b+=na *pb+nb *pd;\r\n\t\t\tout.c+=nc *pa+nd *pc;\r\n\t\t\tout.tx+=nty *pc;\r\n\t\t\tout.ty+=ntx *pb;\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.preMulXY=function(parent,x,y,out){\r\n\t\tvar pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;\r\n\t\tout.a=pa;\r\n\t\tout.b=pb;\r\n\t\tout.c=pc;\r\n\t\tout.d=pd;\r\n\t\tout.tx=x *pa+parent.tx+y *pc;\r\n\t\tout.ty=y *pd+parent.ty+x *pb;\r\n\t\treturn out;\r\n\t}\r\n\r\n\tMatrix.create=function(){\r\n\t\tvar cache=Matrix._cache;\r\n\t\tvar mat=!cache._length ? (new Matrix()):cache[--cache._length];\r\n\t\tmat.inPool=false;\r\n\t\treturn mat;\r\n\t}\r\n\r\n\tMatrix.EMPTY=new Matrix();\r\n\tMatrix.TEMP=new Matrix();\r\n\tMatrix._cache=[];\r\n\treturn Matrix;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Point</code> 对象表示二维坐标系统中的某个位置，其中 x 表示水平轴，y 表示垂直轴。\r\n*/\r\n//class laya.maths.Point\r\nvar Point=(function(){\r\n\tfunction Point(x,y){\r\n\t\t/**该点的水平坐标。*/\r\n\t\t//this.x=NaN;\r\n\t\t/**该点的垂直坐标。*/\r\n\t\t//this.y=NaN;\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t}\r\n\r\n\t__class(Point,'laya.maths.Point');\r\n\tvar __proto=Point.prototype;\r\n\t/**\r\n\t*将 <code>Point</code> 的成员设置为指定值。\r\n\t*@param x 水平坐标。\r\n\t*@param y 垂直坐标。\r\n\t*@return 当前 Point 对象。\r\n\t*/\r\n\t__proto.setTo=function(x,y){\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*计算当前点和目标点(x，y)的距离。\r\n\t*@param x 水平坐标。\r\n\t*@param y 垂直坐标。\r\n\t*@return 返回当前点和目标点之间的距离。\r\n\t*/\r\n\t__proto.distance=function(x,y){\r\n\t\treturn Math.sqrt((this.x-x)*(this.x-x)+(this.y-y)*(this.y-y));\r\n\t}\r\n\r\n\t/**返回包含 x 和 y 坐标的值的字符串。*/\r\n\t__proto.toString=function(){\r\n\t\treturn this.x+\",\"+this.y;\r\n\t}\r\n\r\n\t/**\r\n\t*标准化向量。\r\n\t*/\r\n\t__proto.normalize=function(){\r\n\t\tvar d=Math.sqrt(this.x *this.x+this.y *this.y);\r\n\t\tif (d > 0){\r\n\t\t\tvar id=1.0 / d;\r\n\t\t\tthis.x *=id;\r\n\t\t\tthis.y *=id;\r\n\t\t}\r\n\t}\r\n\r\n\tPoint.TEMP=new Point();\r\n\tPoint.EMPTY=new Point();\r\n\treturn Point;\r\n})()\r\n\r\n\r\n/**\r\n*<p><code>Rectangle</code> 对象是按其位置（由它左上角的点 (x,y)确定）以及宽度和高度定义的区域。</p>\r\n*<p>Rectangle 类的 x、y、width 和 height 属性相互独立；更改一个属性的值不会影响其他属性。</p>\r\n*/\r\n//class laya.maths.Rectangle\r\nvar Rectangle=(function(){\r\n\tfunction Rectangle(x,y,width,height){\r\n\t\t/**矩形左上角的 X 轴坐标。*/\r\n\t\t//this.x=NaN;\r\n\t\t/**矩形左上角的 Y 轴坐标。*/\r\n\t\t//this.y=NaN;\r\n\t\t/**矩形的宽度。*/\r\n\t\t//this.width=NaN;\r\n\t\t/**矩形的高度。*/\r\n\t\t//this.height=NaN;\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t}\r\n\r\n\t__class(Rectangle,'laya.maths.Rectangle');\r\n\tvar __proto=Rectangle.prototype;\r\n\t/**\r\n\t*将 Rectangle 的属性设置为指定值。\r\n\t*@param x x 矩形左上角的 X 轴坐标。\r\n\t*@param y x 矩形左上角的 Y 轴坐标。\r\n\t*@param width 矩形的宽度。\r\n\t*@param height 矩形的高。\r\n\t*@return 返回属性值修改后的矩形对象本身。\r\n\t*/\r\n\t__proto.setTo=function(x,y,width,height){\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*复制 source 对象的属性值到此矩形对象中。\r\n\t*@param sourceRect 源 Rectangle 对象。\r\n\t*@return 返回属性值修改后的矩形对象本身。\r\n\t*/\r\n\t__proto.copyFrom=function(source){\r\n\t\tthis.x=source.x;\r\n\t\tthis.y=source.y;\r\n\t\tthis.width=source.width;\r\n\t\tthis.height=source.height;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*确定由此 Rectangle 对象定义的矩形区域内是否包含指定的点。\r\n\t*@param x 点的 X 轴坐标值（水平位置）。\r\n\t*@param y 点的 Y 轴坐标值（垂直位置）。\r\n\t*@return 如果 Rectangle 对象包含指定的点，则值为 true；否则为 false。\r\n\t*/\r\n\t__proto.contains=function(x,y){\r\n\t\tif (this.width <=0 || this.height <=0)return false;\r\n\t\tif (x >=this.x && x < this.right){\r\n\t\t\tif (y >=this.y && y < this.bottom){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*确定在 rect 参数中指定的对象是否与此 Rectangle 对象相交。此方法检查指定的 Rectangle 对象的 x、y、width 和 height 属性，以查看它是否与此 Rectangle 对象相交。\r\n\t*@param rect Rectangle 对象。\r\n\t*@return 如果传入的矩形对象与此对象相交，则返回 true 值，否则返回 false。\r\n\t*/\r\n\t__proto.intersects=function(rect){\r\n\t\treturn !(rect.x > (this.x+this.width)|| (rect.x+rect.width)< this.x || rect.y > (this.y+this.height)|| (rect.y+rect.height)< this.y);\r\n\t}\r\n\r\n\t/**\r\n\t*如果在 rect 参数中指定的 Rectangle 对象与此 Rectangle 对象相交，则返回交集区域作为 Rectangle 对象。如果矩形不相交，则此方法返回null。\r\n\t*@param rect 待比较的矩形区域。\r\n\t*@param out （可选）待输出的矩形区域。如果为空则创建一个新的。建议：尽量复用对象，减少对象创建消耗。\r\n\t*@return 返回相交的矩形区域对象。\r\n\t*/\r\n\t__proto.intersection=function(rect,out){\r\n\t\tif (!this.intersects(rect))return null;\r\n\t\tout || (out=new Rectangle());\r\n\t\tout.x=Math.max(this.x,rect.x);\r\n\t\tout.y=Math.max(this.y,rect.y);\r\n\t\tout.width=Math.min(this.right,rect.right)-out.x;\r\n\t\tout.height=Math.min(this.bottom,rect.bottom)-out.y;\r\n\t\treturn out;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>矩形联合，通过填充两个矩形之间的水平和垂直空间，将这两个矩形组合在一起以创建一个新的 Rectangle 对象。</p>\r\n\t*<p>注意：union()方法忽略高度或宽度值为 0 的矩形，如：var rect2:Rectangle=new Rectangle(300,300,50,0);</p>\r\n\t*@param 要添加到此 Rectangle 对象的 Rectangle 对象。\r\n\t*@param out 用于存储输出结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。Rectangle.TEMP对象用于对象复用。\r\n\t*@return 充当两个矩形的联合的新 Rectangle 对象。\r\n\t*/\r\n\t__proto.union=function(source,out){\r\n\t\tout || (out=new Rectangle());\r\n\t\tthis.clone(out);\r\n\t\tif (source.width <=0 || source.height <=0)return out;\r\n\t\tout.addPoint(source.x,source.y);\r\n\t\tout.addPoint(source.right,source.bottom);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*返回一个 Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。\r\n\t*@param out （可选）用于存储结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。。Rectangle.TEMP对象用于对象复用。\r\n\t*@return Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。\r\n\t*/\r\n\t__proto.clone=function(out){\r\n\t\tout || (out=new Rectangle());\r\n\t\tout.x=this.x;\r\n\t\tout.y=this.y;\r\n\t\tout.width=this.width;\r\n\t\tout.height=this.height;\r\n\t\treturn out;\r\n\t}\r\n\r\n\t/**\r\n\t*当前 Rectangle 对象的水平位置 x 和垂直位置 y 以及高度 width 和宽度 height 以逗号连接成的字符串。\r\n\t*/\r\n\t__proto.toString=function(){\r\n\t\treturn this.x+\",\"+this.y+\",\"+this.width+\",\"+this.height;\r\n\t}\r\n\r\n\t/**\r\n\t*检测传入的 Rectangle 对象的属性是否与当前 Rectangle 对象的属性 x、y、width、height 属性值都相等。\r\n\t*@param rect 待比较的 Rectangle 对象。\r\n\t*@return 如果判断的属性都相等，则返回 true ,否则返回 false。\r\n\t*/\r\n\t__proto.equals=function(rect){\r\n\t\tif (!rect || rect.x!==this.x || rect.y!==this.y || rect.width!==this.width || rect.height!==this.height)return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>为当前矩形对象加一个点，以使当前矩形扩展为包含当前矩形和此点的最小矩形。</p>\r\n\t*<p>此方法会修改本对象。</p>\r\n\t*@param x 点的 X 坐标。\r\n\t*@param y 点的 Y 坐标。\r\n\t*@return 返回此 Rectangle 对象。\r\n\t*/\r\n\t__proto.addPoint=function(x,y){\r\n\t\tthis.x > x && (this.width+=this.x-x,this.x=x);\r\n\t\tthis.y > y && (this.height+=this.y-y,this.y=y);\r\n\t\tif (this.width < x-this.x)this.width=x-this.x;\r\n\t\tif (this.height < y-this.y)this.height=y-this.y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*返回代表当前矩形的顶点数据。\r\n\t*@return 顶点数据。\r\n\t*/\r\n\t__proto._getBoundPoints=function(){\r\n\t\tvar rst=Rectangle._temB;\r\n\t\trst.length=0;\r\n\t\tif (this.width==0 || this.height==0)return rst;\r\n\t\trst.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height);\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*确定此 Rectangle 对象是否为空。\r\n\t*@return 如果 Rectangle 对象的宽度或高度小于等于 0，则返回 true 值，否则返回 false。\r\n\t*/\r\n\t__proto.isEmpty=function(){\r\n\t\tif (this.width <=0 || this.height <=0)return true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**此矩形右侧的 X 轴坐标。 x 和 width 属性的和。*/\r\n\t__getset(0,__proto,'right',function(){\r\n\t\treturn this.x+this.width;\r\n\t});\r\n\r\n\t/**此矩形底端的 Y 轴坐标。y 和 height 属性的和。*/\r\n\t__getset(0,__proto,'bottom',function(){\r\n\t\treturn this.y+this.height;\r\n\t});\r\n\r\n\tRectangle._getBoundPointS=function(x,y,width,height){\r\n\t\tvar rst=Rectangle._temA;\r\n\t\trst.length=0;\r\n\t\tif (width==0 || height==0)return rst;\r\n\t\trst.push(x,y,x+width,y,x,y+height,x+width,y+height);\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tRectangle._getWrapRec=function(pointList,rst){\r\n\t\tif (!pointList || pointList.length < 1)return rst ? rst.setTo(0,0,0,0):Rectangle.TEMP.setTo(0,0,0,0);\r\n\t\trst=rst ? rst :new Rectangle();\r\n\t\tvar i,len=pointList.length,minX,maxX,minY,maxY,tPoint=Point.TEMP;\r\n\t\tminX=minY=99999;\r\n\t\tmaxX=maxY=-minX;\r\n\t\tfor (i=0;i < len;i+=2){\r\n\t\t\ttPoint.x=pointList[i];\r\n\t\t\ttPoint.y=pointList[i+1];\r\n\t\t\tminX=minX < tPoint.x ? minX :tPoint.x;\r\n\t\t\tminY=minY < tPoint.y ? minY :tPoint.y;\r\n\t\t\tmaxX=maxX > tPoint.x ? maxX :tPoint.x;\r\n\t\t\tmaxY=maxY > tPoint.y ? maxY :tPoint.y;\r\n\t\t}\r\n\t\treturn rst.setTo(minX,minY,maxX-minX,maxY-minY);\r\n\t}\r\n\r\n\tRectangle.EMPTY=new Rectangle();\r\n\tRectangle.TEMP=new Rectangle();\r\n\tRectangle._temB=[];\r\n\tRectangle._temA=[];\r\n\treturn Rectangle;\r\n})()\r\n\r\n\r\n/**\r\n*<code>SoundManager</code> 是一个声音管理类。提供了对背景音乐、音效的播放控制方法。\r\n*引擎默认有两套声音方案：WebAudio和H5Audio\r\n*播放音效，优先使用WebAudio播放声音，如果WebAudio不可用，则用H5Audio播放，H5Audio在部分机器上有兼容问题（比如不能混音，播放有延迟等）。\r\n*播放背景音乐，则使用H5Audio播放（使用WebAudio会增加特别大的内存，并且要等加载完毕后才能播放，有延迟）\r\n*建议背景音乐用mp3类型，音效用wav或者mp3类型（如果打包为app，音效只能用wav格式）。\r\n*详细教程及声音格式请参考：http://ldc.layabox.com/doc/?nav=ch-as-1-7-0\r\n*/\r\n//class laya.media.SoundManager\r\nvar SoundManager=(function(){\r\n\tfunction SoundManager(){}\r\n\t__class(SoundManager,'laya.media.SoundManager');\r\n\t__getset(1,SoundManager,'useAudioMusic',function(){\r\n\t\treturn SoundManager._useAudioMusic;\r\n\t\t},function(value){\r\n\t\tSoundManager._useAudioMusic=value;\r\n\t\tif (value){\r\n\t\t\tSoundManager._musicClass=AudioSound;\r\n\t\t\t}else{\r\n\t\t\tSoundManager._musicClass=null;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*失去焦点后是否自动停止背景音乐。\r\n\t*@param v Boolean 失去焦点后是否自动停止背景音乐。\r\n\t*\r\n\t*/\r\n\t/**\r\n\t*失去焦点后是否自动停止背景音乐。\r\n\t*/\r\n\t__getset(1,SoundManager,'autoStopMusic',function(){\r\n\t\treturn SoundManager._autoStopMusic;\r\n\t\t},function(v){\r\n\t\tLaya.stage.off(/*laya.events.Event.BLUR*/\"blur\",null,SoundManager._stageOnBlur);\r\n\t\tLaya.stage.off(/*laya.events.Event.FOCUS*/\"focus\",null,SoundManager._stageOnFocus);\r\n\t\tLaya.stage.off(/*laya.events.Event.VISIBILITY_CHANGE*/\"visibilitychange\",null,SoundManager._visibilityChange);\r\n\t\tSoundManager._autoStopMusic=v;\r\n\t\tif (v){\r\n\t\t\tLaya.stage.on(/*laya.events.Event.BLUR*/\"blur\",null,SoundManager._stageOnBlur);\r\n\t\t\tLaya.stage.on(/*laya.events.Event.FOCUS*/\"focus\",null,SoundManager._stageOnFocus);\r\n\t\t\tLaya.stage.on(/*laya.events.Event.VISIBILITY_CHANGE*/\"visibilitychange\",null,SoundManager._visibilityChange);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*背景音乐和所有音效是否静音。\r\n\t*/\r\n\t__getset(1,SoundManager,'muted',function(){\r\n\t\treturn SoundManager._muted;\r\n\t\t},function(value){\r\n\t\tif (value==SoundManager._muted)return;\r\n\t\tif (value){\r\n\t\t\tSoundManager.stopAllSound();\r\n\t\t}\r\n\t\tSoundManager.musicMuted=value;\r\n\t\tSoundManager._muted=value;\r\n\t});\r\n\r\n\t/**\r\n\t*背景音乐（不包括音效）是否静音。\r\n\t*/\r\n\t__getset(1,SoundManager,'musicMuted',function(){\r\n\t\treturn SoundManager._musicMuted;\r\n\t\t},function(value){\r\n\t\tif (value==SoundManager._musicMuted)return;\r\n\t\tif (value){\r\n\t\t\tif (SoundManager._tMusic){\r\n\t\t\t\tif (SoundManager._musicChannel&&!SoundManager._musicChannel.isStopped){\r\n\t\t\t\t\tSoundManager._musicChannel.pause();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tSoundManager._musicChannel=null;\r\n\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\tSoundManager._musicChannel=null;\r\n\t\t\t}\r\n\t\t\tSoundManager._musicMuted=value;\r\n\t\t\t}else {\r\n\t\t\tSoundManager._musicMuted=value;\r\n\t\t\tif (SoundManager._tMusic){\r\n\t\t\t\tif (SoundManager._musicChannel){\r\n\t\t\t\t\tSoundManager._musicChannel.resume();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*所有音效（不包括背景音乐）是否静音。\r\n\t*/\r\n\t__getset(1,SoundManager,'soundMuted',function(){\r\n\t\treturn SoundManager._soundMuted;\r\n\t\t},function(value){\r\n\t\tSoundManager._soundMuted=value;\r\n\t});\r\n\r\n\tSoundManager.addChannel=function(channel){\r\n\t\tif (SoundManager._channels.indexOf(channel)>=0)return;\r\n\t\tSoundManager._channels.push(channel);\r\n\t}\r\n\r\n\tSoundManager.removeChannel=function(channel){\r\n\t\tvar i=0;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tif (SoundManager._channels[i]==channel){\r\n\t\t\t\tSoundManager._channels.splice(i,1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.disposeSoundIfNotUsed=function(url){\r\n\t\tvar i=0;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tif (SoundManager._channels[i].url==url){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSoundManager.destroySound(url);\r\n\t}\r\n\r\n\tSoundManager._visibilityChange=function(){\r\n\t\tif (Laya.stage.isVisibility){\r\n\t\t\tSoundManager._stageOnFocus();\r\n\t\t\t}else {\r\n\t\t\tSoundManager._stageOnBlur();\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager._stageOnBlur=function(){\r\n\t\tSoundManager._isActive=false;\r\n\t\tif (SoundManager._musicChannel){\r\n\t\t\tif (!SoundManager._musicChannel.isStopped){\r\n\t\t\t\tSoundManager._blurPaused=true;\r\n\t\t\t\tSoundManager._musicChannel.pause();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSoundManager.stopAllSound();\r\n\t\tLaya.stage.once(/*laya.events.Event.MOUSE_DOWN*/\"mousedown\",null,SoundManager._stageOnFocus);\r\n\t}\r\n\r\n\tSoundManager._recoverWebAudio=function(){\r\n\t\tif(WebAudioSound.ctx&&WebAudioSound.ctx.state!=\"running\"&&WebAudioSound.ctx.resume)\r\n\t\t\tWebAudioSound.ctx.resume();\r\n\t}\r\n\r\n\tSoundManager._stageOnFocus=function(){\r\n\t\tSoundManager._isActive=true;\r\n\t\tSoundManager._recoverWebAudio();\r\n\t\tLaya.stage.off(/*laya.events.Event.MOUSE_DOWN*/\"mousedown\",null,SoundManager._stageOnFocus);\r\n\t\tif (SoundManager._blurPaused){\r\n\t\t\tif (SoundManager._musicChannel && SoundManager._musicChannel.isStopped){\r\n\t\t\t\tSoundManager._blurPaused=false;\r\n\t\t\t\tSoundManager._musicChannel.resume();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.playSound=function(url,loops,complete,soundClass,startTime){\r\n\t\t(loops===void 0)&& (loops=1);\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\tif (!SoundManager._isActive || !url)return null;\r\n\t\tif (SoundManager._muted)return null;\r\n\t\tSoundManager._recoverWebAudio();\r\n\t\turl=URL.formatURL(url);\r\n\t\tif (url==SoundManager._tMusic){\r\n\t\t\tif (SoundManager._musicMuted)return null;\r\n\t\t\t}else {\r\n\t\t\tif (Render.isConchApp){\r\n\t\t\t\tvar ext=Utils.getFileExtension(url);\r\n\t\t\t\tif (ext !=\"wav\" && ext !=\"ogg\"){\r\n\t\t\t\t\talert(\"The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document.\");\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (SoundManager._soundMuted)return null;\r\n\t\t};\r\n\t\tvar tSound;\r\n\t\tif (!Browser.onMiniGame){\r\n\t\t\ttSound=Laya.loader.getRes(url);\r\n\t\t}\r\n\t\tif (!soundClass)soundClass=SoundManager._soundClass;\r\n\t\tif (!tSound){\r\n\t\t\ttSound=new soundClass();\r\n\t\t\ttSound.load(url);\r\n\t\t\tLoader.cacheRes(url,tSound);\r\n\t\t};\r\n\t\tvar channel;\r\n\t\tchannel=tSound.play(startTime,loops);\r\n\t\tif (!channel)return null;\r\n\t\tchannel.url=url;\r\n\t\tchannel.volume=(url==SoundManager._tMusic)? SoundManager.musicVolume :SoundManager.soundVolume;\r\n\t\tchannel.completeHandler=complete;\r\n\t\treturn channel;\r\n\t}\r\n\r\n\tSoundManager.destroySound=function(url){\r\n\t\tvar tSound=Laya.loader.getRes(url);\r\n\t\tif (tSound){\r\n\t\t\tLoader.clearRes(url);\r\n\t\t\ttSound.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.playMusic=function(url,loops,complete,startTime){\r\n\t\t(loops===void 0)&& (loops=0);\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\turl=URL.formatURL(url);\r\n\t\tSoundManager._tMusic=url;\r\n\t\tif (SoundManager._musicChannel)SoundManager._musicChannel.stop();\r\n\t\treturn SoundManager._musicChannel=SoundManager.playSound(url,loops,complete,SoundManager._musicClass,startTime);\r\n\t}\r\n\r\n\tSoundManager.stopSound=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar i=0;\r\n\t\tvar channel;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tchannel=SoundManager._channels[i];\r\n\t\t\tif (channel.url==url){\r\n\t\t\t\tchannel.stop();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.stopAll=function(){\r\n\t\tSoundManager._tMusic=null;\r\n\t\tvar i=0;\r\n\t\tvar channel;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tchannel=SoundManager._channels[i];\r\n\t\t\tchannel.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.stopAllSound=function(){\r\n\t\tvar i=0;\r\n\t\tvar channel;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tchannel=SoundManager._channels[i];\r\n\t\t\tif (channel.url !=SoundManager._tMusic){\r\n\t\t\t\tchannel.stop();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.stopMusic=function(){\r\n\t\tif (SoundManager._musicChannel)SoundManager._musicChannel.stop();\r\n\t\tSoundManager._tMusic=null;\r\n\t}\r\n\r\n\tSoundManager.setSoundVolume=function(volume,url){\r\n\t\tif (url){\r\n\t\t\turl=URL.formatURL(url);\r\n\t\t\tSoundManager._setVolume(url,volume);\r\n\t\t\t}else {\r\n\t\t\tSoundManager.soundVolume=volume;\r\n\t\t\tvar i=0;\r\n\t\t\tvar channel;\r\n\t\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\t\tchannel=SoundManager._channels[i];\r\n\t\t\t\tif (channel.url !=SoundManager._tMusic){\r\n\t\t\t\t\tchannel.volume=volume;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.setMusicVolume=function(volume){\r\n\t\tSoundManager.musicVolume=volume;\r\n\t\tSoundManager._setVolume(SoundManager._tMusic,volume);\r\n\t}\r\n\r\n\tSoundManager._setVolume=function(url,volume){\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar i=0;\r\n\t\tvar channel;\r\n\t\tfor (i=SoundManager._channels.length-1;i >=0;i--){\r\n\t\t\tchannel=SoundManager._channels[i];\r\n\t\t\tif (channel.url==url){\r\n\t\t\t\tchannel.volume=volume;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tSoundManager.musicVolume=1;\r\n\tSoundManager.soundVolume=1;\r\n\tSoundManager.playbackRate=1;\r\n\tSoundManager._useAudioMusic=true;\r\n\tSoundManager._muted=false;\r\n\tSoundManager._soundMuted=false;\r\n\tSoundManager._musicMuted=false;\r\n\tSoundManager._tMusic=null;\r\n\tSoundManager._musicChannel=null;\r\n\tSoundManager._channels=[];\r\n\tSoundManager._autoStopMusic=false;\r\n\tSoundManager._blurPaused=false;\r\n\tSoundManager._isActive=true;\r\n\tSoundManager._soundClass=null;\r\n\tSoundManager._musicClass=null;\r\n\tSoundManager.autoReleaseSound=true;\r\n\treturn SoundManager;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>LocalStorage</code> 类用于没有时间限制的数据存储。</p>\r\n*/\r\n//class laya.net.LocalStorage\r\nvar LocalStorage=(function(){\r\n\tvar Storage;\r\n\tfunction LocalStorage(){}\r\n\t__class(LocalStorage,'laya.net.LocalStorage');\r\n\tLocalStorage.__init__=function(){\r\n\t\tif (!LocalStorage._baseClass){\r\n\t\t\tLocalStorage._baseClass=Storage;\r\n\t\t\tStorage.init();\r\n\t\t}\r\n\t\tLocalStorage.items=LocalStorage._baseClass.items;\r\n\t\tLocalStorage.support=LocalStorage._baseClass.support;\r\n\t}\r\n\r\n\tLocalStorage.setItem=function(key,value){\r\n\t\tLocalStorage._baseClass.setItem(key,value);\r\n\t}\r\n\r\n\tLocalStorage.getItem=function(key){\r\n\t\treturn LocalStorage._baseClass.getItem(key);\r\n\t}\r\n\r\n\tLocalStorage.setJSON=function(key,value){\r\n\t\tLocalStorage._baseClass.setJSON(key,value);\r\n\t}\r\n\r\n\tLocalStorage.getJSON=function(key){\r\n\t\treturn LocalStorage._baseClass.getJSON(key);\r\n\t}\r\n\r\n\tLocalStorage.removeItem=function(key){\r\n\t\tLocalStorage._baseClass.removeItem(key);\r\n\t}\r\n\r\n\tLocalStorage.clear=function(){\r\n\t\tLocalStorage._baseClass.clear();\r\n\t}\r\n\r\n\tLocalStorage._baseClass=null;\r\n\tLocalStorage.items=null;\r\n\tLocalStorage.support=false;\r\n\tLocalStorage.__init$=function(){\r\n\t\t//class Storage\r\n\t\tStorage=(function(){\r\n\t\t\tfunction Storage(){}\r\n\t\t\t__class(Storage,'');\r\n\t\t\tStorage.init=function(){\r\n\t\t\t\t/*__JS__ */try{Storage.items=window.localStorage;Storage.setItem('laya','1');Storage.removeItem('laya');Storage.support=true;}catch(e){}if(!Storage.support)console.log('LocalStorage is not supprot or browser is private mode.');\r\n\t\t\t}\r\n\t\t\tStorage.setItem=function(key,value){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tStorage.support && Storage.items.setItem(key,value);\r\n\t\t\t\t\t}catch (e){\r\n\t\t\t\t\tconsole.warn(\"set localStorage failed\",e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tStorage.getItem=function(key){\r\n\t\t\t\treturn Storage.support ? Storage.items.getItem(key):null;\r\n\t\t\t}\r\n\t\t\tStorage.setJSON=function(key,value){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tStorage.support && Storage.items.setItem(key,JSON.stringify(value));\r\n\t\t\t\t\t}catch (e){\r\n\t\t\t\t\tconsole.warn(\"set localStorage failed\",e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tStorage.getJSON=function(key){\r\n\t\t\t\treturn JSON.parse(Storage.support ? Storage.items.getItem(key):null);\r\n\t\t\t}\r\n\t\t\tStorage.removeItem=function(key){\r\n\t\t\t\tStorage.support && Storage.items.removeItem(key);\r\n\t\t\t}\r\n\t\t\tStorage.clear=function(){\r\n\t\t\t\tStorage.support && Storage.items.clear();\r\n\t\t\t}\r\n\t\t\tStorage.items=null;\r\n\t\t\tStorage.support=false;\r\n\t\t\treturn Storage;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn LocalStorage;\r\n})()\r\n\r\n\r\n/**\r\n*<p>资源版本的生成由layacmd或IDE完成，使用 <code>ResourceVersion</code> 简化使用过程。</p>\r\n*<p>调用 <code>enable</code> 启用资源版本管理。</p>\r\n*/\r\n//class laya.net.ResourceVersion\r\nvar ResourceVersion=(function(){\r\n\tfunction ResourceVersion(){}\r\n\t__class(ResourceVersion,'laya.net.ResourceVersion');\r\n\tResourceVersion.enable=function(manifestFile,callback,type){\r\n\t\t(type===void 0)&& (type=2);\r\n\t\tlaya.net.ResourceVersion.type=type;\r\n\t\tLaya.loader.load(manifestFile,Handler.create(null,ResourceVersion.onManifestLoaded,[callback]),null,/*laya.net.Loader.JSON*/\"json\");\r\n\t\tURL.customFormat=ResourceVersion.addVersionPrefix;\r\n\t}\r\n\r\n\tResourceVersion.onManifestLoaded=function(callback,data){\r\n\t\tResourceVersion.manifest=data;\r\n\t\tcallback.run();\r\n\t\tif (!data){\r\n\t\t\tconsole.warn(\"资源版本清单文件不存在，不使用资源版本管理。忽略ERR_FILE_NOT_FOUND错误。\");\r\n\t\t}\r\n\t}\r\n\r\n\tResourceVersion.addVersionPrefix=function(originURL){\r\n\t\tif (ResourceVersion.manifest && ResourceVersion.manifest[originURL]){\r\n\t\t\tif (ResourceVersion.type==2)return ResourceVersion.manifest[originURL];\r\n\t\t\treturn ResourceVersion.manifest[originURL]+\"/\"+originURL;\r\n\t\t}\r\n\t\treturn originURL;\r\n\t}\r\n\r\n\tResourceVersion.FOLDER_VERSION=1;\r\n\tResourceVersion.FILENAME_VERSION=2;\r\n\tResourceVersion.manifest=null;\r\n\tResourceVersion.type=1;\r\n\treturn ResourceVersion;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.net.TTFLoader\r\nvar TTFLoader=(function(){\r\n\tfunction TTFLoader(){\r\n\t\tthis.fontName=null;\r\n\t\tthis.complete=null;\r\n\t\tthis.err=null;\r\n\t\tthis._fontTxt=null;\r\n\t\tthis._url=null;\r\n\t\tthis._div=null;\r\n\t\tthis._txtWidth=NaN;\r\n\t\tthis._http=null;\r\n\t}\r\n\r\n\t__class(TTFLoader,'laya.net.TTFLoader');\r\n\tvar __proto=TTFLoader.prototype;\r\n\t__proto.load=function(fontPath){\r\n\t\tthis._url=fontPath;\r\n\t\tvar tArr=fontPath.split(\".ttf\")[0].split(\"/\");\r\n\t\tthis.fontName=tArr[tArr.length-1];\r\n\t\tif (Browser.window.conch){\r\n\t\t\tthis._loadConch();\r\n\t\t}else\r\n\t\tif (Browser.window.FontFace){\r\n\t\t\tthis._loadWithFontFace()\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._loadWithCSS();\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._loadConch=function(){\r\n\t\tthis._http=new HttpRequest();\r\n\t\tthis._http.on(/*laya.events.Event.ERROR*/\"error\",this,this._onErr);\r\n\t\tthis._http.on(/*laya.events.Event.COMPLETE*/\"complete\",this,this._onHttpLoaded);\r\n\t\tthis._http.send(this._url,null,\"get\",/*laya.net.Loader.BUFFER*/\"arraybuffer\");\r\n\t}\r\n\r\n\t__proto._onHttpLoaded=function(data){\r\n\t\tBrowser.window.conch.setFontFaceFromBuffer(this.fontName,data);\r\n\t\tthis._clearHttp();\r\n\t\tthis._complete();\r\n\t}\r\n\r\n\t__proto._clearHttp=function(){\r\n\t\tif (this._http){\r\n\t\t\tthis._http.off(/*laya.events.Event.ERROR*/\"error\",this,this._onErr);\r\n\t\t\tthis._http.off(/*laya.events.Event.COMPLETE*/\"complete\",this,this._onHttpLoaded);\r\n\t\t\tthis._http=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._onErr=function(){\r\n\t\tthis._clearHttp();\r\n\t\tif (this.err){\r\n\t\t\tthis.err.runWith(\"fail:\"+this._url);\r\n\t\t\tthis.err=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._complete=function(){\r\n\t\tLaya.timer.clear(this,this._complete);\r\n\t\tLaya.timer.clear(this,this._checkComplete);\r\n\t\tif (this._div && this._div.parentNode){\r\n\t\t\tthis._div.parentNode.removeChild(this._div);\r\n\t\t\tthis._div=null;\r\n\t\t}\r\n\t\tif (this.complete){\r\n\t\t\tthis.complete.runWith(this);\r\n\t\t\tthis.complete=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._checkComplete=function(){\r\n\t\tif (RunDriver.measureText(\"LayaTTFFont\",this._fontTxt).width !=this._txtWidth){\r\n\t\t\tthis._complete();\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._loadWithFontFace=function(){\r\n\t\tvar fontFace=new Browser.window.FontFace(this.fontName,\"url('\"+this._url+\"')\");\r\n\t\tBrowser.window.document.fonts.add(fontFace);\r\n\t\tvar self=this;\r\n\t\tfontFace.loaded.then((function(){\r\n\t\t\tself._complete()\r\n\t\t}));\r\n\t\tfontFace.load();\r\n\t}\r\n\r\n\t__proto._createDiv=function(){\r\n\t\tthis._div=Browser.createElement(\"div\");\r\n\t\tthis._div.innerHTML=\"laya\";\r\n\t\tvar _style=this._div.style;\r\n\t\t_style.fontFamily=this.fontName;\r\n\t\t_style.position=\"absolute\";\r\n\t\t_style.left=\"-100px\";\r\n\t\t_style.top=\"-100px\";\r\n\t\tBrowser.document.body.appendChild(this._div);\r\n\t}\r\n\r\n\t__proto._loadWithCSS=function(){\r\n\t\tvar _$this=this;\r\n\t\tvar fontStyle=Browser.createElement(\"style\");\r\n\t\tfontStyle.type=\"text/css\";\r\n\t\tBrowser.document.body.appendChild(fontStyle);\r\n\t\tfontStyle.textContent=\"@font-face { font-family:'\"+this.fontName+\"'; src:url('\"+this._url+\"');}\";\r\n\t\tthis._fontTxt=\"40px \"+this.fontName;\r\n\t\tthis._txtWidth=RunDriver.measureText(\"LayaTTFFont\",this._fontTxt).width;\r\n\t\tvar self=this;\r\n\t\tfontStyle.onload=function (){\r\n\t\t\tLaya.timer.once(10000,self,_$this._complete);\r\n\t\t};\r\n\t\tLaya.timer.loop(20,this,this._checkComplete);\r\n\t\tthis._createDiv();\r\n\t}\r\n\r\n\tTTFLoader._testString=\"LayaTTFFont\";\r\n\treturn TTFLoader;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>URL</code> 类用于定义地址信息。</p>\r\n*/\r\n//class laya.net.URL\r\nvar URL=(function(){\r\n\tfunction URL(url){\r\n\t\t/**@private */\r\n\t\tthis._url=null;\r\n\t\t/**@private */\r\n\t\tthis._path=null;\r\n\t\tthis._url=URL.formatURL(url);\r\n\t\tthis._path=URL.getPath(url);\r\n\t}\r\n\r\n\t__class(URL,'laya.net.URL');\r\n\tvar __proto=URL.prototype;\r\n\t/**地址的路径。*/\r\n\t__getset(0,__proto,'path',function(){\r\n\t\treturn this._path;\r\n\t});\r\n\r\n\t/**格式化后的地址。*/\r\n\t__getset(0,__proto,'url',function(){\r\n\t\treturn this._url;\r\n\t});\r\n\r\n\tURL.formatURL=function(url,base){\r\n\t\tif (!url)return \"null path\";\r\n\t\tif (url.indexOf(\":\")> 0)return url;\r\n\t\tif (URL.customFormat !=null)url=URL.customFormat(url,base);\r\n\t\tvar char1=url.charAt(0);\r\n\t\tif (char1===\".\"){\r\n\t\t\treturn URL.formatRelativePath((base || URL.basePath)+url);\r\n\t\t\t}else if (char1==='~'){\r\n\t\t\treturn URL.rootPath+url.substring(1);\r\n\t\t\t}else if (char1===\"d\"){\r\n\t\t\tif (url.indexOf(\"data:image\")===0)return url;\r\n\t\t\t}else if (char1===\"/\"){\r\n\t\t\treturn url;\r\n\t\t}\r\n\t\treturn (base || URL.basePath)+url;\r\n\t}\r\n\r\n\tURL.formatRelativePath=function(value){\r\n\t\tvar parts=value.split(\"/\");\r\n\t\tfor (var i=0,len=parts.length;i < len;i++){\r\n\t\t\tif (parts[i]=='..'){\r\n\t\t\t\tparts.splice(i-1,2);\r\n\t\t\t\ti-=2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parts.join('/');\r\n\t}\r\n\r\n\tURL.isAbsolute=function(url){\r\n\t\treturn url.indexOf(\":\")> 0 || url.charAt(0)=='/';\r\n\t}\r\n\r\n\tURL.getPath=function(url){\r\n\t\tvar ofs=url.lastIndexOf('/');\r\n\t\treturn ofs > 0 ? url.substr(0,ofs+1):\"\";\r\n\t}\r\n\r\n\tURL.getFileName=function(url){\r\n\t\tvar ofs=url.lastIndexOf('/');\r\n\t\treturn ofs > 0 ? url.substr(ofs+1):url;\r\n\t}\r\n\r\n\tURL.version={};\r\n\tURL.basePath=\"\";\r\n\tURL.rootPath=\"\";\r\n\tURL.customFormat=function(url){\r\n\t\tvar newUrl=URL.version[url];\r\n\t\tif (!Render.isConchApp && newUrl)url+=\"?v=\"+newUrl;\r\n\t\treturn url;\r\n\t}\r\n\r\n\treturn URL;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Render</code> 是渲染管理类。它是一个单例，可以使用 Laya.render 访问。\r\n*/\r\n//class laya.renders.Render\r\nvar Render=(function(){\r\n\tfunction Render(width,height){\r\n\t\t/**@private */\r\n\t\tthis._timeId=0;\r\n\t\tvar style=Render._mainCanvas.source.style;\r\n\t\tstyle.position='absolute';\r\n\t\tstyle.top=style.left=\"0px\";\r\n\t\tstyle.background=\"#000000\";\r\n\t\tRender._mainCanvas.source.id=\"layaCanvas\";\r\n\t\tvar isWebGl=laya.renders.Render.isWebGL;\r\n\t\tRender._mainCanvas.source.width=width;\r\n\t\tRender._mainCanvas.source.height=height;\r\n\t\tisWebGl && Render.WebGL.init(Render._mainCanvas,width,height);\r\n\t\tBrowser.container.appendChild(Render._mainCanvas.source);\r\n\t\tRender._context=new RenderContext(width,height,isWebGl ? null :Render._mainCanvas);\r\n\t\tRender._context.ctx.setIsMainContext();\r\n\t\tBrowser.window.requestAnimationFrame(loop);\r\n\t\tfunction loop (){\r\n\t\t\tLaya.stage._loop();\r\n\t\t\tBrowser.window.requestAnimationFrame(loop);\r\n\t\t}\r\n\t\tLaya.stage.on(\"visibilitychange\",this,this._onVisibilitychange);\r\n\t}\r\n\r\n\t__class(Render,'laya.renders.Render');\r\n\tvar __proto=Render.prototype;\r\n\t/**@private */\r\n\t__proto._onVisibilitychange=function(){\r\n\t\tif (!Laya.stage.isVisibility){\r\n\t\t\tthis._timeId=Browser.window.setInterval(this._enterFrame,1000);\r\n\t\t\t}else if (this._timeId !=0){\r\n\t\t\tBrowser.window.clearInterval(this._timeId);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._enterFrame=function(e){\r\n\t\tLaya.stage._loop();\r\n\t}\r\n\r\n\t/**目前使用的渲染器。*/\r\n\t__getset(1,Render,'context',function(){\r\n\t\treturn Render._context;\r\n\t});\r\n\r\n\t/**渲染使用的原生画布引用。 */\r\n\t__getset(1,Render,'canvas',function(){\r\n\t\treturn Render._mainCanvas.source;\r\n\t});\r\n\r\n\tRender._context=null;\r\n\tRender._mainCanvas=null;\r\n\tRender.WebGL=null;\r\n\tRender.isConchNode=false;\r\n\tRender.isConchApp=false;\r\n\tRender.isConchWebGL=false;\r\n\tRender.isWebGL=false;\r\n\tRender.is3DMode=false;\r\n\tRender.optimizeTextureMemory=function(url,texture){\r\n\t\treturn true;\r\n\t}\r\n\r\n\tRender.__init$=function(){\r\n\t\t/*__JS__ */window.ConchRenderType=window.ConchRenderType||1;\r\n\t\t/*__JS__ */window.ConchRenderType|=(!window.conch?0:0x04);;{\r\n\t\t\tRender.isConchNode=/*__JS__ */(window.ConchRenderType & 5)==5;\r\n\t\t\tRender.isConchApp=/*__JS__ */(window.ConchRenderType & 0x04)==0x04;\r\n\t\t\tRender.isConchWebGL=/*__JS__ */window.ConchRenderType==6;\r\n\t\t};;\r\n\t}\r\n\r\n\treturn Render;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*渲染环境\r\n*/\r\n//class laya.renders.RenderContext\r\nvar RenderContext=(function(){\r\n\tfunction RenderContext(width,height,canvas){\r\n\t\t/**全局x坐标 */\r\n\t\tthis.x=0;\r\n\t\t/**全局y坐标 */\r\n\t\tthis.y=0;\r\n\t\t/**当前使用的画布 */\r\n\t\t//this.canvas=null;\r\n\t\t/**当前使用的画布上下文 */\r\n\t\t//this.ctx=null;\r\n\t\tthis._drawTexture=function(x,y,args){\r\n\t\t\tif (args[0].loaded)this.ctx.drawTexture(args[0],args[1],args[2],args[3],args[4],x,y);\r\n\t\t}\r\n\t\tthis._fillTexture=function(x,y,args){\r\n\t\t\tif (args[0].loaded)this.ctx.fillTexture(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);\r\n\t\t}\r\n\t\tthis._drawTextureWithTransform=function(x,y,args){\r\n\t\t\tif (args[0].loaded)this.ctx.drawTextureWithTransform(args[0],args[1],args[2],args[3],args[4],args[5],x,y,args[6]);\r\n\t\t}\r\n\t\tthis._fillQuadrangle=function(x,y,args){\r\n\t\t\tthis.ctx.fillQuadrangle(args[0],args[1],args[2],args[3],args[4]);\r\n\t\t}\r\n\t\tthis._drawRect=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tif (args[4] !=null){\r\n\t\t\t\tctx.fillStyle=args[4];\r\n\t\t\t\tctx.fillRect(x+args[0],y+args[1],args[2],args[3],null);\r\n\t\t\t}\r\n\t\t\tif (args[5] !=null){\r\n\t\t\t\tctx.strokeStyle=args[5];\r\n\t\t\t\tctx.lineWidth=args[6];\r\n\t\t\t\tctx.strokeRect(x+args[0],y+args[1],args[2],args[3],args[6]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//矢量方法\r\n\t\tthis._drawPie=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tRender.isWebGL && ctx.setPathId(args[8]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tctx.movePath(args[0]+x,args[1]+y);\r\n\t\t\t\tctx.moveTo(0,0);\r\n\t\t\t\t}else {\r\n\t\t\t\tctx.moveTo(x+args[0],y+args[1]);\r\n\t\t\t}\r\n\t\t\tctx.arc(x+args[0],y+args[1],args[2],args[3],args[4]);\r\n\t\t\tctx.closePath();\r\n\t\t\tthis._fillAndStroke(args[5],args[6],args[7],true);\r\n\t\t}\r\n\t\tthis._clipRect=function(x,y,args){\r\n\t\t\tthis.ctx.clipRect(x+args[0],y+args[1],args[2],args[3]);\r\n\t\t}\r\n\t\tthis._fillRect=function(x,y,args){\r\n\t\t\tthis.ctx.fillRect(x+args[0],y+args[1],args[2],args[3],args[4]);\r\n\t\t}\r\n\t\tthis._drawCircle=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tRender.isWebGL && ctx.setPathId(args[6]);\r\n\t\t\tStat.drawCall++;\r\n\t\t\tctx.beginPath();\r\n\t\t\tRender.isWebGL && ctx.movePath(args[0]+x,args[1]+y);\r\n\t\t\tctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);\r\n\t\t\tctx.closePath();\r\n\t\t\tthis._fillAndStroke(args[3],args[4],args[5],true);\r\n\t\t}\r\n\t\tthis._fillCircle=function(x,y,args){\r\n\t\t\tStat.drawCall++;\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillStyle=args[3];\r\n\t\t\tctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\t\tthis._setShader=function(x,y,args){\r\n\t\t\tthis.ctx.setShader(args[0]);\r\n\t\t}\r\n\t\tthis._drawLine=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tRender.isWebGL && ctx.setPathId(args[6]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.strokeStyle=args[4];\r\n\t\t\tctx.lineWidth=args[5];\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tctx.movePath(x,y);\r\n\t\t\t\tctx.moveTo(args[0],args[1]);\r\n\t\t\t\tctx.lineTo(args[2],args[3]);\r\n\t\t\t\t}else {\r\n\t\t\t\tctx.moveTo(x+args[0],y+args[1]);\r\n\t\t\t\tctx.lineTo(x+args[2],y+args[3]);\r\n\t\t\t}\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tthis._drawLines=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tRender.isWebGL && ctx.setPathId(args[5]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tx+=args[0],y+=args[1];\r\n\t\t\tRender.isWebGL && ctx.movePath(x,y);\r\n\t\t\tctx.strokeStyle=args[3];\r\n\t\t\tctx.lineWidth=args[4];\r\n\t\t\tvar points=args[2];\r\n\t\t\tvar i=2,n=points.length;\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tctx.moveTo(points[0],points[1]);\r\n\t\t\t\twhile (i < n){\r\n\t\t\t\t\tctx.lineTo(points[i++],points[i++]);\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tctx.moveTo(x+points[0],y+points[1]);\r\n\t\t\t\twhile (i < n){\r\n\t\t\t\t\tctx.lineTo(x+points[i++],y+points[i++]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tthis._drawLinesWebGL=function(x,y,args){\r\n\t\t\tthis.ctx.drawLines(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4]);\r\n\t\t}\r\n\t\t//x:Number,y:Number,points:Array,lineColor:String,lineWidth:Number=1\r\n\t\tthis._drawCurves=function(x,y,args){\r\n\t\t\tthis.ctx.drawCurves(x,y,args);\r\n\t\t}\r\n\t\tthis._draw=function(x,y,args){\r\n\t\t\targs[0].call(null,this,x,y);\r\n\t\t}\r\n\t\tthis._transformByMatrix=function(x,y,args){\r\n\t\t\tthis.ctx.transformByMatrix(args[0]);\r\n\t\t}\r\n\t\tthis._setTransform=function(x,y,args){\r\n\t\t\tthis.ctx.setTransform(args[0],args[1],args[2],args[3],args[4],args[5]);\r\n\t\t}\r\n\t\tthis._setTransformByMatrix=function(x,y,args){\r\n\t\t\tthis.ctx.setTransformByMatrix(args[0]);\r\n\t\t}\r\n\t\tthis._save=function(x,y,args){\r\n\t\t\tthis.ctx.save();\r\n\t\t}\r\n\t\tthis._restore=function(x,y,args){\r\n\t\t\tthis.ctx.restore();\r\n\t\t}\r\n\t\tthis._translate=function(x,y,args){\r\n\t\t\tthis.ctx.translate(args[0],args[1]);\r\n\t\t}\r\n\t\tthis._transform=function(x,y,args){\r\n\t\t\tthis.ctx.translate(args[1]+x,args[2]+y);\r\n\t\t\tvar mat=args[0];\r\n\t\t\tthis.ctx.transform(mat.a,mat.b,mat.c,mat.d,mat.tx,mat.ty);\r\n\t\t\tthis.ctx.translate(-x-args[1],-y-args[2]);\r\n\t\t}\r\n\t\tthis._rotate=function(x,y,args){\r\n\t\t\tthis.ctx.translate(args[1]+x,args[2]+y);\r\n\t\t\tthis.ctx.rotate(args[0]);\r\n\t\t\tthis.ctx.translate(-x-args[1],-y-args[2]);\r\n\t\t}\r\n\t\tthis._scale=function(x,y,args){\r\n\t\t\tthis.ctx.translate(args[2]+x,args[3]+y);\r\n\t\t\tthis.ctx.scale(args[0],args[1]);\r\n\t\t\tthis.ctx.translate(-x-args[2],-y-args[3]);\r\n\t\t}\r\n\t\tthis._alpha=function(x,y,args){\r\n\t\t\tthis.ctx.globalAlpha *=args[0];\r\n\t\t}\r\n\t\tthis._setAlpha=function(x,y,args){\r\n\t\t\tthis.ctx.globalAlpha=args[0];\r\n\t\t}\r\n\t\tthis._fillText=function(x,y,args){\r\n\t\t\tthis.ctx.fillText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5]);\r\n\t\t}\r\n\t\tthis._strokeText=function(x,y,args){\r\n\t\t\tthis.ctx.strokeText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6]);\r\n\t\t}\r\n\t\tthis._fillBorderText=function(x,y,args){\r\n\t\t\tthis.ctx.fillBorderText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);\r\n\t\t}\r\n\t\tthis._blendMode=function(x,y,args){\r\n\t\t\tthis.ctx.globalCompositeOperation=args[0];\r\n\t\t}\r\n\t\tthis._beginClip=function(x,y,args){\r\n\t\t\tthis.ctx.beginClip && this.ctx.beginClip(x+args[0],y+args[1],args[2],args[3]);\r\n\t\t}\r\n\t\tthis._setIBVB=function(x,y,args){\r\n\t\t\tthis.ctx.setIBVB(args[0]+x,args[1]+y,args[2],args[3],args[4],args[5],args[6],args[7]);\r\n\t\t}\r\n\t\tthis._fillTrangles=function(x,y,args){\r\n\t\t\tthis.ctx.fillTrangles(args[0],args[1]+x,args[2]+y,args[3],args[4]);\r\n\t\t}\r\n\t\t//x:Number,y:Number,paths:Array,brush:Object=null,pen:Object=null\r\n\t\tthis._drawPath=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tRender.isWebGL && ctx.setPathId(-1);\r\n\t\t\tctx.beginPath();\r\n\t\t\tx+=args[0],y+=args[1];\r\n\t\t\tRender.isWebGL && ctx.movePath(x,y);\r\n\t\t\tvar paths=args[2];\r\n\t\t\tfor (var i=0,n=paths.length;i < n;i++){\r\n\t\t\t\tvar path=paths[i];\r\n\t\t\t\tswitch (path[0]){\r\n\t\t\t\t\tcase \"moveTo\":\r\n\t\t\t\t\t\tRender.isWebGL ? ctx.moveTo(path[1],path[2]):ctx.moveTo(x+path[1],y+path[2]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"lineTo\":\r\n\t\t\t\t\t\tRender.isWebGL ? ctx.lineTo(path[1],path[2]):ctx.lineTo(x+path[1],y+path[2]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"arcTo\":\r\n\t\t\t\t\t\tRender.isWebGL ? ctx.arcTo(path[1],path[2],path[3],path[4],path[5]):ctx.arcTo(x+path[1],y+path[2],x+path[3],y+path[4],path[5]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"closePath\":\r\n\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar brush=args[3];\r\n\t\t\tif (brush !=null){\r\n\t\t\t\tctx.fillStyle=brush.fillStyle;\r\n\t\t\t\tctx.fill();\r\n\t\t\t};\r\n\t\t\tvar pen=args[4];\r\n\t\t\tif (pen !=null){\r\n\t\t\t\tctx.strokeStyle=pen.strokeStyle;\r\n\t\t\t\tctx.lineWidth=pen.lineWidth || 1;\r\n\t\t\t\tctx.lineJoin=pen.lineJoin;\r\n\t\t\t\tctx.lineCap=pen.lineCap;\r\n\t\t\t\tctx.miterLimit=pen.miterLimit;\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// polygon(x:Number,y:Number,r:Number,edges:Number,color:uint,borderWidth:int=2,borderColor:uint=0)\r\n\t\tthis.drawPoly=function(x,y,args){\r\n\t\t\tthis.ctx.drawPoly(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4],args[5],args[6]);\r\n\t\t}\r\n\t\t//x:Number,y:Number,points:Array,fillColor:String,lineColor:String=null,lineWidth:Number=1\r\n\t\tthis._drawPoly=function(x,y,args){\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tvar points=args[2];\r\n\t\t\tvar i=2,n=points.length;\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tctx.setPathId(args[6]);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tx+=args[0],y+=args[1];\r\n\t\t\t\tctx.movePath(x,y);\r\n\t\t\t\tctx.moveTo(points[0],points[1]);\r\n\t\t\t\twhile (i < n){\r\n\t\t\t\t\tctx.lineTo(points[i++],points[i++]);\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tx+=args[0],y+=args[1];\r\n\t\t\t\tctx.moveTo(x+points[0],y+points[1]);\r\n\t\t\t\twhile (i < n){\r\n\t\t\t\t\tctx.lineTo(x+points[i++],y+points[i++]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tthis._fillAndStroke(args[3],args[4],args[5],args[7]);\r\n\t\t}\r\n\t\tthis._drawSkin=function(x,y,args){\r\n\t\t\tvar tSprite=args[0];\r\n\t\t\tif (tSprite){\r\n\t\t\t\tvar ctx=this.ctx;\r\n\t\t\t\ttSprite.render(ctx,x,y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._drawParticle=function(x,y,args){\r\n\t\t\tthis.ctx.drawParticle(x+this.x,y+this.y,args[0]);\r\n\t\t}\r\n\t\tthis._setFilters=function(x,y,args){\r\n\t\t\tthis.ctx.setFilters(args);\r\n\t\t}\r\n\t\tif (canvas){\r\n\t\t\tthis.ctx=canvas.getContext('2d');\r\n\t\t\t}else {\r\n\t\t\tcanvas=HTMLCanvas.create(\"3D\");\r\n\t\t\tthis.ctx=RunDriver.createWebGLContext2D(canvas);\r\n\t\t\tcanvas._setContext(this.ctx);\r\n\t\t}\r\n\t\tcanvas.size(width,height);\r\n\t\tthis.canvas=canvas;\r\n\t}\r\n\r\n\t__class(RenderContext,'laya.renders.RenderContext');\r\n\tvar __proto=RenderContext.prototype;\r\n\t/**销毁当前渲染环境*/\r\n\t__proto.destroy=function(){\r\n\t\tif (this.canvas){\r\n\t\t\tthis.canvas.destroy();\r\n\t\t\tthis.canvas=null;\r\n\t\t\tthis.ctx=null;\r\n\t\t}\r\n\t\tif (this.ctx){\r\n\t\t\tthis.ctx.destroy();\r\n\t\t\tthis.ctx=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.drawTexture=function(tex,x,y,width,height){\r\n\t\tif (tex.loaded)this.ctx.drawTexture(tex,x,y,width,height,this.x,this.y);\r\n\t}\r\n\r\n\t__proto._drawTextures=function(x,y,args){\r\n\t\tif (args[0].loaded)this.ctx.drawTextures(args[0],args[1],x+this.x,y+this.y);\r\n\t}\r\n\r\n\t__proto.drawTextureWithTransform=function(tex,x,y,width,height,m,alpha){\r\n\t\tif (tex.loaded)this.ctx.drawTextureWithTransform(tex,x,y,width,height,m,this.x,this.y,alpha);\r\n\t}\r\n\r\n\t__proto.fillQuadrangle=function(tex,x,y,point4,m){\r\n\t\tthis.ctx.fillQuadrangle(tex,x,y,point4,m);\r\n\t}\r\n\r\n\t__proto.drawCanvas=function(canvas,x,y,width,height){\r\n\t\tthis.ctx.drawCanvas(canvas,x+this.x,y+this.y,width,height);\r\n\t}\r\n\r\n\t__proto.drawRect=function(x,y,width,height,color,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar ctx=this.ctx;\r\n\t\tctx.strokeStyle=color;\r\n\t\tctx.lineWidth=lineWidth;\r\n\t\tctx.strokeRect(x+this.x,y+this.y,width,height,lineWidth);\r\n\t}\r\n\r\n\t__proto._fillAndStroke=function(fillColor,strokeColor,lineWidth,isConvexPolygon){\r\n\t\t(isConvexPolygon===void 0)&& (isConvexPolygon=false);\r\n\t\tvar ctx=this.ctx;\r\n\t\tif (fillColor !=null){\r\n\t\t\tctx.fillStyle=fillColor;\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tctx.fill(isConvexPolygon);\r\n\t\t\t\t}else {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (strokeColor !=null && lineWidth > 0){\r\n\t\t\tctx.strokeStyle=strokeColor;\r\n\t\t\tctx.lineWidth=lineWidth;\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\t//ctx.translate(-x-args[0],-y-args[1]);\r\n\t__proto.clipRect=function(x,y,width,height){\r\n\t\tthis.ctx.clipRect(x+this.x,y+this.y,width,height);\r\n\t}\r\n\r\n\t__proto.fillRect=function(x,y,width,height,fillStyle){\r\n\t\tthis.ctx.fillRect(x+this.x,y+this.y,width,height,fillStyle);\r\n\t}\r\n\r\n\t__proto.drawCircle=function(x,y,radius,color,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tStat.drawCall++;\r\n\t\tvar ctx=this.ctx;\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle=color;\r\n\t\tctx.lineWidth=lineWidth;\r\n\t\tctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\t/**\r\n\t*绘制三角形\r\n\t*@param x\r\n\t*@param y\r\n\t*@param tex\r\n\t*@param args [x,y,texture,vertices,indices,uvs,matrix]\r\n\t*/\r\n\t__proto.drawTriangles=function(x,y,args){\r\n\t\tif (Render.isWebGL){\r\n\t\t\tthis.ctx.drawTriangles(args[0],x+args[1],y+args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);\r\n\t\t\t}else {\r\n\t\t\tvar indices=args[5];\r\n\t\t\tvar i=0,len=indices.length;\r\n\t\t\tvar ctx=this.ctx;\r\n\t\t\tfor (i=0;i < len;i+=3){\r\n\t\t\t\tvar index0=indices[i] *2;\r\n\t\t\t\tvar index1=indices[i+1] *2;\r\n\t\t\t\tvar index2=indices[i+2] *2;\r\n\t\t\t\tctx.drawTriangle(args[0],args[3],args[4],index0,index1,index2,args[6],true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.fillCircle=function(x,y,radius,color){\r\n\t\tStat.drawCall++;\r\n\t\tvar ctx=this.ctx;\r\n\t\tctx.beginPath();\r\n\t\tctx.fillStyle=color;\r\n\t\tctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);\r\n\t\tctx.fill();\r\n\t}\r\n\r\n\t__proto.setShader=function(shader){\r\n\t\tthis.ctx.setShader(shader);\r\n\t}\r\n\r\n\t__proto.drawLine=function(fromX,fromY,toX,toY,color,lineWidth){\r\n\t\t(lineWidth===void 0)&& (lineWidth=1);\r\n\t\tvar ctx=this.ctx;\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle=color;\r\n\t\tctx.lineWidth=lineWidth;\r\n\t\tctx.moveTo(this.x+fromX,this.y+fromY);\r\n\t\tctx.lineTo(this.x+toX,this.y+toY);\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis.ctx.clear();\r\n\t}\r\n\r\n\t__proto.transformByMatrix=function(value){\r\n\t\tthis.ctx.transformByMatrix(value);\r\n\t}\r\n\r\n\t__proto.setTransform=function(a,b,c,d,tx,ty){\r\n\t\tthis.ctx.setTransform(a,b,c,d,tx,ty);\r\n\t}\r\n\r\n\t__proto.setTransformByMatrix=function(value){\r\n\t\tthis.ctx.setTransformByMatrix(value);\r\n\t}\r\n\r\n\t__proto.save=function(){\r\n\t\tthis.ctx.save();\r\n\t}\r\n\r\n\t__proto.restore=function(){\r\n\t\tthis.ctx.restore();\r\n\t}\r\n\r\n\t__proto.translate=function(x,y){\r\n\t\tthis.ctx.translate(x,y);\r\n\t}\r\n\r\n\t__proto.transform=function(a,b,c,d,tx,ty){\r\n\t\tthis.ctx.transform(a,b,c,d,tx,ty);\r\n\t}\r\n\r\n\t__proto.rotate=function(angle){\r\n\t\tthis.ctx.rotate(angle);\r\n\t}\r\n\r\n\t__proto.scale=function(scaleX,scaleY){\r\n\t\tthis.ctx.scale(scaleX,scaleY);\r\n\t}\r\n\r\n\t__proto.alpha=function(value){\r\n\t\tthis.ctx.globalAlpha *=value;\r\n\t}\r\n\r\n\t__proto.setAlpha=function(value){\r\n\t\tthis.ctx.globalAlpha=value;\r\n\t}\r\n\r\n\t__proto.fillWords=function(words,x,y,font,color,underLine){\r\n\t\t(underLine===void 0)&& (underLine=0);\r\n\t\tthis.ctx.fillWords(words,x,y,font,color,underLine);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillBorderWords=function(words,x,y,font,fillColor,borderColor,lineWidth){\r\n\t\tthis.ctx.fillBorderWords(words,x,y,font,fillColor,borderColor,lineWidth);\r\n\t}\r\n\r\n\t__proto.fillText=function(text,x,y,font,color,textAlign){\r\n\t\tthis.ctx.fillText(text,x+this.x,y+this.y,font,color,textAlign);\r\n\t}\r\n\r\n\t__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){\r\n\t\tthis.ctx.strokeText(text,x+this.x,y+this.y,font,color,lineWidth,textAlign);\r\n\t}\r\n\r\n\t__proto.blendMode=function(type){\r\n\t\tthis.ctx.globalCompositeOperation=type;\r\n\t}\r\n\r\n\t__proto.flush=function(){\r\n\t\tthis.ctx.flush && this.ctx.flush();\r\n\t}\r\n\r\n\t__proto.addRenderObject=function(o){\r\n\t\tthis.ctx.addRenderObject(o);\r\n\t}\r\n\r\n\t__proto.beginClip=function(x,y,w,h){\r\n\t\tthis.ctx.beginClip && this.ctx.beginClip(x,y,w,h);\r\n\t}\r\n\r\n\t__proto.endClip=function(){\r\n\t\tthis.ctx.endClip && this.ctx.endClip();\r\n\t}\r\n\r\n\t__proto.fillTrangles=function(x,y,args){\r\n\t\tthis.ctx.fillTrangles(args[0],args[1],args[2],args[3],args.length > 4 ? args[4] :null);\r\n\t}\r\n\r\n\tRenderContext.PI2=2 *Math.PI;\r\n\treturn RenderContext;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*精灵渲染器\r\n*/\r\n//class laya.renders.RenderSprite\r\nvar RenderSprite=(function(){\r\n\tfunction RenderSprite(type,next){\r\n\t\t/**@private */\r\n\t\t//this._next=null;\r\n\t\t/**@private */\r\n\t\t//this._fun=null;\r\n\t\tthis._next=next || RenderSprite.NORENDER;\r\n\t\tswitch (type){\r\n\t\t\tcase 0:\r\n\t\t\t\tthis._fun=this._no;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x01:\r\n\t\t\t\tthis._fun=this._image;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x02:\r\n\t\t\t\tthis._fun=this._alpha;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x04:\r\n\t\t\t\tthis._fun=this._transform;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x08:\r\n\t\t\t\tthis._fun=this._blend;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x10:\r\n\t\t\t\tthis._fun=this._canvas;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x40:\r\n\t\t\t\tthis._fun=this._mask;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x80:\r\n\t\t\t\tthis._fun=this._clip;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x100:\r\n\t\t\t\tthis._fun=this._style;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x200:\r\n\t\t\t\tthis._fun=this._graphics;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x800:\r\n\t\t\t\tthis._fun=this._childs;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x400:\r\n\t\t\t\tthis._fun=this._custom;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x01 | 0x200:\r\n\t\t\t\tthis._fun=this._image2;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x01 | 0x04 | 0x200:\r\n\t\t\t\tthis._fun=this._image2;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x20:\r\n\t\t\t\tthis._fun=Filter._filter;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x11111:\r\n\t\t\t\tthis._fun=RenderSprite._initRenderFun;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\tthis.onCreate(type);\r\n\t}\r\n\r\n\t__class(RenderSprite,'laya.renders.RenderSprite');\r\n\tvar __proto=RenderSprite.prototype;\r\n\t__proto.onCreate=function(type){}\r\n\t__proto._style=function(sprite,context,x,y){\r\n\t\tsprite._style.render(sprite,context,x,y);\r\n\t\tvar next=this._next;\r\n\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t}\r\n\r\n\t__proto._no=function(sprite,context,x,y){}\r\n\t__proto._custom=function(sprite,context,x,y){\r\n\t\tsprite.customRender(context,x,y);\r\n\t\tvar tf=sprite._style._tf;\r\n\t\tthis._next._fun.call(this._next,sprite,context,x-tf.translateX,y-tf.translateY);\r\n\t}\r\n\r\n\t__proto._clip=function(sprite,context,x,y){\r\n\t\tvar next=this._next;\r\n\t\tif (next==RenderSprite.NORENDER)return;\r\n\t\tvar r=sprite._style.scrollRect;\r\n\t\tcontext.ctx.save();\r\n\t\tcontext.ctx.clipRect(x,y,r.width,r.height);\r\n\t\tnext._fun.call(next,sprite,context,x-r.x,y-r.y);\r\n\t\tcontext.ctx.restore();\r\n\t}\r\n\r\n\t__proto._blend=function(sprite,context,x,y){\r\n\t\tvar style=sprite._style;\r\n\t\tif (style.blendMode){\r\n\t\t\tcontext.ctx.globalCompositeOperation=style.blendMode;\r\n\t\t};\r\n\t\tvar next=this._next;\r\n\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\tcontext.ctx.globalCompositeOperation=\"source-over\";\r\n\t}\r\n\r\n\t__proto._mask=function(sprite,context,x,y){\r\n\t\tvar next=this._next;\r\n\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\tvar mask=sprite.mask;\r\n\t\tif (mask){\r\n\t\t\tcontext.ctx.globalCompositeOperation=\"destination-in\";\r\n\t\t\tif (mask.numChildren > 0 || !mask.graphics._isOnlyOne()){\r\n\t\t\t\tmask.cacheAsBitmap=true;\r\n\t\t\t}\r\n\t\t\tmask.render(context,x-sprite.pivotX,y-sprite.pivotY);\r\n\t\t}\r\n\t\tcontext.ctx.globalCompositeOperation=\"source-over\";\r\n\t}\r\n\r\n\t__proto._graphics=function(sprite,context,x,y){\r\n\t\tvar tf=sprite._style._tf;\r\n\t\tsprite._graphics && sprite._graphics._render(sprite,context,x-tf.translateX,y-tf.translateY);\r\n\t\tvar next=this._next;\r\n\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t}\r\n\r\n\t__proto._image=function(sprite,context,x,y){\r\n\t\tvar style=sprite._style;\r\n\t\tcontext.ctx.drawTexture2(x,y,style._tf.translateX,style._tf.translateY,sprite.transform,style.alpha,style.blendMode,sprite._graphics._one);\r\n\t}\r\n\r\n\t__proto._image2=function(sprite,context,x,y){\r\n\t\tvar tf=sprite._style._tf;\r\n\t\tcontext.ctx.drawTexture2(x,y,tf.translateX,tf.translateY,sprite.transform,1,null,sprite._graphics._one);\r\n\t}\r\n\r\n\t__proto._alpha=function(sprite,context,x,y){\r\n\t\tvar style=sprite._style;\r\n\t\tvar alpha;\r\n\t\tif ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){\r\n\t\t\tvar temp=context.ctx.globalAlpha;\r\n\t\t\tcontext.ctx.globalAlpha *=alpha;\r\n\t\t\tvar next=this._next;\r\n\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t\tcontext.ctx.globalAlpha=temp;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._transform=function(sprite,context,x,y){\r\n\t\tvar transform=sprite.transform,_next=this._next;\r\n\t\tif (transform && _next !=RenderSprite.NORENDER){\r\n\t\t\tcontext.save();\r\n\t\t\tcontext.transform(transform.a,transform.b,transform.c,transform.d,transform.tx+x,transform.ty+y);\r\n\t\t\t_next._fun.call(_next,sprite,context,0,0);\r\n\t\t\tcontext.restore();\r\n\t\t}else\r\n\t\t_next._fun.call(_next,sprite,context,x,y);\r\n\t}\r\n\r\n\t__proto._childs=function(sprite,context,x,y){\r\n\t\tvar style=sprite._style;\r\n\t\tvar tf=style._tf;\r\n\t\tx=x-tf.translateX+style.paddingLeft;\r\n\t\ty=y-tf.translateY+style.paddingTop;\r\n\t\tif (style._calculation){\r\n\t\t\tvar words=sprite._getWords();\r\n\t\t\tif (words){\r\n\t\t\t\tvar tStyle=style;\r\n\t\t\t\tif (tStyle){\r\n\t\t\t\t\tif (tStyle.stroke){\r\n\t\t\t\t\t\tcontext.fillBorderWords(words,x,y,tStyle.font,tStyle.color,tStyle.strokeColor,tStyle.stroke);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcontext.fillWords(words,x,y,tStyle.font,tStyle.color,(tStyle.textDecoration!=\"none\"&&tStyle.underLine)?1:0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar childs=sprite._childs,n=childs.length,ele;\r\n\t\tif (sprite.viewport || (sprite.optimizeScrollRect && sprite._style.scrollRect)){\r\n\t\t\tvar rect=sprite.viewport || sprite._style.scrollRect;\r\n\t\t\tvar left=rect.x;\r\n\t\t\tvar top=rect.y;\r\n\t\t\tvar right=rect.right;\r\n\t\t\tvar bottom=rect.bottom;\r\n\t\t\tvar _x=NaN,_y=NaN;\r\n\t\t\tfor (i=0;i < n;++i){\r\n\t\t\t\tif ((ele=childs [i]).visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top)){\r\n\t\t\t\t\tele.render(context,x,y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (var i=0;i < n;++i)\r\n\t\t\t(ele=(childs [i]))._style.visible && ele.render(context,x,y);\r\n\t\t}\r\n\t}\r\n\r\n\t//}\r\n\t__proto._canvas=function(sprite,context,x,y){\r\n\t\tvar _cacheCanvas=sprite._$P.cacheCanvas;\r\n\t\tif (!_cacheCanvas){\r\n\t\t\tthis._next._fun.call(this._next,sprite,context,x,y);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t_cacheCanvas.type==='bitmap' ? (Stat.canvasBitmap++):(Stat.canvasNormal++);\r\n\t\tvar tx=_cacheCanvas.ctx;\r\n\t\tif (sprite._needRepaint()|| !tx){\r\n\t\t\tthis._canvas_repaint(sprite,context,x,y);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar tRec=_cacheCanvas._cacheRec;\r\n\t\t\tcontext.drawCanvas(tx.canvas,x+tRec.x,y+tRec.y,tRec.width,tRec.height);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._canvas_repaint=function(sprite,context,x,y){\r\n\t\tvar _cacheCanvas=sprite._$P.cacheCanvas;\r\n\t\tvar _next=this._next;\r\n\t\tif (!_cacheCanvas){\r\n\t\t\t_next._fun.call(_next,sprite,tx,x,y);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar tx=_cacheCanvas.ctx;\r\n\t\tvar _repaint=sprite._needRepaint()|| (!tx);\r\n\t\tvar canvas;\r\n\t\tvar left;\r\n\t\tvar top;\r\n\t\tvar tRec;\r\n\t\tvar tCacheType=_cacheCanvas.type;\r\n\t\ttCacheType==='bitmap' ? (Stat.canvasBitmap++):(Stat.canvasNormal++);\r\n\t\tif (_repaint){\r\n\t\t\tif (!_cacheCanvas._cacheRec)\r\n\t\t\t\t_cacheCanvas._cacheRec=new Rectangle();\r\n\t\t\tvar w,h;\r\n\t\t\tif (!Render.isWebGL || tCacheType===\"bitmap\"){\r\n\t\t\t\ttRec=sprite.getSelfBounds();\r\n\t\t\t\ttRec.x=tRec.x-sprite.pivotX;\r\n\t\t\t\ttRec.y=tRec.y-sprite.pivotY;\r\n\t\t\t\ttRec.x=tRec.x-16;\r\n\t\t\t\ttRec.y=tRec.y-16;\r\n\t\t\t\ttRec.width=tRec.width+32;\r\n\t\t\t\ttRec.height=tRec.height+32;\r\n\t\t\t\ttRec.x=Math.floor(tRec.x+x)-x;\r\n\t\t\t\ttRec.y=Math.floor(tRec.y+y)-y;\r\n\t\t\t\ttRec.width=Math.floor(tRec.width);\r\n\t\t\t\ttRec.height=Math.floor(tRec.height);\r\n\t\t\t\t_cacheCanvas._cacheRec.copyFrom(tRec);\r\n\t\t\t\t}else{\r\n\t\t\t\t_cacheCanvas._cacheRec.setTo(-sprite.pivotX,-sprite.pivotY,1,1);\r\n\t\t\t}\r\n\t\t\ttRec=_cacheCanvas._cacheRec;\r\n\t\t\tvar scaleX=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleX;\r\n\t\t\tvar scaleY=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleY;\r\n\t\t\tif (!Render.isWebGL){\r\n\t\t\t\tvar chainScaleX=1;\r\n\t\t\t\tvar chainScaleY=1;\r\n\t\t\t\tvar tar;\r\n\t\t\t\ttar=sprite;\r\n\t\t\t\twhile (tar && tar !=Laya.stage){\r\n\t\t\t\t\tchainScaleX *=tar.scaleX;\r\n\t\t\t\t\tchainScaleY *=tar.scaleY;\r\n\t\t\t\t\ttar=tar.parent;\r\n\t\t\t\t}\r\n\t\t\t\tif (Render.isWebGL){\r\n\t\t\t\t\tif (chainScaleX < 1)scaleX *=chainScaleX;\r\n\t\t\t\t\tif (chainScaleY < 1)scaleY *=chainScaleY;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tif (chainScaleX > 1)scaleX *=chainScaleX;\r\n\t\t\t\t\tif (chainScaleY > 1)scaleY *=chainScaleY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sprite.scrollRect){\r\n\t\t\t\tvar scrollRect=sprite.scrollRect;\r\n\t\t\t\ttRec.x-=scrollRect.x;\r\n\t\t\t\ttRec.y-=scrollRect.y;\r\n\t\t\t}\r\n\t\t\tw=tRec.width *scaleX;\r\n\t\t\th=tRec.height *scaleY;\r\n\t\t\tleft=tRec.x;\r\n\t\t\ttop=tRec.y;\r\n\t\t\tif (Render.isWebGL && tCacheType==='bitmap' && (w > 2048 || h > 2048)){\r\n\t\t\t\tconsole.warn(\"cache bitmap size larger than 2048,cache ignored\");\r\n\t\t\t\tif (_cacheCanvas.ctx){\r\n\t\t\t\t\tPool.recover(\"RenderContext\",_cacheCanvas.ctx);\r\n\t\t\t\t\t_cacheCanvas.ctx.canvas.size(0,0);\r\n\t\t\t\t\t_cacheCanvas.ctx=null;\r\n\t\t\t\t}\r\n\t\t\t\t_next._fun.call(_next,sprite,context,x,y);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!tx){\r\n\t\t\t\ttx=_cacheCanvas.ctx=Pool.getItem(\"RenderContext\")|| new RenderContext(w,h,HTMLCanvas.create(/*laya.resource.HTMLCanvas.TYPEAUTO*/\"AUTO\"));\r\n\t\t\t}\r\n\t\t\ttx.ctx.sprite=sprite;\r\n\t\t\tcanvas=tx.canvas;\r\n\t\t\tcanvas.clear();\r\n\t\t\t(canvas.width !=w || canvas.height !=h)&& canvas.size(w,h);\r\n\t\t\tif (tCacheType==='bitmap')canvas.context.asBitmap=true;\r\n\t\t\telse if(tCacheType==='normal')canvas.context.asBitmap=false;\r\n\t\t\tvar t;\r\n\t\t\tif (scaleX !=1 || scaleY !=1){\r\n\t\t\t\tvar ctx=(tx).ctx;\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.scale(scaleX,scaleY);\r\n\t\t\t\tif (!Render.isConchWebGL && Render.isConchApp){\r\n\t\t\t\t\tt=sprite._$P.cf;\r\n\t\t\t\t\tt && ctx.setFilterMatrix && ctx.setFilterMatrix(t._mat,t._alpha);\r\n\t\t\t\t}\r\n\t\t\t\t_next._fun.call(_next,sprite,tx,-left,-top);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\tif (!Render.isConchApp || Render.isConchWebGL)sprite._applyFilters();\r\n\t\t\t\t}else {\r\n\t\t\t\tctx=(tx).ctx;\r\n\t\t\t\tif (!Render.isConchWebGL && Render.isConchApp){\r\n\t\t\t\t\tt=sprite._$P.cf;\r\n\t\t\t\t\tt && ctx.setFilterMatrix && ctx.setFilterMatrix(t._mat,t._alpha);\r\n\t\t\t\t}\r\n\t\t\t\t_next._fun.call(_next,sprite,tx,-left,-top);\r\n\t\t\t\tif (!Render.isConchApp || Render.isConchWebGL)sprite._applyFilters();\r\n\t\t\t}\r\n\t\t\tif (sprite._$P.staticCache)_cacheCanvas.reCache=false;\r\n\t\t\tStat.canvasReCache++;\r\n\t\t\t}else {\r\n\t\t\ttRec=_cacheCanvas._cacheRec;\r\n\t\t\tleft=tRec.x;\r\n\t\t\ttop=tRec.y;\r\n\t\t\tcanvas=tx.canvas;\r\n\t\t}\r\n\t\tcontext.drawCanvas(canvas,x+left,y+top,tRec.width,tRec.height);\r\n\t}\r\n\r\n\tRenderSprite.__init__=function(){\r\n\t\tvar i=0,len=0;\r\n\t\tvar initRender;\r\n\t\tinitRender=RunDriver.createRenderSprite(0x11111,null);\r\n\t\tlen=RenderSprite.renders.length=0x800 *2;\r\n\t\tfor (i=0;i < len;i++)\r\n\t\tRenderSprite.renders[i]=initRender;\r\n\t\tRenderSprite.renders[0]=RunDriver.createRenderSprite(0,null);\r\n\t\tfunction _initSame (value,o){\r\n\t\t\tvar n=0;\r\n\t\t\tfor (var i=0;i < value.length;i++){\r\n\t\t\t\tn |=value[i];\r\n\t\t\t\tRenderSprite.renders[n]=o;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_initSame([0x01,0x200,0x04,0x02],new RenderSprite(0x01,null));\r\n\t\tRenderSprite.renders[0x01 | 0x200]=RunDriver.createRenderSprite(0x01 | 0x200,null);\r\n\t\tRenderSprite.renders[0x01 | 0x04 | 0x200]=new RenderSprite(0x01 | 0x04 | 0x200,null);\r\n\t}\r\n\r\n\tRenderSprite._initRenderFun=function(sprite,context,x,y){\r\n\t\tvar type=sprite._renderType;\r\n\t\tvar r=RenderSprite.renders[type]=RenderSprite._getTypeRender(type);\r\n\t\tr._fun(sprite,context,x,y);\r\n\t}\r\n\r\n\tRenderSprite._getTypeRender=function(type){\r\n\t\tvar rst=null;\r\n\t\tvar tType=0x800;\r\n\t\twhile (tType > 1){\r\n\t\t\tif (tType & type)\r\n\t\t\t\trst=RunDriver.createRenderSprite(tType,rst);\r\n\t\t\ttType=tType >> 1;\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tRenderSprite.IMAGE=0x01;\r\n\tRenderSprite.ALPHA=0x02;\r\n\tRenderSprite.TRANSFORM=0x04;\r\n\tRenderSprite.BLEND=0x08;\r\n\tRenderSprite.CANVAS=0x10;\r\n\tRenderSprite.FILTERS=0x20;\r\n\tRenderSprite.MASK=0x40;\r\n\tRenderSprite.CLIP=0x80;\r\n\tRenderSprite.STYLE=0x100;\r\n\tRenderSprite.GRAPHICS=0x200;\r\n\tRenderSprite.CUSTOM=0x400;\r\n\tRenderSprite.CHILDS=0x800;\r\n\tRenderSprite.INIT=0x11111;\r\n\tRenderSprite.renders=[];\r\n\tRenderSprite.NORENDER=new RenderSprite(0,null);\r\n\treturn RenderSprite;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*Context扩展类\r\n*/\r\n//class laya.resource.Context\r\nvar Context=(function(){\r\n\tfunction Context(){\r\n\t\t/***@private */\r\n\t\t//this._canvas=null;\r\n\t\tthis._repaint=false;\r\n\t}\r\n\r\n\t__class(Context,'laya.resource.Context');\r\n\tvar __proto=Context.prototype;\r\n\t__proto.replaceReset=function(){\r\n\t\tvar i=0,len=0;\r\n\t\tlen=Context.replaceKeys.length;\r\n\t\tvar key;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tkey=Context.replaceKeys[i];\r\n\t\t\tthis[Context.newKeys[i]]=this[key];\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.replaceResotre=function(){\r\n\t\t/*__JS__ */this.__restore();\r\n\t\t/*__JS__ */this.__reset();\r\n\t}\r\n\r\n\t__proto.setIsMainContext=function(){}\r\n\t__proto.drawTextures=function(tex,pos,tx,ty){\r\n\t\tStat.drawCall+=pos.length / 2;\r\n\t\tvar w=tex.width;\r\n\t\tvar h=tex.height;\r\n\t\tfor (var i=0,sz=pos.length;i < sz;i+=2){\r\n\t\t\tthis.drawTexture(tex,pos[i],pos[i+1],w,h,tx,ty);\r\n\t\t}\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.drawCanvas=function(canvas,x,y,width,height){\r\n\t\tStat.drawCall++;\r\n\t\tthis.drawImage(canvas.source,x,y,width,height);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillRect=function(x,y,width,height,style){\r\n\t\tStat.drawCall++;\r\n\t\tstyle && (this.fillStyle=style);\r\n\t\t/*__JS__ */this.__fillRect(x,y,width,height);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillText=function(text,x,y,font,color,textAlign){\r\n\t\tStat.drawCall++;\r\n\t\tif (arguments.length > 3 && font !=null){\r\n\t\t\tthis.font=font;\r\n\t\t\tthis.fillStyle=color;\r\n\t\t\t/*__JS__ */this.textAlign=textAlign;\r\n\t\t\tthis.textBaseline=\"top\";\r\n\t\t}\r\n\t\t/*__JS__ */this.__fillText(text,x,y);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){\r\n\t\tStat.drawCall++;\r\n\t\tthis.font=font;\r\n\t\tthis.fillStyle=fillColor;\r\n\t\tthis.textBaseline=\"top\";\r\n\t\t/*__JS__ */this.strokeStyle=borderColor;\r\n\t\t/*__JS__ */this.lineWidth=lineWidth;\r\n\t\t/*__JS__ */this.textAlign=textAlign;\r\n\t\t/*__JS__ */this.__strokeText(text,x,y);\r\n\t\t/*__JS__ */this.__fillText(text,x,y);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){\r\n\t\tStat.drawCall++;\r\n\t\tif (arguments.length > 3 && font !=null){\r\n\t\t\tthis.font=font;\r\n\t\t\t/*__JS__ */this.strokeStyle=color;\r\n\t\t\t/*__JS__ */this.lineWidth=lineWidth;\r\n\t\t\t/*__JS__ */this.textAlign=textAlign;\r\n\t\t\tthis.textBaseline=\"top\";\r\n\t\t}\r\n\t\t/*__JS__ */this.__strokeText(text,x,y);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.transformByMatrix=function(value){\r\n\t\tthis.transform(value.a,value.b,value.c,value.d,value.tx,value.ty);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.setTransformByMatrix=function(value){\r\n\t\tthis.setTransform(value.a,value.b,value.c,value.d,value.tx,value.ty);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.clipRect=function(x,y,width,height){\r\n\t\tStat.drawCall++;\r\n\t\tthis.beginPath();\r\n\t\tthis.rect(x,y,width,height);\r\n\t\tthis.clip();\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.drawTexture=function(tex,x,y,width,height,tx,ty){\r\n\t\tStat.drawCall++;\r\n\t\tvar uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;\r\n\t\tthis.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x+tx,y+ty,width,height);\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.drawTextureWithTransform=function(tex,x,y,width,height,m,tx,ty,alpha){\r\n\t\tStat.drawCall++;\r\n\t\tvar uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;\r\n\t\tthis.save();\r\n\t\talpha !=1 && (this.globalAlpha *=alpha);\r\n\t\tif (m){\r\n\t\t\tthis.transform(m.a,m.b,m.c,m.d,m.tx+tx,m.ty+ty);\r\n\t\t\tthis.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x ,y,width,height);\r\n\t\t\t}else {\r\n\t\t\tthis.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x+tx ,y+ty,width,height);\r\n\t\t}\r\n\t\tthis.restore();\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.drawTexture2=function(x,y,pivotX,pivotY,m,alpha,blendMode,args2){\r\n\t\tvar tex=args2[0];\r\n\t\tif (!(tex.loaded && tex.bitmap && tex.source)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tStat.drawCall++;\r\n\t\tvar alphaChanged=alpha!==1;\r\n\t\tif (alphaChanged){\r\n\t\t\tvar temp=this.globalAlpha;\r\n\t\t\tthis.globalAlpha *=alpha;\r\n\t\t};\r\n\t\tvar uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;\r\n\t\tif (m){\r\n\t\t\tthis.save();\r\n\t\t\tthis.transform(m.a,m.b,m.c,m.d,m.tx+x,m.ty+y);\r\n\t\t\tthis.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX ,args2[2]-pivotY,args2[3],args2[4]);\r\n\t\t\tthis.restore();\r\n\t\t\t}else {\r\n\t\t\tthis.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX+x ,args2[2]-pivotY+y,args2[3],args2[4]);\r\n\t\t}\r\n\t\tif (alphaChanged)this.globalAlpha=temp;\r\n\t}\r\n\r\n\t__proto.fillTexture=function(texture,x,y,width,height,type,offset,other){\r\n\t\tif (!other.pat){\r\n\t\t\tif (texture.uv !=Texture.DEF_UV){\r\n\t\t\t\tvar canvas=new HTMLCanvas(\"2D\");\r\n\t\t\t\tcanvas.getContext('2d');\r\n\t\t\t\tcanvas.size(texture.width,texture.height);\r\n\t\t\t\tcanvas.context.drawTexture(texture,0,0,texture.width,texture.height,0,0);\r\n\t\t\t\ttexture=new Texture(canvas);\r\n\t\t\t}\r\n\t\t\tother.pat=this.createPattern(texture.bitmap.source,type);\r\n\t\t};\r\n\t\tvar oX=x,oY=y;\r\n\t\tvar sX=0,sY=0;\r\n\t\tif (offset){\r\n\t\t\toX+=offset.x % texture.width;\r\n\t\t\toY+=offset.y % texture.height;\r\n\t\t\tsX-=offset.x % texture.width;\r\n\t\t\tsY-=offset.y % texture.height;\r\n\t\t}\r\n\t\tthis.translate(oX,oY);\r\n\t\tthis.fillRect(sX,sY,width,height,other.pat);\r\n\t\tthis.translate(-oX,-oY);\r\n\t}\r\n\r\n\t__proto.drawTriangle=function(texture,vertices,uvs,index0,index1,index2,matrix,canvasPadding){\r\n\t\tvar source=texture.bitmap;\r\n\t\tvar textureSource=source.source;\r\n\t\tvar textureWidth=texture.width;\r\n\t\tvar textureHeight=texture.height;\r\n\t\tvar sourceWidth=source.width;\r\n\t\tvar sourceHeight=source.height;\r\n\t\tvar u0=uvs[index0] *sourceWidth;\r\n\t\tvar u1=uvs[index1] *sourceWidth;\r\n\t\tvar u2=uvs[index2] *sourceWidth;\r\n\t\tvar v0=uvs[index0+1] *sourceHeight;\r\n\t\tvar v1=uvs[index1+1] *sourceHeight;\r\n\t\tvar v2=uvs[index2+1] *sourceHeight;\r\n\t\tvar x0=vertices[index0];\r\n\t\tvar x1=vertices[index1];\r\n\t\tvar x2=vertices[index2];\r\n\t\tvar y0=vertices[index0+1];\r\n\t\tvar y1=vertices[index1+1];\r\n\t\tvar y2=vertices[index2+1];\r\n\t\tif (canvasPadding){\r\n\t\t\tvar paddingX=1;\r\n\t\t\tvar paddingY=1;\r\n\t\t\tvar centerX=(x0+x1+x2)/ 3;\r\n\t\t\tvar centerY=(y0+y1+y2)/ 3;\r\n\t\t\tvar normX=x0-centerX;\r\n\t\t\tvar normY=y0-centerY;\r\n\t\t\tvar dist=Math.sqrt((normX *normX)+(normY *normY));\r\n\t\t\tx0=centerX+((normX / dist)*(dist+paddingX));\r\n\t\t\ty0=centerY+((normY / dist)*(dist+paddingY));\r\n\t\t\tnormX=x1-centerX;\r\n\t\t\tnormY=y1-centerY;\r\n\t\t\tdist=Math.sqrt((normX *normX)+(normY *normY));\r\n\t\t\tx1=centerX+((normX / dist)*(dist+paddingX));\r\n\t\t\ty1=centerY+((normY / dist)*(dist+paddingY));\r\n\t\t\tnormX=x2-centerX;\r\n\t\t\tnormY=y2-centerY;\r\n\t\t\tdist=Math.sqrt((normX *normX)+(normY *normY));\r\n\t\t\tx2=centerX+((normX / dist)*(dist+paddingX));\r\n\t\t\ty2=centerY+((normY / dist)*(dist+paddingY));\r\n\t\t}\r\n\t\tthis.save();\r\n\t\tif (matrix)\r\n\t\t\tthis.transform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);\r\n\t\tthis.beginPath();\r\n\t\tthis.moveTo(x0,y0);\r\n\t\tthis.lineTo(x1,y1);\r\n\t\tthis.lineTo(x2,y2);\r\n\t\tthis.closePath();\r\n\t\tthis.clip();\r\n\t\tvar delta=(u0 *v1)+(v0 *u2)+(u1 *v2)-(v1 *u2)-(v0 *u1)-(u0 *v2);\r\n\t\tvar dDelta=1 / delta;\r\n\t\tvar deltaA=(x0 *v1)+(v0 *x2)+(x1 *v2)-(v1 *x2)-(v0 *x1)-(x0 *v2);\r\n\t\tvar deltaB=(u0 *x1)+(x0 *u2)+(u1 *x2)-(x1 *u2)-(x0 *u1)-(u0 *x2);\r\n\t\tvar deltaC=(u0 *v1 *x2)+(v0 *x1 *u2)+(x0 *u1 *v2)-(x0 *v1 *u2)-(v0 *u1 *x2)-(u0 *x1 *v2);\r\n\t\tvar deltaD=(y0 *v1)+(v0 *y2)+(y1 *v2)-(v1 *y2)-(v0 *y1)-(y0 *v2);\r\n\t\tvar deltaE=(u0 *y1)+(y0 *u2)+(u1 *y2)-(y1 *u2)-(y0 *u1)-(u0 *y2);\r\n\t\tvar deltaF=(u0 *v1 *y2)+(v0 *y1 *u2)+(y0 *u1 *v2)-(y0 *v1 *u2)-(v0 *u1 *y2)-(u0 *y1 *v2);\r\n\t\tthis.transform(deltaA *dDelta,deltaD *dDelta,deltaB *dDelta,deltaE *dDelta,deltaC *dDelta,deltaF *dDelta);\r\n\t\tthis.drawImage(textureSource,texture.uv[0] *sourceWidth,texture.uv[1] *sourceHeight,textureWidth,textureHeight,texture.uv[0] *sourceWidth,texture.uv[1] *sourceHeight,textureWidth,textureHeight);\r\n\t\tthis.restore();\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.flush=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillWords=function(words,x,y,font,color,underLine){\r\n\t\tfont && (this.font=font);\r\n\t\tcolor && (this.fillStyle=color);\r\n\t\tvar _this=this;\r\n\t\tthis.textBaseline=\"top\";\r\n\t\t/*__JS__ */this.textAlign='left';\r\n\t\tfor (var i=0,n=words.length;i < n;i++){\r\n\t\t\tvar a=words[i];\r\n\t\t\t/*__JS__ */this.__fillText(a.char,a.x+x,a.y+y);\r\n\t\t\tif (underLine===1){\r\n\t\t\t\tvar tHeight=a.height;\r\n\t\t\t\tvar dX=a.style.letterSpacing*0.5;\r\n\t\t\t\tif (!dX)dX=0;\r\n\t\t\t\tthis.beginPath();\r\n\t\t\t\tthis.strokeStyle=color;\r\n\t\t\t\tthis.lineWidth=1;\r\n\t\t\t\tthis.moveTo(x+a.x-dX+0.5,y+a.y+tHeight+0.5);\r\n\t\t\t\tthis.lineTo(x+a.x+a.width+dX+0.5,y+a.y+tHeight+0.5);\r\n\t\t\t\tthis.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.fillBorderWords=function(words,x,y,font,color,borderColor,lineWidth){\r\n\t\tfont && (this.font=font);\r\n\t\tcolor && (this.fillStyle=color);\r\n\t\tthis.textBaseline=\"top\";\r\n\t\t/*__JS__ */this.lineWidth=lineWidth;\r\n\t\t/*__JS__ */this.textAlign='left';\r\n\t\t/*__JS__ */this.strokeStyle=borderColor;\r\n\t\tfor (var i=0,n=words.length;i < n;i++){\r\n\t\t\tvar a=words[i];\r\n\t\t\t/*__JS__ */this.__strokeText(a.char,a.x+x,a.y+y);\r\n\t\t\t/*__JS__ */this.__fillText(a.char,a.x+x,a.y+y);\r\n\t\t}\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.destroy=function(){\r\n\t\t/*__JS__ */this.canvas.width=this.canvas.height=0;\r\n\t}\r\n\r\n\t/***@private */\r\n\t__proto.clear=function(){\r\n\t\tthis.clearRect(0,0,this._canvas.width,this._canvas.height);\r\n\t\tthis._repaint=false;\r\n\t}\r\n\r\n\t__proto.drawCurves=function(x,y,args){\r\n\t\tthis.beginPath();\r\n\t\tthis.strokeStyle=args[3];\r\n\t\tthis.lineWidth=args[4];\r\n\t\tvar points=args[2];\r\n\t\tx+=args[0],y+=args[1];\r\n\t\tthis.moveTo(x+points[0],y+points[1]);\r\n\t\tvar i=2,n=points.length;\r\n\t\twhile (i < n){\r\n\t\t\tthis.quadraticCurveTo(x+points[i++],y+points[i++],x+points[i++],y+points[i++]);\r\n\t\t}\r\n\t\tthis.stroke();\r\n\t}\r\n\r\n\tContext.__init__=function(to){\r\n\t\tvar from=laya.resource.Context.prototype;\r\n\t\tto=to || /*__JS__ */CanvasRenderingContext2D.prototype;\r\n\t\tif (to.inited)return;\r\n\t\tto.inited=true;\r\n\t\tto.__fillText=to.fillText;\r\n\t\tto.__fillRect=to.fillRect;\r\n\t\tto.__strokeText=to.strokeText;\r\n\t\tvar funs=['drawTextures',\"drawTriangle\",'fillWords','fillBorderWords','setIsMainContext','fillRect','strokeText','fillTexture','fillText','transformByMatrix','setTransformByMatrix','clipRect','drawTexture','drawTexture2','drawTextureWithTransform','flush','clear','destroy','drawCanvas','fillBorderText','drawCurves'];\r\n\t\tfuns.forEach(function(i){\r\n\t\t\tto[i]=from[i];\r\n\t\t});\r\n\t}\r\n\r\n\tContext.replaceCanvasGetSet=function(tar,key){\r\n\t\tvar oldO=/*__JS__ */Object.getOwnPropertyDescriptor(tar,key);\r\n\t\tif (!oldO||!oldO.configurable)return false;\r\n\t\tvar newO={};\r\n\t\tvar tkey;\r\n\t\tfor (tkey in oldO){\r\n\t\t\tif (tkey !=\"set\"){\r\n\t\t\t\tnewO[tkey]=oldO[tkey];\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar preFun=oldO[\"set\"];\r\n\t\tnewO[\"set\"]=function (v){\r\n\t\t\tvar _self=/*__JS__ */this;\r\n\t\t\tpreFun.call(_self,v);\r\n\t\t\tvar _ct=_self.getContext(\"2d\");\r\n\t\t\tif (_ct && \"__reset\" in _ct){\r\n\t\t\t\t_ct.__reset();\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*__JS__ */Object.defineProperty(tar,key,newO);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tContext.replaceGetSet=function(tar,key){\r\n\t\tvar oldO=/*__JS__ */Object.getOwnPropertyDescriptor(tar,key);\r\n\t\tif (!oldO||!oldO.configurable)return false;\r\n\t\tvar newO={};\r\n\t\tvar tkey;\r\n\t\tfor (tkey in oldO){\r\n\t\t\tif (tkey !=\"set\"){\r\n\t\t\t\tnewO[tkey]=oldO[tkey];\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar preFun=oldO[\"set\"];\r\n\t\tvar dataKey=\"___\"+key+\"__\";\r\n\t\tContext.newKeys.push(dataKey);\r\n\t\tnewO[\"set\"]=function (v){\r\n\t\t\tvar _self=/*__JS__ */this;\r\n\t\t\tif (v !=_self[dataKey]){\r\n\t\t\t\t_self[dataKey]=v;\r\n\t\t\t\tpreFun.call(_self,v);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*__JS__ */Object.defineProperty(tar,key,newO);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tContext._default=new Context();\r\n\tContext.newKeys=[];\r\n\t__static(Context,\r\n\t['replaceKeys',function(){return this.replaceKeys=[\"font\",\"fillStyle\",\"textBaseline\"];}\r\n\t]);\r\n\treturn Context;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>ResourceManager</code> 是资源管理类。它用于资源的载入、获取、销毁。\r\n*/\r\n//class laya.resource.ResourceManager\r\nvar ResourceManager=(function(){\r\n\tfunction ResourceManager(name){\r\n\t\t/**唯一标识ID。*/\r\n\t\tthis._id=0;\r\n\t\t/**名字。*/\r\n\t\tthis._name=null;\r\n\t\t/**所管理资源。*/\r\n\t\tthis._resources=null;\r\n\t\t/**所管理资源的累计内存,以字节为单位。*/\r\n\t\tthis._memorySize=0;\r\n\t\t/**垃圾回收比例，范围是0到1。*/\r\n\t\tthis._garbageCollectionRate=NaN;\r\n\t\t/**自动释放机制中内存是否溢出。*/\r\n\t\tthis._isOverflow=false;\r\n\t\t/**是否启用自动释放机制。*/\r\n\t\tthis.autoRelease=false;\r\n\t\t/**自动释放机制的内存触发上限,以字节为单位。*/\r\n\t\tthis.autoReleaseMaxSize=0;\r\n\t\tthis._id=++ResourceManager._uniqueIDCounter;\r\n\t\tthis._name=name ? name :\"Content Manager\";\r\n\t\tResourceManager._isResourceManagersSorted=false;\r\n\t\tthis._memorySize=0;\r\n\t\tthis._isOverflow=false;\r\n\t\tthis.autoRelease=false;\r\n\t\tthis.autoReleaseMaxSize=1024 *1024 *512;\r\n\t\tthis._garbageCollectionRate=0.2;\r\n\t\tResourceManager._resourceManagers.push(this);\r\n\t\tthis._resources=[];\r\n\t}\r\n\r\n\t__class(ResourceManager,'laya.resource.ResourceManager');\r\n\tvar __proto=ResourceManager.prototype;\r\n\tLaya.imps(__proto,{\"laya.resource.IDispose\":true})\r\n\t/**\r\n\t*获取指定索引的资源 Resource 对象。\r\n\t*@param 索引。\r\n\t*@return 资源 Resource 对象。\r\n\t*/\r\n\t__proto.getResourceByIndex=function(index){\r\n\t\treturn this._resources[index];\r\n\t}\r\n\r\n\t/**\r\n\t*获取此管理器所管理的资源个数。\r\n\t*@return 资源个数。\r\n\t*/\r\n\t__proto.getResourcesLength=function(){\r\n\t\treturn this._resources.length;\r\n\t}\r\n\r\n\t/**\r\n\t*添加指定资源。\r\n\t*@param resource 需要添加的资源 Resource 对象。\r\n\t*@return 是否添加成功。\r\n\t*/\r\n\t__proto.addResource=function(resource){\r\n\t\tif (resource.resourceManager)\r\n\t\t\tresource.resourceManager.removeResource(resource);\r\n\t\tvar index=this._resources.indexOf(resource);\r\n\t\tif (index===-1){\r\n\t\t\tresource._resourceManager=this;\r\n\t\t\tthis._resources.push(resource);\r\n\t\t\tthis.addSize(resource.memorySize);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*移除指定资源。\r\n\t*@param resource 需要移除的资源 Resource 对象\r\n\t*@return 是否移除成功。\r\n\t*/\r\n\t__proto.removeResource=function(resource){\r\n\t\tvar index=this._resources.indexOf(resource);\r\n\t\tif (index!==-1){\r\n\t\t\tthis._resources.splice(index,1);\r\n\t\t\tresource._resourceManager=null;\r\n\t\t\tthis._memorySize-=resource.memorySize;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*卸载此资源管理器载入的资源。\r\n\t*/\r\n\t__proto.unload=function(){\r\n\t\tvar tempResources=this._resources.slice(0,this._resources.length);\r\n\t\tfor (var i=0;i < tempResources.length;i++){\r\n\t\t\tvar resource=tempResources[i];\r\n\t\t\tresource.destroy();\r\n\t\t}\r\n\t\ttempResources.length=0;\r\n\t}\r\n\r\n\t/**释放资源。*/\r\n\t__proto.dispose=function(){\r\n\t\tif (this===ResourceManager._systemResourceManager)\r\n\t\t\tthrow new Error(\"systemResourceManager不能被释放！\");\r\n\t\tResourceManager._resourceManagers.splice(ResourceManager._resourceManagers.indexOf(this),1);\r\n\t\tResourceManager._isResourceManagersSorted=false;\r\n\t\tvar tempResources=this._resources.slice(0,this._resources.length);\r\n\t\tfor (var i=0;i < tempResources.length;i++){\r\n\t\t\tvar resource=tempResources[i];\r\n\t\t\tresource.resourceManager.removeResource(resource);\r\n\t\t\tresource.destroy();\r\n\t\t}\r\n\t\ttempResources.length=0;\r\n\t}\r\n\r\n\t/**\r\n\t*增加内存。\r\n\t*@param add 需要增加的内存大小。\r\n\t*/\r\n\t__proto.addSize=function(add){\r\n\t\tif (add){\r\n\t\t\tif (this.autoRelease && add > 0)\r\n\t\t\t\t((this._memorySize+add)> this.autoReleaseMaxSize)&& (this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize));\r\n\t\t\tthis._memorySize+=add;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*垃圾回收。\r\n\t*@param reserveSize 保留尺寸。\r\n\t*/\r\n\t__proto.garbageCollection=function(reserveSize){\r\n\t\tvar all=this._resources;\r\n\t\tall=all.slice();\r\n\t\tall.sort(function(a,b){\r\n\t\t\tif (!a || !b)\r\n\t\t\t\tthrow new Error(\"a或b不能为空！\");\r\n\t\t\tif (a.released && b.released)\r\n\t\t\t\treturn 0;\r\n\t\t\telse if (a.released)\r\n\t\t\treturn 1;\r\n\t\t\telse if (b.released)\r\n\t\t\treturn-1;\r\n\t\t\treturn a._lastUseFrameCount-b._lastUseFrameCount;\r\n\t\t});\r\n\t\tvar currentFrameCount=Stat.loopCount;\r\n\t\tfor (var i=0,n=all.length;i < n;i++){\r\n\t\t\tvar resou=all[i];\r\n\t\t\tif (currentFrameCount-resou._lastUseFrameCount > 1){\r\n\t\t\t\tresou.releaseResource();\r\n\t\t\t\t}else {\r\n\t\t\t\tif (this._memorySize >=reserveSize)\r\n\t\t\t\t\tthis._isOverflow=true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this._memorySize < reserveSize){\r\n\t\t\t\tthis._isOverflow=false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*唯一标识 ID 。\r\n\t*/\r\n\t__getset(0,__proto,'id',function(){\r\n\t\treturn this._id;\r\n\t});\r\n\r\n\t/**\r\n\t*名字。\r\n\t*/\r\n\t__getset(0,__proto,'name',function(){\r\n\t\treturn this._name;\r\n\t\t},function(value){\r\n\t\tif ((value || value!==\"\")&& this._name!==value){\r\n\t\t\tthis._name=value;\r\n\t\t\tResourceManager._isResourceManagersSorted=false;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*此管理器所管理资源的累计内存，以字节为单位。\r\n\t*/\r\n\t__getset(0,__proto,'memorySize',function(){\r\n\t\treturn this._memorySize;\r\n\t});\r\n\r\n\t/**\r\n\t*系统资源管理器。\r\n\t*/\r\n\t__getset(1,ResourceManager,'systemResourceManager',function(){\r\n\t\treturn ResourceManager._systemResourceManager;\r\n\t});\r\n\r\n\tResourceManager.__init__=function(){\r\n\t\tResourceManager.currentResourceManager=ResourceManager.systemResourceManager;\r\n\t}\r\n\r\n\tResourceManager.getLoadedResourceManagerByIndex=function(index){\r\n\t\treturn ResourceManager._resourceManagers[index];\r\n\t}\r\n\r\n\tResourceManager.getLoadedResourceManagersCount=function(){\r\n\t\treturn ResourceManager._resourceManagers.length;\r\n\t}\r\n\r\n\tResourceManager.recreateContentManagers=function(force){\r\n\t\t(force===void 0)&& (force=false);\r\n\t\tvar temp=ResourceManager.currentResourceManager;\r\n\t\tfor (var i=0;i < ResourceManager._resourceManagers.length;i++){\r\n\t\t\tResourceManager.currentResourceManager=ResourceManager._resourceManagers[i];\r\n\t\t\tfor (var j=0;j < ResourceManager.currentResourceManager._resources.length;j++){\r\n\t\t\t\tResourceManager.currentResourceManager._resources[j].releaseResource(force);\r\n\t\t\t\tResourceManager.currentResourceManager._resources[j].activeResource(force);\r\n\t\t\t}\r\n\t\t}\r\n\t\tResourceManager.currentResourceManager=temp;\r\n\t}\r\n\r\n\tResourceManager.releaseContentManagers=function(force){\r\n\t\t(force===void 0)&& (force=false);\r\n\t\tvar temp=ResourceManager.currentResourceManager;\r\n\t\tfor (var i=0;i < ResourceManager._resourceManagers.length;i++){\r\n\t\t\tResourceManager.currentResourceManager=ResourceManager._resourceManagers[i];\r\n\t\t\tfor (var j=0;j < ResourceManager.currentResourceManager._resources.length;j++){\r\n\t\t\t\tvar resource=ResourceManager.currentResourceManager._resources[j];\r\n\t\t\t\t(!resource.released)&& (resource.releaseResource(force));\r\n\t\t\t}\r\n\t\t}\r\n\t\tResourceManager.currentResourceManager=temp;\r\n\t}\r\n\r\n\tResourceManager._uniqueIDCounter=0;\r\n\tResourceManager._isResourceManagersSorted=false;\r\n\tResourceManager._resourceManagers=[];\r\n\t__static(ResourceManager,\r\n\t['_systemResourceManager',function(){return this._systemResourceManager=new ResourceManager(\"System Resource Manager\");},'currentResourceManager',function(){return this.currentResourceManager=ResourceManager._systemResourceManager;}\r\n\t]);\r\n\treturn ResourceManager;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.system.System\r\nvar System=(function(){\r\n\tfunction System(){}\r\n\t__class(System,'laya.system.System');\r\n\tSystem.changeDefinition=function(name,classObj){\r\n\t\tLaya[name]=classObj;\r\n\t\tvar str=name+\"=classObj\";\r\n\t\tLaya._runScript(str);\r\n\t}\r\n\r\n\tSystem.__init__=function(){\r\n\t\tif (Render.isConchApp){\r\n\t\t\t/*__JS__ */conch.disableConchResManager();\r\n\t\t\t/*__JS__ */conch.disableConchAutoRestoreLostedDevice();\r\n\t\t}\r\n\t}\r\n\r\n\treturn System;\r\n})()\r\n\r\n\r\nSoundManager;\r\n/**\r\n*<code>Browser</code> 是浏览器代理类。封装浏览器及原生 js 提供的一些功能。\r\n*/\r\n//class laya.utils.Browser\r\nvar Browser=(function(){\r\n\tfunction Browser(){}\r\n\t__class(Browser,'laya.utils.Browser');\r\n\t/**设备像素比。*/\r\n\t__getset(1,Browser,'pixelRatio',function(){\r\n\t\tBrowser.__init__();\r\n\t\tif (Browser.userAgent.indexOf(\"Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)\")>-1)return 2;\r\n\t\treturn RunDriver.getPixelRatio();\r\n\t});\r\n\r\n\t/**浏览器窗口物理高度，其值等于clientHeight *pixelRatio，并且浏览器发生反转之后，宽高会互换。*/\r\n\t__getset(1,Browser,'height',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientWidth :Browser.clientHeight)*Browser.pixelRatio;\r\n\t});\r\n\r\n\t/**\r\n\t*浏览器窗口可视宽度。\r\n\t*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerWidth(包含滚动条宽度)> document.body.clientWidth(不包含滚动条宽度)，如果前者为0或为空，则选择后者。\r\n\t*/\r\n\t__getset(1,Browser,'clientWidth',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser.window.innerWidth || Browser.document.body.clientWidth;\r\n\t});\r\n\r\n\t/**浏览器原生 window 对象的引用。*/\r\n\t__getset(1,Browser,'window',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser._window;\r\n\t});\r\n\r\n\t/**\r\n\t*浏览器窗口可视高度。\r\n\t*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerHeight(包含滚动条高度)> document.body.clientHeight(不包含滚动条高度)> document.documentElement.clientHeight(不包含滚动条高度)，如果前者为0或为空，则选择后者。\r\n\t*/\r\n\t__getset(1,Browser,'clientHeight',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser.window.innerHeight || Browser.document.body.clientHeight || Browser.document.documentElement.clientHeight;\r\n\t});\r\n\r\n\t/**浏览器窗口物理宽度，其值等于clientWidth *pixelRatio，并且浏览器发生反转之后，宽高会互换。*/\r\n\t__getset(1,Browser,'width',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientHeight :Browser.clientWidth)*Browser.pixelRatio;\r\n\t});\r\n\r\n\t/**画布容器，用来盛放画布的容器。方便对画布进行控制*/\r\n\t__getset(1,Browser,'container',function(){\r\n\t\tBrowser.__init__();\r\n\t\tif (!Browser._container){\r\n\t\t\tBrowser._container=Browser.createElement(\"div\");\r\n\t\t\tBrowser._container.id=\"layaContainer\";\r\n\t\t\tBrowser.document.body.appendChild(Browser._container);\r\n\t\t}\r\n\t\treturn Browser._container;\r\n\t\t},function(value){\r\n\t\tBrowser._container=value;\r\n\t});\r\n\r\n\t/**浏览器原生 document 对象的引用。*/\r\n\t__getset(1,Browser,'document',function(){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser._document;\r\n\t});\r\n\r\n\tBrowser.__init__=function(){\r\n\t\tSoundManager;\r\n\t\tif (Browser._window)return;\r\n\t\tBrowser._window=RunDriver.getWindow();\r\n\t\tBrowser._document=Browser.window.document;\r\n\t\tBrowser._window.addEventListener('message',function(e){\r\n\t\t\tlaya.utils.Browser._onMessage(e);\r\n\t\t},false);\r\n\t\t/*__JS__ */Browser.document.__createElement=Browser.document.createElement;\r\n\t\t/*__JS__ */window.requestAnimationFrame=window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (c){return window.setTimeout(c,1000 / 60);};;\r\n\t\t/*__JS__ */var $BS=window.document.body.style;$BS['-webkit-user-select']='none';$BS['-webkit-tap-highlight-color']='rgba(200,200,200,0)';;\r\n\t\tBrowser.userAgent=/*[SAFE]*/ Browser.window.navigator.userAgent;\r\n\t\tBrowser.u=/*[SAFE]*/ Browser.userAgent;\r\n\t\tBrowser.onIOS=/*[SAFE]*/ !!Browser.u.match(/\\(i[^;]+;(U;)? CPU.+Mac OS X/);\r\n\t\tBrowser.onMobile=/*[SAFE]*/ Browser.u.indexOf(\"Mobile\")>-1;\r\n\t\tBrowser.onIPhone=/*[SAFE]*/ Browser.u.indexOf(\"iPhone\")>-1;\r\n\t\tBrowser.onMac=/*[SAFE]*/ Browser.u.indexOf(\"Mac OS X\")>-1;\r\n\t\tBrowser.onIPad=/*[SAFE]*/ Browser.u.indexOf(\"iPad\")>-1;\r\n\t\tBrowser.onAndroid=/*[SAFE]*/ Browser.u.indexOf('Android')>-1 || Browser.u.indexOf('Adr')>-1;\r\n\t\tBrowser.onWP=/*[SAFE]*/ Browser.u.indexOf(\"Windows Phone\")>-1;\r\n\t\tBrowser.onQQBrowser=/*[SAFE]*/ Browser.u.indexOf(\"QQBrowser\")>-1;\r\n\t\tBrowser.onMQQBrowser=/*[SAFE]*/ Browser.u.indexOf(\"MQQBrowser\")>-1 || (Browser.u.indexOf(\"Mobile\")>-1 && Browser.u.indexOf(\"QQ\")>-1);\r\n\t\tBrowser.onIE=/*[SAFE]*/ !!Browser.window.ActiveXObject || \"ActiveXObject\" in Browser.window;\r\n\t\tBrowser.onWeiXin=/*[SAFE]*/ Browser.u.indexOf('MicroMessenger')>-1;\r\n\t\tBrowser.onPC=/*[SAFE]*/ !Browser.onMobile;\r\n\t\tBrowser.onSafari=/*[SAFE]*/ Browser.u.indexOf(\"Safari\")>-1;\r\n\t\tBrowser.onFirefox=/*[SAFE]*/ Browser.u.indexOf('Firefox')>-1;\r\n\t\tBrowser.onEdge=/*[SAFE]*/ Browser.u.indexOf('Edge')>-1;\r\n\t\tBrowser.onMiniGame=/*[SAFE]*/ Browser.u.indexOf('MiniGame')>-1;\r\n\t\tBrowser.onLimixiu=/*[SAFE]*/ Browser.u.indexOf('limixiu')>-1;\r\n\t\tBrowser.httpProtocol=/*[SAFE]*/ Browser.window.location.protocol==\"http:\";\r\n\t\tif (Browser.onMiniGame && Browser.window.focus==null){\r\n\t\t\tconsole.error(\"请先初始化小游戏适配库，详细教程https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0\");\r\n\t\t}\r\n\t\tBrowser.webAudioEnabled=/*[SAFE]*/ Browser.window[\"AudioContext\"] || Browser.window[\"webkitAudioContext\"] || Browser.window[\"mozAudioContext\"] ? true :false;\r\n\t\tBrowser.soundType=/*[SAFE]*/ Browser.webAudioEnabled ? \"WEBAUDIOSOUND\" :\"AUDIOSOUND\";\r\n\t\t/*__JS__ */Sound=Browser.webAudioEnabled?WebAudioSound:AudioSound;;\r\n\t\t/*__JS__ */if (Browser.webAudioEnabled)WebAudioSound.initWebAudio();;\r\n\t\tAudioSound._initMusicAudio();\r\n\t\t/*__JS__ */Browser.enableTouch=(('ontouchstart' in window)|| window.DocumentTouch && document instanceof DocumentTouch);\r\n\t\t/*__JS__ */window.focus();\r\n\t\t/*__JS__ */SoundManager._soundClass=Sound;;\r\n\t\tSoundManager._musicClass=AudioSound;\r\n\t\tRender._mainCanvas=Render._mainCanvas || HTMLCanvas.create('2D');\r\n\t\tif (Browser.canvas)return;\r\n\t\tBrowser.canvas=HTMLCanvas.create('2D');\r\n\t\tBrowser.context=Browser.canvas.getContext('2d');\r\n\t}\r\n\r\n\tBrowser._onMessage=function(e){\r\n\t\tif (!e.data)return;\r\n\t\tif (e.data.name==\"size\"){\r\n\t\t\tBrowser.window.innerWidth=e.data.width;\r\n\t\t\tBrowser.window.innerHeight=e.data.height;\r\n\t\t\tBrowser.window.__innerHeight=e.data.clientHeight;\r\n\t\t\tif (!Browser.document.createEvent){\r\n\t\t\t\tconsole.warn(\"no document.createEvent\");\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar evt=Browser.document.createEvent(\"HTMLEvents\");\r\n\t\t\tevt.initEvent(\"resize\",false,false);\r\n\t\t\tBrowser.window.dispatchEvent(evt);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tBrowser.createElement=function(type){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser.document.__createElement(type);\r\n\t}\r\n\r\n\tBrowser.getElementById=function(type){\r\n\t\tBrowser.__init__();\r\n\t\treturn Browser.document.getElementById(type);\r\n\t}\r\n\r\n\tBrowser.removeElement=function(ele){\r\n\t\tif (ele && ele.parentNode)ele.parentNode.removeChild(ele);\r\n\t}\r\n\r\n\tBrowser.now=function(){\r\n\t\treturn RunDriver.now();\r\n\t}\r\n\r\n\tBrowser._window=null;\r\n\tBrowser._document=null;\r\n\tBrowser._container=null;\r\n\tBrowser.userAgent=null;\r\n\tBrowser.u=null;\r\n\tBrowser.onIOS=false;\r\n\tBrowser.onMac=false;\r\n\tBrowser.onMobile=false;\r\n\tBrowser.onIPhone=false;\r\n\tBrowser.onIPad=false;\r\n\tBrowser.onAndroid=false;\r\n\tBrowser.onWP=false;\r\n\tBrowser.onQQBrowser=false;\r\n\tBrowser.onMQQBrowser=false;\r\n\tBrowser.onSafari=false;\r\n\tBrowser.onFirefox=false;\r\n\tBrowser.onEdge=false;\r\n\tBrowser.onIE=false;\r\n\tBrowser.onWeiXin=false;\r\n\tBrowser.onMiniGame=false;\r\n\tBrowser.onLimixiu=false;\r\n\tBrowser.onPC=false;\r\n\tBrowser.httpProtocol=false;\r\n\tBrowser.webAudioEnabled=false;\r\n\tBrowser.soundType=null;\r\n\tBrowser.enableTouch=false;\r\n\tBrowser.canvas=null;\r\n\tBrowser.context=null;\r\n\tBrowser.__init$=function(){\r\n\t\tAudioSound;\r\n\t\tWebAudioSound;\r\n\t}\r\n\r\n\treturn Browser;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>Byte</code> 类提供用于优化读取、写入以及处理二进制数据的方法和属性。</p>\r\n*<p><b>注意：</b> <code>Byte</code> 类适用于需要在字节层访问数据的高级开发人员。</p>\r\n*/\r\n//class laya.utils.Byte\r\nvar Byte=(function(){\r\n\tfunction Byte(data){\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*是否为小端数据。\r\n\t\t*/\r\n\t\tthis._xd_=true;\r\n\t\tthis._allocated_=8;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*原始数据。\r\n\t\t*/\r\n\t\t//this._d_=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*DataView\r\n\t\t*/\r\n\t\t//this._u8d_=null;\r\n\t\t/**@private */\r\n\t\tthis._pos_=0;\r\n\t\t/**@private */\r\n\t\tthis._length=0;\r\n\t\tif (data){\r\n\t\t\tthis._u8d_=new Uint8Array(data);\r\n\t\t\tthis._d_=new DataView(this._u8d_.buffer);\r\n\t\t\tthis._length=this._d_.byteLength;\r\n\t\t\t}else {\r\n\t\t\tthis.___resizeBuffer(this._allocated_);\r\n\t\t}\r\n\t}\r\n\r\n\t__class(Byte,'laya.utils.Byte');\r\n\tvar __proto=Byte.prototype;\r\n\t/**@private */\r\n\t__proto.___resizeBuffer=function(len){\r\n\t\ttry {\r\n\t\t\tvar newByteView=new Uint8Array(len);\r\n\t\t\tif (this._u8d_ !=null){\r\n\t\t\t\tif (this._u8d_.length <=len)newByteView.set(this._u8d_);\r\n\t\t\t\telse newByteView.set(this._u8d_.subarray(0,len));\r\n\t\t\t}\r\n\t\t\tthis._u8d_=newByteView;\r\n\t\t\tthis._d_=new DataView(newByteView.buffer);\r\n\t\t\t}catch (err){\r\n\t\t\tthrow \"___resizeBuffer err:\"+len;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*<p>常用于解析固定格式的字节流。</p>\r\n\t*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.getString=function(){\r\n\t\treturn this.rUTF(this.getUint16());\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。\r\n\t*@param start 开始位置。\r\n\t*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\r\n\t*@return 读取的 Float32Array 对象。\r\n\t*/\r\n\t__proto.getFloat32Array=function(start,len){\r\n\t\tvar end=start+len;\r\n\t\tend=(end > this._length)? this._length :end;\r\n\t\tvar v=new Float32Array(this._d_.buffer.slice(start,end));\r\n\t\tthis._pos_=end;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。\r\n\t*@param start 开始位置。\r\n\t*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\r\n\t*@return 读取的 Uint8Array 对象。\r\n\t*/\r\n\t__proto.getUint8Array=function(start,len){\r\n\t\tvar end=start+len;\r\n\t\tend=(end > this._length)? this._length :end;\r\n\t\tvar v=new Uint8Array(this._d_.buffer.slice(start,end));\r\n\t\tthis._pos_=end;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。\r\n\t*@param start 开始读取的字节偏移量位置。\r\n\t*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。\r\n\t*@return 读取的 Uint8Array 对象。\r\n\t*/\r\n\t__proto.getInt16Array=function(start,len){\r\n\t\tvar end=start+len;\r\n\t\tend=(end > this._length)? this._length :end;\r\n\t\tvar v=new Int16Array(this._d_.buffer.slice(start,end));\r\n\t\tthis._pos_=end;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。\r\n\t*@return 单精度（32 位）浮点数。\r\n\t*/\r\n\t__proto.getFloat32=function(){\r\n\t\tif (this._pos_+4 > this._length)throw \"getFloat32 error - Out of bounds\";\r\n\t\tvar v=this._d_.getFloat32(this._pos_,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。\r\n\t*@return 双精度（64 位）浮点数。\r\n\t*/\r\n\t__proto.getFloat64=function(){\r\n\t\tif (this._pos_+8 > this._length)throw \"getFloat64 error - Out of bounds\";\r\n\t\tvar v=this._d_.getFloat64(this._pos_,this._xd_);\r\n\t\tthis._pos_+=8;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入一个 IEEE 754 单精度（32 位）浮点数。\r\n\t*@param value 单精度（32 位）浮点数。\r\n\t*/\r\n\t__proto.writeFloat32=function(value){\r\n\t\tthis.ensureWrite(this._pos_+4);\r\n\t\tthis._d_.setFloat32(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入一个 IEEE 754 双精度（64 位）浮点数。\r\n\t*@param value 双精度（64 位）浮点数。\r\n\t*/\r\n\t__proto.writeFloat64=function(value){\r\n\t\tthis.ensureWrite(this._pos_+8);\r\n\t\tthis._d_.setFloat64(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=8;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 Int32 值。\r\n\t*@return Int32 值。\r\n\t*/\r\n\t__proto.getInt32=function(){\r\n\t\tif (this._pos_+4 > this._length)throw \"getInt32 error - Out of bounds\";\r\n\t\tvar float=this._d_.getInt32(this._pos_,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t\treturn float;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 Uint32 值。\r\n\t*@return Uint32 值。\r\n\t*/\r\n\t__proto.getUint32=function(){\r\n\t\tif (this._pos_+4 > this._length)throw \"getUint32 error - Out of bounds\";\r\n\t\tvar v=this._d_.getUint32(this._pos_,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入指定的 Int32 值。\r\n\t*@param value 需要写入的 Int32 值。\r\n\t*/\r\n\t__proto.writeInt32=function(value){\r\n\t\tthis.ensureWrite(this._pos_+4);\r\n\t\tthis._d_.setInt32(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入 Uint32 值。\r\n\t*@param value 需要写入的 Uint32 值。\r\n\t*/\r\n\t__proto.writeUint32=function(value){\r\n\t\tthis.ensureWrite(this._pos_+4);\r\n\t\tthis._d_.setUint32(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=4;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 Int16 值。\r\n\t*@return Int16 值。\r\n\t*/\r\n\t__proto.getInt16=function(){\r\n\t\tif (this._pos_+2 > this._length)throw \"getInt16 error - Out of bounds\";\r\n\t\tvar us=this._d_.getInt16(this._pos_,this._xd_);\r\n\t\tthis._pos_+=2;\r\n\t\treturn us;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 Uint16 值。\r\n\t*@return Uint16 值。\r\n\t*/\r\n\t__proto.getUint16=function(){\r\n\t\tif (this._pos_+2 > this._length)throw \"getUint16 error - Out of bounds\";\r\n\t\tvar us=this._d_.getUint16(this._pos_,this._xd_);\r\n\t\tthis._pos_+=2;\r\n\t\treturn us;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入指定的 Uint16 值。\r\n\t*@param value 需要写入的Uint16 值。\r\n\t*/\r\n\t__proto.writeUint16=function(value){\r\n\t\tthis.ensureWrite(this._pos_+2);\r\n\t\tthis._d_.setUint16(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=2;\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入指定的 Int16 值。\r\n\t*@param value 需要写入的 Int16 值。\r\n\t*/\r\n\t__proto.writeInt16=function(value){\r\n\t\tthis.ensureWrite(this._pos_+2);\r\n\t\tthis._d_.setInt16(this._pos_,value,this._xd_);\r\n\t\tthis._pos_+=2;\r\n\t}\r\n\r\n\t/**\r\n\t*从字节流的当前字节偏移量位置处读取一个 Uint8 值。\r\n\t*@return Uint8 值。\r\n\t*/\r\n\t__proto.getUint8=function(){\r\n\t\tif (this._pos_+1 > this._length)throw \"getUint8 error - Out of bounds\";\r\n\t\treturn this._d_.getUint8(this._pos_++);\r\n\t}\r\n\r\n\t/**\r\n\t*在字节流的当前字节偏移量位置处写入指定的 Uint8 值。\r\n\t*@param value 需要写入的 Uint8 值。\r\n\t*/\r\n\t__proto.writeUint8=function(value){\r\n\t\tthis.ensureWrite(this._pos_+1);\r\n\t\tthis._d_.setUint8(this._pos_,value);\r\n\t\tthis._pos_++;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*从字节流的指定字节偏移量位置处读取一个 Uint8 值。\r\n\t*@param pos 字节读取位置。\r\n\t*@return Uint8 值。\r\n\t*/\r\n\t__proto._getUInt8=function(pos){\r\n\t\treturn this._d_.getUint8(pos);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*从字节流的指定字节偏移量位置处读取一个 Uint16 值。\r\n\t*@param pos 字节读取位置。\r\n\t*@return Uint16 值。\r\n\t*/\r\n\t__proto._getUint16=function(pos){\r\n\t\treturn this._d_.getUint16(pos,this._xd_);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。\r\n\t*@return Matrix 对象。\r\n\t*/\r\n\t__proto._getMatrix=function(){\r\n\t\tvar rst=new Matrix(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*读取指定长度的 UTF 型字符串。\r\n\t*@param len 需要读取的长度。\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.rUTF=function(len){\r\n\t\tvar v=\"\",max=this._pos_+len,c=0,c2=0,c3=0,f=String.fromCharCode;\r\n\t\tvar u=this._u8d_,i=0;\r\n\t\twhile (this._pos_ < max){\r\n\t\t\tc=u[this._pos_++];\r\n\t\t\tif (c < 0x80){\r\n\t\t\t\tif (c !=0){\r\n\t\t\t\t\tv+=f(c);\r\n\t\t\t\t}\r\n\t\t\t\t}else if (c < 0xE0){\r\n\t\t\t\tv+=f(((c & 0x3F)<< 6)| (u[this._pos_++] & 0x7F));\r\n\t\t\t\t}else if (c < 0xF0){\r\n\t\t\t\tc2=u[this._pos_++];\r\n\t\t\t\tv+=f(((c & 0x1F)<< 12)| ((c2 & 0x7F)<< 6)| (u[this._pos_++] & 0x7F));\r\n\t\t\t\t}else {\r\n\t\t\t\tc2=u[this._pos_++];\r\n\t\t\t\tc3=u[this._pos_++];\r\n\t\t\t\tv+=f(((c & 0x0F)<< 18)| ((c2 & 0x7F)<< 12)| ((c3 << 6)& 0x7F)| (u[this._pos_++] & 0x7F));\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*读取 <code>len</code> 参数指定的长度的字符串。\r\n\t*@param len 要读取的字符串的长度。\r\n\t*@return 指定长度的字符串。\r\n\t*/\r\n\t__proto.getCustomString=function(len){\r\n\t\tvar v=\"\",ulen=0,c=0,c2=0,f=String.fromCharCode;\r\n\t\tvar u=this._u8d_,i=0;\r\n\t\twhile (len > 0){\r\n\t\t\tc=u[this._pos_];\r\n\t\t\tif (c < 0x80){\r\n\t\t\t\tv+=f(c);\r\n\t\t\t\tthis._pos_++;\r\n\t\t\t\tlen--;\r\n\t\t\t\t}else {\r\n\t\t\t\tulen=c-0x80;\r\n\t\t\t\tthis._pos_++;\r\n\t\t\t\tlen-=ulen;\r\n\t\t\t\twhile (ulen > 0){\r\n\t\t\t\t\tc=u[this._pos_++];\r\n\t\t\t\t\tc2=u[this._pos_++];\r\n\t\t\t\t\tv+=f((c2 << 8)| c);\r\n\t\t\t\t\tulen--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\t/**\r\n\t*清除字节数组的内容，并将 length 和 pos 属性重置为 0。调用此方法将释放 Byte 实例占用的内存。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis._pos_=0;\r\n\t\tthis.length=0;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取此对象的 ArrayBuffer 引用。\r\n\t*@return\r\n\t*/\r\n\t__proto.__getBuffer=function(){\r\n\t\treturn this._d_.buffer;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>将 UTF-8 字符串写入字节流。类似于 writeUTF()方法，但 writeUTFBytes()不使用 16 位长度的字为字符串添加前缀。</p>\r\n\t*<p>对应的读取方法为： getUTFBytes 。</p>\r\n\t*@param value 要写入的字符串。\r\n\t*/\r\n\t__proto.writeUTFBytes=function(value){\r\n\t\tvalue=value+\"\";\r\n\t\tfor (var i=0,sz=value.length;i < sz;i++){\r\n\t\t\tvar c=value.charCodeAt(i);\r\n\t\t\tif (c <=0x7F){\r\n\t\t\t\tthis.writeByte(c);\r\n\t\t\t\t}else if (c <=0x7FF){\r\n\t\t\t\tthis.ensureWrite(this._pos_+2);\r\n\t\t\t\tthis._u8d_.set([0xC0 | (c >> 6),0x80 | (c & 0x3F)],this._pos_);\r\n\t\t\t\tthis._pos_+=2;\r\n\t\t\t\t}else if (c <=0xFFFF){\r\n\t\t\t\tthis.ensureWrite(this._pos_+3);\r\n\t\t\t\tthis._u8d_.set([0xE0 | (c >> 12),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);\r\n\t\t\t\tthis._pos_+=3;\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.ensureWrite(this._pos_+4);\r\n\t\t\t\tthis._u8d_.set([0xF0 | (c >> 18),0x80 | ((c >> 12)& 0x3F),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);\r\n\t\t\t\tthis._pos_+=4;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*<p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 16 位整数），然后写入表示字符串字符的字节。</p>\r\n\t*<p>对应的读取方法为： getUTFString 。</p>\r\n\t*@param value 要写入的字符串值。\r\n\t*/\r\n\t__proto.writeUTFString=function(value){\r\n\t\tvar tPos=this.pos;\r\n\t\tthis.writeUint16(1);\r\n\t\tthis.writeUTFBytes(value);\r\n\t\tvar dPos=this.pos-tPos-2;\r\n\t\tif (dPos >=65536){\r\n\t\t\tthrow \"writeUTFString byte len more than 65536\";\r\n\t\t}\r\n\t\tthis._d_.setUint16(tPos,dPos,this._xd_);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*读取 UTF-8 字符串。\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.readUTFString=function(){\r\n\t\treturn this.readUTFBytes(this.getUint16());\r\n\t}\r\n\r\n\t/**\r\n\t*<p>从字节流中读取一个 UTF-8 字符串。假定字符串的前缀是一个无符号的短整型（以此字节表示要读取的长度）。</p>\r\n\t*<p>对应的写入方法为： writeUTFString 。</p>\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.getUTFString=function(){\r\n\t\treturn this.readUTFString();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*读字符串，必须是 writeUTFBytes 方法写入的字符串。\r\n\t*@param len 要读的buffer长度，默认将读取缓冲区全部数据。\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.readUTFBytes=function(len){\r\n\t\t(len===void 0)&& (len=-1);\r\n\t\tif (len==0)return \"\";\r\n\t\tvar lastBytes=this.bytesAvailable;\r\n\t\tif (len > lastBytes)throw \"readUTFBytes error - Out of bounds\";\r\n\t\tlen=len > 0 ? len :lastBytes;\r\n\t\treturn this.rUTF(len);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>从字节流中读取一个由 length 参数指定的长度的 UTF-8 字节序列，并返回一个字符串。</p>\r\n\t*<p>一般读取的是由 writeUTFBytes 方法写入的字符串。</p>\r\n\t*@param len 要读的buffer长度，默认将读取缓冲区全部数据。\r\n\t*@return 读取的字符串。\r\n\t*/\r\n\t__proto.getUTFBytes=function(len){\r\n\t\t(len===void 0)&& (len=-1);\r\n\t\treturn this.readUTFBytes(len);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>在字节流中写入一个字节。</p>\r\n\t*<p>使用参数的低 8 位。忽略高 24 位。</p>\r\n\t*@param value\r\n\t*/\r\n\t__proto.writeByte=function(value){\r\n\t\tthis.ensureWrite(this._pos_+1);\r\n\t\tthis._d_.setInt8(this._pos_,value);\r\n\t\tthis._pos_+=1;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*从字节流中读取带符号的字节。\r\n\t*/\r\n\t__proto.readByte=function(){\r\n\t\tif (this._pos_+1 > this._length)throw \"readByte error - Out of bounds\";\r\n\t\treturn this._d_.getInt8(this._pos_++);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>从字节流中读取带符号的字节。</p>\r\n\t*<p>返回值的范围是从-128 到 127。</p>\r\n\t*@return 介于-128 和 127 之间的整数。\r\n\t*/\r\n\t__proto.getByte=function(){\r\n\t\treturn this.readByte();\r\n\t}\r\n\r\n\t/**\r\n\t*<p>保证该字节流的可用长度不小于 <code>lengthToEnsure</code> 参数指定的值。</p>\r\n\t*@param lengthToEnsure 指定的长度。\r\n\t*/\r\n\t__proto.ensureWrite=function(lengthToEnsure){\r\n\t\tif (this._length < lengthToEnsure)this._length=lengthToEnsure;\r\n\t\tif (this._allocated_ < lengthToEnsure)this.length=lengthToEnsure;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>将指定 arraybuffer 对象中的以 offset 为起始偏移量， length 为长度的字节序列写入字节流。</p>\r\n\t*<p>如果省略 length 参数，则使用默认长度 0，该方法将从 offset 开始写入整个缓冲区；如果还省略了 offset 参数，则写入整个缓冲区。</p>\r\n\t*<p>如果 offset 或 length 小于0，本函数将抛出异常。</p>\r\n\t*$NEXTBIG 由于没有判断length和arraybuffer的合法性，当开发者填写了错误的length值时，会导致写入多余的空白数据甚至内存溢出，为了避免影响开发者正在使用此方法的功能，下个重大版本会修复这些问题。\r\n\t*@param arraybuffer 需要写入的 Arraybuffer 对象。\r\n\t*@param offset Arraybuffer 对象的索引的偏移量（以字节为单位）\r\n\t*@param length 从 Arraybuffer 对象写入到 Byte 对象的长度（以字节为单位）\r\n\t*/\r\n\t__proto.writeArrayBuffer=function(arraybuffer,offset,length){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\t(length===void 0)&& (length=0);\r\n\t\tif (offset < 0 || length < 0)throw \"writeArrayBuffer error - Out of bounds\";\r\n\t\tif (length==0)length=arraybuffer.byteLength-offset;\r\n\t\tthis.ensureWrite(this._pos_+length);\r\n\t\tvar uint8array=new Uint8Array(arraybuffer);\r\n\t\tthis._u8d_.set(uint8array.subarray(offset,offset+length),this._pos_);\r\n\t\tthis._pos_+=length;\r\n\t}\r\n\r\n\t/**\r\n\t*获取此对象的 ArrayBuffer 数据，数据只包含有效数据部分。\r\n\t*/\r\n\t__getset(0,__proto,'buffer',function(){\r\n\t\tvar rstBuffer=this._d_.buffer;\r\n\t\tif (rstBuffer.byteLength==this.length)return rstBuffer;\r\n\t\treturn rstBuffer.slice(0,this.length);\r\n\t});\r\n\r\n\t/**\r\n\t*<p> <code>Byte</code> 实例的字节序。取值为：<code>BIG_ENDIAN</code> 或 <code>BIG_ENDIAN</code> 。</p>\r\n\t*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>\r\n\t*<p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>\r\n\t*<code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>\r\n\t*/\r\n\t__getset(0,__proto,'endian',function(){\r\n\t\treturn this._xd_ ? \"littleEndian\" :\"bigEndian\";\r\n\t\t},function(endianStr){\r\n\t\tthis._xd_=(endianStr==\"littleEndian\");\r\n\t});\r\n\r\n\t/**\r\n\t*<p> <code>Byte</code> 对象的长度（以字节为单位）。</p>\r\n\t*<p>如果将长度设置为大于当前长度的值，则用零填充字节数组的右侧；如果将长度设置为小于当前长度的值，将会截断该字节数组。</p>\r\n\t*<p>如果要设置的长度大于当前已分配的内存空间的字节长度，则重新分配内存空间，大小为以下两者较大者：要设置的长度、当前已分配的长度的2倍，并将原有数据拷贝到新的内存空间中；如果要设置的长度小于当前已分配的内存空间的字节长度，也会重新分配内存空间，大小为要设置的长度，并将原有数据从头截断为要设置的长度存入新的内存空间中。</p>\r\n\t*/\r\n\t__getset(0,__proto,'length',function(){\r\n\t\treturn this._length;\r\n\t\t},function(value){\r\n\t\tif (this._allocated_ < value)\r\n\t\t\tthis.___resizeBuffer(this._allocated_=Math.floor(Math.max(value,this._allocated_ *2)));\r\n\t\telse if (this._allocated_ > value)\r\n\t\tthis.___resizeBuffer(this._allocated_=value);\r\n\t\tthis._length=value;\r\n\t});\r\n\r\n\t/**\r\n\t*移动或返回 Byte 对象的读写指针的当前位置（以字节为单位）。下一次调用读取方法时将在此位置开始读取，或者下一次调用写入方法时将在此位置开始写入。\r\n\t*/\r\n\t__getset(0,__proto,'pos',function(){\r\n\t\treturn this._pos_;\r\n\t\t},function(value){\r\n\t\tthis._pos_=value;\r\n\t});\r\n\r\n\t/**\r\n\t*可从字节流的当前位置到末尾读取的数据的字节数。\r\n\t*/\r\n\t__getset(0,__proto,'bytesAvailable',function(){\r\n\t\treturn this._length-this._pos_;\r\n\t});\r\n\r\n\tByte.getSystemEndian=function(){\r\n\t\tif (!Byte._sysEndian){\r\n\t\t\tvar buffer=new ArrayBuffer(2);\r\n\t\t\tnew DataView(buffer).setInt16(0,256,true);\r\n\t\t\tByte._sysEndian=(new Int16Array(buffer))[0]===256 ? /*CLASS CONST:laya.utils.Byte.LITTLE_ENDIAN*/\"littleEndian\" :/*CLASS CONST:laya.utils.Byte.BIG_ENDIAN*/\"bigEndian\";\r\n\t\t}\r\n\t\treturn Byte._sysEndian;\r\n\t}\r\n\r\n\tByte.BIG_ENDIAN=\"bigEndian\";\r\n\tByte.LITTLE_ENDIAN=\"littleEndian\";\r\n\tByte._sysEndian=null;\r\n\treturn Byte;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*对象缓存统一管理类\r\n*/\r\n//class laya.utils.CacheManager\r\nvar CacheManager=(function(){\r\n\tfunction CacheManager(){}\r\n\t__class(CacheManager,'laya.utils.CacheManager');\r\n\tCacheManager.regCacheByFunction=function(disposeFunction,getCacheListFunction){\r\n\t\tCacheManager.unRegCacheByFunction(disposeFunction,getCacheListFunction);\r\n\t\tvar cache;\r\n\t\tcache={tryDispose:disposeFunction,getCacheList:getCacheListFunction};\r\n\t\tCacheManager._cacheList.push(cache);\r\n\t}\r\n\r\n\tCacheManager.unRegCacheByFunction=function(disposeFunction,getCacheListFunction){\r\n\t\tvar i=0,len=0;\r\n\t\tlen=CacheManager._cacheList.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tif (CacheManager._cacheList[i].tryDispose==disposeFunction && CacheManager._cacheList[i].getCacheList==getCacheListFunction){\r\n\t\t\t\tCacheManager._cacheList.splice(i,1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tCacheManager.forceDispose=function(){\r\n\t\tvar i=0,len=CacheManager._cacheList.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tCacheManager._cacheList[i].tryDispose(true);\r\n\t\t}\r\n\t}\r\n\r\n\tCacheManager.beginCheck=function(waitTime){\r\n\t\t(waitTime===void 0)&& (waitTime=15000);\r\n\t\tLaya.timer.loop(waitTime,null,CacheManager._checkLoop);\r\n\t}\r\n\r\n\tCacheManager.stopCheck=function(){\r\n\t\tLaya.timer.clear(null,CacheManager._checkLoop);\r\n\t}\r\n\r\n\tCacheManager._checkLoop=function(){\r\n\t\tvar cacheList=CacheManager._cacheList;\r\n\t\tif (cacheList.length < 1)return;\r\n\t\tvar tTime=Browser.now();\r\n\t\tvar count=0;\r\n\t\tvar len=0;\r\n\t\tlen=count=cacheList.length;\r\n\t\twhile (count > 0){\r\n\t\t\tCacheManager._index++;\r\n\t\t\tCacheManager._index=CacheManager._index % len;\r\n\t\t\tcacheList[CacheManager._index].tryDispose(false);\r\n\t\t\tif (Browser.now()-tTime > CacheManager.loopTimeLimit)break ;\r\n\t\t\tcount--;\r\n\t\t}\r\n\t}\r\n\r\n\tCacheManager.loopTimeLimit=2;\r\n\tCacheManager._cacheList=[];\r\n\tCacheManager._index=0;\r\n\treturn CacheManager;\r\n})()\r\n\r\n\r\n/**\r\n*<code>ClassUtils</code> 是一个类工具类。\r\n*/\r\n//class laya.utils.ClassUtils\r\nvar ClassUtils=(function(){\r\n\tfunction ClassUtils(){}\r\n\t__class(ClassUtils,'laya.utils.ClassUtils');\r\n\tClassUtils.regClass=function(className,classDef){\r\n\t\tClassUtils._classMap[className]=classDef;\r\n\t}\r\n\r\n\tClassUtils.getRegClass=function(className){\r\n\t\treturn ClassUtils._classMap[className];\r\n\t}\r\n\r\n\tClassUtils.getInstance=function(className){\r\n\t\tvar compClass=ClassUtils.getClass(className);\r\n\t\tif (compClass)\r\n\t\t\treturn new compClass();\r\n\t\telse\r\n\t\tconsole.warn(\"[error] Undefined class:\",className);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tClassUtils.createByJson=function(json,node,root,customHandler,instanceHandler){\r\n\t\tif ((typeof json=='string'))\r\n\t\t\tjson=JSON.parse(json);\r\n\t\tvar props=json.props;\r\n\t\tif (!node){\r\n\t\t\tnode=instanceHandler ? instanceHandler.runWith(json):ClassUtils.getInstance(props.runtime || json.type);\r\n\t\t\tif (!node)\r\n\t\t\t\treturn null;\r\n\t\t};\r\n\t\tvar child=json.child;\r\n\t\tif (child){\r\n\t\t\tfor (var i=0,n=child.length;i < n;i++){\r\n\t\t\t\tvar data=child[i];\r\n\t\t\t\tif ((data.props.name===\"render\" || data.props.renderType===\"render\")&& node[\"_$set_itemRender\"])\r\n\t\t\t\t\tnode.itemRender=data;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (data.type==\"Graphic\"){\r\n\t\t\t\t\t\tClassUtils.addGraphicsToSprite(data,node);\r\n\t\t\t\t\t\t}else if (ClassUtils.isDrawType(data.type)){\r\n\t\t\t\t\t\tClassUtils.addGraphicToSprite(data,node,true);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tvar tChild=ClassUtils.createByJson(data,null,root,customHandler,instanceHandler)\r\n\t\t\t\t\t\tif (data.type==\"Script\"){\r\n\t\t\t\t\t\t\tif (tChild.hasOwnProperty(\"owner\")){\r\n\t\t\t\t\t\t\t\ttChild[\"owner\"]=node;\r\n\t\t\t\t\t\t\t\t}else if (tChild.hasOwnProperty(\"target\")){\r\n\t\t\t\t\t\t\t\ttChild[\"target\"]=node;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if (data.props.renderType==\"mask\"){\r\n\t\t\t\t\t\t\tnode.mask=tChild;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tnode.addChild(tChild);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (props){\r\n\t\t\tfor (var prop in props){\r\n\t\t\t\tvar value=props[prop];\r\n\t\t\t\tif (prop===\"var\" && root){\r\n\t\t\t\t\troot[value]=node;\r\n\t\t\t\t\t}else if ((value instanceof Array)&& (typeof (node[prop])=='function')){\r\n\t\t\t\t\tnode[prop].apply(node,value);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tnode[prop]=value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (customHandler && json.customProps){\r\n\t\t\tcustomHandler.runWith([node,json]);\r\n\t\t}\r\n\t\tif (node[\"created\"])\r\n\t\t\tnode.created();\r\n\t\treturn node;\r\n\t}\r\n\r\n\tClassUtils.addGraphicsToSprite=function(graphicO,sprite){\r\n\t\tvar graphics;\r\n\t\tgraphics=graphicO.child;\r\n\t\tif (!graphics || graphics.length < 1)\r\n\t\t\treturn;\r\n\t\tvar g;\r\n\t\tg=ClassUtils._getGraphicsFromSprite(graphicO,sprite);\r\n\t\tvar ox=0;\r\n\t\tvar oy=0;\r\n\t\tif (graphicO.props){\r\n\t\t\tox=ClassUtils._getObjVar(graphicO.props,\"x\",0);\r\n\t\t\toy=ClassUtils._getObjVar(graphicO.props,\"y\",0);\r\n\t\t}\r\n\t\tif (ox !=0 && oy !=0){\r\n\t\t\tg.translate(ox,oy);\r\n\t\t};\r\n\t\tvar i=0,len=0;\r\n\t\tlen=graphics.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tClassUtils._addGraphicToGraphics(graphics[i],g);\r\n\t\t}\r\n\t\tif (ox !=0 && oy !=0){\r\n\t\t\tg.translate(-ox,-oy);\r\n\t\t}\r\n\t}\r\n\r\n\tClassUtils.addGraphicToSprite=function(graphicO,sprite,isChild){\r\n\t\t(isChild===void 0)&& (isChild=false);\r\n\t\tvar g;\r\n\t\tg=isChild ? ClassUtils._getGraphicsFromSprite(graphicO,sprite):sprite.graphics;\r\n\t\tClassUtils._addGraphicToGraphics(graphicO,g);\r\n\t}\r\n\r\n\tClassUtils._getGraphicsFromSprite=function(dataO,sprite){\r\n\t\tvar g;\r\n\t\tif (!dataO || !dataO.props)\r\n\t\t\treturn sprite.graphics;\r\n\t\tvar propsName;\r\n\t\tpropsName=dataO.props.renderType;\r\n\t\tswitch (propsName){\r\n\t\t\tcase \"hit\":\r\n\t\t\tcase \"unHit\":;\r\n\t\t\t\tvar hitArea;\r\n\t\t\t\tif (!sprite.hitArea){\r\n\t\t\t\t\tsprite.hitArea=new HitArea();\r\n\t\t\t\t}\r\n\t\t\t\thitArea=sprite.hitArea;\r\n\t\t\t\tif (!hitArea[propsName]){\r\n\t\t\t\t\thitArea[propsName]=new Graphics();\r\n\t\t\t\t}\r\n\t\t\t\tg=hitArea[propsName];\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t}\r\n\t\tif (!g)\r\n\t\t\tg=sprite.graphics;\r\n\t\treturn g;\r\n\t}\r\n\r\n\tClassUtils._getTransformData=function(propsO){\r\n\t\tvar m;\r\n\t\tif (propsO.hasOwnProperty(\"pivotX\")|| propsO.hasOwnProperty(\"pivotY\")){\r\n\t\t\tm=m || new Matrix();\r\n\t\t\tm.translate(-ClassUtils._getObjVar(propsO,\"pivotX\",0),-ClassUtils._getObjVar(propsO,\"pivotY\",0));\r\n\t\t};\r\n\t\tvar sx=ClassUtils._getObjVar(propsO,\"scaleX\",1),sy=ClassUtils._getObjVar(propsO,\"scaleY\",1);\r\n\t\tvar rotate=ClassUtils._getObjVar(propsO,\"rotation\",0);\r\n\t\tvar skewX=ClassUtils._getObjVar(propsO,\"skewX\",0);\r\n\t\tvar skewY=ClassUtils._getObjVar(propsO,\"skewY\",0);\r\n\t\tif (sx !=1 || sy !=1 || rotate !=0){\r\n\t\t\tm=m || new Matrix();\r\n\t\t\tm.scale(sx,sy);\r\n\t\t\tm.rotate(rotate *0.0174532922222222);\r\n\t\t}\r\n\t\treturn m;\r\n\t}\r\n\r\n\tClassUtils._addGraphicToGraphics=function(graphicO,graphic){\r\n\t\tvar propsO;\r\n\t\tpropsO=graphicO.props;\r\n\t\tif (!propsO)\r\n\t\t\treturn;\r\n\t\tvar drawConfig;\r\n\t\tdrawConfig=ClassUtils.DrawTypeDic[graphicO.type];\r\n\t\tif (!drawConfig)\r\n\t\t\treturn;\r\n\t\tvar g;\r\n\t\tg=graphic;\r\n\t\tvar m;\r\n\t\tvar params=ClassUtils._getParams(propsO,drawConfig[1],drawConfig[2],drawConfig[3]);\r\n\t\tm=ClassUtils._tM;\r\n\t\tif (m || ClassUtils._alpha !=1){\r\n\t\t\tg.save();\r\n\t\t\tif (m)\r\n\t\t\t\tg.transform(m);\r\n\t\t\tif (ClassUtils._alpha !=1)\r\n\t\t\t\tg.alpha(ClassUtils._alpha);\r\n\t\t}\r\n\t\tg[drawConfig[0]].apply(g,params);\r\n\t\tif (m || ClassUtils._alpha !=1){\r\n\t\t\tg.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tClassUtils._adptLineData=function(params){\r\n\t\tparams[2]=parseFloat(params[0])+parseFloat(params[2]);\r\n\t\tparams[3]=parseFloat(params[1])+parseFloat(params[3]);\r\n\t\treturn params;\r\n\t}\r\n\r\n\tClassUtils._adptTextureData=function(params){\r\n\t\tparams[0]=Loader.getRes(params[0]);\r\n\t\treturn params;\r\n\t}\r\n\r\n\tClassUtils._adptLinesData=function(params){\r\n\t\tparams[2]=ClassUtils._getPointListByStr(params[2]);\r\n\t\treturn params;\r\n\t}\r\n\r\n\tClassUtils.isDrawType=function(type){\r\n\t\tif (type==\"Image\")\r\n\t\t\treturn false;\r\n\t\treturn ClassUtils.DrawTypeDic.hasOwnProperty(type);\r\n\t}\r\n\r\n\tClassUtils._getParams=function(obj,params,xPos,adptFun){\r\n\t\t(xPos===void 0)&& (xPos=0);\r\n\t\tvar rst;\r\n\t\trst=ClassUtils._temParam;\r\n\t\trst.length=params.length;\r\n\t\tvar i=0,len=0;\r\n\t\tlen=params.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\trst[i]=ClassUtils._getObjVar(obj,params[i][0],params[i][1]);\r\n\t\t}\r\n\t\tClassUtils._alpha=ClassUtils._getObjVar(obj,\"alpha\",1);\r\n\t\tvar m;\r\n\t\tm=ClassUtils._getTransformData(obj);\r\n\t\tif (m){\r\n\t\t\tif (!xPos)xPos=0;\r\n\t\t\tm.translate(rst[xPos],rst[xPos+1]);\r\n\t\t\trst[xPos]=rst[xPos+1]=0;\r\n\t\t\tClassUtils._tM=m;\r\n\t\t\t}else {\r\n\t\t\tClassUtils._tM=null;\r\n\t\t}\r\n\t\tif (adptFun && ClassUtils[adptFun]){\r\n\t\t\trst=ClassUtils[adptFun](rst);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tClassUtils._getPointListByStr=function(str){\r\n\t\tvar pointArr;\r\n\t\tpointArr=str.split(\",\");\r\n\t\tvar i=0,len=0;\r\n\t\tlen=pointArr.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tpointArr[i]=parseFloat(pointArr[i]);\r\n\t\t}\r\n\t\treturn pointArr;\r\n\t}\r\n\r\n\tClassUtils._getObjVar=function(obj,key,noValue){\r\n\t\tif (obj.hasOwnProperty(key)){\r\n\t\t\treturn obj[key];\r\n\t\t}\r\n\t\treturn noValue;\r\n\t}\r\n\r\n\tClassUtils._temParam=[];\r\n\tClassUtils._classMap={'Sprite':'laya.display.Sprite','Text':'laya.display.Text','Animation':'laya.display.Animation','Skeleton':'laya.ani.bone.Skeleton','Particle2D':'laya.particle.Particle2D','div':'laya.html.dom.HTMLDivElement','p':'laya.html.dom.HTMLElement','img':'laya.html.dom.HTMLImageElement','span':'laya.html.dom.HTMLElement','br':'laya.html.dom.HTMLBrElement','style':'laya.html.dom.HTMLStyleElement','font':'laya.html.dom.HTMLElement','a':'laya.html.dom.HTMLElement','#text':'laya.html.dom.HTMLElement'};\r\n\tClassUtils.getClass=function(className){\r\n\t\tvar classObject=ClassUtils._classMap[className] || className;\r\n\t\tif ((typeof classObject=='string'))\r\n\t\t\treturn Laya[\"__classmap\"][classObject];\r\n\t\treturn classObject;\r\n\t}\r\n\r\n\tClassUtils._tM=null;\r\n\tClassUtils._alpha=NaN;\r\n\t__static(ClassUtils,\r\n\t['DrawTypeDic',function(){return this.DrawTypeDic={\"Rect\":[\"drawRect\",[[\"x\",0],[\"y\",0],[\"width\",0],[\"height\",0],[\"fillColor\",null],[\"lineColor\",null],[\"lineWidth\",1]]],\"Circle\":[\"drawCircle\",[[\"x\",0],[\"y\",0],[\"radius\",0],[\"fillColor\",null],[\"lineColor\",null],[\"lineWidth\",1]]],\"Pie\":[\"drawPie\",[[\"x\",0],[\"y\",0],[\"radius\",0],[\"startAngle\",0],[\"endAngle\",0],[\"fillColor\",null],[\"lineColor\",null],[\"lineWidth\",1]]],\"Image\":[\"drawTexture\",[[\"x\",0],[\"y\",0],[\"width\",0],[\"height\",0]]],\"Texture\":[\"drawTexture\",[[\"skin\",null],[\"x\",0],[\"y\",0],[\"width\",0],[\"height\",0]],1,\"_adptTextureData\"],\"FillTexture\":[\"fillTexture\",[[\"skin\",null],[\"x\",0],[\"y\",0],[\"width\",0],[\"height\",0],[\"repeat\",null]],1,\"_adptTextureData\"],\"FillText\":[\"fillText\",[[\"text\",\"\"],[\"x\",0],[\"y\",0],[\"font\",null],[\"color\",null],[\"textAlign\",null]],1],\"Line\":[\"drawLine\",[[\"x\",0],[\"y\",0],[\"toX\",0],[\"toY\",0],[\"lineColor\",null],[\"lineWidth\",0]],0,\"_adptLineData\"],\"Lines\":[\"drawLines\",[[\"x\",0],[\"y\",0],[\"points\",\"\"],[\"lineColor\",null],[\"lineWidth\",0]],0,\"_adptLinesData\"],\"Curves\":[\"drawCurves\",[[\"x\",0],[\"y\",0],[\"points\",\"\"],[\"lineColor\",null],[\"lineWidth\",0]],0,\"_adptLinesData\"],\"Poly\":[\"drawPoly\",[[\"x\",0],[\"y\",0],[\"points\",\"\"],[\"fillColor\",null],[\"lineColor\",null],[\"lineWidth\",1]],0,\"_adptLinesData\"]};}\r\n\t]);\r\n\treturn ClassUtils;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Color</code> 是一个颜色值处理类。\r\n*/\r\n//class laya.utils.Color\r\nvar Color=(function(){\r\n\tfunction Color(str){\r\n\t\t/**@private */\r\n\t\tthis._color=[];\r\n\t\t/**字符串型颜色值。*/\r\n\t\t//this.strColor=null;\r\n\t\t/**uint 型颜色值。*/\r\n\t\t//this.numColor=0;\r\n\t\t//this._drawStyle=null;\r\n\t\tif ((typeof str=='string')){\r\n\t\t\tthis.strColor=str;\r\n\t\t\tif (str===null)str=\"#000000\";\r\n\t\t\tstr.charAt(0)=='#' && (str=str.substr(1));\r\n\t\t\tvar len=str.length;\r\n\t\t\tif (len==3 || len==4){\r\n\t\t\t\tvar temp=\"\";\r\n\t\t\t\tfor (var i=0;i < len;i++){\r\n\t\t\t\t\ttemp+=(str[i]+str[i]);\r\n\t\t\t\t}\r\n\t\t\t\tstr=temp;\r\n\t\t\t};\r\n\t\t\tvar color=this.numColor=parseInt(str,16);\r\n\t\t\tvar flag=(str.length==8);\r\n\t\t\tif (flag){\r\n\t\t\t\tthis._color=[parseInt(str.substr(0,2),16)/ 255,((0x00FF0000 & color)>> 16)/ 255,((0x0000FF00 & color)>> 8)/ 255,(0x000000FF & color)/ 255];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tcolor=this.numColor=str;\r\n\t\t\tthis.strColor=Utils.toHexColor(color);\r\n\t\t}\r\n\t\tthis._color=[((0xFF0000 & color)>> 16)/ 255,((0xFF00 & color)>> 8)/ 255,(0xFF & color)/ 255,1];\r\n\t\t(this._color).__id=++Color._COLODID;\r\n\t}\r\n\r\n\t__class(Color,'laya.utils.Color');\r\n\tColor._initDefault=function(){\r\n\t\tColor._DEFAULT={};\r\n\t\tfor (var i in Color._COLOR_MAP)Color._SAVE[i]=Color._DEFAULT[i]=new Color(Color._COLOR_MAP[i]);\r\n\t\treturn Color._DEFAULT;\r\n\t}\r\n\r\n\tColor._initSaveMap=function(){\r\n\t\tColor._SAVE_SIZE=0;\r\n\t\tColor._SAVE={};\r\n\t\tfor (var i in Color._DEFAULT)Color._SAVE[i]=Color._DEFAULT[i];\r\n\t}\r\n\r\n\tColor.create=function(str){\r\n\t\tvar color=Color._SAVE[str+\"\"];\r\n\t\tif (color !=null)return color;\r\n\t\t(Color._SAVE_SIZE < 1000)|| Color._initSaveMap();\r\n\t\treturn Color._SAVE[str+\"\"]=new Color(str);\r\n\t}\r\n\r\n\tColor._SAVE={};\r\n\tColor._SAVE_SIZE=0;\r\n\tColor._COLOR_MAP={\"white\":'#FFFFFF',\"red\":'#FF0000',\"green\":'#00FF00',\"blue\":'#0000FF',\"black\":'#000000',\"yellow\":'#FFFF00','gray':'#AAAAAA'};\r\n\tColor._DEFAULT=Color._initDefault();\r\n\tColor._COLODID=1;\r\n\treturn Color;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Dictionary</code> 是一个字典型的数据存取类。\r\n*/\r\n//class laya.utils.Dictionary\r\nvar Dictionary=(function(){\r\n\tfunction Dictionary(){\r\n\t\tthis._values=[];\r\n\t\tthis._keys=[];\r\n\t}\r\n\r\n\t__class(Dictionary,'laya.utils.Dictionary');\r\n\tvar __proto=Dictionary.prototype;\r\n\t/**\r\n\t*给指定的键名设置值。\r\n\t*@param key 键名。\r\n\t*@param value 值。\r\n\t*/\r\n\t__proto.set=function(key,value){\r\n\t\tvar index=this.indexOf(key);\r\n\t\tif (index >=0){\r\n\t\t\tthis._values[index]=value;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._keys.push(key);\r\n\t\tthis._values.push(value);\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定对象的键名索引。\r\n\t*@param key 键名对象。\r\n\t*@return 键名索引。\r\n\t*/\r\n\t__proto.indexOf=function(key){\r\n\t\tvar index=this._keys.indexOf(key);\r\n\t\tif (index >=0)return index;\r\n\t\tkey=((typeof key=='string'))? Number(key):(((typeof key=='number'))? key.toString():key);\r\n\t\treturn this._keys.indexOf(key);\r\n\t}\r\n\r\n\t/**\r\n\t*返回指定键名的值。\r\n\t*@param key 键名对象。\r\n\t*@return 指定键名的值。\r\n\t*/\r\n\t__proto.get=function(key){\r\n\t\tvar index=this.indexOf(key);\r\n\t\treturn index < 0 ? null :this._values[index];\r\n\t}\r\n\r\n\t/**\r\n\t*移除指定键名的值。\r\n\t*@param key 键名对象。\r\n\t*@return 是否成功移除。\r\n\t*/\r\n\t__proto.remove=function(key){\r\n\t\tvar index=this.indexOf(key);\r\n\t\tif (index >=0){\r\n\t\t\tthis._keys.splice(index,1);\r\n\t\t\tthis._values.splice(index,1);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*清除此对象的键名列表和键值列表。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis._values.length=0;\r\n\t\tthis._keys.length=0;\r\n\t}\r\n\r\n\t/**\r\n\t*获取所有的子元素列表。\r\n\t*/\r\n\t__getset(0,__proto,'values',function(){\r\n\t\treturn this._values;\r\n\t});\r\n\r\n\t/**\r\n\t*获取所有的子元素键名列表。\r\n\t*/\r\n\t__getset(0,__proto,'keys',function(){\r\n\t\treturn this._keys;\r\n\t});\r\n\r\n\treturn Dictionary;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Dragging</code> 类是触摸滑动控件。\r\n*/\r\n//class laya.utils.Dragging\r\nvar Dragging=(function(){\r\n\tfunction Dragging(){\r\n\t\t/**被拖动的对象。*/\r\n\t\t//this.target=null;\r\n\t\t/**缓动衰减系数。*/\r\n\t\tthis.ratio=0.92;\r\n\t\t/**单帧最大偏移量。*/\r\n\t\tthis.maxOffset=60;\r\n\t\t/**滑动范围。*/\r\n\t\t//this.area=null;\r\n\t\t/**表示拖动是否有惯性。*/\r\n\t\t//this.hasInertia=false;\r\n\t\t/**橡皮筋最大值。*/\r\n\t\t//this.elasticDistance=NaN;\r\n\t\t/**橡皮筋回弹时间，单位为毫秒。*/\r\n\t\t//this.elasticBackTime=NaN;\r\n\t\t/**事件携带数据。*/\r\n\t\t//this.data=null;\r\n\t\tthis._dragging=false;\r\n\t\tthis._clickOnly=true;\r\n\t\t//this._elasticRateX=NaN;\r\n\t\t//this._elasticRateY=NaN;\r\n\t\t//this._lastX=NaN;\r\n\t\t//this._lastY=NaN;\r\n\t\t//this._offsetX=NaN;\r\n\t\t//this._offsetY=NaN;\r\n\t\t//this._offsets=null;\r\n\t\t//this._disableMouseEvent=false;\r\n\t\t//this._tween=null;\r\n\t\t//this._parent=null;\r\n\t}\r\n\r\n\t__class(Dragging,'laya.utils.Dragging');\r\n\tvar __proto=Dragging.prototype;\r\n\t/**\r\n\t*开始拖拽。\r\n\t*@param target 待拖拽的 <code>Sprite</code> 对象。\r\n\t*@param area 滑动范围。\r\n\t*@param hasInertia 拖动是否有惯性。\r\n\t*@param elasticDistance 橡皮筋最大值。\r\n\t*@param elasticBackTime 橡皮筋回弹时间，单位为毫秒。\r\n\t*@param data 事件携带数据。\r\n\t*@param disableMouseEvent 鼠标事件是否有效。\r\n\t*@param ratio 惯性阻尼系数\r\n\t*/\r\n\t__proto.start=function(target,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){\r\n\t\t(ratio===void 0)&& (ratio=0.92);\r\n\t\tthis.clearTimer();\r\n\t\tthis.target=target;\r\n\t\tthis.area=area;\r\n\t\tthis.hasInertia=hasInertia;\r\n\t\tthis.elasticDistance=area ? elasticDistance :0;\r\n\t\tthis.elasticBackTime=elasticBackTime;\r\n\t\tthis.data=data;\r\n\t\tthis._disableMouseEvent=disableMouseEvent;\r\n\t\tthis.ratio=ratio;\r\n\t\tif (target.globalScaleX !=1 || target.globalScaleY !=1){\r\n\t\t\tthis._parent=target.parent;\r\n\t\t\t}else {\r\n\t\t\tthis._parent=Laya.stage;\r\n\t\t}\r\n\t\tthis._clickOnly=true;\r\n\t\tthis._dragging=true;\r\n\t\tthis._elasticRateX=this._elasticRateY=1;\r\n\t\tthis._lastX=this._parent.mouseX;\r\n\t\tthis._lastY=this._parent.mouseY;\r\n\t\tLaya.stage.on(/*laya.events.Event.MOUSE_UP*/\"mouseup\",this,this.onStageMouseUp);\r\n\t\tLaya.stage.on(/*laya.events.Event.MOUSE_OUT*/\"mouseout\",this,this.onStageMouseUp);\r\n\t\tLaya.timer.frameLoop(1,this,this.loop);\r\n\t}\r\n\r\n\t/**\r\n\t*清除计时器。\r\n\t*/\r\n\t__proto.clearTimer=function(){\r\n\t\tLaya.timer.clear(this,this.loop);\r\n\t\tLaya.timer.clear(this,this.tweenMove);\r\n\t\tif (this._tween){\r\n\t\t\tthis._tween.recover();\r\n\t\t\tthis._tween=null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*停止拖拽。\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tif (this._dragging){\r\n\t\t\tMouseManager.instance.disableMouseEvent=false;\r\n\t\t\tLaya.stage.off(/*laya.events.Event.MOUSE_UP*/\"mouseup\",this,this.onStageMouseUp);\r\n\t\t\tLaya.stage.off(/*laya.events.Event.MOUSE_OUT*/\"mouseout\",this,this.onStageMouseUp);\r\n\t\t\tthis._dragging=false;\r\n\t\t\tthis.target && this.area && this.backToArea();\r\n\t\t\tthis.clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*拖拽的循环处理函数。\r\n\t*/\r\n\t__proto.loop=function(){\r\n\t\tvar point=this._parent.getMousePoint();\r\n\t\tvar mouseX=point.x;\r\n\t\tvar mouseY=point.y;\r\n\t\tvar offsetX=mouseX-this._lastX;\r\n\t\tvar offsetY=mouseY-this._lastY;\r\n\t\tif (this._clickOnly){\r\n\t\t\tif (Math.abs(offsetX *Laya.stage._canvasTransform.getScaleX())> 1 || Math.abs(offsetY *Laya.stage._canvasTransform.getScaleY())> 1){\r\n\t\t\t\tthis._clickOnly=false;\r\n\t\t\t\tthis._offsets || (this._offsets=[]);\r\n\t\t\t\tthis._offsets.length=0;\r\n\t\t\t\tthis.target.event(/*laya.events.Event.DRAG_START*/\"dragstart\",this.data);\r\n\t\t\t\tMouseManager.instance.disableMouseEvent=this._disableMouseEvent;\r\n\t\t\t\tthis.target._set$P(\"$_MOUSEDOWN\",false);\r\n\t\t\t}else return;\r\n\t\t\t}else {\r\n\t\t\tthis._offsets.push(offsetX,offsetY);\r\n\t\t}\r\n\t\tif (offsetX===0 && offsetY===0)return;\r\n\t\tthis._lastX=mouseX;\r\n\t\tthis._lastY=mouseY;\r\n\t\tthis.target.x+=offsetX *this._elasticRateX;\r\n\t\tthis.target.y+=offsetY *this._elasticRateY;\r\n\t\tthis.area && this.checkArea();\r\n\t\tthis.target.event(/*laya.events.Event.DRAG_MOVE*/\"dragmove\",this.data);\r\n\t}\r\n\r\n\t/**\r\n\t*拖拽区域检测。\r\n\t*/\r\n\t__proto.checkArea=function(){\r\n\t\tif (this.elasticDistance <=0){\r\n\t\t\tthis.backToArea();\r\n\t\t\t}else {\r\n\t\t\tif (this.target.x < this.area.x){\r\n\t\t\t\tvar offsetX=this.area.x-this.target.x;\r\n\t\t\t\t}else if (this.target.x > this.area.x+this.area.width){\r\n\t\t\t\toffsetX=this.target.x-this.area.x-this.area.width;\r\n\t\t\t\t}else {\r\n\t\t\t\toffsetX=0;\r\n\t\t\t}\r\n\t\t\tthis._elasticRateX=Math.max(0,1-(offsetX / this.elasticDistance));\r\n\t\t\tif (this.target.y < this.area.y){\r\n\t\t\t\tvar offsetY=this.area.y-this.target.y;\r\n\t\t\t\t}else if (this.target.y > this.area.y+this.area.height){\r\n\t\t\t\toffsetY=this.target.y-this.area.y-this.area.height;\r\n\t\t\t\t}else {\r\n\t\t\t\toffsetY=0;\r\n\t\t\t}\r\n\t\t\tthis._elasticRateY=Math.max(0,1-(offsetY / this.elasticDistance));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*移动至设定的拖拽区域。\r\n\t*/\r\n\t__proto.backToArea=function(){\r\n\t\tthis.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width);\r\n\t\tthis.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height);\r\n\t}\r\n\r\n\t/**\r\n\t*舞台的抬起事件侦听函数。\r\n\t*@param e Event 对象。\r\n\t*/\r\n\t__proto.onStageMouseUp=function(e){\r\n\t\tMouseManager.instance.disableMouseEvent=false;\r\n\t\tLaya.stage.off(/*laya.events.Event.MOUSE_UP*/\"mouseup\",this,this.onStageMouseUp);\r\n\t\tLaya.stage.off(/*laya.events.Event.MOUSE_OUT*/\"mouseout\",this,this.onStageMouseUp);\r\n\t\tLaya.timer.clear(this,this.loop);\r\n\t\tif (this._clickOnly || !this.target)return;\r\n\t\tif (this.hasInertia){\r\n\t\t\tif (this._offsets.length < 1){\r\n\t\t\t\tthis._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY);\r\n\t\t\t}\r\n\t\t\tthis._offsetX=this._offsetY=0;\r\n\t\t\tvar len=this._offsets.length;\r\n\t\t\tvar n=Math.min(len,6);\r\n\t\t\tvar m=this._offsets.length-n;\r\n\t\t\tfor (var i=len-1;i > m;i--){\r\n\t\t\t\tthis._offsetY+=this._offsets[i--];\r\n\t\t\t\tthis._offsetX+=this._offsets[i];\r\n\t\t\t}\r\n\t\t\tthis._offsetX=this._offsetX / n *2;\r\n\t\t\tthis._offsetY=this._offsetY / n *2;\r\n\t\t\tif (Math.abs(this._offsetX)> this.maxOffset)this._offsetX=this._offsetX > 0 ? this.maxOffset :-this.maxOffset;\r\n\t\t\tif (Math.abs(this._offsetY)> this.maxOffset)this._offsetY=this._offsetY > 0 ? this.maxOffset :-this.maxOffset;\r\n\t\t\tLaya.timer.frameLoop(1,this,this.tweenMove);\r\n\t\t\t}else if (this.elasticDistance > 0){\r\n\t\t\tthis.checkElastic();\r\n\t\t\t}else {\r\n\t\t\tthis.clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*橡皮筋效果检测。\r\n\t*/\r\n\t__proto.checkElastic=function(){\r\n\t\tvar tx=NaN;\r\n\t\tvar ty=NaN;\r\n\t\tif (this.target.x < this.area.x)tx=this.area.x;\r\n\t\telse if (this.target.x > this.area.x+this.area.width)tx=this.area.x+this.area.width;\r\n\t\tif (this.target.y < this.area.y)ty=this.area.y;\r\n\t\telse if (this.target.y > this.area.y+this.area.height)ty=this.area.y+this.area.height;\r\n\t\tif (!isNaN(tx)|| !isNaN(ty)){\r\n\t\t\tvar obj={};\r\n\t\t\tif (!isNaN(tx))obj.x=tx;\r\n\t\t\tif (!isNaN(ty))obj.y=ty;\r\n\t\t\tthis._tween=Tween.to(this.target,obj,this.elasticBackTime,Ease.sineOut,Handler.create(this,this.clear),0,false,false);\r\n\t\t\t}else {\r\n\t\t\tthis.clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*移动。\r\n\t*/\r\n\t__proto.tweenMove=function(){\r\n\t\tthis._offsetX *=this.ratio *this._elasticRateX;\r\n\t\tthis._offsetY *=this.ratio *this._elasticRateY;\r\n\t\tthis.target.x+=this._offsetX;\r\n\t\tthis.target.y+=this._offsetY;\r\n\t\tthis.area && this.checkArea();\r\n\t\tthis.target.event(/*laya.events.Event.DRAG_MOVE*/\"dragmove\",this.data);\r\n\t\tif ((Math.abs(this._offsetX)< 1 && Math.abs(this._offsetY)< 1)|| this._elasticRateX < 0.5 || this._elasticRateY < 0.5){\r\n\t\t\tLaya.timer.clear(this,this.tweenMove);\r\n\t\t\tif (this.elasticDistance > 0)this.checkElastic();\r\n\t\t\telse this.clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*结束拖拽。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tif (this.target){\r\n\t\t\tthis.clearTimer();\r\n\t\t\tvar sp=this.target;\r\n\t\t\tthis.target=null;\r\n\t\t\tthis._parent=null;\r\n\t\t\tsp.event(/*laya.events.Event.DRAG_END*/\"dragend\",this.data);\r\n\t\t}\r\n\t}\r\n\r\n\treturn Dragging;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Ease</code> 类定义了缓动函数，以便实现 <code>Tween</code> 动画的缓动效果。\r\n*/\r\n//class laya.utils.Ease\r\nvar Ease=(function(){\r\n\tfunction Ease(){}\r\n\t__class(Ease,'laya.utils.Ease');\r\n\tEase.linearNone=function(t,b,c,d){\r\n\t\treturn c *t / d+b;\r\n\t}\r\n\r\n\tEase.linearIn=function(t,b,c,d){\r\n\t\treturn c *t / d+b;\r\n\t}\r\n\r\n\tEase.linearInOut=function(t,b,c,d){\r\n\t\treturn c *t / d+b;\r\n\t}\r\n\r\n\tEase.linearOut=function(t,b,c,d){\r\n\t\treturn c *t / d+b;\r\n\t}\r\n\r\n\tEase.bounceIn=function(t,b,c,d){\r\n\t\treturn c-Ease.bounceOut(d-t,0,c,d)+b;\r\n\t}\r\n\r\n\tEase.bounceInOut=function(t,b,c,d){\r\n\t\tif (t < d *0.5)return Ease.bounceIn(t *2,0,c,d)*.5+b;\r\n\t\telse return Ease.bounceOut(t *2-d,0,c,d)*.5+c *.5+b;\r\n\t}\r\n\r\n\tEase.bounceOut=function(t,b,c,d){\r\n\t\tif ((t /=d)< (1 / 2.75))return c *(7.5625 *t *t)+b;\r\n\t\telse if (t < (2 / 2.75))return c *(7.5625 *(t-=(1.5 / 2.75))*t+.75)+b;\r\n\t\telse if (t < (2.5 / 2.75))return c *(7.5625 *(t-=(2.25 / 2.75))*t+.9375)+b;\r\n\t\telse return c *(7.5625 *(t-=(2.625 / 2.75))*t+.984375)+b;\r\n\t}\r\n\r\n\tEase.backIn=function(t,b,c,d,s){\r\n\t\t(s===void 0)&& (s=1.70158);\r\n\t\treturn c *(t /=d)*t *((s+1)*t-s)+b;\r\n\t}\r\n\r\n\tEase.backInOut=function(t,b,c,d,s){\r\n\t\t(s===void 0)&& (s=1.70158);\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *(t *t *(((s *=(1.525))+1)*t-s))+b;\r\n\t\treturn c / 2 *((t-=2)*t *(((s *=(1.525))+1)*t+s)+2)+b;\r\n\t}\r\n\r\n\tEase.backOut=function(t,b,c,d,s){\r\n\t\t(s===void 0)&& (s=1.70158);\r\n\t\treturn c *((t=t / d-1)*t *((s+1)*t+s)+1)+b;\r\n\t}\r\n\r\n\tEase.elasticIn=function(t,b,c,d,a,p){\r\n\t\t(a===void 0)&& (a=0);\r\n\t\t(p===void 0)&& (p=0);\r\n\t\tvar s;\r\n\t\tif (t==0)return b;\r\n\t\tif ((t /=d)==1)return b+c;\r\n\t\tif (!p)p=d *.3;\r\n\t\tif (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){\r\n\t\t\ta=c;\r\n\t\t\ts=p / 4;\r\n\t\t}else s=p / Ease.PI2 *Math.asin(c / a);\r\n\t\treturn-(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;\r\n\t}\r\n\r\n\tEase.elasticInOut=function(t,b,c,d,a,p){\r\n\t\t(a===void 0)&& (a=0);\r\n\t\t(p===void 0)&& (p=0);\r\n\t\tvar s;\r\n\t\tif (t==0)return b;\r\n\t\tif ((t /=d *0.5)==2)return b+c;\r\n\t\tif (!p)p=d *(.3 *1.5);\r\n\t\tif (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){\r\n\t\t\ta=c;\r\n\t\t\ts=p / 4;\r\n\t\t}else s=p / Ease.PI2 *Math.asin(c / a);\r\n\t\tif (t < 1)return-.5 *(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;\r\n\t\treturn a *Math.pow(2,-10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p)*.5+c+b;\r\n\t}\r\n\r\n\tEase.elasticOut=function(t,b,c,d,a,p){\r\n\t\t(a===void 0)&& (a=0);\r\n\t\t(p===void 0)&& (p=0);\r\n\t\tvar s;\r\n\t\tif (t==0)return b;\r\n\t\tif ((t /=d)==1)return b+c;\r\n\t\tif (!p)p=d *.3;\r\n\t\tif (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){\r\n\t\t\ta=c;\r\n\t\t\ts=p / 4;\r\n\t\t}else s=p / Ease.PI2 *Math.asin(c / a);\r\n\t\treturn (a *Math.pow(2,-10 *t)*Math.sin((t *d-s)*Ease.PI2 / p)+c+b);\r\n\t}\r\n\r\n\tEase.strongIn=function(t,b,c,d){\r\n\t\treturn c *(t /=d)*t *t *t *t+b;\r\n\t}\r\n\r\n\tEase.strongInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;\r\n\t\treturn c *0.5 *((t-=2)*t *t *t *t+2)+b;\r\n\t}\r\n\r\n\tEase.strongOut=function(t,b,c,d){\r\n\t\treturn c *((t=t / d-1)*t *t *t *t+1)+b;\r\n\t}\r\n\r\n\tEase.sineInOut=function(t,b,c,d){\r\n\t\treturn-c *0.5 *(Math.cos(Math.PI *t / d)-1)+b;\r\n\t}\r\n\r\n\tEase.sineIn=function(t,b,c,d){\r\n\t\treturn-c *Math.cos(t / d *Ease.HALF_PI)+c+b;\r\n\t}\r\n\r\n\tEase.sineOut=function(t,b,c,d){\r\n\t\treturn c *Math.sin(t / d *Ease.HALF_PI)+b;\r\n\t}\r\n\r\n\tEase.quintIn=function(t,b,c,d){\r\n\t\treturn c *(t /=d)*t *t *t *t+b;\r\n\t}\r\n\r\n\tEase.quintInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;\r\n\t\treturn c *0.5 *((t-=2)*t *t *t *t+2)+b;\r\n\t}\r\n\r\n\tEase.quintOut=function(t,b,c,d){\r\n\t\treturn c *((t=t / d-1)*t *t *t *t+1)+b;\r\n\t}\r\n\r\n\tEase.quartIn=function(t,b,c,d){\r\n\t\treturn c *(t /=d)*t *t *t+b;\r\n\t}\r\n\r\n\tEase.quartInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t+b;\r\n\t\treturn-c *0.5 *((t-=2)*t *t *t-2)+b;\r\n\t}\r\n\r\n\tEase.quartOut=function(t,b,c,d){\r\n\t\treturn-c *((t=t / d-1)*t *t *t-1)+b;\r\n\t}\r\n\r\n\tEase.cubicIn=function(t,b,c,d){\r\n\t\treturn c *(t /=d)*t *t+b;\r\n\t}\r\n\r\n\tEase.cubicInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *t *t *t+b;\r\n\t\treturn c *0.5 *((t-=2)*t *t+2)+b;\r\n\t}\r\n\r\n\tEase.cubicOut=function(t,b,c,d){\r\n\t\treturn c *((t=t / d-1)*t *t+1)+b;\r\n\t}\r\n\r\n\tEase.quadIn=function(t,b,c,d){\r\n\t\treturn c *(t /=d)*t+b;\r\n\t}\r\n\r\n\tEase.quadInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *t *t+b;\r\n\t\treturn-c *0.5 *((--t)*(t-2)-1)+b;\r\n\t}\r\n\r\n\tEase.quadOut=function(t,b,c,d){\r\n\t\treturn-c *(t /=d)*(t-2)+b;\r\n\t}\r\n\r\n\tEase.expoIn=function(t,b,c,d){\r\n\t\treturn (t==0)? b :c *Math.pow(2,10 *(t / d-1))+b-c *0.001;\r\n\t}\r\n\r\n\tEase.expoInOut=function(t,b,c,d){\r\n\t\tif (t==0)return b;\r\n\t\tif (t==d)return b+c;\r\n\t\tif ((t /=d *0.5)< 1)return c *0.5 *Math.pow(2,10 *(t-1))+b;\r\n\t\treturn c *0.5 *(-Math.pow(2,-10 *--t)+2)+b;\r\n\t}\r\n\r\n\tEase.expoOut=function(t,b,c,d){\r\n\t\treturn (t==d)? b+c :c *(-Math.pow(2,-10 *t / d)+1)+b;\r\n\t}\r\n\r\n\tEase.circIn=function(t,b,c,d){\r\n\t\treturn-c *(Math.sqrt(1-(t /=d)*t)-1)+b;\r\n\t}\r\n\r\n\tEase.circInOut=function(t,b,c,d){\r\n\t\tif ((t /=d *0.5)< 1)return-c *0.5 *(Math.sqrt(1-t *t)-1)+b;\r\n\t\treturn c *0.5 *(Math.sqrt(1-(t-=2)*t)+1)+b;\r\n\t}\r\n\r\n\tEase.circOut=function(t,b,c,d){\r\n\t\treturn c *Math.sqrt(1-(t=t / d-1)*t)+b;\r\n\t}\r\n\r\n\tEase.HALF_PI=Math.PI *0.5;\r\n\tEase.PI2=Math.PI *2;\r\n\treturn Ease;\r\n})()\r\n\r\n\r\n/**\r\n*鼠标点击区域，可以设置绘制一系列矢量图作为点击区域和非点击区域（目前只支持圆形，矩形，多边形）\r\n*/\r\n//class laya.utils.HitArea\r\nvar HitArea=(function(){\r\n\tfunction HitArea(){\r\n\t\t/**@private */\r\n\t\tthis._hit=null;\r\n\t\t/**@private */\r\n\t\tthis._unHit=null;\r\n\t}\r\n\r\n\t__class(HitArea,'laya.utils.HitArea');\r\n\tvar __proto=HitArea.prototype;\r\n\t/**\r\n\t*是否包含某个点\r\n\t*@param x x坐标\r\n\t*@param y y坐标\r\n\t*@return 是否点击到\r\n\t*/\r\n\t__proto.isHit=function(x,y){\r\n\t\tif (!HitArea.isHitGraphic(x,y,this.hit))return false;\r\n\t\treturn !HitArea.isHitGraphic(x,y,this.unHit);\r\n\t}\r\n\r\n\t/**\r\n\t*检测对象是否包含指定的点。\r\n\t*@param x 点的 X 轴坐标值（水平位置）。\r\n\t*@param y 点的 Y 轴坐标值（垂直位置）。\r\n\t*@return 如果包含指定的点，则值为 true；否则为 false。\r\n\t*/\r\n\t__proto.contains=function(x,y){\r\n\t\treturn this.isHit(x,y);\r\n\t}\r\n\r\n\t/**\r\n\t*可点击区域，可以设置绘制一系列矢量图作为点击区域（目前只支持圆形，矩形，多边形）\r\n\t*/\r\n\t__getset(0,__proto,'hit',function(){\r\n\t\tif (!this._hit)this._hit=new Graphics();\r\n\t\treturn this._hit;\r\n\t\t},function(value){\r\n\t\tthis._hit=value;\r\n\t});\r\n\r\n\t/**\r\n\t*不可点击区域，可以设置绘制一系列矢量图作为非点击区域（目前只支持圆形，矩形，多边形）\r\n\t*/\r\n\t__getset(0,__proto,'unHit',function(){\r\n\t\tif (!this._unHit)this._unHit=new Graphics();\r\n\t\treturn this._unHit;\r\n\t\t},function(value){\r\n\t\tthis._unHit=value;\r\n\t});\r\n\r\n\tHitArea.isHitGraphic=function(x,y,graphic){\r\n\t\tif (!graphic)return false;\r\n\t\tvar cmds;\r\n\t\tcmds=graphic.cmds;\r\n\t\tif (!cmds && graphic._one){\r\n\t\t\tcmds=HitArea._cmds;\r\n\t\t\tcmds.length=1;\r\n\t\t\tcmds[0]=graphic._one;\r\n\t\t}\r\n\t\tif (!cmds)return false;\r\n\t\tvar i=0,len=0;\r\n\t\tlen=cmds.length;\r\n\t\tvar cmd;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tcmd=cmds[i];\r\n\t\t\tif (!cmd)continue ;\r\n\t\t\tvar context=Render._context;\r\n\t\t\tswitch (cmd.callee){\r\n\t\t\t\tcase context._translate:\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tx-=cmd[0];\r\n\t\t\t\t\ty-=cmd[1];\r\n\t\t\t\tdefault :\r\n\t\t\t\t}\r\n\t\t\tif (HitArea.isHitCmd(x,y,cmd))return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tHitArea.isHitCmd=function(x,y,cmd){\r\n\t\tif (!cmd)return false;\r\n\t\tvar context=Render._context;\r\n\t\tvar rst=false;\r\n\t\tswitch (cmd[\"callee\"]){\r\n\t\t\tcase context._drawRect:\r\n\t\t\tcase 13:\r\n\t\t\t\tHitArea._rec.setTo(cmd[0],cmd[1],cmd[2],cmd[3]);\r\n\t\t\t\trst=HitArea._rec.contains(x,y);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase context._drawCircle:\r\n\t\t\tcase context._fillCircle:\r\n\t\t\tcase 14:;\r\n\t\t\t\tvar d=NaN;\r\n\t\t\t\tx-=cmd[0];\r\n\t\t\t\ty-=cmd[1];\r\n\t\t\t\td=x *x+y *y;\r\n\t\t\t\trst=d < cmd[2] *cmd[2];\r\n\t\t\t\tbreak ;\r\n\t\t\tcase context._drawPoly:\r\n\t\t\tcase 18:\r\n\t\t\t\tx-=cmd[0];\r\n\t\t\t\ty-=cmd[1];\r\n\t\t\t\trst=HitArea.ptInPolygon(x,y,cmd[2]);\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tHitArea.ptInPolygon=function(x,y,areaPoints){\r\n\t\tvar p;\r\n\t\tp=HitArea._ptPoint;\r\n\t\tp.setTo(x,y);\r\n\t\tvar nCross=0;\r\n\t\tvar p1x=NaN,p1y=NaN,p2x=NaN,p2y=NaN;\r\n\t\tvar len=0;\r\n\t\tlen=areaPoints.length;\r\n\t\tfor (var i=0;i < len;i+=2){\r\n\t\t\tp1x=areaPoints[i];\r\n\t\t\tp1y=areaPoints[i+1];\r\n\t\t\tp2x=areaPoints[(i+2)% len];\r\n\t\t\tp2y=areaPoints[(i+3)% len];\r\n\t\t\tif (p1y==p2y)\r\n\t\t\t\tcontinue ;\r\n\t\t\tif (p.y < Math.min(p1y,p2y))\r\n\t\t\t\tcontinue ;\r\n\t\t\tif (p.y >=Math.max(p1y,p2y))\r\n\t\t\t\tcontinue ;\r\n\t\t\tvar tx=(p.y-p1y)*(p2x-p1x)/ (p2y-p1y)+p1x;\r\n\t\t\tif (tx > p.x){\r\n\t\t\t\tnCross++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (nCross % 2==1);\r\n\t}\r\n\r\n\tHitArea._cmds=[];\r\n\t__static(HitArea,\r\n\t['_rec',function(){return this._rec=new Rectangle();},'_ptPoint',function(){return this._ptPoint=new Point();}\r\n\t]);\r\n\treturn HitArea;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>HTMLChar</code> 是一个 HTML 字符类。\r\n*/\r\n//class laya.utils.HTMLChar\r\nvar HTMLChar=(function(){\r\n\tfunction HTMLChar(char,w,h,style){\r\n\t\t//this._sprite=null;\r\n\t\t//this._x=NaN;\r\n\t\t//this._y=NaN;\r\n\t\t//this._w=NaN;\r\n\t\t//this._h=NaN;\r\n\t\t/**表示是否是正常单词(英文|.|数字)。*/\r\n\t\t//this.isWord=false;\r\n\t\t/**字符。*/\r\n\t\t//this.char=null;\r\n\t\t/**字符数量。*/\r\n\t\t//this.charNum=NaN;\r\n\t\t/**CSS 样式。*/\r\n\t\t//this.style=null;\r\n\t\tthis.char=char;\r\n\t\tthis.charNum=char.charCodeAt(0);\r\n\t\tthis._x=this._y=0;\r\n\t\tthis.width=w;\r\n\t\tthis.height=h;\r\n\t\tthis.style=style;\r\n\t\tthis.isWord=!HTMLChar._isWordRegExp.test(char);\r\n\t}\r\n\r\n\t__class(HTMLChar,'laya.utils.HTMLChar');\r\n\tvar __proto=HTMLChar.prototype;\r\n\tLaya.imps(__proto,{\"laya.display.ILayout\":true})\r\n\t/**\r\n\t*设置与此对象绑定的显示对象 <code>Sprite</code> 。\r\n\t*@param sprite 显示对象 <code>Sprite</code> 。\r\n\t*/\r\n\t__proto.setSprite=function(sprite){\r\n\t\tthis._sprite=sprite;\r\n\t}\r\n\r\n\t/**\r\n\t*获取与此对象绑定的显示对象 <code>Sprite</code>。\r\n\t*@return\r\n\t*/\r\n\t__proto.getSprite=function(){\r\n\t\treturn this._sprite;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._isChar=function(){\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getCSSStyle=function(){\r\n\t\treturn this.style;\r\n\t}\r\n\r\n\t/**\r\n\t*宽度。\r\n\t*/\r\n\t__getset(0,__proto,'width',function(){\r\n\t\treturn this._w;\r\n\t\t},function(value){\r\n\t\tthis._w=value;\r\n\t});\r\n\r\n\t/**\r\n\t*此对象存储的 X 轴坐标值。\r\n\t*当设置此值时，如果此对象有绑定的 Sprite 对象，则改变 Sprite 对象的属性 x 的值。\r\n\t*/\r\n\t__getset(0,__proto,'x',function(){\r\n\t\treturn this._x;\r\n\t\t},function(value){\r\n\t\tif (this._sprite){\r\n\t\t\tthis._sprite.x=value;\r\n\t\t}\r\n\t\tthis._x=value;\r\n\t});\r\n\r\n\t/**\r\n\t*此对象存储的 Y 轴坐标值。\r\n\t*当设置此值时，如果此对象有绑定的 Sprite 对象，则改变 Sprite 对象的属性 y 的值。\r\n\t*/\r\n\t__getset(0,__proto,'y',function(){\r\n\t\treturn this._y;\r\n\t\t},function(value){\r\n\t\tif (this._sprite){\r\n\t\t\tthis._sprite.y=value;\r\n\t\t}\r\n\t\tthis._y=value;\r\n\t});\r\n\r\n\t/**\r\n\t*高度。\r\n\t*/\r\n\t__getset(0,__proto,'height',function(){\r\n\t\treturn this._h;\r\n\t\t},function(value){\r\n\t\tthis._h=value;\r\n\t});\r\n\r\n\tHTMLChar._isWordRegExp=new RegExp(\"[\\\\w\\.]\",\"\");\r\n\treturn HTMLChar;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Log</code> 类用于在界面内显示日志记录信息。\r\n*/\r\n//class laya.utils.Log\r\nvar Log=(function(){\r\n\tfunction Log(){}\r\n\t__class(Log,'laya.utils.Log');\r\n\tLog.enable=function(){\r\n\t\tif (!Log._logdiv){\r\n\t\t\tLog._logdiv=Browser.window.document.createElement('div');\r\n\t\t\tBrowser.window.document.body.appendChild(Log._logdiv);\r\n\t\t\tLog._logdiv.style.cssText=\"pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;\";\r\n\t\t}\r\n\t}\r\n\r\n\tLog.toggle=function(){\r\n\t\tvar style=Log._logdiv.style;\r\n\t\tif (style.width==\"1px\"){\r\n\t\t\tstyle.width=style.height=\"50%\";\r\n\t\t\t}else {\r\n\t\t\tstyle.width=style.height=\"1px\";\r\n\t\t}\r\n\t}\r\n\r\n\tLog.print=function(value){\r\n\t\tif (Log._logdiv){\r\n\t\t\tif (Log._count >=Log.maxCount)Log.clear();\r\n\t\t\tLog._count++;\r\n\t\t\tLog._logdiv.innerText+=value+\"\\n\";\r\n\t\t\tLog._logdiv.scrollTop=Log._logdiv.scrollHeight;\r\n\t\t}\r\n\t}\r\n\r\n\tLog.clear=function(){\r\n\t\tLog._logdiv.innerText=\"\";\r\n\t\tLog._count=0;\r\n\t}\r\n\r\n\tLog._logdiv=null;\r\n\tLog._count=0;\r\n\tLog.maxCount=20;\r\n\treturn Log;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Mouse</code> 类用于控制鼠标光标。\r\n*/\r\n//class laya.utils.Mouse\r\nvar Mouse=(function(){\r\n\tfunction Mouse(){}\r\n\t__class(Mouse,'laya.utils.Mouse');\r\n\t/**\r\n\t*设置鼠标样式\r\n\t*@param cursorStr\r\n\t*例如auto move no-drop col-resize\r\n\t*all-scroll pointer not-allowed row-resize\r\n\t*crosshair progress e-resize ne-resize\r\n\t*default text n-resize nw-resize\r\n\t*help vertical-text s-resize se-resize\r\n\t*inherit wait w-resize sw-resize\r\n\t*\r\n\t*/\r\n\t__getset(1,Mouse,'cursor',function(){\r\n\t\treturn Mouse._style.cursor;\r\n\t\t},function(cursorStr){\r\n\t\tMouse._style.cursor=cursorStr;\r\n\t});\r\n\r\n\tMouse.hide=function(){\r\n\t\tif (Mouse.cursor !=\"none\"){\r\n\t\t\tMouse._preCursor=Mouse.cursor;\r\n\t\t\tMouse.cursor=\"none\";\r\n\t\t}\r\n\t}\r\n\r\n\tMouse.show=function(){\r\n\t\tif (Mouse.cursor==\"none\"){\r\n\t\t\tif (Mouse._preCursor){\r\n\t\t\t\tMouse.cursor=Mouse._preCursor;\r\n\t\t\t\t}else {\r\n\t\t\t\tMouse.cursor=\"auto\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMouse._preCursor=null;\r\n\t__static(Mouse,\r\n\t['_style',function(){return this._style=Browser.document.body.style;}\r\n\t]);\r\n\treturn Mouse;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>Pool</code> 是对象池类，用于对象的存贮、重复使用。</p>\r\n*<p>合理使用对象池，可以有效减少对象创建的开销，避免频繁的垃圾回收，从而优化游戏流畅度。</p>\r\n*/\r\n//class laya.utils.Pool\r\nvar Pool=(function(){\r\n\tfunction Pool(){}\r\n\t__class(Pool,'laya.utils.Pool');\r\n\tPool.getPoolBySign=function(sign){\r\n\t\treturn Pool._poolDic[sign] || (Pool._poolDic[sign]=[]);\r\n\t}\r\n\r\n\tPool.clearBySign=function(sign){\r\n\t\tif (Pool._poolDic[sign])Pool._poolDic[sign].length=0;\r\n\t}\r\n\r\n\tPool.recover=function(sign,item){\r\n\t\tif (item[\"__InPool\"])return;\r\n\t\titem[\"__InPool\"]=true;\r\n\t\tPool.getPoolBySign(sign).push(item);\r\n\t}\r\n\r\n\tPool.getItemByClass=function(sign,cls){\r\n\t\tvar pool=Pool.getPoolBySign(sign);\r\n\t\tvar rst=pool.length ? pool.pop():new cls();\r\n\t\trst[\"__InPool\"]=false;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tPool.getItemByCreateFun=function(sign,createFun){\r\n\t\tvar pool=Pool.getPoolBySign(sign);\r\n\t\tvar rst=pool.length ? pool.pop():createFun();\r\n\t\trst[\"__InPool\"]=false;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tPool.getItem=function(sign){\r\n\t\tvar pool=Pool.getPoolBySign(sign);\r\n\t\tvar rst=pool.length ? pool.pop():null;\r\n\t\tif (rst){\r\n\t\t\trst[\"__InPool\"]=false;\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tPool._poolDic={};\r\n\tPool.InPoolSign=\"__InPool\";\r\n\treturn Pool;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*基于个数的对象缓存管理器\r\n*/\r\n//class laya.utils.PoolCache\r\nvar PoolCache=(function(){\r\n\tfunction PoolCache(){\r\n\t\t/**\r\n\t\t*对象在Pool中的标识\r\n\t\t*/\r\n\t\tthis.sign=null;\r\n\t\t/**\r\n\t\t*允许缓存的最大数量\r\n\t\t*/\r\n\t\tthis.maxCount=1000;\r\n\t}\r\n\r\n\t__class(PoolCache,'laya.utils.PoolCache');\r\n\tvar __proto=PoolCache.prototype;\r\n\t/**\r\n\t*获取缓存的对象列表\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.getCacheList=function(){\r\n\t\treturn Pool.getPoolBySign(this.sign);\r\n\t}\r\n\r\n\t/**\r\n\t*尝试清理缓存\r\n\t*@param force 是否强制清理\r\n\t*\r\n\t*/\r\n\t__proto.tryDispose=function(force){\r\n\t\tvar list;\r\n\t\tlist=Pool.getPoolBySign(this.sign);\r\n\t\tif (list.length > this.maxCount){\r\n\t\t\tlist.splice(this.maxCount,list.length-this.maxCount);\r\n\t\t}\r\n\t}\r\n\r\n\tPoolCache.addPoolCacheManager=function(sign,maxCount){\r\n\t\t(maxCount===void 0)&& (maxCount=100);\r\n\t\tvar cache;\r\n\t\tcache=new PoolCache();\r\n\t\tcache.sign=sign;\r\n\t\tcache.maxCount=maxCount;\r\n\t\tCacheManager.regCacheByFunction(Utils.bind(cache.tryDispose,cache),Utils.bind(cache.getCacheList,cache));\r\n\t}\r\n\r\n\treturn PoolCache;\r\n})()\r\n\r\n\r\n/**\r\n*<p> <code>Stat</code> 是一个性能统计面板，可以实时更新相关的性能参数。</p>\r\n*<p>参与统计的性能参数如下（所有参数都是每大约1秒进行更新）：<br/>\r\n*FPS(Canvas)/FPS(WebGL)：Canvas 模式或者 WebGL 模式下的帧频，也就是每秒显示的帧数，值越高、越稳定，感觉越流畅；<br/>\r\n*Sprite：统计所有渲染节点（包括容器）数量，它的大小会影响引擎进行节点遍历、数据组织和渲染的效率。其值越小，游戏运行效率越高；<br/>\r\n*DrawCall：此值是决定性能的重要指标，其值越小，游戏运行效率越高。Canvas模式下表示每大约1秒的图像绘制次数；WebGL模式下表示每大约1秒的渲染提交批次，每次准备数据并通知GPU渲染绘制的过程称为1次DrawCall，在每次DrawCall中除了在通知GPU的渲染上比较耗时之外，切换材质与shader也是非常耗时的操作；<br/>\r\n*CurMem：Canvas模式下，表示内存占用大小，值越小越好，过高会导致游戏闪退；WebGL模式下，表示内存与显存的占用，值越小越好；<br/>\r\n*Shader：是 WebGL 模式独有的性能指标，表示每大约1秒 Shader 提交次数，值越小越好；<br/>\r\n*Canvas：由三个数值组成，只有设置 CacheAs 后才会有值，默认为0/0/0。从左到右数值的意义分别为：每帧重绘的画布数量 / 缓存类型为\"normal\"类型的画布数量 / 缓存类型为\"bitmap\"类型的画布数量。</p>\r\n*/\r\n//class laya.utils.Stat\r\nvar Stat=(function(){\r\n\tfunction Stat(){}\r\n\t__class(Stat,'laya.utils.Stat');\r\n\t/**\r\n\t*点击性能统计显示区域的处理函数。\r\n\t*/\r\n\t__getset(1,Stat,'onclick',null,function(fn){\r\n\t\tif (Stat._sp){\r\n\t\t\tStat._sp.on(\"click\",Stat._sp,fn);\r\n\t\t}\r\n\t\tif (Stat._canvas){\r\n\t\t\tStat._canvas.source.onclick=fn;\r\n\t\t\tStat._canvas.source.style.pointerEvents='';\r\n\t\t}\r\n\t});\r\n\r\n\tStat.show=function(x,y){\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\tif (Render.isConchApp && !Render.isConchWebGL){\r\n\t\t\tBrowser.window.conch.showFPS && Browser.window.conch.showFPS(x,y);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!Render.isConchWebGL && !Browser.onMiniGame &&! Browser.onLimixiu)Stat._useCanvas=true;\r\n\t\tStat._show=true;\r\n\t\tStat._fpsData.length=60;\r\n\t\tStat._view[0]={title:\"FPS(Canvas)\",value:\"_fpsStr\",color:\"yellow\",units:\"int\"};\r\n\t\tStat._view[1]={title:\"Sprite\",value:\"_spriteStr\",color:\"white\",units:\"int\"};\r\n\t\tStat._view[2]={title:\"DrawCall\",value:\"drawCall\",color:\"white\",units:\"int\"};\r\n\t\tStat._view[3]={title:\"CurMem\",value:\"currentMemorySize\",color:\"yellow\",units:\"M\"};\r\n\t\tif (Render.isWebGL){\r\n\t\t\tStat._view[4]={title:\"Shader\",value:\"shaderCall\",color:\"white\",units:\"int\"};\r\n\t\t\tif (!Render.is3DMode){\r\n\t\t\t\tStat._view[0].title=\"FPS(WebGL)\";\r\n\t\t\t\tStat._view[5]={title:\"Canvas\",value:\"_canvasStr\",color:\"white\",units:\"int\"};\r\n\t\t\t\t}else {\r\n\t\t\t\tStat._view[0].title=\"FPS(3D)\";\r\n\t\t\t\tStat._view[5]={title:\"TriFaces\",value:\"trianglesFaces\",color:\"white\",units:\"int\"};\r\n\t\t\t\tStat._view[6]={title:\"treeNodeColl\",value:\"treeNodeCollision\",color:\"white\",units:\"int\"};\r\n\t\t\t\tStat._view[7]={title:\"treeSpriteColl\",value:\"treeSpriteCollision\",color:\"white\",units:\"int\"};\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tStat._view[4]={title:\"Canvas\",value:\"_canvasStr\",color:\"white\",units:\"int\"};\r\n\t\t}\r\n\t\tif (Stat._useCanvas){\r\n\t\t\tStat.createUIPre(x,y);\r\n\t\t}else\r\n\t\tStat.createUI(x,y);\r\n\t\tStat.enable();\r\n\t}\r\n\r\n\tStat.createUIPre=function(x,y){\r\n\t\tvar pixel=Browser.pixelRatio;\r\n\t\tStat._width=pixel *130;\r\n\t\tStat._vx=pixel *75;\r\n\t\tStat._height=pixel *(Stat._view.length *12+3 *pixel)+4;\r\n\t\tStat._fontSize=12 *pixel;\r\n\t\tfor (var i=0;i < Stat._view.length;i++){\r\n\t\t\tStat._view[i].x=4;\r\n\t\t\tStat._view[i].y=i *Stat._fontSize+2 *pixel;\r\n\t\t}\r\n\t\tif (!Stat._canvas){\r\n\t\t\tStat._canvas=new HTMLCanvas('2D');\r\n\t\t\tStat._canvas.size(Stat._width,Stat._height);\r\n\t\t\tStat._ctx=Stat._canvas.getContext('2d');\r\n\t\t\tStat._ctx.textBaseline=\"top\";\r\n\t\t\tStat._ctx.font=Stat._fontSize+\"px Sans-serif\";\r\n\t\t\tStat._canvas.source.style.cssText=\"pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:\"+x+\"px;top:\"+y+\"px;width:\"+(Stat._width / pixel)+\"px;height:\"+(Stat._height / pixel)+\"px;\";\r\n\t\t}\r\n\t\tStat._first=true;\r\n\t\tStat.loop();\r\n\t\tStat._first=false;\r\n\t\tBrowser.container.appendChild(Stat._canvas.source);\r\n\t}\r\n\r\n\tStat.createUI=function(x,y){\r\n\t\tvar stat=Stat._sp;\r\n\t\tvar pixel=Browser.pixelRatio;\r\n\t\tif (!stat){\r\n\t\t\tstat=new Sprite();\r\n\t\t\tStat._leftText=new Text();\r\n\t\t\tStat._leftText.pos(5,5);\r\n\t\t\tStat._leftText.color=\"#ffffff\";\r\n\t\t\tstat.addChild(Stat._leftText);\r\n\t\t\tStat._txt=new Text();\r\n\t\t\tStat._txt.pos(80*pixel,5);\r\n\t\t\tStat._txt.color=\"#ffffff\";\r\n\t\t\tstat.addChild(Stat._txt);\r\n\t\t\tStat._sp=stat;\r\n\t\t}\r\n\t\tstat.pos(x,y);\r\n\t\tvar text=\"\";\r\n\t\tfor (var i=0;i < Stat._view.length;i++){\r\n\t\t\tvar one=Stat._view[i];\r\n\t\t\ttext+=one.title+\"\\n\";\r\n\t\t}\r\n\t\tStat._leftText.text=text;\r\n\t\tvar width=pixel *138;\r\n\t\tvar height=pixel *(Stat._view.length *12+3 *pixel)+4;\r\n\t\tStat._txt.fontSize=Stat._fontSize *pixel;\r\n\t\tStat._leftText.fontSize=Stat._fontSize *pixel;\r\n\t\tstat.size(width,height);\r\n\t\tstat.graphics.clear();\r\n\t\tstat.graphics.setAlpha(0.5);\r\n\t\tstat.graphics.drawRect(0,0,width,height,\"#999999\");\r\n\t\tstat.graphics.setAlpha(1);\r\n\t\tStat.loop();\r\n\t}\r\n\r\n\tStat.enable=function(){\r\n\t\tLaya.timer.frameLoop(1,Stat,Stat.loop);\r\n\t}\r\n\r\n\tStat.hide=function(){\r\n\t\tStat._show=false;\r\n\t\tLaya.timer.clear(Stat,Stat.loop);\r\n\t\tif (Stat._canvas){\r\n\t\t\tBrowser.removeElement(Stat._canvas.source);\r\n\t\t}\r\n\t}\r\n\r\n\tStat.clear=function(){\r\n\t\tStat.trianglesFaces=Stat.drawCall=Stat.shaderCall=Stat.spriteCount=Stat.spriteRenderUseCacheCount=Stat.treeNodeCollision=Stat.treeSpriteCollision=Stat.canvasNormal=Stat.canvasBitmap=Stat.canvasReCache=0;\r\n\t}\r\n\r\n\tStat.loop=function(){\r\n\t\tStat._count++;\r\n\t\tvar timer=Browser.now();\r\n\t\tif (timer-Stat._timer < 1000)return;\r\n\t\tvar count=Stat._count;\r\n\t\tStat.FPS=Math.round((count *1000)/ (timer-Stat._timer));\r\n\t\tif (Stat._show){\r\n\t\t\tStat.trianglesFaces=Math.round(Stat.trianglesFaces / count);\r\n\t\t\tif (!Stat._useCanvas){\r\n\t\t\t\tStat.drawCall=Math.round(Stat.drawCall / count)-2;\r\n\t\t\t\tStat.shaderCall=Math.round(Stat.shaderCall / count)-4;\r\n\t\t\t\tStat.spriteCount=Math.round(Stat.spriteCount / count)-4;\r\n\t\t\t\t}else{\r\n\t\t\t\tStat.drawCall=Math.round(Stat.drawCall / count)-2;\r\n\t\t\t\tStat.shaderCall=Math.round(Stat.shaderCall / count);\r\n\t\t\t\tStat.spriteCount=Math.round(Stat.spriteCount / count)-1;\r\n\t\t\t}\r\n\t\t\tStat.spriteRenderUseCacheCount=Math.round(Stat.spriteRenderUseCacheCount / count);\r\n\t\t\tStat.canvasNormal=Math.round(Stat.canvasNormal / count);\r\n\t\t\tStat.canvasBitmap=Math.round(Stat.canvasBitmap / count);\r\n\t\t\tStat.canvasReCache=Math.ceil(Stat.canvasReCache / count);\r\n\t\t\tStat.treeNodeCollision=Math.round(Stat.treeNodeCollision / count);\r\n\t\t\tStat.treeSpriteCollision=Math.round(Stat.treeSpriteCollision / count);\r\n\t\t\tvar delay=Stat.FPS > 0 ? Math.floor(1000 / Stat.FPS).toString():\" \";\r\n\t\t\tStat._fpsStr=Stat.FPS+(Stat.renderSlow ? \" slow\" :\"\")+\" \"+delay;\r\n\t\t\tStat._spriteStr=Stat.spriteCount+(Stat.spriteRenderUseCacheCount ? (\"/\"+Stat.spriteRenderUseCacheCount):'');\r\n\t\t\tStat._canvasStr=Stat.canvasReCache+\"/\"+Stat.canvasNormal+\"/\"+Stat.canvasBitmap;\r\n\t\t\tStat.currentMemorySize=ResourceManager.systemResourceManager.memorySize;\r\n\t\t\tif (Stat._useCanvas){\r\n\t\t\t\tStat.renderInfoPre();\r\n\t\t\t}else\r\n\t\t\tStat.renderInfo();\r\n\t\t\tStat.clear();\r\n\t\t}\r\n\t\tStat._count=0;\r\n\t\tStat._timer=timer;\r\n\t}\r\n\r\n\tStat.renderInfoPre=function(){\r\n\t\tif (Stat._canvas){\r\n\t\t\tvar ctx=Stat._ctx;\r\n\t\t\tctx.clearRect(Stat._first ? 0 :Stat._vx,0,Stat._width,Stat._height);\r\n\t\t\tfor (var i=0;i < Stat._view.length;i++){\r\n\t\t\t\tvar one=Stat._view[i];\r\n\t\t\t\tif (Stat._first){\r\n\t\t\t\t\tctx.fillStyle=\"white\";\r\n\t\t\t\t\tctx.fillText(one.title,one.x,one.y,null,null,null);\r\n\t\t\t\t}\r\n\t\t\t\tctx.fillStyle=one.color;\r\n\t\t\t\tvar value=Stat[one.value];\r\n\t\t\t\t(one.units==\"M\")&& (value=Math.floor(value / (1024 *1024)*100)/ 100+\" M\");\r\n\t\t\t\tctx.fillText(value+\"\",one.x+Stat._vx,one.y,null,null,null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tStat.renderInfo=function(){\r\n\t\tvar text=\"\";\r\n\t\tfor (var i=0;i < Stat._view.length;i++){\r\n\t\t\tvar one=Stat._view[i];\r\n\t\t\tvar value=Stat[one.value];\r\n\t\t\t(one.units==\"M\")&& (value=Math.floor(value / (1024 *1024)*100)/ 100+\" M\");\r\n\t\t\t(one.units==\"K\")&& (value=Math.floor(value / (1024)*100)/ 100+\" K\");\r\n\t\t\ttext+=value+\"\\n\";\r\n\t\t}\r\n\t\tStat._txt.text=text;\r\n\t}\r\n\r\n\tStat.FPS=0;\r\n\tStat.loopCount=0;\r\n\tStat.shaderCall=0;\r\n\tStat.drawCall=0;\r\n\tStat.trianglesFaces=0;\r\n\tStat.spriteCount=0;\r\n\tStat.spriteRenderUseCacheCount=0;\r\n\tStat.treeNodeCollision=0;\r\n\tStat.treeSpriteCollision=0;\r\n\tStat.canvasNormal=0;\r\n\tStat.canvasBitmap=0;\r\n\tStat.canvasReCache=0;\r\n\tStat.renderSlow=false;\r\n\tStat.currentMemorySize=0;\r\n\tStat._fpsStr=null;\r\n\tStat._canvasStr=null;\r\n\tStat._spriteStr=null;\r\n\tStat._fpsData=[];\r\n\tStat._timer=0;\r\n\tStat._count=0;\r\n\tStat._view=[];\r\n\tStat._fontSize=12;\r\n\tStat._txt=null;\r\n\tStat._leftText=null;\r\n\tStat._sp=null;\r\n\tStat._show=false;\r\n\tStat._useCanvas=false;\r\n\tStat._canvas=null;\r\n\tStat._ctx=null;\r\n\tStat._first=false;\r\n\tStat._vx=NaN;\r\n\tStat._width=0;\r\n\tStat._height=100;\r\n\treturn Stat;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>StringKey</code> 类用于存取字符串对应的数字。\r\n*/\r\n//class laya.utils.StringKey\r\nvar StringKey=(function(){\r\n\tfunction StringKey(){\r\n\t\tthis._strsToID={};\r\n\t\tthis._idToStrs=[];\r\n\t\tthis._length=0;\r\n\t}\r\n\r\n\t__class(StringKey,'laya.utils.StringKey');\r\n\tvar __proto=StringKey.prototype;\r\n\t/**\r\n\t*添加一个字符。\r\n\t*@param str 字符，将作为key 存储相应生成的数字。\r\n\t*@return 此字符对应的数字。\r\n\t*/\r\n\t__proto.add=function(str){\r\n\t\tvar index=this._strsToID[str];\r\n\t\tif (index !=null)return index;\r\n\t\tthis._idToStrs[this._length]=str;\r\n\t\treturn this._strsToID[str]=this._length++;\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定字符对应的ID。\r\n\t*@param str 字符。\r\n\t*@return 此字符对应的ID。\r\n\t*/\r\n\t__proto.getID=function(str){\r\n\t\tvar index=this._strsToID[str];\r\n\t\treturn index==null ?-1 :index;\r\n\t}\r\n\r\n\t/**\r\n\t*根据指定ID获取对应字符。\r\n\t*@param id ID。\r\n\t*@return 此id对应的字符。\r\n\t*/\r\n\t__proto.getName=function(id){\r\n\t\tvar str=this._idToStrs[id];\r\n\t\treturn str==null ? undefined :str;\r\n\t}\r\n\r\n\treturn StringKey;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Timer</code> 是时钟管理类。它是一个单例，不要手动实例化此类，应该通过 Laya.timer 访问。\r\n*/\r\n//class laya.utils.Timer\r\nvar Timer=(function(){\r\n\tvar TimerHandler;\r\n\tfunction Timer(){\r\n\t\t/**两帧之间的时间间隔,单位毫秒。*/\r\n\t\tthis._delta=0;\r\n\t\t/**时针缩放。*/\r\n\t\tthis.scale=1;\r\n\t\t/**当前的帧数。*/\r\n\t\tthis.currFrame=0;\r\n\t\t/**@private */\r\n\t\tthis._mid=1;\r\n\t\t/**@private */\r\n\t\tthis._map=[];\r\n\t\t/**@private */\r\n\t\tthis._laters=[];\r\n\t\t/**@private */\r\n\t\tthis._handlers=[];\r\n\t\t/**@private */\r\n\t\tthis._temp=[];\r\n\t\t/**@private */\r\n\t\tthis._count=0;\r\n\t\tthis.currTimer=this._now();\r\n\t\tthis._lastTimer=this._now();\r\n\t\tthis._init();\r\n\t}\r\n\r\n\t__class(Timer,'laya.utils.Timer');\r\n\tvar __proto=Timer.prototype;\r\n\t/**@private */\r\n\t__proto._init=function(){\r\n\t\tLaya.timer && Laya.timer.frameLoop(1,this,this._update);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._now=function(){\r\n\t\treturn /*__JS__ */Date.now();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*帧循环处理函数。\r\n\t*/\r\n\t__proto._update=function(){\r\n\t\tif (this.scale <=0){\r\n\t\t\tthis._lastTimer=this._now();\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar frame=this.currFrame=this.currFrame+this.scale;\r\n\t\tvar now=this._now();\r\n\t\tthis._delta=(now-this._lastTimer)*this.scale;\r\n\t\tvar timer=this.currTimer=this.currTimer+this._delta;\r\n\t\tthis._lastTimer=now;\r\n\t\tvar handlers=this._handlers;\r\n\t\tthis._count=0;\r\n\t\tfor (i=0,n=handlers.length;i < n;i++){\r\n\t\t\thandler=handlers[i];\r\n\t\t\tif (handler.method!==null){\r\n\t\t\t\tvar t=handler.userFrame ? frame :timer;\r\n\t\t\t\tif (t >=handler.exeTime){\r\n\t\t\t\t\tif (handler.repeat){\r\n\t\t\t\t\t\tif (!handler.jumpFrame){\r\n\t\t\t\t\t\t\thandler.exeTime+=handler.delay;\r\n\t\t\t\t\t\t\thandler.run(false);\r\n\t\t\t\t\t\t\tif (t > handler.exeTime){\r\n\t\t\t\t\t\t\t\thandler.exeTime+=Math.ceil((t-handler.exeTime)/ handler.delay)*handler.delay;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\twhile (t >=handler.exeTime){\r\n\t\t\t\t\t\t\t\thandler.exeTime+=handler.delay;\r\n\t\t\t\t\t\t\t\thandler.run(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\thandler.run(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._count++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._count > 30 || frame % 200===0)this._clearHandlers();\r\n\t\tvar laters=this._laters;\r\n\t\tfor (var i=0,n=laters.length-1;i <=n;i++){\r\n\t\t\tvar handler=laters[i];\r\n\t\t\tif (handler.method!==null){\r\n\t\t\t\tthis._map[handler.key]=null;\r\n\t\t\t\thandler.run(false);\r\n\t\t\t}\r\n\t\t\tthis._recoverHandler(handler);\r\n\t\t\ti===n && (n=laters.length-1);\r\n\t\t}\r\n\t\tlaters.length=0;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._clearHandlers=function(){\r\n\t\tvar handlers=this._handlers;\r\n\t\tfor (var i=0,n=handlers.length;i < n;i++){\r\n\t\t\tvar handler=handlers[i];\r\n\t\t\tif (handler.method!==null)this._temp.push(handler);\r\n\t\t\telse this._recoverHandler(handler);\r\n\t\t}\r\n\t\tthis._handlers=this._temp;\r\n\t\tthis._temp=handlers;\r\n\t\tthis._temp.length=0;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._recoverHandler=function(handler){\r\n\t\tif(this._map[handler.key]==handler)this._map[handler.key]=null;\r\n\t\thandler.clear();\r\n\t\tTimer._pool.push(handler);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._create=function(useFrame,repeat,delay,caller,method,args,coverBefore){\r\n\t\tif (!delay){\r\n\t\t\tmethod.apply(caller,args);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (coverBefore){\r\n\t\t\tvar handler=this._getHandler(caller,method);\r\n\t\t\tif (handler){\r\n\t\t\t\thandler.repeat=repeat;\r\n\t\t\t\thandler.userFrame=useFrame;\r\n\t\t\t\thandler.delay=delay;\r\n\t\t\t\thandler.caller=caller;\r\n\t\t\t\thandler.method=method;\r\n\t\t\t\thandler.args=args;\r\n\t\t\t\thandler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+this._now()-this._lastTimer);\r\n\t\t\t\treturn handler;\r\n\t\t\t}\r\n\t\t}\r\n\t\thandler=Timer._pool.length > 0 ? Timer._pool.pop():new TimerHandler();\r\n\t\thandler.repeat=repeat;\r\n\t\thandler.userFrame=useFrame;\r\n\t\thandler.delay=delay;\r\n\t\thandler.caller=caller;\r\n\t\thandler.method=method;\r\n\t\thandler.args=args;\r\n\t\thandler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+this._now()-this._lastTimer)+1;\r\n\t\tthis._indexHandler(handler);\r\n\t\tthis._handlers.push(handler);\r\n\t\treturn handler;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._indexHandler=function(handler){\r\n\t\tvar caller=handler.caller;\r\n\t\tvar method=handler.method;\r\n\t\tvar cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;\r\n\t\tvar mid=method.$_TID || (method.$_TID=(this._mid++)*100000);\r\n\t\thandler.key=cid+mid;\r\n\t\tthis._map[handler.key]=handler;\r\n\t}\r\n\r\n\t/**\r\n\t*定时执行一次。\r\n\t*@param delay 延迟时间(单位为毫秒)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*@param args 回调参数。\r\n\t*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。\r\n\t*/\r\n\t__proto.once=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis._create(false,false,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**\r\n\t*定时重复执行。\r\n\t*@param delay 间隔时间(单位毫秒)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*@param args 回调参数。\r\n\t*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。\r\n\t*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次\r\n\t*/\r\n\t__proto.loop=function(delay,caller,method,args,coverBefore,jumpFrame){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\t(jumpFrame===void 0)&& (jumpFrame=false);\r\n\t\tvar handler=this._create(false,true,delay,caller,method,args,coverBefore);\r\n\t\tif (handler)handler.jumpFrame=jumpFrame;\r\n\t}\r\n\r\n\t/**\r\n\t*定时执行一次(基于帧率)。\r\n\t*@param delay 延迟几帧(单位为帧)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*@param args 回调参数。\r\n\t*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。\r\n\t*/\r\n\t__proto.frameOnce=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis._create(true,false,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**\r\n\t*定时重复执行(基于帧率)。\r\n\t*@param delay 间隔几帧(单位为帧)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*@param args 回调参数。\r\n\t*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。\r\n\t*/\r\n\t__proto.frameLoop=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis._create(true,true,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**返回统计信息。*/\r\n\t__proto.toString=function(){\r\n\t\treturn \"callLater:\"+this._laters.length+\" handlers:\"+this._handlers.length+\" pool:\"+Timer._pool.length;\r\n\t}\r\n\r\n\t/**\r\n\t*清理定时器。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*/\r\n\t__proto.clear=function(caller,method){\r\n\t\tvar handler=this._getHandler(caller,method);\r\n\t\tif (handler){\r\n\t\t\tthis._map[handler.key]=null;handler.key=0;\r\n\t\t\thandler.clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*清理对象身上的所有定时器。\r\n\t*@param caller 执行域(this)。\r\n\t*/\r\n\t__proto.clearAll=function(caller){\r\n\t\tif (!caller)return;\r\n\t\tfor (var i=0,n=this._handlers.length;i < n;i++){\r\n\t\t\tvar handler=this._handlers[i];\r\n\t\t\tif (handler.caller===caller){\r\n\t\t\t\tthis._map[handler.key]=null;handler.key=0;\r\n\t\t\t\thandler.clear();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getHandler=function(caller,method){\r\n\t\tvar cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;\r\n\t\tvar mid=method.$_TID || (method.$_TID=(this._mid++)*100000);\r\n\t\treturn this._map[cid+mid];\r\n\t}\r\n\r\n\t/**\r\n\t*延迟执行。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*@param args 回调参数。\r\n\t*/\r\n\t__proto.callLater=function(caller,method,args){\r\n\t\tif (this._getHandler(caller,method)==null){\r\n\t\t\tif (Timer._pool.length)\r\n\t\t\t\tvar handler=Timer._pool.pop();\r\n\t\t\telse handler=new TimerHandler();\r\n\t\t\thandler.caller=caller;\r\n\t\t\thandler.method=method;\r\n\t\t\thandler.args=args;\r\n\t\t\tthis._indexHandler(handler);\r\n\t\t\tthis._laters.push(handler);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*立即执行 callLater 。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*/\r\n\t__proto.runCallLater=function(caller,method){\r\n\t\tvar handler=this._getHandler(caller,method);\r\n\t\tif (handler && handler.method !=null){\r\n\t\t\tthis._map[handler.key]=null;\r\n\t\t\thandler.run(true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*立即提前执行定时器，执行之后从队列中删除\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 定时器回调函数。\r\n\t*/\r\n\t__proto.runTimer=function(caller,method){\r\n\t\tthis.runCallLater(caller,method);\r\n\t}\r\n\r\n\t/**\r\n\t*两帧之间的时间间隔,单位毫秒。\r\n\t*/\r\n\t__getset(0,__proto,'delta',function(){\r\n\t\treturn this._delta;\r\n\t});\r\n\r\n\tTimer._pool=[];\r\n\tTimer.__init$=function(){\r\n\t\t/**@private */\r\n\t\t//class TimerHandler\r\n\t\tTimerHandler=(function(){\r\n\t\t\tfunction TimerHandler(){\r\n\t\t\t\tthis.key=0;\r\n\t\t\t\tthis.repeat=false;\r\n\t\t\t\tthis.delay=0;\r\n\t\t\t\tthis.userFrame=false;\r\n\t\t\t\tthis.exeTime=0;\r\n\t\t\t\tthis.caller=null;\r\n\t\t\t\tthis.method=null;\r\n\t\t\t\tthis.args=null;\r\n\t\t\t\tthis.jumpFrame=false;\r\n\t\t\t}\r\n\t\t\t__class(TimerHandler,'');\r\n\t\t\tvar __proto=TimerHandler.prototype;\r\n\t\t\t__proto.clear=function(){\r\n\t\t\t\tthis.caller=null;\r\n\t\t\t\tthis.method=null;\r\n\t\t\t\tthis.args=null;\r\n\t\t\t}\r\n\t\t\t__proto.run=function(withClear){\r\n\t\t\t\tvar caller=this.caller;\r\n\t\t\t\tif (caller && caller.destroyed)return this.clear();\r\n\t\t\t\tvar method=this.method;\r\n\t\t\t\tvar args=this.args;\r\n\t\t\t\twithClear && this.clear();\r\n\t\t\t\tif (method==null)return;\r\n\t\t\t\targs ? method.apply(caller,args):method.call(caller);\r\n\t\t\t}\r\n\t\t\treturn TimerHandler;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn Timer;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Tween</code> 是一个缓动类。使用此类能够实现对目标对象属性的渐变。\r\n*/\r\n//class laya.utils.Tween\r\nvar Tween=(function(){\r\n\tfunction Tween(){\r\n\t\t/**@private */\r\n\t\t//this._complete=null;\r\n\t\t/**@private */\r\n\t\t//this._target=null;\r\n\t\t/**@private */\r\n\t\t//this._ease=null;\r\n\t\t/**@private */\r\n\t\t//this._props=null;\r\n\t\t/**@private */\r\n\t\t//this._duration=0;\r\n\t\t/**@private */\r\n\t\t//this._delay=0;\r\n\t\t/**@private */\r\n\t\t//this._startTimer=0;\r\n\t\t/**@private */\r\n\t\t//this._usedTimer=0;\r\n\t\t/**@private */\r\n\t\t//this._usedPool=false;\r\n\t\t/**@private */\r\n\t\t//this._delayParam=null;\r\n\t\t/**@private 唯一标识，TimeLintLite用到*/\r\n\t\tthis.gid=0;\r\n\t\t/**更新回调，缓动数值发生变化时，回调变化的值*/\r\n\t\t//this.update=null;\r\n\t}\r\n\r\n\t__class(Tween,'laya.utils.Tween');\r\n\tvar __proto=Tween.prototype;\r\n\t/**\r\n\t*缓动对象的props属性到目标值。\r\n\t*@param target 目标对象(即将更改属性值的对象)。\r\n\t*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。\r\n\t*@param duration 花费的时间，单位毫秒。\r\n\t*@param ease 缓动类型，默认为匀速运动。\r\n\t*@param complete 结束回调函数。\r\n\t*@param delay 延迟执行时间。\r\n\t*@param coverBefore 是否覆盖之前的缓动。\r\n\t*@return 返回Tween对象。\r\n\t*/\r\n\t__proto.to=function(target,props,duration,ease,complete,delay,coverBefore){\r\n\t\t(delay===void 0)&& (delay=0);\r\n\t\t(coverBefore===void 0)&& (coverBefore=false);\r\n\t\treturn this._create(target,props,duration,ease,complete,delay,coverBefore,true,false,true);\r\n\t}\r\n\r\n\t/**\r\n\t*从props属性，缓动到当前状态。\r\n\t*@param target 目标对象(即将更改属性值的对象)。\r\n\t*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。\r\n\t*@param duration 花费的时间，单位毫秒。\r\n\t*@param ease 缓动类型，默认为匀速运动。\r\n\t*@param complete 结束回调函数。\r\n\t*@param delay 延迟执行时间。\r\n\t*@param coverBefore 是否覆盖之前的缓动。\r\n\t*@return 返回Tween对象。\r\n\t*/\r\n\t__proto.from=function(target,props,duration,ease,complete,delay,coverBefore){\r\n\t\t(delay===void 0)&& (delay=0);\r\n\t\t(coverBefore===void 0)&& (coverBefore=false);\r\n\t\treturn this._create(target,props,duration,ease,complete,delay,coverBefore,false,false,true);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._create=function(target,props,duration,ease,complete,delay,coverBefore,isTo,usePool,runNow){\r\n\t\tif (!target)throw new Error(\"Tween:target is null\");\r\n\t\tthis._target=target;\r\n\t\tthis._duration=duration;\r\n\t\tthis._ease=ease || props.ease || Tween.easeNone;\r\n\t\tthis._complete=complete || props.complete;\r\n\t\tthis._delay=delay;\r\n\t\tthis._props=[];\r\n\t\tthis._usedTimer=0;\r\n\t\tthis._startTimer=Browser.now();\r\n\t\tthis._usedPool=usePool;\r\n\t\tthis._delayParam=null;\r\n\t\tthis.update=props.update;\r\n\t\tvar gid=(target.$_GID || (target.$_GID=Utils.getGID()));\r\n\t\tif (!Tween.tweenMap[gid]){\r\n\t\t\tTween.tweenMap[gid]=[this];\r\n\t\t\t}else {\r\n\t\t\tif (coverBefore)Tween.clearTween(target);\r\n\t\t\tTween.tweenMap[gid].push(this);\r\n\t\t}\r\n\t\tif (runNow){\r\n\t\t\tif (delay <=0)this.firstStart(target,props,isTo);\r\n\t\t\telse{\r\n\t\t\t\tthis._delayParam=[target,props,isTo];\r\n\t\t\t\tLaya.scaleTimer.once(delay,this,this.firstStart,this._delayParam);\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis._initProps(target,props,isTo);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto.firstStart=function(target,props,isTo){\r\n\t\tthis._delayParam=null;\r\n\t\tif (target.destroyed){\r\n\t\t\tthis.clear();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._initProps(target,props,isTo);\r\n\t\tthis._beginLoop();\r\n\t}\r\n\r\n\t__proto._initProps=function(target,props,isTo){\r\n\t\tfor (var p in props){\r\n\t\t\tif ((typeof (target[p])=='number')){\r\n\t\t\t\tvar start=isTo ? target[p] :props[p];\r\n\t\t\t\tvar end=isTo ? props[p] :target[p];\r\n\t\t\t\tthis._props.push([p,start,end-start]);\r\n\t\t\t\tif (!isTo)target[p]=start;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._beginLoop=function(){\r\n\t\tLaya.scaleTimer.frameLoop(1,this,this._doEase);\r\n\t}\r\n\r\n\t/**执行缓动**/\r\n\t__proto._doEase=function(){\r\n\t\tthis._updateEase(Browser.now());\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._updateEase=function(time){\r\n\t\tvar target=this._target;\r\n\t\tif (!target)return;\r\n\t\tif (target.destroyed)return Tween.clearTween(target);\r\n\t\tvar usedTimer=this._usedTimer=time-this._startTimer-this._delay;\r\n\t\tif (usedTimer < 0)return;\r\n\t\tif (usedTimer >=this._duration)return this.complete();\r\n\t\tvar ratio=usedTimer > 0 ? this._ease(usedTimer,0,1,this._duration):0;\r\n\t\tvar props=this._props;\r\n\t\tfor (var i=0,n=props.length;i < n;i++){\r\n\t\t\tvar prop=props[i];\r\n\t\t\ttarget[prop[0]]=prop[1]+(ratio *prop[2]);\r\n\t\t}\r\n\t\tif (this.update)this.update.run();\r\n\t}\r\n\r\n\t/**\r\n\t*立即结束缓动并到终点。\r\n\t*/\r\n\t__proto.complete=function(){\r\n\t\tif (!this._target)return;\r\n\t\tLaya.scaleTimer.runTimer(this,this.firstStart);\r\n\t\tvar target=this._target;\r\n\t\tvar props=this._props;\r\n\t\tvar handler=this._complete;\r\n\t\tfor (var i=0,n=props.length;i < n;i++){\r\n\t\t\tvar prop=props[i];\r\n\t\t\ttarget[prop[0]]=prop[1]+prop[2];\r\n\t\t}\r\n\t\tif (this.update)this.update.run();\r\n\t\tthis.clear();\r\n\t\thandler && handler.run();\r\n\t}\r\n\r\n\t/**\r\n\t*暂停缓动，可以通过resume或restart重新开始。\r\n\t*/\r\n\t__proto.pause=function(){\r\n\t\tLaya.scaleTimer.clear(this,this._beginLoop);\r\n\t\tLaya.scaleTimer.clear(this,this._doEase);\r\n\t\tLaya.scaleTimer.clear(this,this.firstStart);\r\n\t\tvar time=Browser.now();\r\n\t\tvar dTime=NaN;\r\n\t\tdTime=time-this._startTimer-this._delay;\r\n\t\tif (dTime < 0){\r\n\t\t\tthis._usedTimer=dTime;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*设置开始时间。\r\n\t*@param startTime 开始时间。\r\n\t*/\r\n\t__proto.setStartTime=function(startTime){\r\n\t\tthis._startTimer=startTime;\r\n\t}\r\n\r\n\t/**\r\n\t*停止并清理当前缓动。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tif (this._target){\r\n\t\t\tthis._remove();\r\n\t\t\tthis._clear();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._clear=function(){\r\n\t\tthis.pause();\r\n\t\tLaya.scaleTimer.clear(this,this.firstStart);\r\n\t\tthis._complete=null;\r\n\t\tthis._target=null;\r\n\t\tthis._ease=null;\r\n\t\tthis._props=null;\r\n\t\tthis._delayParam=null;\r\n\t\tif (this._usedPool){\r\n\t\t\tthis.update=null;\r\n\t\t\tPool.recover(\"tween\",this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**回收到对象池。*/\r\n\t__proto.recover=function(){\r\n\t\tthis._usedPool=true;\r\n\t\tthis._clear();\r\n\t}\r\n\r\n\t__proto._remove=function(){\r\n\t\tvar tweens=Tween.tweenMap[this._target.$_GID];\r\n\t\tif (tweens){\r\n\t\t\tfor (var i=0,n=tweens.length;i < n;i++){\r\n\t\t\t\tif (tweens[i]===this){\r\n\t\t\t\t\ttweens.splice(i,1);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*重新开始暂停的缓动。\r\n\t*/\r\n\t__proto.restart=function(){\r\n\t\tthis.pause();\r\n\t\tthis._usedTimer=0;\r\n\t\tthis._startTimer=Browser.now();\r\n\t\tif (this._delayParam){\r\n\t\t\tLaya.scaleTimer.once(this._delay,this,this.firstStart,this._delayParam);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar props=this._props;\r\n\t\tfor (var i=0,n=props.length;i < n;i++){\r\n\t\t\tvar prop=props[i];\r\n\t\t\tthis._target[prop[0]]=prop[1];\r\n\t\t}\r\n\t\tLaya.scaleTimer.once(this._delay,this,this._beginLoop);\r\n\t}\r\n\r\n\t/**\r\n\t*恢复暂停的缓动。\r\n\t*/\r\n\t__proto.resume=function(){\r\n\t\tif (this._usedTimer >=this._duration)return;\r\n\t\tthis._startTimer=Browser.now()-this._usedTimer-this._delay;\r\n\t\tif (this._delayParam){\r\n\t\t\tif (this._usedTimer < 0){\r\n\t\t\t\tLaya.scaleTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam);\r\n\t\t\t\t}else{\r\n\t\t\t\tthis.firstStart.apply(this,this._delayParam);\r\n\t\t\t}\r\n\t\t\t}else{\r\n\t\t\tthis._beginLoop();\r\n\t\t}\r\n\t}\r\n\r\n\t/**设置当前执行比例**/\r\n\t__getset(0,__proto,'progress',null,function(v){\r\n\t\tvar uTime=v *this._duration;\r\n\t\tthis._startTimer=Browser.now()-this._delay-uTime;\r\n\t});\r\n\r\n\tTween.to=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){\r\n\t\t(delay===void 0)&& (delay=0);\r\n\t\t(coverBefore===void 0)&& (coverBefore=false);\r\n\t\t(autoRecover===void 0)&& (autoRecover=true);\r\n\t\treturn Pool.getItemByClass(\"tween\",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,true,autoRecover,true);\r\n\t}\r\n\r\n\tTween.from=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){\r\n\t\t(delay===void 0)&& (delay=0);\r\n\t\t(coverBefore===void 0)&& (coverBefore=false);\r\n\t\t(autoRecover===void 0)&& (autoRecover=true);\r\n\t\treturn Pool.getItemByClass(\"tween\",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,false,autoRecover,true);\r\n\t}\r\n\r\n\tTween.clearAll=function(target){\r\n\t\tif (!target || !target.$_GID)return;\r\n\t\tvar tweens=Tween.tweenMap[target.$_GID];\r\n\t\tif (tweens){\r\n\t\t\tfor (var i=0,n=tweens.length;i < n;i++){\r\n\t\t\t\ttweens[i]._clear();\r\n\t\t\t}\r\n\t\t\ttweens.length=0;\r\n\t\t}\r\n\t}\r\n\r\n\tTween.clear=function(tween){\r\n\t\ttween.clear();\r\n\t}\r\n\r\n\tTween.clearTween=function(target){\r\n\t\tTween.clearAll(target);\r\n\t}\r\n\r\n\tTween.easeNone=function(t,b,c,d){\r\n\t\treturn c *t / d+b;\r\n\t}\r\n\r\n\tTween.tweenMap={};\r\n\treturn Tween;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Utils</code> 是工具类。\r\n*/\r\n//class laya.utils.Utils\r\nvar Utils=(function(){\r\n\tfunction Utils(){}\r\n\t__class(Utils,'laya.utils.Utils');\r\n\tUtils.toRadian=function(angle){\r\n\t\treturn angle *Utils._pi2;\r\n\t}\r\n\r\n\tUtils.toAngle=function(radian){\r\n\t\treturn radian *Utils._pi;\r\n\t}\r\n\r\n\tUtils.toHexColor=function(color){\r\n\t\tif (color < 0 || isNaN(color))return null;\r\n\t\tvar str=color.toString(16);\r\n\t\twhile (str.length < 6)str=\"0\"+str;\r\n\t\treturn \"#\"+str;\r\n\t}\r\n\r\n\tUtils.getGID=function(){\r\n\t\treturn Utils._gid++;\r\n\t}\r\n\r\n\tUtils.concatArray=function(source,array){\r\n\t\tif (!array)return source;\r\n\t\tif (!source)return array;\r\n\t\tvar i=0,len=array.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tsource.push(array[i]);\r\n\t\t}\r\n\t\treturn source;\r\n\t}\r\n\r\n\tUtils.clearArray=function(array){\r\n\t\tif (!array)return array;\r\n\t\tarray.length=0;\r\n\t\treturn array;\r\n\t}\r\n\r\n\tUtils.copyArray=function(source,array){\r\n\t\tsource || (source=[]);\r\n\t\tif (!array)return source;\r\n\t\tsource.length=array.length;\r\n\t\tvar i=0,len=array.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tsource[i]=array[i];\r\n\t\t}\r\n\t\treturn source;\r\n\t}\r\n\r\n\tUtils.getGlobalRecByPoints=function(sprite,x0,y0,x1,y1){\r\n\t\tvar newLTPoint;\r\n\t\tnewLTPoint=new Point(x0,y0);\r\n\t\tnewLTPoint=sprite.localToGlobal(newLTPoint);\r\n\t\tvar newRBPoint;\r\n\t\tnewRBPoint=new Point(x1,y1);\r\n\t\tnewRBPoint=sprite.localToGlobal(newRBPoint);\r\n\t\treturn Rectangle._getWrapRec([newLTPoint.x,newLTPoint.y,newRBPoint.x,newRBPoint.y]);\r\n\t}\r\n\r\n\tUtils.getGlobalPosAndScale=function(sprite){\r\n\t\treturn Utils.getGlobalRecByPoints(sprite,0,0,1,1);\r\n\t}\r\n\r\n\tUtils.bind=function(fun,scope){\r\n\t\tvar rst=fun;\r\n\t\t/*__JS__ */rst=fun.bind(scope);;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tUtils.measureText=function(txt,font){\r\n\t\treturn RunDriver.measureText(txt,font);\r\n\t}\r\n\r\n\tUtils.updateOrder=function(array){\r\n\t\tif (!array || array.length < 2)return false;\r\n\t\tvar i=1,j=0,len=array.length,key=NaN,c;\r\n\t\twhile (i < len){\r\n\t\t\tj=i;\r\n\t\t\tc=array[j];\r\n\t\t\tkey=array[j]._zOrder;\r\n\t\t\twhile (--j >-1){\r\n\t\t\t\tif (array[j]._zOrder > key)array[j+1]=array[j];\r\n\t\t\t\telse break ;\r\n\t\t\t}\r\n\t\t\tarray[j+1]=c;\r\n\t\t\ti++;\r\n\t\t};\r\n\t\tvar model=c.parent.conchModel;\r\n\t\tif (model){\r\n\t\t\tif (model.updateZOrder !=null){\r\n\t\t\t\tmodel.updateZOrder();\r\n\t\t\t\t}else {\r\n\t\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\t\tmodel.removeChild(array[i].conchModel);\r\n\t\t\t\t}\r\n\t\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\t\tmodel.addChildAt(array[i].conchModel,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tUtils.transPointList=function(points,x,y){\r\n\t\tvar i=0,len=points.length;\r\n\t\tfor (i=0;i < len;i+=2){\r\n\t\t\tpoints[i]+=x;\r\n\t\t\tpoints[i+1]+=y;\r\n\t\t}\r\n\t}\r\n\r\n\tUtils.parseInt=function(str,radix){\r\n\t\t(radix===void 0)&& (radix=0);\r\n\t\tvar result=Browser.window.parseInt(str,radix);\r\n\t\tif (isNaN(result))return 0;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tUtils.getFileExtension=function(path){\r\n\t\tUtils._extReg.lastIndex=path.lastIndexOf(\".\");\r\n\t\tvar result=Utils._extReg.exec(path);\r\n\t\tif (result && result.length > 1){\r\n\t\t\treturn result[1].toLowerCase();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tUtils.getTransformRelativeToWindow=function(coordinateSpace,x,y){\r\n\t\tvar stage=Laya.stage;\r\n\t\tvar globalTransform=laya.utils.Utils.getGlobalPosAndScale(coordinateSpace);\r\n\t\tvar canvasMatrix=stage._canvasTransform.clone();\r\n\t\tvar canvasLeft=canvasMatrix.tx;\r\n\t\tvar canvasTop=canvasMatrix.ty;\r\n\t\tcanvasMatrix.rotate(-Math.PI / 180 *Laya.stage.canvasDegree);\r\n\t\tcanvasMatrix.scale(Laya.stage.clientScaleX,Laya.stage.clientScaleY);\r\n\t\tvar perpendicular=(Laya.stage.canvasDegree % 180 !=0);\r\n\t\tvar tx=NaN,ty=NaN;\r\n\t\tif (perpendicular){\r\n\t\t\ttx=y+globalTransform.y;\r\n\t\t\tty=x+globalTransform.x;\r\n\t\t\ttx *=canvasMatrix.d;\r\n\t\t\tty *=canvasMatrix.a;\r\n\t\t\tif (Laya.stage.canvasDegree==90){\r\n\t\t\t\ttx=canvasLeft-tx;\r\n\t\t\t\tty+=canvasTop;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttx+=canvasLeft;\r\n\t\t\t\tty=canvasTop-ty;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttx=x+globalTransform.x;\r\n\t\t\tty=y+globalTransform.y;\r\n\t\t\ttx *=canvasMatrix.a;\r\n\t\t\tty *=canvasMatrix.d;\r\n\t\t\ttx+=canvasLeft;\r\n\t\t\tty+=canvasTop;\r\n\t\t};\r\n\t\tvar domScaleX=NaN,domScaleY=NaN;\r\n\t\tif (perpendicular){\r\n\t\t\tdomScaleX=canvasMatrix.d *globalTransform.height;\r\n\t\t\tdomScaleY=canvasMatrix.a *globalTransform.width;\r\n\t\t\t}else {\r\n\t\t\tdomScaleX=canvasMatrix.a *globalTransform.width;\r\n\t\t\tdomScaleY=canvasMatrix.d *globalTransform.height;\r\n\t\t}\r\n\t\treturn {x:tx,y:ty,scaleX:domScaleX,scaleY:domScaleY};\r\n\t}\r\n\r\n\tUtils.fitDOMElementInArea=function(dom,coordinateSpace,x,y,width,height){\r\n\t\tif (!dom._fitLayaAirInitialized){\r\n\t\t\tdom._fitLayaAirInitialized=true;\r\n\t\t\tdom.style.transformOrigin=dom.style.webKittransformOrigin=\"left top\";\r\n\t\t\tdom.style.position=\"absolute\"\r\n\t\t};\r\n\t\tvar transform=Utils.getTransformRelativeToWindow(coordinateSpace,x,y);\r\n\t\tdom.style.transform=dom.style.webkitTransform=\"scale(\"+transform.scaleX+\",\"+transform.scaleY+\") rotate(\"+(Laya.stage.canvasDegree)+\"deg)\";\r\n\t\tdom.style.width=width+'px';\r\n\t\tdom.style.height=height+'px';\r\n\t\tdom.style.left=transform.x+'px';\r\n\t\tdom.style.top=transform.y+'px';\r\n\t}\r\n\r\n\tUtils.isOkTextureList=function(textureList){\r\n\t\tif (!textureList)return false;\r\n\t\tvar i=0,len=textureList.length;\r\n\t\tvar tTexture;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttTexture=textureList[i];\r\n\t\t\tif (!tTexture||!tTexture.source)return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tUtils.isOKCmdList=function(cmds){\r\n\t\tif (!cmds)return false;\r\n\t\tvar i=0,len=cmds.length;\r\n\t\tvar context=Render._context;\r\n\t\tvar cmd;\r\n\t\tvar tex;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tcmd=cmds[i];\r\n\t\t\tswitch(cmd.callee){\r\n\t\t\t\tcase context._drawTexture:\r\n\t\t\t\tcase context._fillTexture:\r\n\t\t\t\tcase context._drawTextureWithTransform:\r\n\t\t\t\t\ttex=cmd[0];\r\n\t\t\t\t\tif (!tex || !tex.source)return false;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tUtils._gid=1;\r\n\tUtils._pi=180 / Math.PI;\r\n\tUtils._pi2=Math.PI / 180;\r\n\tUtils._extReg=/\\.(\\w+)\\??/g;\r\n\tUtils.parseXMLFromString=function(value){\r\n\t\tvar rst;\r\n\t\tvalue=value.replace(/>\\s+</g,'><');\r\n\t\t/*__JS__ */rst=(new DOMParser()).parseFromString(value,'text/xml');\r\n\t\tif (rst.firstChild.textContent.indexOf(\"This page contains the following errors\")>-1){\r\n\t\t\tthrow new Error(rst.firstChild.firstChild.textContent);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\treturn Utils;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.utils.VectorGraphManager\r\nvar VectorGraphManager=(function(){\r\n\tfunction VectorGraphManager(){\r\n\t\tthis.useDic={};\r\n\t\tthis.shapeDic={};\r\n\t\tthis.shapeLineDic={};\r\n\t\tthis._id=0;\r\n\t\tthis._checkKey=false;\r\n\t\tthis._freeIdArray=[];\r\n\t\tif (Render.isWebGL){\r\n\t\t\tCacheManager.regCacheByFunction(Utils.bind(this.startDispose,this),Utils.bind(this.getCacheList,this));\r\n\t\t}\r\n\t}\r\n\r\n\t__class(VectorGraphManager,'laya.utils.VectorGraphManager');\r\n\tvar __proto=VectorGraphManager.prototype;\r\n\t/**\r\n\t*得到个空闲的ID\r\n\t*@return\r\n\t*/\r\n\t__proto.getId=function(){\r\n\t\treturn this._id++;\r\n\t}\r\n\r\n\t/**\r\n\t*添加一个图形到列表中\r\n\t*@param id\r\n\t*@param shape\r\n\t*/\r\n\t__proto.addShape=function(id,shape){\r\n\t\tthis.shapeDic[id]=shape;\r\n\t\tif (!this.useDic[id]){\r\n\t\t\tthis.useDic[id]=true;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*添加一个线图形到列表中\r\n\t*@param id\r\n\t*@param Line\r\n\t*/\r\n\t__proto.addLine=function(id,Line){\r\n\t\tthis.shapeLineDic[id]=Line;\r\n\t\tif (!this.shapeLineDic[id]){\r\n\t\t\tthis.shapeLineDic[id]=true;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*检测一个对象是否在使用中\r\n\t*@param id\r\n\t*/\r\n\t__proto.getShape=function(id){\r\n\t\tif (this._checkKey){\r\n\t\t\tif (this.useDic[id] !=null){\r\n\t\t\t\tthis.useDic[id]=true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*删除一个图形对象\r\n\t*@param id\r\n\t*/\r\n\t__proto.deleteShape=function(id){\r\n\t\tif (this.shapeDic[id]){\r\n\t\t\tthis.shapeDic[id]=null;\r\n\t\t\tdelete this.shapeDic[id];\r\n\t\t}\r\n\t\tif (this.shapeLineDic[id]){\r\n\t\t\tthis.shapeLineDic[id]=null;\r\n\t\t\tdelete this.shapeLineDic[id];\r\n\t\t}\r\n\t\tif (this.useDic[id] !=null){\r\n\t\t\tdelete this.useDic[id];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*得到缓存列表\r\n\t*@return\r\n\t*/\r\n\t__proto.getCacheList=function(){\r\n\t\tvar str;\r\n\t\tvar list=[];\r\n\t\tfor (str in this.shapeDic){\r\n\t\t\tlist.push(this.shapeDic[str]);\r\n\t\t}\r\n\t\tfor (str in this.shapeLineDic){\r\n\t\t\tlist.push(this.shapeLineDic[str]);\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\t/**\r\n\t*开始清理状态，准备销毁\r\n\t*/\r\n\t__proto.startDispose=function(key){\r\n\t\tvar str;\r\n\t\tfor (str in this.useDic){\r\n\t\t\tthis.useDic[str]=false;\r\n\t\t}\r\n\t\tthis._checkKey=true;\r\n\t}\r\n\r\n\t/**\r\n\t*确认销毁\r\n\t*/\r\n\t__proto.endDispose=function(){\r\n\t\tif (this._checkKey){\r\n\t\t\tvar str;\r\n\t\t\tfor (str in this.useDic){\r\n\t\t\t\tif (!this.useDic[str]){\r\n\t\t\t\t\tthis.deleteShape(str);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._checkKey=false;\r\n\t\t}\r\n\t}\r\n\r\n\tVectorGraphManager.getInstance=function(){\r\n\t\treturn VectorGraphManager.instance=VectorGraphManager.instance|| new VectorGraphManager();\r\n\t}\r\n\r\n\tVectorGraphManager.instance=null;\r\n\treturn VectorGraphManager;\r\n})()\r\n\r\n\r\n/**\r\n*封装弱引用WeakMap\r\n*如果支持WeakMap，则使用WeakMap，如果不支持，则用Object代替\r\n*注意：如果采用Object，为了防止内存泄漏，则采用定时清理缓存策略\r\n*/\r\n//class laya.utils.WeakObject\r\nvar WeakObject=(function(){\r\n\tfunction WeakObject(){\r\n\t\t/**@private */\r\n\t\tthis._obj=null;\r\n\t\tthis._obj=WeakObject.supportWeakMap ? new Browser.window.WeakMap():{};\r\n\t\tif (!WeakObject.supportWeakMap)WeakObject._maps.push(this);\r\n\t}\r\n\r\n\t__class(WeakObject,'laya.utils.WeakObject');\r\n\tvar __proto=WeakObject.prototype;\r\n\t/**\r\n\t*设置缓存\r\n\t*@param key kye对象，可被回收\r\n\t*@param value object对象，可被回收\r\n\t*/\r\n\t__proto.set=function(key,value){\r\n\t\tif (key==null)return;\r\n\t\tif (WeakObject.supportWeakMap){\r\n\t\t\tvar objKey=key;\r\n\t\t\tif ((typeof key=='string')|| (typeof key=='number')){\r\n\t\t\t\tobjKey=WeakObject._keys[key];\r\n\t\t\t\tif (!objKey)objKey=WeakObject._keys[key]={k:key};\r\n\t\t\t}\r\n\t\t\tthis._obj.set(objKey,value);\r\n\t\t\t}else {\r\n\t\t\tif ((typeof key=='string')|| (typeof key=='number')){\r\n\t\t\t\tthis._obj[key]=value;\r\n\t\t\t\t}else {\r\n\t\t\t\tkey.$_GID || (key.$_GID=Utils.getGID());\r\n\t\t\t\tthis._obj[key.$_GID]=value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*获取缓存\r\n\t*@param key kye对象，可被回收\r\n\t*/\r\n\t__proto.get=function(key){\r\n\t\tif (key==null)return null;\r\n\t\tif (WeakObject.supportWeakMap){\r\n\t\t\tvar objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;\r\n\t\t\tif (!objKey)return null;\r\n\t\t\treturn this._obj.get(objKey);\r\n\t\t\t}else {\r\n\t\t\tif ((typeof key=='string')|| (typeof key=='number'))return this._obj[key];\r\n\t\t\treturn this._obj[key.$_GID];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*删除缓存\r\n\t*/\r\n\t__proto.del=function(key){\r\n\t\tif (key==null)return;\r\n\t\tif (WeakObject.supportWeakMap){\r\n\t\t\tvar objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;\r\n\t\t\tif (!objKey)return;\r\n\t\t\t/*__JS__ */this._obj.delete(objKey);\r\n\t\t\t}else {\r\n\t\t\tif ((typeof key=='string')|| (typeof key=='number'))delete this._obj[key];\r\n\t\t\telse delete this._obj[this._obj.$_GID];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*是否有缓存\r\n\t*/\r\n\t__proto.has=function(key){\r\n\t\tif (key==null)return false;\r\n\t\tif (WeakObject.supportWeakMap){\r\n\t\t\tvar objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;\r\n\t\t\treturn this._obj.has(objKey);\r\n\t\t\t}else {\r\n\t\t\tif ((typeof key=='string')|| (typeof key=='number'))return this._obj[key] !=null;\r\n\t\t\treturn this._obj[this._obj.$_GID] !=null;\r\n\t\t}\r\n\t}\r\n\r\n\tWeakObject.__init__=function(){\r\n\t\tWeakObject.supportWeakMap=Browser.window.WeakMap !=null;\r\n\t\tif (!WeakObject.supportWeakMap)Laya.timer.loop(WeakObject.delInterval,null,WeakObject.clearCache);\r\n\t}\r\n\r\n\tWeakObject.clearCache=function(){\r\n\t\tfor (var i=0,n=WeakObject._maps.length;i < n;i++){\r\n\t\t\tvar obj=WeakObject._maps[i];\r\n\t\t\tobj._obj={};\r\n\t\t}\r\n\t}\r\n\r\n\tWeakObject.supportWeakMap=false;\r\n\tWeakObject.delInterval=5 *60 *1000;\r\n\tWeakObject._keys={};\r\n\tWeakObject._maps=[];\r\n\t__static(WeakObject,\r\n\t['I',function(){return this.I=new WeakObject();}\r\n\t]);\r\n\treturn WeakObject;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.utils.WordText\r\nvar WordText=(function(){\r\n\tfunction WordText(){\r\n\t\tthis.id=NaN;\r\n\t\tthis.save=[];\r\n\t\tthis.toUpperCase=null;\r\n\t\tthis.changed=false;\r\n\t\tthis._text=null;\r\n\t}\r\n\r\n\t__class(WordText,'laya.utils.WordText');\r\n\tvar __proto=WordText.prototype;\r\n\t__proto.setText=function(txt){\r\n\t\tthis.changed=true;\r\n\t\tthis._text=txt;\r\n\t}\r\n\r\n\t__proto.toString=function(){\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\t__proto.charCodeAt=function(i){\r\n\t\treturn this._text ? this._text.charCodeAt(i):NaN;\r\n\t}\r\n\r\n\t__proto.charAt=function(i){\r\n\t\treturn this._text ? this._text.charAt(i):null;\r\n\t}\r\n\r\n\t__getset(0,__proto,'length',function(){\r\n\t\treturn this._text ? this._text.length :0;\r\n\t});\r\n\r\n\treturn WordText;\r\n})()\r\n\r\n\r\n/**\r\n*<code>Node</code> 类是可放在显示列表中的所有对象的基类。该显示列表管理 Laya 运行时中显示的所有对象。使用 Node 类排列显示列表中的显示对象。Node 对象可以有子显示对象。\r\n*/\r\n//class laya.display.Node extends laya.events.EventDispatcher\r\nvar Node=(function(_super){\r\n\tfunction Node(){\r\n\t\t/**@private */\r\n\t\tthis._bits=0;\r\n\t\t/**@private 是否在显示列表中显示*/\r\n\t\tthis._displayedInStage=false;\r\n\t\t/**@private 父节点对象*/\r\n\t\tthis._parent=null;\r\n\t\t/**@private */\r\n\t\tthis.conchModel=null;\r\n\t\t/**节点名称。*/\r\n\t\tthis.name=\"\";\r\n\t\t/**[只读]是否已经销毁。对象销毁后不能再使用。*/\r\n\t\tthis._destroyed=false;\r\n\t\tNode.__super.call(this);\r\n\t\tthis._childs=Node.ARRAY_EMPTY;\r\n\t\tthis._$P=Node.PROP_EMPTY;\r\n\t\tthis.timer=Laya.scaleTimer;\r\n\t\tthis.conchModel=Render.isConchNode ? this.createConchModel():null;\r\n\t}\r\n\r\n\t__class(Node,'laya.display.Node',_super);\r\n\tvar __proto=Node.prototype;\r\n\t/**@private */\r\n\t__proto._setBit=function(type,value){\r\n\t\tif (type==0x1){\r\n\t\t\tvar preValue=this._getBit(type);\r\n\t\t\tif (preValue !=value){\r\n\t\t\t\tthis._updateDisplayedInstage();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (value){\r\n\t\t\tthis._bits |=type;\r\n\t\t\t}else {\r\n\t\t\tthis._bits &=~type;\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getBit=function(type){\r\n\t\treturn (this._bits & type)!=0;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setUpNoticeChain=function(){\r\n\t\tif (this._getBit(0x1)){\r\n\t\t\tthis._setUpNoticeType(0x1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setUpNoticeType=function(type){\r\n\t\tvar ele=this;\r\n\t\tele._setBit(type,true);\r\n\t\tele=ele.parent;\r\n\t\twhile (ele){\r\n\t\t\tif (ele._getBit(type))return;\r\n\t\t\tele._setBit(type,true);\r\n\t\t\tele=ele.parent;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>\r\n\t*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.on=function(type,caller,listener,args){\r\n\t\tif (type===/*laya.events.Event.DISPLAY*/\"display\" || type===/*laya.events.Event.UNDISPLAY*/\"undisplay\"){\r\n\t\t\tif (!this._getBit(0x1)){\r\n\t\t\t\tthis._setUpNoticeType(0x1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._createListener(type,caller,listener,args,false);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>\r\n\t*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.once=function(type,caller,listener,args){\r\n\t\tif (type===/*laya.events.Event.DISPLAY*/\"display\" || type===/*laya.events.Event.UNDISPLAY*/\"undisplay\"){\r\n\t\t\tif (!this._getBit(0x1)){\r\n\t\t\t\tthis._setUpNoticeType(0x1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._createListener(type,caller,listener,args,true);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.createConchModel=function(){\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>销毁此对象。destroy对象默认会把自己从父节点移除，并且清理自身引用关系，等待js自动垃圾回收机制回收。destroy后不能再使用。</p>\r\n\t*<p>destroy时会移除自身的事情监听，自身的timer监听，移除子对象及从父节点移除自己。</p>\r\n\t*@param destroyChild （可选）是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。\r\n\t*/\r\n\t__proto.destroy=function(destroyChild){\r\n\t\t(destroyChild===void 0)&& (destroyChild=true);\r\n\t\tthis._destroyed=true;\r\n\t\tthis._parent && this._parent.removeChild(this);\r\n\t\tif (this._childs){\r\n\t\t\tif (destroyChild)this.destroyChildren();\r\n\t\t\telse this.removeChildren();\r\n\t\t}\r\n\t\tthis._childs=null;\r\n\t\tthis._$P=null;\r\n\t\tthis.offAll();\r\n\t\tthis.timer.clearAll(this);\r\n\t}\r\n\r\n\t/**\r\n\t*销毁所有子对象，不销毁自己本身。\r\n\t*/\r\n\t__proto.destroyChildren=function(){\r\n\t\tif (this._childs){\r\n\t\t\tfor (var i=this._childs.length-1;i >-1;i--){\r\n\t\t\t\tthis._childs[i].destroy(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*添加子节点。\r\n\t*@param node 节点对象\r\n\t*@return 返回添加的节点\r\n\t*/\r\n\t__proto.addChild=function(node){\r\n\t\tif (!node || this.destroyed || node===this)return node;\r\n\t\tif ((node).zOrder)this._set$P(\"hasZorder\",true);\r\n\t\tif (node._parent===this){\r\n\t\t\tvar index=this.getChildIndex(node);\r\n\t\t\tif (index!==this._childs.length-1){\r\n\t\t\t\tthis._childs.splice(index,1);\r\n\t\t\t\tthis._childs.push(node);\r\n\t\t\t\tif (this.conchModel){\r\n\t\t\t\t\tthis.conchModel.removeChild(node.conchModel);\r\n\t\t\t\t\tthis.conchModel.addChildAt(node.conchModel,this._childs.length-1);\r\n\t\t\t\t}\r\n\t\t\t\tthis._childChanged();\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tnode.parent && node.parent.removeChild(node);\r\n\t\t\tthis._childs===Node.ARRAY_EMPTY && (this._childs=[]);\r\n\t\t\tthis._childs.push(node);\r\n\t\t\tthis.conchModel && this.conchModel.addChildAt(node.conchModel,this._childs.length-1);\r\n\t\t\tnode.parent=this;\r\n\t\t\tthis._childChanged();\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\t/**\r\n\t*批量增加子节点\r\n\t*@param ...args 无数子节点。\r\n\t*/\r\n\t__proto.addChildren=function(__args){\r\n\t\tvar args=arguments;\r\n\t\tvar i=0,n=args.length;\r\n\t\twhile (i < n){\r\n\t\t\tthis.addChild(args[i++]);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*添加子节点到指定的索引位置。\r\n\t*@param node 节点对象。\r\n\t*@param index 索引位置。\r\n\t*@return 返回添加的节点。\r\n\t*/\r\n\t__proto.addChildAt=function(node,index){\r\n\t\tif (!node || this.destroyed || node===this)return node;\r\n\t\tif ((node).zOrder)this._set$P(\"hasZorder\",true);\r\n\t\tif (index >=0 && index <=this._childs.length){\r\n\t\t\tif (node._parent===this){\r\n\t\t\t\tvar oldIndex=this.getChildIndex(node);\r\n\t\t\t\tthis._childs.splice(oldIndex,1);\r\n\t\t\t\tthis._childs.splice(index,0,node);\r\n\t\t\t\tif (this.conchModel){\r\n\t\t\t\t\tthis.conchModel.removeChild(node.conchModel);\r\n\t\t\t\t\tthis.conchModel.addChildAt(node.conchModel,index);\r\n\t\t\t\t}\r\n\t\t\t\tthis._childChanged();\r\n\t\t\t\t}else {\r\n\t\t\t\tnode.parent && node.parent.removeChild(node);\r\n\t\t\t\tthis._childs===Node.ARRAY_EMPTY && (this._childs=[]);\r\n\t\t\t\tthis._childs.splice(index,0,node);\r\n\t\t\t\tthis.conchModel && this.conchModel.addChildAt(node.conchModel,index);\r\n\t\t\t\tnode.parent=this;\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t\t}else {\r\n\t\t\tthrow new Error(\"appendChildAt:The index is out of bounds\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*根据子节点对象，获取子节点的索引位置。\r\n\t*@param node 子节点。\r\n\t*@return 子节点所在的索引位置。\r\n\t*/\r\n\t__proto.getChildIndex=function(node){\r\n\t\treturn this._childs.indexOf(node);\r\n\t}\r\n\r\n\t/**\r\n\t*根据子节点的名字，获取子节点对象。\r\n\t*@param name 子节点的名字。\r\n\t*@return 节点对象。\r\n\t*/\r\n\t__proto.getChildByName=function(name){\r\n\t\tvar nodes=this._childs;\r\n\t\tif (nodes){\r\n\t\t\tfor (var i=0,n=nodes.length;i < n;i++){\r\n\t\t\t\tvar node=nodes[i];\r\n\t\t\t\tif (node.name===name)return node;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._get$P=function(key){\r\n\t\treturn this._$P[key];\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._set$P=function(key,value){\r\n\t\tif (!this.destroyed){\r\n\t\t\tthis._$P===Node.PROP_EMPTY && (this._$P={});\r\n\t\t\tthis._$P[key]=value;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\t/**\r\n\t*根据子节点的索引位置，获取子节点对象。\r\n\t*@param index 索引位置\r\n\t*@return 子节点\r\n\t*/\r\n\t__proto.getChildAt=function(index){\r\n\t\treturn this._childs[index];\r\n\t}\r\n\r\n\t/**\r\n\t*设置子节点的索引位置。\r\n\t*@param node 子节点。\r\n\t*@param index 新的索引。\r\n\t*@return 返回子节点本身。\r\n\t*/\r\n\t__proto.setChildIndex=function(node,index){\r\n\t\tvar childs=this._childs;\r\n\t\tif (index < 0 || index >=childs.length){\r\n\t\t\tthrow new Error(\"setChildIndex:The index is out of bounds.\");\r\n\t\t};\r\n\t\tvar oldIndex=this.getChildIndex(node);\r\n\t\tif (oldIndex < 0)throw new Error(\"setChildIndex:node is must child of this object.\");\r\n\t\tchilds.splice(oldIndex,1);\r\n\t\tchilds.splice(index,0,node);\r\n\t\tif (this.conchModel){\r\n\t\t\tthis.conchModel.removeChild(node.conchModel);\r\n\t\t\tthis.conchModel.addChildAt(node.conchModel,index);\r\n\t\t}\r\n\t\tthis._childChanged();\r\n\t\treturn node;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*子节点发生改变。\r\n\t*@param child 子节点。\r\n\t*/\r\n\t__proto._childChanged=function(child){}\r\n\t/**\r\n\t*删除子节点。\r\n\t*@param node 子节点\r\n\t*@return 被删除的节点\r\n\t*/\r\n\t__proto.removeChild=function(node){\r\n\t\tif (!this._childs)return node;\r\n\t\tvar index=this._childs.indexOf(node);\r\n\t\treturn this.removeChildAt(index);\r\n\t}\r\n\r\n\t/**\r\n\t*从父容器删除自己，如已经被删除不会抛出异常。\r\n\t*@return 当前节点（ Node ）对象。\r\n\t*/\r\n\t__proto.removeSelf=function(){\r\n\t\tthis._parent && this._parent.removeChild(this);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*根据子节点名字删除对应的子节点对象，如果找不到不会抛出异常。\r\n\t*@param name 对象名字。\r\n\t*@return 查找到的节点（ Node ）对象。\r\n\t*/\r\n\t__proto.removeChildByName=function(name){\r\n\t\tvar node=this.getChildByName(name);\r\n\t\tnode && this.removeChild(node);\r\n\t\treturn node;\r\n\t}\r\n\r\n\t/**\r\n\t*根据子节点索引位置，删除对应的子节点对象。\r\n\t*@param index 节点索引位置。\r\n\t*@return 被删除的节点。\r\n\t*/\r\n\t__proto.removeChildAt=function(index){\r\n\t\tvar node=this.getChildAt(index);\r\n\t\tif (node){\r\n\t\t\tthis._childs.splice(index,1);\r\n\t\t\tthis.conchModel && this.conchModel.removeChild(node.conchModel);\r\n\t\t\tnode.parent=null;\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\t/**\r\n\t*删除指定索引区间的所有子对象。\r\n\t*@param beginIndex 开始索引。\r\n\t*@param endIndex 结束索引。\r\n\t*@return 当前节点对象。\r\n\t*/\r\n\t__proto.removeChildren=function(beginIndex,endIndex){\r\n\t\t(beginIndex===void 0)&& (beginIndex=0);\r\n\t\t(endIndex===void 0)&& (endIndex=0x7fffffff);\r\n\t\tif (this._childs && this._childs.length > 0){\r\n\t\t\tvar childs=this._childs;\r\n\t\t\tif (beginIndex===0 && endIndex >=n){\r\n\t\t\t\tvar arr=childs;\r\n\t\t\t\tthis._childs=Node.ARRAY_EMPTY;\r\n\t\t\t\t}else {\r\n\t\t\t\tarr=childs.splice(beginIndex,endIndex-beginIndex);\r\n\t\t\t}\r\n\t\t\tfor (var i=0,n=arr.length;i < n;i++){\r\n\t\t\t\tarr[i].parent=null;\r\n\t\t\t\tthis.conchModel && this.conchModel.removeChild(arr[i].conchModel);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*替换子节点。\r\n\t*@internal 将传入的新节点对象替换到已有子节点索引位置处。\r\n\t*@param newNode 新节点。\r\n\t*@param oldNode 老节点。\r\n\t*@return 返回新节点。\r\n\t*/\r\n\t__proto.replaceChild=function(newNode,oldNode){\r\n\t\tvar index=this._childs.indexOf(oldNode);\r\n\t\tif (index >-1){\r\n\t\t\tthis._childs.splice(index,1,newNode);\r\n\t\t\tif (this.conchModel){\r\n\t\t\t\tthis.conchModel.removeChild(oldNode.conchModel);\r\n\t\t\t\tthis.conchModel.addChildAt(newNode.conchModel,index);\r\n\t\t\t}\r\n\t\t\toldNode.parent=null;\r\n\t\t\tnewNode.parent=this;\r\n\t\t\treturn newNode;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._updateDisplayedInstage=function(){\r\n\t\tvar ele;\r\n\t\tele=this;\r\n\t\tvar stage=Laya.stage;\r\n\t\tthis._displayedInStage=false;\r\n\t\twhile (ele){\r\n\t\t\tif (ele._getBit(0x1)){\r\n\t\t\t\tthis._displayedInStage=ele._displayedInStage;\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t\tif (ele==stage || ele._displayedInStage){\r\n\t\t\t\tthis._displayedInStage=true;\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t\tele=ele.parent;\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setDisplay=function(value){\r\n\t\tif (this._displayedInStage!==value){\r\n\t\t\tthis._displayedInStage=value;\r\n\t\t\tif (value)this.event(/*laya.events.Event.DISPLAY*/\"display\");\r\n\t\t\telse this.event(/*laya.events.Event.UNDISPLAY*/\"undisplay\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*设置指定节点对象是否可见(是否在渲染列表中)。\r\n\t*@param node 节点。\r\n\t*@param display 是否可见。\r\n\t*/\r\n\t__proto._displayChild=function(node,display){\r\n\t\tvar childs=node._childs;\r\n\t\tif (childs){\r\n\t\t\tfor (var i=0,n=childs.length;i < n;i++){\r\n\t\t\t\tvar child=childs[i];\r\n\t\t\t\tif (!child._getBit(0x1))continue ;\r\n\t\t\t\tif (child._childs.length > 0){\r\n\t\t\t\t\tthis._displayChild(child,display);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tchild._setDisplay(display);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tnode._setDisplay(display);\r\n\t}\r\n\r\n\t/**\r\n\t*当前容器是否包含指定的 <code>Node</code> 节点对象 。\r\n\t*@param node 指定的 <code>Node</code> 节点对象 。\r\n\t*@return 一个布尔值表示是否包含指定的 <code>Node</code> 节点对象 。\r\n\t*/\r\n\t__proto.contains=function(node){\r\n\t\tif (node===this)return true;\r\n\t\twhile (node){\r\n\t\t\tif (node.parent===this)return true;\r\n\t\t\tnode=node.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*定时重复执行某函数。功能同Laya.timer.timerLoop()。\r\n\t*@param delay 间隔时间(单位毫秒)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 结束时的回调方法。\r\n\t*@param args （可选）回调参数。\r\n\t*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。\r\n\t*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次\r\n\t*/\r\n\t__proto.timerLoop=function(delay,caller,method,args,coverBefore,jumpFrame){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\t(jumpFrame===void 0)&& (jumpFrame=false);\r\n\t\tthis.timer.loop(delay,caller,method,args,coverBefore,jumpFrame);\r\n\t}\r\n\r\n\t/**\r\n\t*定时执行某函数一次。功能同Laya.timer.timerOnce()。\r\n\t*@param delay 延迟时间(单位毫秒)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 结束时的回调方法。\r\n\t*@param args （可选）回调参数。\r\n\t*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。\r\n\t*/\r\n\t__proto.timerOnce=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis.timer._create(false,false,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**\r\n\t*定时重复执行某函数(基于帧率)。功能同Laya.timer.frameLoop()。\r\n\t*@param delay 间隔几帧(单位为帧)。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 结束时的回调方法。\r\n\t*@param args （可选）回调参数。\r\n\t*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。\r\n\t*/\r\n\t__proto.frameLoop=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis.timer._create(true,true,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**\r\n\t*定时执行一次某函数(基于帧率)。功能同Laya.timer.frameOnce()。\r\n\t*@param delay 延迟几帧(单位为帧)。\r\n\t*@param caller 执行域(this)\r\n\t*@param method 结束时的回调方法\r\n\t*@param args （可选）回调参数\r\n\t*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true\r\n\t*/\r\n\t__proto.frameOnce=function(delay,caller,method,args,coverBefore){\r\n\t\t(coverBefore===void 0)&& (coverBefore=true);\r\n\t\tthis.timer._create(true,false,delay,caller,method,args,coverBefore);\r\n\t}\r\n\r\n\t/**\r\n\t*清理定时器。功能同Laya.timer.clearTimer()。\r\n\t*@param caller 执行域(this)。\r\n\t*@param method 结束时的回调方法。\r\n\t*/\r\n\t__proto.clearTimer=function(caller,method){\r\n\t\tthis.timer.clear(caller,method);\r\n\t}\r\n\r\n\t/**\r\n\t*子对象数量。\r\n\t*/\r\n\t__getset(0,__proto,'numChildren',function(){\r\n\t\treturn this._childs.length;\r\n\t});\r\n\r\n\t/**\r\n\t*[只读]是否已经销毁。对象销毁后不能再使用。\r\n\t*@return\r\n\t*/\r\n\t__getset(0,__proto,'destroyed',function(){\r\n\t\treturn this._destroyed;\r\n\t});\r\n\r\n\t/**父节点。*/\r\n\t__getset(0,__proto,'parent',function(){\r\n\t\treturn this._parent;\r\n\t\t},function(value){\r\n\t\tif (this._parent!==value){\r\n\t\t\tif (value){\r\n\t\t\t\tthis._parent=value;\r\n\t\t\t\tthis.event(/*laya.events.Event.ADDED*/\"added\");\r\n\t\t\t\tif (this._getBit(0x1)){\r\n\t\t\t\t\tthis._setUpNoticeChain();\r\n\t\t\t\t\tvalue.displayedInStage && this._displayChild(this,true);\r\n\t\t\t\t}\r\n\t\t\t\tvalue._childChanged(this);\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.event(/*laya.events.Event.REMOVED*/\"removed\");\r\n\t\t\t\tthis._parent._childChanged();\r\n\t\t\t\tif (this._getBit(0x1))this._displayChild(this,false);\r\n\t\t\t\tthis._parent=value;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**表示是否在显示列表中显示。*/\r\n\t__getset(0,__proto,'displayedInStage',function(){\r\n\t\tif (this._getBit(0x1))return this._displayedInStage;\r\n\t\tthis._setUpNoticeType(0x1);\r\n\t\treturn this._displayedInStage;\r\n\t});\r\n\r\n\tNode.ARRAY_EMPTY=[];\r\n\tNode.PROP_EMPTY={};\r\n\tNode.NOTICE_DISPLAY=0x1;\r\n\tNode.MOUSEENABLE=0x2;\r\n\treturn Node;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*@private\r\n*<code>CSSStyle</code> 类是元素CSS样式定义类。\r\n*/\r\n//class laya.display.css.CSSStyle extends laya.display.css.Style\r\nvar CSSStyle=(function(_super){\r\n\tfunction CSSStyle(ower){\r\n\t\tthis._bgground=null;\r\n\t\tthis._border=null;\r\n\t\t//this._ower=null;\r\n\t\tthis._rect=null;\r\n\t\t/**@private */\r\n\t\tthis.underLine=0;\r\n\t\t/**行高。 */\r\n\t\tthis.lineHeight=0;\r\n\t\tCSSStyle.__super.call(this);\r\n\t\tthis._padding=CSSStyle._PADDING;\r\n\t\tthis._spacing=CSSStyle._SPACING;\r\n\t\tthis._aligns=CSSStyle._ALIGNS;\r\n\t\tthis._font=Font.EMPTY;\r\n\t\tthis._ower=ower;\r\n\t}\r\n\r\n\t__class(CSSStyle,'laya.display.css.CSSStyle',_super);\r\n\tvar __proto=CSSStyle.prototype;\r\n\t/**@inheritDoc */\r\n\t__proto.destroy=function(){\r\n\t\tthis._ower=null;\r\n\t\tthis._font=null;\r\n\t\tthis._rect=null;\r\n\t}\r\n\r\n\t/**\r\n\t*复制传入的 CSSStyle 属性值。\r\n\t*@param src 待复制的 CSSStyle 对象。\r\n\t*/\r\n\t__proto.inherit=function(src){\r\n\t\tthis._font=src._font;\r\n\t\tthis._spacing=src._spacing===CSSStyle._SPACING ? CSSStyle._SPACING :src._spacing.slice();\r\n\t\tthis.lineHeight=src.lineHeight;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._widthAuto=function(){\r\n\t\treturn (this._type & 0x40000)!==0;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.widthed=function(sprite){\r\n\t\treturn (this._type & 0x8)!=0;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._calculation=function(type,value){\r\n\t\tif (value.indexOf('%')< 0)return false;\r\n\t\tvar ower=this._ower;\r\n\t\tvar parent=ower.parent;\r\n\t\tvar rect=this._rect;\r\n\t\tfunction getValue (pw,w,nums){\r\n\t\t\treturn (pw *nums[0]+w *nums[1]+nums[2]);\r\n\t\t}\r\n\t\tfunction onParentResize (type){\r\n\t\t\tvar pw=parent.width,w=ower.width;\r\n\t\t\trect.width && (ower.width=getValue(pw,w,rect.width));\r\n\t\t\trect.height && (ower.height=getValue(pw,w,rect.height));\r\n\t\t\trect.left && (ower.x=getValue(pw,w,rect.left));\r\n\t\t\trect.top && (ower.y=getValue(pw,w,rect.top));\r\n\t\t}\r\n\t\tif (rect===null){\r\n\t\t\tparent._getCSSStyle()._type |=0x80000;\r\n\t\t\tparent.on(/*laya.events.Event.RESIZE*/\"resize\",this,onParentResize);\r\n\t\t\tthis._rect=rect={input:{}};\r\n\t\t};\r\n\t\tvar nums=value.split(' ');\r\n\t\tnums[0]=parseFloat(nums[0])/ 100;\r\n\t\tif (nums.length==1)\r\n\t\t\tnums[1]=nums[2]=0;\r\n\t\telse {\r\n\t\t\tnums[1]=parseFloat(nums[1])/ 100;\r\n\t\t\tnums[2]=parseFloat(nums[2]);\r\n\t\t}\r\n\t\trect[type]=nums;\r\n\t\trect.input[type]=value;\r\n\t\tonParentResize(type);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t*是否已设置高度。\r\n\t*@param sprite 显示对象 Sprite。\r\n\t*@return 一个Boolean 表示是否已设置高度。\r\n\t*/\r\n\t__proto.heighted=function(sprite){\r\n\t\treturn (this._type & 0x2000)!=0;\r\n\t}\r\n\r\n\t/**\r\n\t*设置宽高。\r\n\t*@param w 宽度。\r\n\t*@param h 高度。\r\n\t*/\r\n\t__proto.size=function(w,h){\r\n\t\tvar ower=this._ower;\r\n\t\tvar resize=false;\r\n\t\tif (w!==-1 && w !=this._ower.width){\r\n\t\t\tthis._type |=0x8;\r\n\t\t\tthis._ower.width=w;\r\n\t\t\tresize=true;\r\n\t\t}\r\n\t\tif (h!==-1 && h !=this._ower.height){\r\n\t\t\tthis._type |=0x2000;\r\n\t\t\tthis._ower.height=h;\r\n\t\t\tresize=true;\r\n\t\t}\r\n\t\tif (resize){\r\n\t\t\tower._layoutLater();\r\n\t\t\t(this._type & 0x80000)&& ower.event(/*laya.events.Event.RESIZE*/\"resize\",this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getAlign=function(){\r\n\t\treturn this._aligns[0];\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getValign=function(){\r\n\t\treturn this._aligns[1];\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getCssFloat=function(){\r\n\t\treturn (this._type & 0x8000)!=0 ? 0x8000 :0;\r\n\t}\r\n\r\n\t__proto._createFont=function(){\r\n\t\treturn (this._type & 0x1000)? this._font :(this._type |=0x1000,this._font=new Font(this._font));\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.render=function(sprite,context,x,y){\r\n\t\tvar w=sprite.width;\r\n\t\tvar h=sprite.height;\r\n\t\tx-=sprite.pivotX;\r\n\t\ty-=sprite.pivotY;\r\n\t\tthis._bgground && this._bgground.color !=null && context.ctx.fillRect(x,y,w,h,this._bgground.color);\r\n\t\tthis._border && this._border.color && context.drawRect(x,y,w,h,this._border.color.strColor,this._border.size);\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.getCSSStyle=function(){\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*设置 CSS 样式字符串。\r\n\t*@param text CSS样式字符串。\r\n\t*/\r\n\t__proto.cssText=function(text){\r\n\t\tthis.attrs(CSSStyle.parseOneCSS(text,';'));\r\n\t}\r\n\r\n\t/**\r\n\t*根据传入的属性名、属性值列表，设置此对象的属性值。\r\n\t*@param attrs 属性名与属性值列表。\r\n\t*/\r\n\t__proto.attrs=function(attrs){\r\n\t\tif (attrs){\r\n\t\t\tfor (var i=0,n=attrs.length;i < n;i++){\r\n\t\t\t\tvar attr=attrs[i];\r\n\t\t\t\tthis[attr[0]]=attr[1];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.setTransform=function(value){\r\n\t\t(value==='none')? (this._tf=Style._TF_EMPTY):this.attrs(CSSStyle.parseOneCSS(value,','));\r\n\t}\r\n\r\n\t/**\r\n\t*定义 X 轴、Y 轴移动转换。\r\n\t*@param x X 轴平移量。\r\n\t*@param y Y 轴平移量。\r\n\t*/\r\n\t__proto.translate=function(x,y){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.translateX=x;\r\n\t\tthis._tf.translateY=y;\r\n\t}\r\n\r\n\t/**\r\n\t*定义 缩放转换。\r\n\t*@param x X 轴缩放值。\r\n\t*@param y Y 轴缩放值。\r\n\t*/\r\n\t__proto.scale=function(x,y){\r\n\t\tthis._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());\r\n\t\tthis._tf.scaleX=x;\r\n\t\tthis._tf.scaleY=y;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._enableLayout=function(){\r\n\t\treturn (this._type & 0x2)===0 && (this._type & 0x4)===0;\r\n\t}\r\n\r\n\t/**\r\n\t*是否显示为块级元素。\r\n\t*/\r\n\t__getset(0,__proto,'block',_super.prototype._$get_block,function(value){\r\n\t\tvalue ? (this._type |=0x1):(this._type &=(~0x1));\r\n\t});\r\n\r\n\t/**\r\n\t*垂直对齐方式。\r\n\t*/\r\n\t__getset(0,__proto,'valign',function(){\r\n\t\treturn CSSStyle._valigndef[this._aligns[1]];\r\n\t\t},function(value){\r\n\t\tthis._aligns===CSSStyle._ALIGNS && (this._aligns=[0,0,0]);\r\n\t\tthis._aligns[1]=CSSStyle._valigndef[value];\r\n\t});\r\n\r\n\t/**\r\n\t*高度。\r\n\t*/\r\n\t__getset(0,__proto,'height',null,function(h){\r\n\t\tthis._type |=0x2000;\r\n\t\tif ((typeof h=='string')){\r\n\t\t\tif (this._calculation(\"height\",h))return;\r\n\t\t\th=parseInt(h);\r\n\t\t}\r\n\t\tthis.size(-1,h);\r\n\t});\r\n\r\n\t/**\r\n\t*宽度。\r\n\t*/\r\n\t__getset(0,__proto,'width',null,function(w){\r\n\t\tthis._type |=0x8;\r\n\t\tif ((typeof w=='string')){\r\n\t\t\tvar offset=w.indexOf('auto');\r\n\t\t\tif (offset >=0){\r\n\t\t\t\tthis._type |=0x40000;\r\n\t\t\t\tw=w.substr(0,offset);\r\n\t\t\t}\r\n\t\t\tif (this._calculation(\"width\",w))return;\r\n\t\t\tw=parseInt(w);\r\n\t\t}\r\n\t\tthis.size(w,-1);\r\n\t});\r\n\r\n\t/**\r\n\t*字体粗细。\r\n\t*/\r\n\t__getset(0,__proto,'fontWeight',function(){\r\n\t\treturn this._font.weight;\r\n\t\t},function(value){\r\n\t\tthis._createFont().weight=value;\r\n\t});\r\n\r\n\t/**\r\n\t*表示左边距。\r\n\t*/\r\n\t__getset(0,__proto,'left',null,function(value){\r\n\t\tvar ower=this._ower;\r\n\t\tif (((typeof value=='string'))){\r\n\t\t\tif (value===\"center\")\r\n\t\t\t\tvalue=\"50% -50% 0\";\r\n\t\t\telse if (value===\"right\")\r\n\t\t\tvalue=\"100% -100% 0\";\r\n\t\t\tif (this._calculation(\"left\",value))return;\r\n\t\t\tvalue=parseInt(value);\r\n\t\t}\r\n\t\tower.x=value;\r\n\t});\r\n\r\n\t__getset(0,__proto,'_translate',null,function(value){\r\n\t\tthis.translate(value[0],value[1]);\r\n\t});\r\n\r\n\t/**@inheritDoc */\r\n\t__getset(0,__proto,'absolute',function(){\r\n\t\treturn (this._type & 0x4)!==0;\r\n\t});\r\n\r\n\t/**\r\n\t*表示上边距。\r\n\t*/\r\n\t__getset(0,__proto,'top',null,function(value){\r\n\t\tvar ower=this._ower;\r\n\t\tif (((typeof value=='string'))){\r\n\t\t\tif (value===\"middle\")\r\n\t\t\t\tvalue=\"50% -50% 0\";\r\n\t\t\telse if (value===\"bottom\")\r\n\t\t\tvalue=\"100% -100% 0\";\r\n\t\t\tif (this._calculation(\"top\",value))return;\r\n\t\t\tvalue=parseInt(value);\r\n\t\t}\r\n\t\tower.y=value;\r\n\t});\r\n\r\n\t/**\r\n\t*水平对齐方式。\r\n\t*/\r\n\t__getset(0,__proto,'align',function(){\r\n\t\treturn CSSStyle._aligndef[this._aligns[0]];\r\n\t\t},function(value){\r\n\t\tthis._aligns===CSSStyle._ALIGNS && (this._aligns=[0,0,0]);\r\n\t\tthis._aligns[0]=CSSStyle._aligndef[value];\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否加粗。\r\n\t*/\r\n\t__getset(0,__proto,'bold',function(){\r\n\t\treturn this._font.bold;\r\n\t\t},function(value){\r\n\t\tthis._createFont().bold=value;\r\n\t});\r\n\r\n\t/**\r\n\t*边距信息。\r\n\t*/\r\n\t__getset(0,__proto,'padding',function(){\r\n\t\treturn this._padding;\r\n\t\t},function(value){\r\n\t\tthis._padding=value;\r\n\t});\r\n\r\n\t/**\r\n\t*行间距。\r\n\t*/\r\n\t__getset(0,__proto,'leading',function(){\r\n\t\treturn this._spacing[1];\r\n\t\t},function(d){\r\n\t\t((typeof d=='string'))&& (d=parseInt(d+\"\"));\r\n\t\tthis._spacing===CSSStyle._SPACING && (this._spacing=[0,0]);\r\n\t\tthis._spacing[1]=d;\r\n\t});\r\n\r\n\t/**\r\n\t*是否是行元素。\r\n\t*/\r\n\t__getset(0,__proto,'lineElement',function(){\r\n\t\treturn (this._type & 0x10000)!=0;\r\n\t\t},function(value){\r\n\t\tvalue ? (this._type |=0x10000):(this._type &=(~0x10000));\r\n\t});\r\n\r\n\t/**\r\n\t*浮动方向。\r\n\t*/\r\n\t__getset(0,__proto,'cssFloat',function(){\r\n\t\treturn (this._type & 0x8000)!=0 ? \"right\" :\"left\";\r\n\t\t},function(value){\r\n\t\tthis.lineElement=false;\r\n\t\tvalue===\"right\" ? (this._type |=0x8000):(this._type &=(~0x8000));\r\n\t});\r\n\r\n\t/**\r\n\t*添加到文本的修饰。\r\n\t*/\r\n\t__getset(0,__proto,'textDecoration',function(){\r\n\t\treturn this._font.decoration;\r\n\t\t},function(value){\r\n\t\tthis._createFont().decoration=value;\r\n\t});\r\n\r\n\t/**\r\n\t*设置如何处理元素内的空白。\r\n\t*/\r\n\t__getset(0,__proto,'whiteSpace',function(){\r\n\t\treturn (this._type & 0x20000)? \"nowrap\" :\"\";\r\n\t\t},function(type){\r\n\t\ttype===\"nowrap\" && (this._type |=0x20000);\r\n\t\ttype===\"none\" && (this._type &=~0x20000);\r\n\t});\r\n\r\n\t__getset(0,__proto,'background',null,function(value){\r\n\t\tif (!value){\r\n\t\t\tthis._bgground=null;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._bgground || (this._bgground={});\r\n\t\tthis._bgground.color=value;\r\n\t\tthis._ower.conchModel && this._ower.conchModel.bgColor(value);\r\n\t\tthis._type |=0x4000;\r\n\t\tthis._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否换行。\r\n\t*/\r\n\t__getset(0,__proto,'wordWrap',function(){\r\n\t\treturn (this._type & 0x20000)===0;\r\n\t\t},function(value){\r\n\t\tvalue ? (this._type &=~0x20000):(this._type |=0x20000);\r\n\t});\r\n\r\n\t/**\r\n\t*字体颜色。\r\n\t*/\r\n\t__getset(0,__proto,'color',function(){\r\n\t\treturn this._font.color;\r\n\t\t},function(value){\r\n\t\tthis._createFont().color=value;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>指定文本字段是否是密码文本字段。</p>\r\n\t*如果此属性的值为 true，则文本字段被视为密码文本字段，并使用星号而不是实际字符来隐藏输入的字符。如果为 false，则不会将文本字段视为密码文本字段。\r\n\t*/\r\n\t__getset(0,__proto,'password',function(){\r\n\t\treturn this._font.password;\r\n\t\t},function(value){\r\n\t\tthis._createFont().password=value;\r\n\t});\r\n\r\n\t/**\r\n\t*背景颜色。\r\n\t*/\r\n\t__getset(0,__proto,'backgroundColor',function(){\r\n\t\treturn this._bgground ? this._bgground.color :null;\r\n\t\t},function(value){\r\n\t\tif (value==='none')this._bgground=null;\r\n\t\telse (this._bgground || (this._bgground={}),this._bgground.color=value);\r\n\t\tthis._ower.conchModel && this._ower.conchModel.bgColor(value);\r\n\t\tthis._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;\r\n\t});\r\n\r\n\t/**\r\n\t*字体信息。\r\n\t*/\r\n\t__getset(0,__proto,'font',function(){\r\n\t\treturn this._font.toString();\r\n\t\t},function(value){\r\n\t\tthis._createFont().set(value);\r\n\t});\r\n\r\n\t/**\r\n\t*文本的粗细。\r\n\t*/\r\n\t__getset(0,__proto,'weight',null,function(value){\r\n\t\tthis._createFont().weight=value;\r\n\t});\r\n\r\n\t/**\r\n\t*间距。\r\n\t*/\r\n\t__getset(0,__proto,'letterSpacing',function(){\r\n\t\treturn this._spacing[0];\r\n\t\t},function(d){\r\n\t\t((typeof d=='string'))&& (d=parseInt(d+\"\"));\r\n\t\tthis._spacing===CSSStyle._SPACING && (this._spacing=[0,0]);\r\n\t\tthis._spacing[0]=d;\r\n\t});\r\n\r\n\t/**\r\n\t*字体大小。\r\n\t*/\r\n\t__getset(0,__proto,'fontSize',function(){\r\n\t\treturn this._font.size;\r\n\t\t},function(value){\r\n\t\tthis._createFont().size=value;\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否为斜体。\r\n\t*/\r\n\t__getset(0,__proto,'italic',function(){\r\n\t\treturn this._font.italic;\r\n\t\t},function(value){\r\n\t\tthis._createFont().italic=value;\r\n\t});\r\n\r\n\t/**\r\n\t*字体系列。\r\n\t*/\r\n\t__getset(0,__proto,'fontFamily',function(){\r\n\t\treturn this._font.family;\r\n\t\t},function(value){\r\n\t\tthis._createFont().family=value;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>描边宽度（以像素为单位）。</p>\r\n\t*默认值0，表示不描边。\r\n\t*@default 0\r\n\t*/\r\n\t__getset(0,__proto,'stroke',function(){\r\n\t\treturn this._font.stroke[0];\r\n\t\t},function(value){\r\n\t\tif (this._createFont().stroke===Font._STROKE)this._font.stroke=[0,\"#000000\"];\r\n\t\tthis._font.stroke[0]=value;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>描边颜色，以字符串表示。</p>\r\n\t*@default \"#000000\";\r\n\t*/\r\n\t__getset(0,__proto,'strokeColor',function(){\r\n\t\treturn this._font.stroke[1];\r\n\t\t},function(value){\r\n\t\tif (this._createFont().stroke===Font._STROKE)this._font.stroke=[0,\"#000000\"];\r\n\t\tthis._font.stroke[1]=value;\r\n\t});\r\n\r\n\t/**\r\n\t*边框属性，比如border=\"5px solid red\"\r\n\t*/\r\n\t__getset(0,__proto,'border',function(){\r\n\t\treturn this._border ? this._border.value :\"\";\r\n\t\t},function(value){\r\n\t\tif (value=='none'){\r\n\t\t\tthis._border=null;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._border || (this._border={});\r\n\t\tthis._border.value=value;\r\n\t\tvar values=value.split(' ');\r\n\t\tthis._border.color=Color.create(values[values.length-1]);\r\n\t\tif (values.length==1){\r\n\t\t\tthis._border.size=1;\r\n\t\t\tthis._border.type='solid';\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar i=0;\r\n\t\tif (values[0].indexOf('px')> 0){\r\n\t\t\tthis._border.size=parseInt(values[0]);\r\n\t\t\ti++;\r\n\t\t}else this._border.size=1;\r\n\t\tthis._border.type=values[i];\r\n\t\tthis._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;\r\n\t});\r\n\r\n\t/**\r\n\t*边框的颜色。\r\n\t*/\r\n\t__getset(0,__proto,'borderColor',function(){\r\n\t\treturn (this._border && this._border.color)? this._border.color.strColor :null;\r\n\t\t},function(value){\r\n\t\tif (!value){\r\n\t\t\tthis._border=null;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._border || (this._border={size:1,type:'solid'});\r\n\t\tthis._border.color=(value==null)? null :Color.create(value);\r\n\t\tthis._ower.conchModel && this._ower.conchModel.border(this._border.color.strColor);\r\n\t\tthis._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;\r\n\t});\r\n\r\n\t/**\r\n\t*元素的定位类型。\r\n\t*/\r\n\t__getset(0,__proto,'position',function(){\r\n\t\treturn (this._type & 0x4)? \"absolute\" :\"\";\r\n\t\t},function(value){\r\n\t\tvalue==\"absolute\" ? (this._type |=0x4):(this._type &=~0x4);\r\n\t});\r\n\r\n\t/**\r\n\t*规定元素应该生成的框的类型。\r\n\t*/\r\n\t__getset(0,__proto,'display',null,function(value){\r\n\t\tswitch (value){\r\n\t\t\tcase '':\r\n\t\t\t\tthis._type &=~0x2;\r\n\t\t\t\tthis.visible=true;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'none':\r\n\t\t\t\tthis._type |=0x2;\r\n\t\t\t\tthis.visible=false;\r\n\t\t\t\tthis._ower._layoutLater();\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t});\r\n\r\n\t/**@inheritDoc */\r\n\t__getset(0,__proto,'paddingLeft',function(){\r\n\t\treturn this.padding[3];\r\n\t});\r\n\r\n\t/**@inheritDoc */\r\n\t__getset(0,__proto,'paddingTop',function(){\r\n\t\treturn this.padding[0];\r\n\t});\r\n\r\n\t__getset(0,__proto,'_scale',null,function(value){\r\n\t\tthis._ower.scale(value[0],value[1]);\r\n\t});\r\n\r\n\t__getset(0,__proto,'_rotate',null,function(value){\r\n\t\tthis._ower.rotation=value;\r\n\t});\r\n\r\n\tCSSStyle.parseOneCSS=function(text,clipWord){\r\n\t\tvar out=[];\r\n\t\tvar attrs=text.split(clipWord);\r\n\t\tvar valueArray;\r\n\t\tfor (var i=0,n=attrs.length;i < n;i++){\r\n\t\t\tvar attr=attrs[i];\r\n\t\t\tvar ofs=attr.indexOf(':');\r\n\t\t\tvar name=attr.substr(0,ofs).replace(/^\\s+|\\s+$/g,'');\r\n\t\t\tif (name.length==0)\r\n\t\t\t\tcontinue ;\r\n\t\t\tvar value=attr.substr(ofs+1).replace(/^\\s+|\\s+$/g,'');\r\n\t\t\tvar one=[name,value];\r\n\t\t\tswitch (name){\r\n\t\t\t\tcase 'italic':\r\n\t\t\t\tcase 'bold':\r\n\t\t\t\t\tone[1]=value==\"true\";\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'line-height':\r\n\t\t\t\t\tone[0]='lineHeight';\r\n\t\t\t\t\tone[1]=parseInt(value);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'font-size':\r\n\t\t\t\t\tone[0]='fontSize';\r\n\t\t\t\t\tone[1]=parseInt(value);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'padding':\r\n\t\t\t\t\tvalueArray=value.split(' ');\r\n\t\t\t\t\tvalueArray.length > 1 || (valueArray[1]=valueArray[2]=valueArray[3]=valueArray[0]);\r\n\t\t\t\t\tone[1]=[parseInt(valueArray[0]),parseInt(valueArray[1]),parseInt(valueArray[2]),parseInt(valueArray[3])];\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'rotate':\r\n\t\t\t\t\tone[0]=\"_rotate\";\r\n\t\t\t\t\tone[1]=parseFloat(value);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'scale':\r\n\t\t\t\t\tvalueArray=value.split(' ');\r\n\t\t\t\t\tone[0]=\"_scale\";\r\n\t\t\t\t\tone[1]=[parseFloat(valueArray[0]),parseFloat(valueArray[1])];\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 'translate':\r\n\t\t\t\t\tvalueArray=value.split(' ');\r\n\t\t\t\t\tone[0]=\"_translate\";\r\n\t\t\t\t\tone[1]=[parseInt(valueArray[0]),parseInt(valueArray[1])];\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\t(one[0]=CSSStyle._CSSTOVALUE[name])|| (one[0]=name);\r\n\t\t\t\t}\r\n\t\t\tout.push(one);\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tCSSStyle.parseCSS=function(text,uri){\r\n\t\tvar one;\r\n\t\twhile ((one=CSSStyle._parseCSSRegExp.exec(text))!=null){\r\n\t\t\tCSSStyle.styleSheets[one[1]]=CSSStyle.parseOneCSS(one[2],';');\r\n\t\t}\r\n\t}\r\n\r\n\tCSSStyle.EMPTY=new CSSStyle(null);\r\n\tCSSStyle._CSSTOVALUE={'letter-spacing':'letterSpacing','line-spacing':'lineSpacing','white-space':'whiteSpace','line-height':'lineHeight','scale-x':'scaleX','scale-y':'scaleY','translate-x':'translateX','translate-y':'translateY','font-family':'fontFamily','font-weight':'fontWeight','vertical-align':'valign','text-decoration':'textDecoration','background-color':'backgroundColor','border-color':'borderColor','float':'cssFloat'};\r\n\tCSSStyle._parseCSSRegExp=new RegExp(\"([\\.\\#]\\\\w+)\\\\s*{([\\\\s\\\\S]*?)}\",\"g\");\r\n\tCSSStyle._aligndef={'left':0,'center':1,'right':2,0:'left',1:'center',2:'right'};\r\n\tCSSStyle._valigndef={'top':0,'middle':1,'bottom':2,0:'top',1:'middle',2:'bottom'};\r\n\tCSSStyle.styleSheets={};\r\n\tCSSStyle.ALIGN_CENTER=1;\r\n\tCSSStyle.ALIGN_RIGHT=2;\r\n\tCSSStyle.VALIGN_MIDDLE=1;\r\n\tCSSStyle.VALIGN_BOTTOM=2;\r\n\tCSSStyle._CSS_BLOCK=0x1;\r\n\tCSSStyle._DISPLAY_NONE=0x2;\r\n\tCSSStyle._ABSOLUTE=0x4;\r\n\tCSSStyle._WIDTH_SET=0x8;\r\n\tCSSStyle._PADDING=[0,0,0,0];\r\n\tCSSStyle._RECT=[-1,-1,-1,-1];\r\n\tCSSStyle._SPACING=[0,0];\r\n\tCSSStyle._ALIGNS=[0,0,0];\r\n\tCSSStyle.ADDLAYOUTED=0x200;\r\n\tCSSStyle._NEWFONT=0x1000;\r\n\tCSSStyle._HEIGHT_SET=0x2000;\r\n\tCSSStyle._BACKGROUND_SET=0x4000;\r\n\tCSSStyle._FLOAT_RIGHT=0x8000;\r\n\tCSSStyle._LINE_ELEMENT=0x10000;\r\n\tCSSStyle._NOWARP=0x20000;\r\n\tCSSStyle._WIDTHAUTO=0x40000;\r\n\tCSSStyle._LISTERRESZIE=0x80000;\r\n\treturn CSSStyle;\r\n})(Style)\r\n\r\n\r\n/**\r\n*@private\r\n*使用Audio标签播放声音\r\n*/\r\n//class laya.media.h5audio.AudioSound extends laya.events.EventDispatcher\r\nvar AudioSound=(function(_super){\r\n\tfunction AudioSound(){\r\n\t\t/**\r\n\t\t*声音URL\r\n\t\t*/\r\n\t\tthis.url=null;\r\n\t\t/**\r\n\t\t*播放用的audio标签\r\n\t\t*/\r\n\t\tthis.audio=null;\r\n\t\t/**\r\n\t\t*是否已加载完成\r\n\t\t*/\r\n\t\tthis.loaded=false;\r\n\t\tAudioSound.__super.call(this);\r\n\t}\r\n\r\n\t__class(AudioSound,'laya.media.h5audio.AudioSound',_super);\r\n\tvar __proto=AudioSound.prototype;\r\n\t/**\r\n\t*释放声音\r\n\t*\r\n\t*/\r\n\t__proto.dispose=function(){\r\n\t\tvar ad=AudioSound._audioCache[this.url];\r\n\t\tif (ad){\r\n\t\t\tad.src=\"\";\r\n\t\t\tdelete AudioSound._audioCache[this.url];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*加载声音\r\n\t*@param url\r\n\t*\r\n\t*/\r\n\t__proto.load=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tthis.url=url;\r\n\t\tvar ad;\r\n\t\tif (url==SoundManager._tMusic){\r\n\t\t\tAudioSound._initMusicAudio();\r\n\t\t\tad=AudioSound._musicAudio;\r\n\t\t\tif (ad.src !=url){\r\n\t\t\t\tAudioSound._audioCache[ad.src]=null;\r\n\t\t\t\tad=null;\r\n\t\t\t}\r\n\t\t\t}else{\r\n\t\t\tad=AudioSound._audioCache[url];\r\n\t\t}\r\n\t\tif (ad && ad.readyState >=2){\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!ad){\r\n\t\t\tif (url==SoundManager._tMusic){\r\n\t\t\t\tAudioSound._initMusicAudio();\r\n\t\t\t\tad=AudioSound._musicAudio;\r\n\t\t\t\t}else{\r\n\t\t\t\tad=Browser.createElement(\"audio\");\r\n\t\t\t}\r\n\t\t\tAudioSound._audioCache[url]=ad;\r\n\t\t\tad.src=url;\r\n\t\t}\r\n\t\tad.addEventListener(\"canplaythrough\",onLoaded);\r\n\t\tad.addEventListener(\"error\",onErr);\r\n\t\tvar me=this;\r\n\t\tfunction onLoaded (){\r\n\t\t\toffs();\r\n\t\t\tme.loaded=true;\r\n\t\t\tme.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t}\r\n\t\tfunction onErr (){\r\n\t\t\tad.load=null;\r\n\t\t\toffs();\r\n\t\t\tme.event(/*laya.events.Event.ERROR*/\"error\");\r\n\t\t}\r\n\t\tfunction offs (){\r\n\t\t\tad.removeEventListener(\"canplaythrough\",onLoaded);\r\n\t\t\tad.removeEventListener(\"error\",onErr);\r\n\t\t}\r\n\t\tthis.audio=ad;\r\n\t\tif (ad.load){\r\n\t\t\tad.load();\r\n\t\t\t}else {\r\n\t\t\tonErr();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*播放声音\r\n\t*@param startTime 起始时间\r\n\t*@param loops 循环次数\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.play=function(startTime,loops){\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\t(loops===void 0)&& (loops=0);\r\n\t\tif (!this.url)return null;\r\n\t\tvar ad;\r\n\t\tif (this.url==SoundManager._tMusic){\r\n\t\t\tad=AudioSound._musicAudio;\r\n\t\t\t}else{\r\n\t\t\tad=AudioSound._audioCache[this.url];\r\n\t\t}\r\n\t\tif (!ad)return null;\r\n\t\tvar tAd;\r\n\t\ttAd=Pool.getItem(\"audio:\"+this.url);\r\n\t\tif (Render.isConchApp){\r\n\t\t\tif (!tAd){\r\n\t\t\t\ttAd=Browser.createElement(\"audio\");\r\n\t\t\t\ttAd.src=this.url;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.url==SoundManager._tMusic){\r\n\t\t\t\tAudioSound._initMusicAudio();\r\n\t\t\t\ttAd=AudioSound._musicAudio;\r\n\t\t\t\ttAd.src=this.url;\r\n\t\t\t\t}else{\r\n\t\t\t\ttAd=tAd ? tAd :ad.cloneNode(true);\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar channel=new AudioSoundChannel(tAd);\r\n\t\tchannel.url=this.url;\r\n\t\tchannel.loops=loops;\r\n\t\tchannel.startTime=startTime;\r\n\t\tchannel.play();\r\n\t\tSoundManager.addChannel(channel);\r\n\t\treturn channel;\r\n\t}\r\n\r\n\t/**\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\tvar ad;\r\n\t\tad=AudioSound._audioCache[this.url];\r\n\t\tif (!ad)\r\n\t\t\treturn 0;\r\n\t\treturn ad.duration;\r\n\t});\r\n\r\n\tAudioSound._initMusicAudio=function(){\r\n\t\tif (AudioSound._musicAudio)return;\r\n\t\tif (!AudioSound._musicAudio)AudioSound._musicAudio=Browser.createElement(\"audio\");\r\n\t\tif (!Render.isConchApp){\r\n\t\t\tBrowser.document.addEventListener(\"mousedown\",AudioSound._makeMusicOK);\r\n\t\t}\r\n\t}\r\n\r\n\tAudioSound._makeMusicOK=function(){\r\n\t\tBrowser.document.removeEventListener(\"mousedown\",AudioSound._makeMusicOK);\r\n\t\tif (!AudioSound._musicAudio.src){\r\n\t\t\tAudioSound._musicAudio.src=\"\";\r\n\t\t\tAudioSound._musicAudio.load();\r\n\t\t\t}else{\r\n\t\t\tAudioSound._musicAudio.play();\r\n\t\t}\r\n\t}\r\n\r\n\tAudioSound._audioCache={};\r\n\tAudioSound._musicAudio=null;\r\n\treturn AudioSound;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<p> <code>SoundChannel</code> 用来控制程序中的声音。每个声音均分配给一个声道，而且应用程序可以具有混合在一起的多个声道。</p>\r\n*<p> <code>SoundChannel</code> 类包含控制声音的播放、暂停、停止、音量的方法，以及获取声音的播放状态、总时间、当前播放时间、总循环次数、播放地址等信息的方法。</p>\r\n*/\r\n//class laya.media.SoundChannel extends laya.events.EventDispatcher\r\nvar SoundChannel=(function(_super){\r\n\tfunction SoundChannel(){\r\n\t\t/**\r\n\t\t*声音地址。\r\n\t\t*/\r\n\t\tthis.url=null;\r\n\t\t/**\r\n\t\t*循环次数。\r\n\t\t*/\r\n\t\tthis.loops=0;\r\n\t\t/**\r\n\t\t*开始时间。\r\n\t\t*/\r\n\t\tthis.startTime=NaN;\r\n\t\t/**\r\n\t\t*表示声音是否已暂停。\r\n\t\t*/\r\n\t\tthis.isStopped=false;\r\n\t\t/**\r\n\t\t*播放完成处理器。\r\n\t\t*/\r\n\t\tthis.completeHandler=null;\r\n\t\tSoundChannel.__super.call(this);\r\n\t}\r\n\r\n\t__class(SoundChannel,'laya.media.SoundChannel',_super);\r\n\tvar __proto=SoundChannel.prototype;\r\n\t/**\r\n\t*播放。\r\n\t*/\r\n\t__proto.play=function(){}\r\n\t/**\r\n\t*停止。\r\n\t*/\r\n\t__proto.stop=function(){}\r\n\t/**\r\n\t*暂停。\r\n\t*/\r\n\t__proto.pause=function(){}\r\n\t/**\r\n\t*继续播放。\r\n\t*/\r\n\t__proto.resume=function(){}\r\n\t/**\r\n\t*private\r\n\t*/\r\n\t__proto.__runComplete=function(handler){\r\n\t\tif (handler){\r\n\t\t\thandler.run();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*音量范围从 0（静音）至 1（最大音量）。\r\n\t*/\r\n\t__getset(0,__proto,'volume',function(){\r\n\t\treturn 1;\r\n\t\t},function(v){\r\n\t});\r\n\r\n\t/**\r\n\t*获取当前播放时间。\r\n\t*/\r\n\t__getset(0,__proto,'position',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\t/**\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\treturn SoundChannel;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<code>Sound</code> 类是用来播放控制声音的类。\r\n*/\r\n//class laya.media.Sound extends laya.events.EventDispatcher\r\nvar Sound=(function(_super){\r\n\tfunction Sound(){\r\n\t\tSound.__super.call(this);;\r\n\t}\r\n\r\n\t__class(Sound,'laya.media.Sound',_super);\r\n\tvar __proto=Sound.prototype;\r\n\t/**\r\n\t*加载声音。\r\n\t*@param url 地址。\r\n\t*\r\n\t*/\r\n\t__proto.load=function(url){}\r\n\t/**\r\n\t*播放声音。\r\n\t*@param startTime 开始时间,单位秒\r\n\t*@param loops 循环次数,0表示一直循环\r\n\t*@return 声道 SoundChannel 对象。\r\n\t*\r\n\t*/\r\n\t__proto.play=function(startTime,loops){\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\t(loops===void 0)&& (loops=0);\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t*释放声音资源。\r\n\t*\r\n\t*/\r\n\t__proto.dispose=function(){}\r\n\t/**\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\treturn Sound;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*@private\r\n*web audio api方式播放声音\r\n*/\r\n//class laya.media.webaudio.WebAudioSound extends laya.events.EventDispatcher\r\nvar WebAudioSound=(function(_super){\r\n\tfunction WebAudioSound(){\r\n\t\t/**\r\n\t\t*声音URL\r\n\t\t*/\r\n\t\tthis.url=null;\r\n\t\t/**\r\n\t\t*是否已加载完成\r\n\t\t*/\r\n\t\tthis.loaded=false;\r\n\t\t/**\r\n\t\t*声音文件数据\r\n\t\t*/\r\n\t\tthis.data=null;\r\n\t\t/**\r\n\t\t*声音原始文件数据\r\n\t\t*/\r\n\t\tthis.audioBuffer=null;\r\n\t\t/**\r\n\t\t*待播放的声音列表\r\n\t\t*/\r\n\t\tthis.__toPlays=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis._disposed=false;\r\n\t\tWebAudioSound.__super.call(this);\r\n\t}\r\n\r\n\t__class(WebAudioSound,'laya.media.webaudio.WebAudioSound',_super);\r\n\tvar __proto=WebAudioSound.prototype;\r\n\t/**\r\n\t*加载声音\r\n\t*@param url\r\n\t*\r\n\t*/\r\n\t__proto.load=function(url){\r\n\t\tvar me=this;\r\n\t\turl=URL.formatURL(url);\r\n\t\tthis.url=url;\r\n\t\tthis.audioBuffer=WebAudioSound._dataCache[url];\r\n\t\tif (this.audioBuffer){\r\n\t\t\tthis._loaded(this.audioBuffer);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tWebAudioSound.e.on(\"loaded:\"+url,this,this._loaded);\r\n\t\tWebAudioSound.e.on(\"err:\"+url,this,this._err);\r\n\t\tif (WebAudioSound.__loadingSound[url]){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tWebAudioSound.__loadingSound[url]=true;\r\n\t\tvar request=new Browser.window.XMLHttpRequest();\r\n\t\trequest.open(\"GET\",url,true);\r\n\t\trequest.responseType=\"arraybuffer\";\r\n\t\trequest.onload=function (){\r\n\t\t\tif (me._disposed){\r\n\t\t\t\tme._removeLoadEvents();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tme.data=request.response;\r\n\t\t\tWebAudioSound.buffs.push({\"buffer\":me.data,\"url\":me.url});\r\n\t\t\tWebAudioSound.decode();\r\n\t\t};\r\n\t\trequest.onerror=function (e){\r\n\t\t\tme._err();\r\n\t\t}\r\n\t\trequest.send();\r\n\t}\r\n\r\n\t__proto._err=function(){\r\n\t\tthis._removeLoadEvents();\r\n\t\tWebAudioSound.__loadingSound[this.url]=false;\r\n\t\tthis.event(/*laya.events.Event.ERROR*/\"error\");\r\n\t}\r\n\r\n\t__proto._loaded=function(audioBuffer){\r\n\t\tthis._removeLoadEvents();\r\n\t\tif (this._disposed){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.audioBuffer=audioBuffer;\r\n\t\tWebAudioSound._dataCache[this.url]=this.audioBuffer;\r\n\t\tthis.loaded=true;\r\n\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t}\r\n\r\n\t__proto._removeLoadEvents=function(){\r\n\t\tWebAudioSound.e.off(\"loaded:\"+this.url,this,this._loaded);\r\n\t\tWebAudioSound.e.off(\"err:\"+this.url,this,this._err);\r\n\t}\r\n\r\n\t__proto.__playAfterLoaded=function(){\r\n\t\tif (!this.__toPlays)return;\r\n\t\tvar i=0,len=0;\r\n\t\tvar toPlays;\r\n\t\ttoPlays=this.__toPlays;\r\n\t\tlen=toPlays.length;\r\n\t\tvar tParams;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttParams=toPlays[i];\r\n\t\t\tif (tParams[2] && !(tParams [2]).isStopped){\r\n\t\t\t\tthis.play(tParams[0],tParams[1],tParams[2]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.__toPlays.length=0;\r\n\t}\r\n\r\n\t/**\r\n\t*播放声音\r\n\t*@param startTime 起始时间\r\n\t*@param loops 循环次数\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__proto.play=function(startTime,loops,channel){\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\t(loops===void 0)&& (loops=0);\r\n\t\tchannel=channel ? channel :new WebAudioSoundChannel();\r\n\t\tif (!this.audioBuffer){\r\n\t\t\tif (this.url){\r\n\t\t\t\tif (!this.__toPlays)this.__toPlays=[];\r\n\t\t\t\tthis.__toPlays.push([startTime,loops,channel]);\r\n\t\t\t\tthis.once(/*laya.events.Event.COMPLETE*/\"complete\",this,this.__playAfterLoaded);\r\n\t\t\t\tthis.load(this.url);\r\n\t\t\t}\r\n\t\t}\r\n\t\tchannel.url=this.url;\r\n\t\tchannel.loops=loops;\r\n\t\tchannel[\"audioBuffer\"]=this.audioBuffer;\r\n\t\tchannel.startTime=startTime;\r\n\t\tchannel.play();\r\n\t\tSoundManager.addChannel(channel);\r\n\t\treturn channel;\r\n\t}\r\n\r\n\t__proto.dispose=function(){\r\n\t\tthis._disposed=true;\r\n\t\tdelete WebAudioSound._dataCache[this.url];\r\n\t\tdelete WebAudioSound.__loadingSound[this.url];\r\n\t\tthis.audioBuffer=null;\r\n\t\tthis.data=null;\r\n\t\tthis.__toPlays=[];\r\n\t}\r\n\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\tif (this.audioBuffer){\r\n\t\t\treturn this.audioBuffer.duration;\r\n\t\t}\r\n\t\treturn 0;\r\n\t});\r\n\r\n\tWebAudioSound.decode=function(){\r\n\t\tif (WebAudioSound.buffs.length <=0 || WebAudioSound.isDecoding){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tWebAudioSound.isDecoding=true;\r\n\t\tWebAudioSound.tInfo=WebAudioSound.buffs.shift();\r\n\t\tWebAudioSound.ctx.decodeAudioData(WebAudioSound.tInfo[\"buffer\"],WebAudioSound._done,WebAudioSound._fail);\r\n\t}\r\n\r\n\tWebAudioSound._done=function(audioBuffer){\r\n\t\tWebAudioSound.e.event(\"loaded:\"+WebAudioSound.tInfo.url,audioBuffer);\r\n\t\tWebAudioSound.isDecoding=false;\r\n\t\tWebAudioSound.decode();\r\n\t}\r\n\r\n\tWebAudioSound._fail=function(){\r\n\t\tWebAudioSound.e.event(\"err:\"+WebAudioSound.tInfo.url,null);\r\n\t\tWebAudioSound.isDecoding=false;\r\n\t\tWebAudioSound.decode();\r\n\t}\r\n\r\n\tWebAudioSound._playEmptySound=function(){\r\n\t\tif (WebAudioSound.ctx==null){\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar source=WebAudioSound.ctx.createBufferSource();\r\n\t\tsource.buffer=WebAudioSound._miniBuffer;\r\n\t\tsource.connect(WebAudioSound.ctx.destination);\r\n\t\tsource.start(0,0,0);\r\n\t}\r\n\r\n\tWebAudioSound._unlock=function(){\r\n\t\tif (WebAudioSound._unlocked){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tWebAudioSound._playEmptySound();\r\n\t\tif (WebAudioSound.ctx.state==\"running\"){\r\n\t\t\tBrowser.document.removeEventListener(\"mousedown\",WebAudioSound._unlock,true);\r\n\t\t\tBrowser.document.removeEventListener(\"touchend\",WebAudioSound._unlock,true);\r\n\t\t\tWebAudioSound._unlocked=true;\r\n\t\t}\r\n\t}\r\n\r\n\tWebAudioSound.initWebAudio=function(){\r\n\t\tif (WebAudioSound.ctx.state !=\"running\"){\r\n\t\t\tWebAudioSound._unlock();\r\n\t\t\tBrowser.document.addEventListener(\"mousedown\",WebAudioSound._unlock,true);\r\n\t\t\tBrowser.document.addEventListener(\"touchend\",WebAudioSound._unlock,true);\r\n\t\t}\r\n\t}\r\n\r\n\tWebAudioSound._dataCache={};\r\n\tWebAudioSound.buffs=[];\r\n\tWebAudioSound.isDecoding=false;\r\n\tWebAudioSound._unlocked=false;\r\n\tWebAudioSound.tInfo=null;\r\n\tWebAudioSound.__loadingSound={};\r\n\t__static(WebAudioSound,\r\n\t['window',function(){return this.window=Browser.window;},'webAudioEnabled',function(){return this.webAudioEnabled=WebAudioSound.window[\"AudioContext\"] || WebAudioSound.window[\"webkitAudioContext\"] || WebAudioSound.window[\"mozAudioContext\"];},'ctx',function(){return this.ctx=WebAudioSound.webAudioEnabled ? new (WebAudioSound.window[\"AudioContext\"] || WebAudioSound.window[\"webkitAudioContext\"] || WebAudioSound.window[\"mozAudioContext\"])():undefined;},'_miniBuffer',function(){return this._miniBuffer=WebAudioSound.ctx.createBuffer(1,1,22050);},'e',function(){return this.e=new EventDispatcher();}\r\n\t]);\r\n\treturn WebAudioSound;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<p> <code>HttpRequest</code> 通过封装 HTML <code>XMLHttpRequest</code> 对象提供了对 HTTP 协议的完全的访问，包括做出 POST 和 HEAD 请求以及普通的 GET 请求的能力。 <code>HttpRequest</code> 只提供以异步的形式返回 Web 服务器的响应，并且能够以文本或者二进制的形式返回内容。</p>\r\n*<p><b>注意：</b>建议每次请求都使用新的 <code>HttpRequest</code> 对象，因为每次调用该对象的send方法时，都会清空之前设置的数据，并重置 HTTP 请求的状态，这会导致之前还未返回响应的请求被重置，从而得不到之前请求的响应结果。</p>\r\n*/\r\n//class laya.net.HttpRequest extends laya.events.EventDispatcher\r\nvar HttpRequest=(function(_super){\r\n\tfunction HttpRequest(){\r\n\t\t/**@private */\r\n\t\tthis._responseType=null;\r\n\t\t/**@private */\r\n\t\tthis._data=null;\r\n\t\tHttpRequest.__super.call(this);\r\n\t\tthis._http=new Browser.window.XMLHttpRequest();\r\n\t}\r\n\r\n\t__class(HttpRequest,'laya.net.HttpRequest',_super);\r\n\tvar __proto=HttpRequest.prototype;\r\n\t/**\r\n\t*发送 HTTP 请求。\r\n\t*@param url 请求的地址。大多数浏览器实施了一个同源安全策略，并且要求这个 URL 与包含脚本的文本具有相同的主机名和端口。\r\n\t*@param data (default=null)发送的数据。\r\n\t*@param method (default=\"get\")用于请求的 HTTP 方法。值包括 \"get\"、\"post\"、\"head\"。\r\n\t*@param responseType (default=\"text\")Web 服务器的响应类型，可设置为 \"text\"、\"json\"、\"xml\"、\"arraybuffer\"。\r\n\t*@param headers (default=null)HTTP 请求的头部信息。参数形如key-value数组：key是头部的名称，不应该包括空白、冒号或换行；value是头部的值，不应该包括换行。比如[\"Content-Type\",\"application/json\"]。\r\n\t*/\r\n\t__proto.send=function(url,data,method,responseType,headers){\r\n\t\t(method===void 0)&& (method=\"get\");\r\n\t\t(responseType===void 0)&& (responseType=\"text\");\r\n\t\tthis._responseType=responseType;\r\n\t\tthis._data=null;\r\n\t\tvar _this=this;\r\n\t\tvar http=this._http;\r\n\t\thttp.open(method,url,true);\r\n\t\tif (headers){\r\n\t\t\tfor (var i=0;i < headers.length;i++){\r\n\t\t\t\thttp.setRequestHeader(headers[i++],headers[i]);\r\n\t\t\t}\r\n\t\t\t}else if (!Render.isConchApp){\r\n\t\t\tif (!data || (typeof data=='string'))http.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n\t\t\telse http.setRequestHeader(\"Content-Type\",\"application/json\");\r\n\t\t}\r\n\t\thttp.responseType=responseType!==\"arraybuffer\" ? \"text\" :\"arraybuffer\";\r\n\t\thttp.onerror=function (e){\r\n\t\t\t_this._onError(e);\r\n\t\t}\r\n\t\thttp.onabort=function (e){\r\n\t\t\t_this._onAbort(e);\r\n\t\t}\r\n\t\thttp.onprogress=function (e){\r\n\t\t\t_this._onProgress(e);\r\n\t\t}\r\n\t\thttp.onload=function (e){\r\n\t\t\t_this._onLoad(e);\r\n\t\t}\r\n\t\thttp.send(data);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求进度的侦听处理函数。\r\n\t*@param e 事件对象。\r\n\t*/\r\n\t__proto._onProgress=function(e){\r\n\t\tif (e && e.lengthComputable)this.event(/*laya.events.Event.PROGRESS*/\"progress\",e.loaded / e.total);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求中断的侦听处理函数。\r\n\t*@param e 事件对象。\r\n\t*/\r\n\t__proto._onAbort=function(e){\r\n\t\tthis.error(\"Request was aborted by user\");\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求出错侦的听处理函数。\r\n\t*@param e 事件对象。\r\n\t*/\r\n\t__proto._onError=function(e){\r\n\t\tthis.error(\"Request failed Status:\"+this._http.status+\" text:\"+this._http.statusText);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求消息返回的侦听处理函数。\r\n\t*@param e 事件对象。\r\n\t*/\r\n\t__proto._onLoad=function(e){\r\n\t\tvar http=this._http;\r\n\t\tvar status=http.status!==undefined ? http.status :200;\r\n\t\tif (status===200 || status===204 || status===0){\r\n\t\t\tthis.complete();\r\n\t\t\t}else {\r\n\t\t\tthis.error(\"[\"+http.status+\"]\"+http.statusText+\":\"+http.responseURL);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求错误的处理函数。\r\n\t*@param message 错误信息。\r\n\t*/\r\n\t__proto.error=function(message){\r\n\t\tthis.clear();\r\n\t\tthis.event(/*laya.events.Event.ERROR*/\"error\",message);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*请求成功完成的处理函数。\r\n\t*/\r\n\t__proto.complete=function(){\r\n\t\tthis.clear();\r\n\t\tvar flag=true;\r\n\t\ttry {\r\n\t\t\tif (this._responseType===\"json\"){\r\n\t\t\t\tthis._data=JSON.parse(this._http.responseText);\r\n\t\t\t\t}else if (this._responseType===\"xml\"){\r\n\t\t\t\tthis._data=Utils.parseXMLFromString(this._http.responseText);\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._data=this._http.response || this._http.responseText;\r\n\t\t\t}\r\n\t\t\t}catch (e){\r\n\t\t\tflag=false;\r\n\t\t\tthis.error(e.message);\r\n\t\t}\r\n\t\tflag && this.event(/*laya.events.Event.COMPLETE*/\"complete\",(this._data instanceof Array)? [this._data] :this._data);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*清除当前请求。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tvar http=this._http;\r\n\t\thttp.onerror=http.onabort=http.onprogress=http.onload=null;\r\n\t}\r\n\r\n\t/**请求的地址。*/\r\n\t__getset(0,__proto,'url',function(){\r\n\t\treturn this._http.responseURL;\r\n\t});\r\n\r\n\t/**\r\n\t*本对象所封装的原生 XMLHttpRequest 引用。\r\n\t*/\r\n\t__getset(0,__proto,'http',function(){\r\n\t\treturn this._http;\r\n\t});\r\n\r\n\t/**返回的数据。*/\r\n\t__getset(0,__proto,'data',function(){\r\n\t\treturn this._data;\r\n\t});\r\n\r\n\treturn HttpRequest;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<code>Loader</code> 类可用来加载文本、JSON、XML、二进制、图像等资源。\r\n*/\r\n//class laya.net.Loader extends laya.events.EventDispatcher\r\nvar Loader=(function(_super){\r\n\tfunction Loader(){\r\n\t\t/**@private 加载后的数据对象，只读*/\r\n\t\tthis._data=null;\r\n\t\t/**@private */\r\n\t\tthis._class=null;\r\n\t\t/**@private */\r\n\t\tthis._url=null;\r\n\t\t/**@private */\r\n\t\tthis._type=null;\r\n\t\t/**@private */\r\n\t\tthis._cache=false;\r\n\t\t/**@private */\r\n\t\tthis._http=null;\r\n\t\t/**@private 自定义解析不派发complete事件，但会派发loaded事件，手动调用endLoad方法再派发complete事件*/\r\n\t\tthis._customParse=false;\r\n\t\tLoader.__super.call(this);\r\n\t}\r\n\r\n\t__class(Loader,'laya.net.Loader',_super);\r\n\tvar __proto=Loader.prototype;\r\n\t/**\r\n\t*加载资源。加载错误会派发 Event.ERROR 事件，参数为错误信息。\r\n\t*@param url 资源地址。\r\n\t*@param type (default=null)资源类型。可选值为：Loader.TEXT、Loader.JSON、Loader.XML、Loader.BUFFER、Loader.IMAGE、Loader.SOUND、Loader.ATLAS、Loader.FONT。如果为null，则根据文件后缀分析类型。\r\n\t*@param cache (default=true)是否缓存数据。\r\n\t*@param group (default=null)分组名称。\r\n\t*@param ignoreCache (default=false)是否忽略缓存，强制重新加载。\r\n\t*/\r\n\t__proto.load=function(url,type,cache,group,ignoreCache){\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\t(ignoreCache===void 0)&& (ignoreCache=false);\r\n\t\tthis._url=url;\r\n\t\tif (url.indexOf(\"data:image\")===0)this._type=type=\"image\";\r\n\t\telse {\r\n\t\t\tthis._type=type || (type=this.getTypeFromUrl(url));\r\n\t\t\turl=URL.formatURL(url);\r\n\t\t}\r\n\t\tthis._cache=cache;\r\n\t\tthis._data=null;\r\n\t\tif (!ignoreCache && Loader.loadedMap[url]){\r\n\t\t\tthis._data=Loader.loadedMap[url];\r\n\t\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",1);\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\",this._data);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (group)Loader.setGroup(url,group);\r\n\t\tif (Loader.parserMap[type] !=null){\r\n\t\t\tthis._customParse=true;\r\n\t\t\tif (((Loader.parserMap[type])instanceof laya.utils.Handler ))Loader.parserMap[type].runWith(this);\r\n\t\t\telse Loader.parserMap[type].call(null,this);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (type===\"image\" || type===\"htmlimage\" || type===\"nativeimage\")return this._loadImage(url);\r\n\t\tif (type===\"sound\")return this._loadSound(url);\r\n\t\tif (type===\"ttf\")return this._loadTTF(url);\r\n\t\tvar contentType;\r\n\t\tswitch (type){\r\n\t\t\tcase \"atlas\":\r\n\t\t\tcase \"plf\":\r\n\t\t\t\tcontentType=\"json\";\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"font\":\r\n\t\t\t\tcontentType=\"xml\";\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"pkm\":\r\n\t\t\t\tcontentType=\"arraybuffer\";\r\n\t\t\t\tbreak\r\n\t\t\tdefault :\r\n\t\t\t\tcontentType=type;\r\n\t\t\t}\r\n\t\tif (Loader.preLoadedMap[url]){\r\n\t\t\tthis.onLoaded(Loader.preLoadedMap[url]);\r\n\t\t\t}else{\r\n\t\t\tif (!this._http){\r\n\t\t\t\tthis._http=new HttpRequest();\r\n\t\t\t\tthis._http.on(/*laya.events.Event.PROGRESS*/\"progress\",this,this.onProgress);\r\n\t\t\t\tthis._http.on(/*laya.events.Event.ERROR*/\"error\",this,this.onError);\r\n\t\t\t\tthis._http.on(/*laya.events.Event.COMPLETE*/\"complete\",this,this.onLoaded);\r\n\t\t\t}\r\n\t\t\tthis._http.send(url,null,\"get\",contentType);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定资源地址的数据类型。\r\n\t*@param url 资源地址。\r\n\t*@return 数据类型。\r\n\t*/\r\n\t__proto.getTypeFromUrl=function(url){\r\n\t\tvar type=Utils.getFileExtension(url);\r\n\t\tif (type)return Loader.typeMap[type];\r\n\t\tconsole.warn(\"Not recognize the resources suffix\",url);\r\n\t\treturn \"text\";\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*加载TTF资源。\r\n\t*@param url 资源地址。\r\n\t*/\r\n\t__proto._loadTTF=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar ttfLoader=new TTFLoader();\r\n\t\tttfLoader.complete=Handler.create(this,this.onLoaded);\r\n\t\tttfLoader.load(url);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*加载图片资源。\r\n\t*@param url 资源地址。\r\n\t*/\r\n\t__proto._loadImage=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar _this=this;\r\n\t\tvar image;\r\n\t\tfunction clear (){\r\n\t\t\timage.onload=null;\r\n\t\t\timage.onerror=null;\r\n\t\t\tdelete Loader.imgCache[url]\r\n\t\t};\r\n\t\tvar onload=function (){\r\n\t\t\tclear();\r\n\t\t\t_this.onLoaded(image);\r\n\t\t};\r\n\t\tvar onerror=function (){\r\n\t\t\tclear();\r\n\t\t\t_this.event(/*laya.events.Event.ERROR*/\"error\",\"Load image failed\");\r\n\t\t}\r\n\t\tif (this._type===\"nativeimage\"){\r\n\t\t\timage=new Browser.window.Image();\r\n\t\t\timage.crossOrigin=\"\";\r\n\t\t\timage.onload=onload;\r\n\t\t\timage.onerror=onerror;\r\n\t\t\timage.src=url;\r\n\t\t\tLoader.imgCache[url]=image;\r\n\t\t\t}else {\r\n\t\t\tnew HTMLImage.create(url,{onload:onload,onerror:onerror,onCreate:function (img){\r\n\t\t\t\t\timage=img;\r\n\t\t\t\t\tLoader.imgCache[url]=img;\r\n\t\t\t}});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*加载声音资源。\r\n\t*@param url 资源地址。\r\n\t*/\r\n\t__proto._loadSound=function(url){\r\n\t\tvar sound=(new SoundManager._soundClass());\r\n\t\tvar _this=this;\r\n\t\tsound.on(/*laya.events.Event.COMPLETE*/\"complete\",this,soundOnload);\r\n\t\tsound.on(/*laya.events.Event.ERROR*/\"error\",this,soundOnErr);\r\n\t\tsound.load(url);\r\n\t\tfunction soundOnload (){\r\n\t\t\tclear();\r\n\t\t\t_this.onLoaded(sound);\r\n\t\t}\r\n\t\tfunction soundOnErr (){\r\n\t\t\tclear();\r\n\t\t\tsound.dispose();\r\n\t\t\t_this.event(/*laya.events.Event.ERROR*/\"error\",\"Load sound failed\");\r\n\t\t}\r\n\t\tfunction clear (){\r\n\t\t\tsound.offAll();\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.onProgress=function(value){\r\n\t\tif (this._type===\"atlas\")this.event(/*laya.events.Event.PROGRESS*/\"progress\",value *0.3);\r\n\t\telse this.event(/*laya.events.Event.PROGRESS*/\"progress\",value);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.onError=function(message){\r\n\t\tthis.event(/*laya.events.Event.ERROR*/\"error\",message);\r\n\t}\r\n\r\n\t/**\r\n\t*资源加载完成的处理函数。\r\n\t*@param data 数据。\r\n\t*/\r\n\t__proto.onLoaded=function(data){\r\n\t\tvar type=this._type;\r\n\t\tif (type==\"plf\"){\r\n\t\t\tthis.parsePLFData(data);\r\n\t\t\tthis.complete(data);\r\n\t\t}else\r\n\t\tif (type===\"image\"){\r\n\t\t\tvar tex=new Texture(data);\r\n\t\t\ttex.url=this._url;\r\n\t\t\tthis.complete(tex);\r\n\t\t\t}else if (type===\"sound\" || type===\"htmlimage\" || type===\"nativeimage\"){\r\n\t\t\tthis.complete(data);\r\n\t\t\t}else if (type===\"atlas\"){\r\n\t\t\tif (!data.src && !data._setContext){\r\n\t\t\t\tif (!this._data){\r\n\t\t\t\t\tthis._data=data;\r\n\t\t\t\t\tif (data.meta && data.meta.image){\r\n\t\t\t\t\t\tvar toloadPics=data.meta.image.split(\",\");\r\n\t\t\t\t\t\tvar split=this._url.indexOf(\"/\")>=0 ? \"/\" :\"\\\\\";\r\n\t\t\t\t\t\tvar idx=this._url.lastIndexOf(split);\r\n\t\t\t\t\t\tvar folderPath=idx >=0 ? this._url.substr(0,idx+1):\"\";\r\n\t\t\t\t\t\tfor (var i=0,len=toloadPics.length;i < len;i++){\r\n\t\t\t\t\t\t\ttoloadPics[i]=folderPath+toloadPics[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\ttoloadPics=[this._url.replace(\".json\",\".png\")];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttoloadPics.reverse();\r\n\t\t\t\t\tdata.toLoads=toloadPics;\r\n\t\t\t\t\tdata.pics=[];\r\n\t\t\t\t}\r\n\t\t\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",0.3+1 / toloadPics.length *0.6);\r\n\t\t\t\treturn this._loadImage(toloadPics.pop());\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._data.pics.push(data);\r\n\t\t\t\tif (this._data.toLoads.length > 0){\r\n\t\t\t\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",0.3+1 / this._data.toLoads.length *0.6);\r\n\t\t\t\t\treturn this._loadImage(this._data.toLoads.pop());\r\n\t\t\t\t};\r\n\t\t\t\tvar frames=this._data.frames;\r\n\t\t\t\tvar cleanUrl=this._url.split(\"?\")[0];\r\n\t\t\t\tvar directory=(this._data.meta && this._data.meta.prefix)? this._data.meta.prefix :cleanUrl.substring(0,cleanUrl.lastIndexOf(\".\"))+\"/\";\r\n\t\t\t\tvar pics=this._data.pics;\r\n\t\t\t\tvar atlasURL=URL.formatURL(this._url);\r\n\t\t\t\tvar map=Loader.atlasMap[atlasURL] || (Loader.atlasMap[atlasURL]=[]);\r\n\t\t\t\tmap.dir=directory;\r\n\t\t\t\tvar scaleRate=1;\r\n\t\t\t\tif (this._data.meta && this._data.meta.scale && this._data.meta.scale !=1){\r\n\t\t\t\t\tscaleRate=parseFloat(this._data.meta.scale);\r\n\t\t\t\t\tfor (var name in frames){\r\n\t\t\t\t\t\tvar obj=frames[name];\r\n\t\t\t\t\t\tvar tPic=pics[obj.frame.idx ? obj.frame.idx :0];\r\n\t\t\t\t\t\tvar url=URL.formatURL(directory+name);\r\n\t\t\t\t\t\ttPic.scaleRate=scaleRate;\r\n\t\t\t\t\t\tLoader.cacheRes(url,Texture.create(tPic,obj.frame.x,obj.frame.y,obj.frame.w,obj.frame.h,obj.spriteSourceSize.x,obj.spriteSourceSize.y,obj.sourceSize.w,obj.sourceSize.h));\r\n\t\t\t\t\t\tLoader.loadedMap[url].url=url;\r\n\t\t\t\t\t\tmap.push(url);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tfor (name in frames){\r\n\t\t\t\t\t\tobj=frames[name];\r\n\t\t\t\t\t\ttPic=pics[obj.frame.idx ? obj.frame.idx :0];\r\n\t\t\t\t\t\turl=URL.formatURL(directory+name);\r\n\t\t\t\t\t\tLoader.cacheRes(url,Texture.create(tPic,obj.frame.x,obj.frame.y,obj.frame.w,obj.frame.h,obj.spriteSourceSize.x,obj.spriteSourceSize.y,obj.sourceSize.w,obj.sourceSize.h));\r\n\t\t\t\t\t\tLoader.loadedMap[url].url=url;\r\n\t\t\t\t\t\tmap.push(url);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._data.pics;\r\n\t\t\t\tthis.complete(this._data);\r\n\t\t\t}\r\n\t\t\t}else if (type==\"font\"){\r\n\t\t\tif (!data.src){\r\n\t\t\t\tthis._data=data;\r\n\t\t\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",0.5);\r\n\t\t\t\treturn this._loadImage(this._url.replace(\".fnt\",\".png\"));\r\n\t\t\t\t}else {\r\n\t\t\t\tvar bFont=new BitmapFont();\r\n\t\t\t\tbFont.parseFont(this._data,data);\r\n\t\t\t\tvar tArr=this._url.split(\".fnt\")[0].split(\"/\");\r\n\t\t\t\tvar fontName=tArr[tArr.length-1];\r\n\t\t\t\tText.registerBitmapFont(fontName,bFont);\r\n\t\t\t\tthis._data=bFont;\r\n\t\t\t\tthis.complete(this._data);\r\n\t\t\t}\r\n\t\t\t}else if (type==\"pkm\"){\r\n\t\t\tvar image=HTMLImage.create(data,this._url);\r\n\t\t\tvar tex1=new Texture(image);\r\n\t\t\ttex1.url=this._url;\r\n\t\t\tthis.complete(tex1);\r\n\t\t\t}else {\r\n\t\t\tthis.complete(data);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.parsePLFData=function(plfData){\r\n\t\tvar type;\r\n\t\tvar filePath;\r\n\t\tvar fileDic;\r\n\t\tfor (type in plfData){\r\n\t\t\tfileDic=plfData[type];\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"json\":\r\n\t\t\t\tcase \"text\":\r\n\t\t\t\t\tfor (filePath in fileDic){\r\n\t\t\t\t\t\tLoader.preLoadedMap[URL.formatURL(filePath)]=fileDic[filePath]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tfor (filePath in fileDic){\r\n\t\t\t\t\t\tLoader.preLoadedMap[URL.formatURL(filePath)]=fileDic[filePath]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*加载完成。\r\n\t*@param data 加载的数据。\r\n\t*/\r\n\t__proto.complete=function(data){\r\n\t\tthis._data=data;\r\n\t\tif (this._customParse){\r\n\t\t\tthis.event(/*laya.events.Event.LOADED*/\"loaded\",(data instanceof Array)? [data] :data);\r\n\t\t\t}else {\r\n\t\t\tLoader._loaders.push(this);\r\n\t\t\tif (!Loader._isWorking)Loader.checkNext();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*结束加载，处理是否缓存及派发完成事件 <code>Event.COMPLETE</code> 。\r\n\t*@param content 加载后的数据\r\n\t*/\r\n\t__proto.endLoad=function(content){\r\n\t\tcontent && (this._data=content);\r\n\t\tif (this._cache)Loader.cacheRes(this._url,this._data);\r\n\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",1);\r\n\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\",(this.data instanceof Array)? [this.data] :this.data);\r\n\t}\r\n\r\n\t/**加载地址。*/\r\n\t__getset(0,__proto,'url',function(){\r\n\t\treturn this._url;\r\n\t});\r\n\r\n\t/**返回的数据。*/\r\n\t__getset(0,__proto,'data',function(){\r\n\t\treturn this._data;\r\n\t});\r\n\r\n\t/**是否缓存。*/\r\n\t__getset(0,__proto,'cache',function(){\r\n\t\treturn this._cache;\r\n\t});\r\n\r\n\t/**加载类型。*/\r\n\t__getset(0,__proto,'type',function(){\r\n\t\treturn this._type;\r\n\t});\r\n\r\n\tLoader.checkNext=function(){\r\n\t\tLoader._isWorking=true;\r\n\t\tvar startTimer=Browser.now();\r\n\t\tvar thisTimer=startTimer;\r\n\t\twhile (Loader._startIndex < Loader._loaders.length){\r\n\t\t\tthisTimer=Browser.now();\r\n\t\t\tLoader._loaders[Loader._startIndex].endLoad();\r\n\t\t\tLoader._startIndex++;\r\n\t\t\tif (Browser.now()-startTimer > Loader.maxTimeOut){\r\n\t\t\t\tconsole.warn(\"loader callback cost a long time:\"+(Browser.now()-startTimer)+\" url=\"+Loader._loaders[Loader._startIndex-1].url);\r\n\t\t\t\tLaya.timer.frameOnce(1,null,Loader.checkNext);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tLoader._loaders.length=0;\r\n\t\tLoader._startIndex=0;\r\n\t\tLoader._isWorking=false;\r\n\t}\r\n\r\n\tLoader.clearRes=function(url,forceDispose){\r\n\t\t(forceDispose===void 0)&& (forceDispose=false);\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar arr=Loader.getAtlas(url);\r\n\t\tif (arr){\r\n\t\t\tfor (var i=0,n=arr.length;i < n;i++){\r\n\t\t\t\tvar resUrl=arr[i];\r\n\t\t\t\tvar tex=Loader.getRes(resUrl);\r\n\t\t\t\tdelete Loader.loadedMap[resUrl];\r\n\t\t\t\tif (tex)tex.destroy(forceDispose);\r\n\t\t\t}\r\n\t\t\tarr.length=0;\r\n\t\t\tdelete Loader.atlasMap[url];\r\n\t\t\tdelete Loader.loadedMap[url];\r\n\t\t\t}else {\r\n\t\t\tvar res=Loader.loadedMap[url];\r\n\t\t\tif (res){\r\n\t\t\t\tdelete Loader.loadedMap[url];\r\n\t\t\t\tif ((res instanceof laya.resource.Texture )&& res.bitmap)(res).destroy(forceDispose);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tLoader.clearTextureRes=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tvar arr=laya.net.Loader.getAtlas(url);\r\n\t\tvar res=(arr && arr.length>0)? laya.net.Loader.getRes(arr[0]):laya.net.Loader.getRes(url);\r\n\t\tif (res && res.bitmap){\r\n\t\t\tif (Render.isConchApp){\r\n\t\t\t\tif (res.bitmap.source.releaseTexture){\r\n\t\t\t\t\tres.bitmap.source.releaseTexture();\r\n\t\t\t\t}\r\n\t\t\t\t}else if (res.bitmap._atlaser==null){\r\n\t\t\t\tres.bitmap.releaseResource(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tLoader.getRes=function(url){\r\n\t\treturn Loader.loadedMap[URL.formatURL(url)];\r\n\t}\r\n\r\n\tLoader.getAtlas=function(url){\r\n\t\treturn Loader.atlasMap[URL.formatURL(url)];\r\n\t}\r\n\r\n\tLoader.cacheRes=function(url,data){\r\n\t\turl=URL.formatURL(url);\r\n\t\tif (Loader.loadedMap[url] !=null){\r\n\t\t\tconsole.warn(\"Resources already exist,is repeated loading:\",url);\r\n\t\t\t}else {\r\n\t\t\tLoader.loadedMap[url]=data;\r\n\t\t}\r\n\t}\r\n\r\n\tLoader.setGroup=function(url,group){\r\n\t\tif (!Loader.groupMap[group])Loader.groupMap[group]=[];\r\n\t\tLoader.groupMap[group].push(url);\r\n\t}\r\n\r\n\tLoader.clearResByGroup=function(group){\r\n\t\tif (!Loader.groupMap[group])return;\r\n\t\tvar arr=Loader.groupMap[group],i=0,len=arr.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tLoader.clearRes(arr[i]);\r\n\t\t}\r\n\t\tarr.length=0;\r\n\t}\r\n\r\n\tLoader.TEXT=\"text\";\r\n\tLoader.JSON=\"json\";\r\n\tLoader.XML=\"xml\";\r\n\tLoader.BUFFER=\"arraybuffer\";\r\n\tLoader.IMAGE=\"image\";\r\n\tLoader.SOUND=\"sound\";\r\n\tLoader.ATLAS=\"atlas\";\r\n\tLoader.FONT=\"font\";\r\n\tLoader.TTF=\"ttf\";\r\n\tLoader.PLF=\"plf\";\r\n\tLoader.PKM=\"pkm\";\r\n\tLoader.typeMap={\"png\":\"image\",\"jpg\":\"image\",\"jpeg\":\"image\",\"txt\":\"text\",\"json\":\"json\",\"xml\":\"xml\",\"als\":\"atlas\",\"atlas\":\"atlas\",\"mp3\":\"sound\",\"ogg\":\"sound\",\"wav\":\"sound\",\"part\":\"json\",\"fnt\":\"font\",\"pkm\":\"pkm\",\"ttf\":\"ttf\",\"plf\":\"plf\"};\r\n\tLoader.parserMap={};\r\n\tLoader.groupMap={};\r\n\tLoader.maxTimeOut=100;\r\n\tLoader.loadedMap={};\r\n\tLoader.preLoadedMap={};\r\n\tLoader.atlasMap={};\r\n\tLoader._loaders=[];\r\n\tLoader._isWorking=false;\r\n\tLoader._startIndex=0;\r\n\tLoader.imgCache={};\r\n\treturn Loader;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<p> <code>LoaderManager</code> 类用于用于批量加载资源。此类是单例，不要手动实例化此类，请通过Laya.loader访问。</p>\r\n*<p>全部队列加载完成，会派发 Event.COMPLETE 事件；如果队列中任意一个加载失败，会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>\r\n*<p> <code>LoaderManager</code> 类提供了以下几种功能：<br/>\r\n*多线程：默认5个加载线程，可以通过maxLoader属性修改线程数量；<br/>\r\n*多优先级：有0-4共5个优先级，优先级高的优先加载。0最高，4最低；<br/>\r\n*重复过滤：自动过滤重复加载（不会有多个相同地址的资源同时加载）以及复用缓存资源，防止重复加载；<br/>\r\n*错误重试：资源加载失败后，会重试加载（以最低优先级插入加载队列），retryNum设定加载失败后重试次数，retryDelay设定加载重试的时间间隔。</p>\r\n*@see laya.net.Loader\r\n*/\r\n//class laya.net.LoaderManager extends laya.events.EventDispatcher\r\nvar LoaderManager=(function(_super){\r\n\tvar ResInfo;\r\n\tfunction LoaderManager(){\r\n\t\t/**加载出错后的重试次数，默认重试一次*/\r\n\t\tthis.retryNum=1;\r\n\t\t/**延迟时间多久再进行错误重试，默认立即重试*/\r\n\t\tthis.retryDelay=0;\r\n\t\t/**最大下载线程，默认为5个*/\r\n\t\tthis.maxLoader=5;\r\n\t\t/**@private */\r\n\t\tthis._loaders=[];\r\n\t\t/**@private */\r\n\t\tthis._loaderCount=0;\r\n\t\t/**@private */\r\n\t\tthis._resInfos=[];\r\n\t\t/**@private */\r\n\t\tthis._infoPool=[];\r\n\t\t/**@private */\r\n\t\tthis._maxPriority=5;\r\n\t\t/**@private */\r\n\t\tthis._failRes={};\r\n\t\tLoaderManager.__super.call(this);\r\n\t\tfor (var i=0;i < this._maxPriority;i++)this._resInfos[i]=[];\r\n\t}\r\n\r\n\t__class(LoaderManager,'laya.net.LoaderManager',_super);\r\n\tvar __proto=LoaderManager.prototype;\r\n\t/**\r\n\t*<p>根据clas类型创建一个未初始化资源的对象，随后进行异步加载，资源加载完成后，初始化对象的资源，并通过此对象派发 Event.LOADED 事件，事件回调参数值为此对象本身。套嵌资源的子资源会保留资源路径\"?\"后的部分。</p>\r\n\t*<p>如果url为数组，返回true；否则返回指定的资源类对象，可以通过侦听此对象的 Event.LOADED 事件来判断资源是否已经加载完毕。</p>\r\n\t*<p><b>注意：</b>cache参数只能对文件后缀为atlas的资源进行缓存控制，其他资源会忽略缓存，强制重新加载。</p>\r\n\t*@param url 资源地址或者数组。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：[{url:xx,clas:xx,priority:xx,params:xx},{url:xx,clas:xx,priority:xx,params:xx}]。\r\n\t*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。\r\n\t*@param progress 资源加载进度回调，回调参数值为当前资源加载的进度信息(0-1)。\r\n\t*@param clas 资源类名。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：Texture。\r\n\t*@param params 资源构造参数。\r\n\t*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。\r\n\t*@param cache 是否缓存加载的资源。\r\n\t*@return 如果url为数组，返回true；否则返回指定的资源类对象。\r\n\t*/\r\n\t__proto.create=function(url,complete,progress,clas,params,priority,cache,group){\r\n\t\t(priority===void 0)&& (priority=1);\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\tif ((url instanceof Array)){\r\n\t\t\tvar items=url;\r\n\t\t\tvar itemCount=items.length;\r\n\t\t\tvar loadedCount=0;\r\n\t\t\tif (progress){\r\n\t\t\t\tvar progress2=Handler.create(progress.caller,progress.method,progress.args,false);\r\n\t\t\t}\r\n\t\t\tfor (var i=0;i < itemCount;i++){\r\n\t\t\t\tvar item=items[i];\r\n\t\t\t\tif ((typeof item=='string'))\r\n\t\t\t\t\titem=items[i]={url:item};\r\n\t\t\t\titem.progress=0;\r\n\t\t\t}\r\n\t\t\tfor (i=0;i < itemCount;i++){\r\n\t\t\t\titem=items[i];\r\n\t\t\t\tvar progressHandler=progress ? Handler.create(null,onProgress,[item],false):null;\r\n\t\t\t\tvar completeHandler=(progress || complete)? Handler.create(null,onComplete,[item]):null;\r\n\t\t\t\tthis._create(item.url,completeHandler,progressHandler,item.clas || clas,item.params || params,item.priority || priority,cache,item.group || group);\r\n\t\t\t}\r\n\t\t\tfunction onComplete (item,content){\r\n\t\t\t\tloadedCount++;\r\n\t\t\t\titem.progress=1;\r\n\t\t\t\tif (loadedCount===itemCount && complete){\r\n\t\t\t\t\tcomplete.run();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction onProgress (item,value){\r\n\t\t\t\titem.progress=value;\r\n\t\t\t\tvar num=0;\r\n\t\t\t\tfor (var j=0;j < itemCount;j++){\r\n\t\t\t\t\tvar item1=items[j];\r\n\t\t\t\t\tnum+=item1.progress;\r\n\t\t\t\t};\r\n\t\t\t\tvar v=num / itemCount;\r\n\t\t\t\tprogress2.runWith(v);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}else return this._create(url,complete,progress,clas,params,priority,cache,group);\r\n\t}\r\n\r\n\t__proto._create=function(url,complete,progress,clas,params,priority,cache,group){\r\n\t\t(priority===void 0)&& (priority=1);\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\tvar formarUrl=URL.formatURL(url);\r\n\t\tvar item=this.getRes(formarUrl);\r\n\t\tif (!item){\r\n\t\t\tvar extension=Utils.getFileExtension(url);\r\n\t\t\tvar creatItem=LoaderManager.createMap[extension];\r\n\t\t\tif (!creatItem)\r\n\t\t\t\tthrow new Error(\"LoaderManager:unknown file(\"+url+\") extension with: \"+extension+\".\");\r\n\t\t\tif (!clas)clas=creatItem[0];\r\n\t\t\tvar type=creatItem[1];\r\n\t\t\tif (extension==\"atlas\"){\r\n\t\t\t\tthis.load(url,complete,progress,type,priority,cache);\r\n\t\t\t\t}else {\r\n\t\t\t\tif (clas===Texture)type=\"htmlimage\";\r\n\t\t\t\titem=clas ? new clas():null;\r\n\t\t\t\tif (item.hasOwnProperty(\"_loaded\"))\r\n\t\t\t\t\titem._loaded=false;\r\n\t\t\t\titem._setUrl(url);\r\n\t\t\t\t(group)&& (item._setGroup(group));\r\n\t\t\t\tthis._createLoad(item,url,Handler.create(null,onLoaded),progress,type,priority,false,group,true);\r\n\t\t\t\tfunction onLoaded (data){\r\n\t\t\t\t\t(item && !item.destroyed && data)&& (item.onAsynLoaded.call(item,url,data,params));\r\n\t\t\t\t\tif (complete)complete.run();\r\n\t\t\t\t\tLaya.loader.event(url);\r\n\t\t\t\t}\r\n\t\t\t\t(cache)&& (this.cacheRes(formarUrl,item));\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tif (!item.hasOwnProperty(\"loaded\")|| item.loaded){\r\n\t\t\t\tprogress && progress.runWith(1);\r\n\t\t\t\tcomplete && complete.run();\r\n\t\t\t\t}else if (complete){\r\n\t\t\t\tLaya.loader._createListener(url,complete.caller,complete.method,complete.args,true,false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn item;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>加载资源。资源加载错误时，本对象会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>\r\n\t*<p>因为返回值为 LoaderManager 对象本身，所以可以使用如下语法：Laya.loader.load(...).load(...);</p>\r\n\t*@param url 要加载的单个资源地址或资源信息数组。比如：简单数组：[\"a.png\",\"b.png\"]；复杂数组[{url:\"a.png\",type:Loader.IMAGE,size:100,priority:1},{url:\"b.json\",type:Loader.JSON,size:50,priority:1}]。\r\n\t*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。\r\n\t*@param progress 加载进度回调。回调参数值为当前资源的加载进度信息(0-1)。\r\n\t*@param type 资源类型。比如：Loader.IMAGE。\r\n\t*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。\r\n\t*@param cache 是否缓存加载结果。\r\n\t*@param group 分组，方便对资源进行管理。\r\n\t*@param ignoreCache 是否忽略缓存，强制重新加载。\r\n\t*@return 此 LoaderManager 对象本身。\r\n\t*/\r\n\t__proto.load=function(url,complete,progress,type,priority,cache,group,ignoreCache){\r\n\t\tvar _$this=this;\r\n\t\t(priority===void 0)&& (priority=1);\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\t(ignoreCache===void 0)&& (ignoreCache=false);\r\n\t\tif ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);\r\n\t\tvar content=Loader.getRes(url);\r\n\t\tif (content !=null){\r\n\t\t\tLaya.timer.frameOnce(1,null,function(){\r\n\t\t\t\tprogress && progress.runWith(1);\r\n\t\t\t\tcomplete && complete.runWith(content);\r\n\t\t\t\t_$this._loaderCount || _$this.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t});\r\n\t\t\t}else {\r\n\t\t\tvar info=LoaderManager._resMap[url];\r\n\t\t\tif (!info){\r\n\t\t\t\tinfo=this._infoPool.length ? this._infoPool.pop():new ResInfo();\r\n\t\t\t\tinfo.url=url;\r\n\t\t\t\tinfo.type=type;\r\n\t\t\t\tinfo.cache=cache;\r\n\t\t\t\tinfo.group=group;\r\n\t\t\t\tinfo.ignoreCache=ignoreCache;\r\n\t\t\t\tcomplete && info.on(/*laya.events.Event.COMPLETE*/\"complete\",complete.caller,complete.method,complete.args);\r\n\t\t\t\tprogress && info.on(/*laya.events.Event.PROGRESS*/\"progress\",progress.caller,progress.method,progress.args);\r\n\t\t\t\tLoaderManager._resMap[url]=info;\r\n\t\t\t\tpriority=priority < this._maxPriority ? priority :this._maxPriority-1;\r\n\t\t\t\tthis._resInfos[priority].push(info);\r\n\t\t\t\tthis._next();\r\n\t\t\t\t}else {\r\n\t\t\t\tcomplete && info._createListener(/*laya.events.Event.COMPLETE*/\"complete\",complete.caller,complete.method,complete.args,false,false);\r\n\t\t\t\tprogress && info._createListener(/*laya.events.Event.PROGRESS*/\"progress\",progress.caller,progress.method,progress.args,false,false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._createLoad=function(item,url,complete,progress,type,priority,cache,group,ignoreCache){\r\n\t\tvar _$this=this;\r\n\t\t(priority===void 0)&& (priority=1);\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\t(ignoreCache===void 0)&& (ignoreCache=false);\r\n\t\tif ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);\r\n\t\tvar content=Loader.getRes(url);\r\n\t\tif (content !=null){\r\n\t\t\tLaya.timer.frameOnce(1,null,function(){\r\n\t\t\t\tprogress && progress.runWith(1);\r\n\t\t\t\tcomplete && complete.runWith(content);\r\n\t\t\t\t_$this._loaderCount || _$this.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t});\r\n\t\t\t}else {\r\n\t\t\tvar info=LoaderManager._resMap[url];\r\n\t\t\tif (!info){\r\n\t\t\t\tinfo=this._infoPool.length ? this._infoPool.pop():new ResInfo();\r\n\t\t\t\tinfo.url=url;\r\n\t\t\t\tinfo.clas=item;\r\n\t\t\t\tinfo.type=type;\r\n\t\t\t\tinfo.cache=cache;\r\n\t\t\t\tinfo.group=group;\r\n\t\t\t\tinfo.ignoreCache=ignoreCache;\r\n\t\t\t\tcomplete && info.on(/*laya.events.Event.COMPLETE*/\"complete\",complete.caller,complete.method,complete.args);\r\n\t\t\t\tprogress && info.on(/*laya.events.Event.PROGRESS*/\"progress\",progress.caller,progress.method,progress.args);\r\n\t\t\t\tLoaderManager._resMap[url]=info;\r\n\t\t\t\tpriority=priority < this._maxPriority ? priority :this._maxPriority-1;\r\n\t\t\t\tthis._resInfos[priority].push(info);\r\n\t\t\t\tthis._next();\r\n\t\t\t\t}else {\r\n\t\t\t\tcomplete && info._createListener(/*laya.events.Event.COMPLETE*/\"complete\",complete.caller,complete.method,complete.args,false,false);\r\n\t\t\t\tprogress && info._createListener(/*laya.events.Event.PROGRESS*/\"progress\",progress.caller,progress.method,progress.args,false,false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto._next=function(){\r\n\t\tif (this._loaderCount >=this.maxLoader)return;\r\n\t\tfor (var i=0;i < this._maxPriority;i++){\r\n\t\t\tvar infos=this._resInfos[i];\r\n\t\t\twhile (infos.length > 0){\r\n\t\t\t\tvar info=infos.shift();\r\n\t\t\t\tif (info)return this._doLoad(info);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._loaderCount || this.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t}\r\n\r\n\t__proto._doLoad=function(resInfo){\r\n\t\tthis._loaderCount++;\r\n\t\tvar loader=this._loaders.length ? this._loaders.pop():new Loader();\r\n\t\tloader.on(/*laya.events.Event.COMPLETE*/\"complete\",null,onLoaded);\r\n\t\tloader.on(/*laya.events.Event.PROGRESS*/\"progress\",null,function(num){\r\n\t\t\tresInfo.event(/*laya.events.Event.PROGRESS*/\"progress\",num);\r\n\t\t});\r\n\t\tloader.on(/*laya.events.Event.ERROR*/\"error\",null,function(msg){\r\n\t\t\tonLoaded(null);\r\n\t\t});\r\n\t\tvar _this=this;\r\n\t\tfunction onLoaded (data){\r\n\t\t\tloader.offAll();\r\n\t\t\tloader._data=null;\r\n\t\t\tloader._customParse=false;\r\n\t\t\t_this._loaders.push(loader);\r\n\t\t\t_this._endLoad(resInfo,(data instanceof Array)? [data] :data);\r\n\t\t\t_this._loaderCount--;\r\n\t\t\t_this._next();\r\n\t\t}\r\n\t\tloader._class=resInfo.clas;\r\n\t\tloader.load(resInfo.url,resInfo.type,resInfo.cache,resInfo.group,resInfo.ignoreCache);\r\n\t}\r\n\r\n\t__proto._endLoad=function(resInfo,content){\r\n\t\tvar url=resInfo.url;\r\n\t\tif (content==null){\r\n\t\t\tvar errorCount=this._failRes[url] || 0;\r\n\t\t\tif (errorCount < this.retryNum){\r\n\t\t\t\tconsole.warn(\"[warn]Retry to load:\",url);\r\n\t\t\t\tthis._failRes[url]=errorCount+1;\r\n\t\t\t\tLaya.timer.once(this.retryDelay,this,this._addReTry,[resInfo],false);\r\n\t\t\t\treturn;\r\n\t\t\t\t}else {\r\n\t\t\t\tconsole.warn(\"[error]Failed to load:\",url);\r\n\t\t\t\tthis.event(/*laya.events.Event.ERROR*/\"error\",url);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._failRes[url])this._failRes[url]=0;\r\n\t\tdelete LoaderManager._resMap[url];\r\n\t\tresInfo.event(/*laya.events.Event.COMPLETE*/\"complete\",content);\r\n\t\tresInfo.offAll();\r\n\t\tthis._infoPool.push(resInfo);\r\n\t}\r\n\r\n\t__proto._addReTry=function(resInfo){\r\n\t\tthis._resInfos[this._maxPriority-1].push(resInfo);\r\n\t\tthis._next();\r\n\t}\r\n\r\n\t/**\r\n\t*清理指定资源地址缓存。\r\n\t*@param url 资源地址。\r\n\t*@param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false\r\n\t*/\r\n\t__proto.clearRes=function(url,forceDispose){\r\n\t\t(forceDispose===void 0)&& (forceDispose=false);\r\n\t\tLoader.clearRes(url,forceDispose);\r\n\t}\r\n\r\n\t/**\r\n\t*获取指定资源地址的资源。\r\n\t*@param url 资源地址。\r\n\t*@return 返回资源。\r\n\t*/\r\n\t__proto.getRes=function(url){\r\n\t\treturn Loader.getRes(url);\r\n\t}\r\n\r\n\t/**\r\n\t*缓存资源。\r\n\t*@param url 资源地址。\r\n\t*@param data 要缓存的内容。\r\n\t*/\r\n\t__proto.cacheRes=function(url,data){\r\n\t\tLoader.cacheRes(url,data);\r\n\t}\r\n\r\n\t/**\r\n\t*销毁Texture使用的图片资源，保留texture壳，如果下次渲染的时候，发现texture使用的图片资源不存在，则会自动恢复\r\n\t*相比clearRes，clearTextureRes只是清理texture里面使用的图片资源，并不销毁texture，再次使用到的时候会自动恢复图片资源\r\n\t*而clearRes会彻底销毁texture，导致不能再使用；clearTextureRes能确保立即销毁图片资源，并且不用担心销毁错误，clearRes则采用引用计数方式销毁\r\n\t*【注意】如果图片本身在自动合集里面（默认图片小于512*512），内存是不能被销毁的，此图片被大图合集管理器管理\r\n\t*@param url 图集地址或者texture地址，比如 Loader.clearTextureRes(\"res/atlas/comp.atlas\");Loader.clearTextureRes(\"hall/bg.jpg\");\r\n\t*/\r\n\t__proto.clearTextureRes=function(url){\r\n\t\tLoader.clearTextureRes(url);\r\n\t}\r\n\r\n\t/**\r\n\t*设置资源分组。\r\n\t*@param url 资源地址。\r\n\t*@param group 分组名\r\n\t*/\r\n\t__proto.setGroup=function(url,group){\r\n\t\tLoader.setGroup(url,group);\r\n\t}\r\n\r\n\t/**\r\n\t*根据分组清理资源。\r\n\t*@param group 分组名\r\n\t*/\r\n\t__proto.clearResByGroup=function(group){\r\n\t\tLoader.clearResByGroup(group);\r\n\t}\r\n\r\n\t/**清理当前未完成的加载，所有未加载的内容全部停止加载。*/\r\n\t__proto.clearUnLoaded=function(){\r\n\t\tfor (var i=0;i < this._maxPriority;i++){\r\n\t\t\tvar infos=this._resInfos[i];\r\n\t\t\tfor (var j=infos.length-1;j >-1;j--){\r\n\t\t\t\tvar info=infos[j];\r\n\t\t\t\tif (info){\r\n\t\t\t\t\tinfo.offAll();\r\n\t\t\t\t\tthis._infoPool.push(info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinfos.length=0;\r\n\t\t}\r\n\t\tthis._loaderCount=0;\r\n\t\tLoaderManager._resMap={};\r\n\t}\r\n\r\n\t/**\r\n\t*根据地址集合清理掉未加载的内容\r\n\t*@param urls 资源地址集合\r\n\t*/\r\n\t__proto.cancelLoadByUrls=function(urls){\r\n\t\tif (!urls)return;\r\n\t\tfor (var i=0,n=urls.length;i < n;i++){\r\n\t\t\tthis.cancelLoadByUrl(urls[i]);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*根据地址清理掉未加载的内容\r\n\t*@param url 资源地址\r\n\t*/\r\n\t__proto.cancelLoadByUrl=function(url){\r\n\t\tfor (var i=0;i < this._maxPriority;i++){\r\n\t\t\tvar infos=this._resInfos[i];\r\n\t\t\tfor (var j=infos.length-1;j >-1;j--){\r\n\t\t\t\tvar info=infos[j];\r\n\t\t\t\tif (info && info.url===url){\r\n\t\t\t\t\tinfos[j]=null;\r\n\t\t\t\t\tinfo.offAll();\r\n\t\t\t\t\tthis._infoPool.push(info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (LoaderManager._resMap[url])delete LoaderManager._resMap[url];\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*加载数组里面的资源。\r\n\t*@param arr 简单：[\"a.png\",\"b.png\"]，复杂[{url:\"a.png\",type:Loader.IMAGE,size:100,priority:1},{url:\"b.json\",type:Loader.JSON,size:50,priority:1}]*/\r\n\t__proto._loadAssets=function(arr,complete,progress,type,priority,cache,group){\r\n\t\t(priority===void 0)&& (priority=1);\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\tvar itemCount=arr.length;\r\n\t\tvar loadedCount=0;\r\n\t\tvar totalSize=0;\r\n\t\tvar items=[];\r\n\t\tvar success=true;\r\n\t\tfor (var i=0;i < itemCount;i++){\r\n\t\t\tvar item=arr[i];\r\n\t\t\tif ((typeof item=='string'))item={url:item,type:type,size:1,priority:priority};\r\n\t\t\tif (!item.size)item.size=1;\r\n\t\t\titem.progress=0;\r\n\t\t\ttotalSize+=item.size;\r\n\t\t\titems.push(item);\r\n\t\t\tvar progressHandler=progress ? Handler.create(null,loadProgress,[item],false):null;\r\n\t\t\tvar completeHandler=(complete || progress)? Handler.create(null,loadComplete,[item]):null;\r\n\t\t\tthis.load(item.url,completeHandler,progressHandler,item.type,item.priority || 1,cache,item.group || group);\r\n\t\t}\r\n\t\tfunction loadComplete (item,content){\r\n\t\t\tloadedCount++;\r\n\t\t\titem.progress=1;\r\n\t\t\tif (!content)success=false;\r\n\t\t\tif (loadedCount===itemCount && complete){\r\n\t\t\t\tcomplete.runWith(success);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction loadProgress (item,value){\r\n\t\t\tif (progress !=null){\r\n\t\t\t\titem.progress=value;\r\n\t\t\t\tvar num=0;\r\n\t\t\t\tfor (var j=0;j < items.length;j++){\r\n\t\t\t\t\tvar item1=items[j];\r\n\t\t\t\t\tnum+=item1.size *item1.progress;\r\n\t\t\t\t};\r\n\t\t\t\tvar v=num / totalSize;\r\n\t\t\t\tprogress.runWith(v);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tLoaderManager.cacheRes=function(url,data){\r\n\t\tLoader.cacheRes(url,data);\r\n\t}\r\n\r\n\tLoaderManager._resMap={};\r\n\t__static(LoaderManager,\r\n\t['createMap',function(){return this.createMap={atlas:[null,/*laya.net.Loader.ATLAS*/\"atlas\"]};}\r\n\t]);\r\n\tLoaderManager.__init$=function(){\r\n\t\t//class ResInfo extends laya.events.EventDispatcher\r\n\t\tResInfo=(function(_super){\r\n\t\t\tfunction ResInfo(){\r\n\t\t\t\tthis.url=null;\r\n\t\t\t\tthis.type=null;\r\n\t\t\t\tthis.cache=false;\r\n\t\t\t\tthis.group=null;\r\n\t\t\t\tthis.ignoreCache=false;\r\n\t\t\t\tthis.clas=null;\r\n\t\t\t\tResInfo.__super.call(this);\r\n\t\t\t}\r\n\t\t\t__class(ResInfo,'',_super);\r\n\t\t\treturn ResInfo;\r\n\t\t})(EventDispatcher)\r\n\t}\r\n\r\n\treturn LoaderManager;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<p><code>ColorFilter</code> 是颜色滤镜。使用 ColorFilter 类可以将 4 x 5 矩阵转换应用于输入图像上的每个像素的 RGBA 颜色和 Alpha 值，以生成具有一组新的 RGBA 颜色和 Alpha 值的结果。该类允许饱和度更改、色相旋转、亮度转 Alpha 以及各种其他效果。您可以将滤镜应用于任何显示对象（即，从 Sprite 类继承的对象）。</p>\r\n*<p>注意：对于 RGBA 值，最高有效字节代表红色通道值，其后的有效字节分别代表绿色、蓝色和 Alpha 通道值。</p>\r\n*/\r\n//class laya.filters.ColorFilter extends laya.filters.Filter\r\nvar ColorFilter=(function(_super){\r\n\tfunction ColorFilter(mat){\r\n\t\t/**@private */\r\n\t\t//this._mat=null;\r\n\t\t/**@private */\r\n\t\t//this._alpha=null;\r\n\t\tColorFilter.__super.call(this);\r\n\t\tif (!mat){\r\n\t\t\tmat=[0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0,0,0,1,0];\r\n\t\t}\r\n\t\tthis._mat=new Float32Array(16);\r\n\t\tthis._alpha=new Float32Array(4);\r\n\t\tvar j=0;\r\n\t\tvar z=0;\r\n\t\tfor (var i=0;i < 20;i++){\r\n\t\t\tif (i % 5 !=4){\r\n\t\t\t\tthis._mat[j++]=mat[i];\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._alpha[z++]=mat[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._action=RunDriver.createFilterAction(0x20);\r\n\t\tthis._action.data=this;\r\n\t}\r\n\r\n\t__class(ColorFilter,'laya.filters.ColorFilter',_super);\r\n\tvar __proto=ColorFilter.prototype;\r\n\tLaya.imps(__proto,{\"laya.filters.IFilter\":true})\r\n\t/**\r\n\t*@private 通知微端\r\n\t*/\r\n\t__proto.callNative=function(sp){\r\n\t\tvar t=sp._$P.cf=this;\r\n\t\tsp.conchModel && sp.conchModel.setFilterMatrix && sp.conchModel.setFilterMatrix(this._mat,this._alpha);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__getset(0,__proto,'type',function(){\r\n\t\treturn 0x20;\r\n\t});\r\n\r\n\t/**@private */\r\n\t__getset(0,__proto,'action',function(){\r\n\t\treturn this._action;\r\n\t});\r\n\r\n\treturn ColorFilter;\r\n})(Filter)\r\n\r\n\r\n/**\r\n*<p> <code>Socket</code> 封装了 HTML5 WebSocket ，允许服务器端与客户端进行全双工（full-duplex）的实时通信，并且允许跨域通信。在建立连接后，服务器和 Browser/Client Agent 都能主动的向对方发送或接收文本和二进制数据。</p>\r\n*<p>要使用 <code>Socket</code> 类的方法，请先使用构造函数 <code>new Socket</code> 创建一个 <code>Socket</code> 对象。 <code>Socket</code> 以异步方式传输和接收数据。</p>\r\n*/\r\n//class laya.net.Socket extends laya.events.EventDispatcher\r\nvar Socket=(function(_super){\r\n\tfunction Socket(host,port,byteClass){\r\n\t\t/**@private */\r\n\t\tthis._endian=null;\r\n\t\t/**@private */\r\n\t\tthis._stamp=NaN;\r\n\t\t/**@private */\r\n\t\tthis._socket=null;\r\n\t\t/**@private */\r\n\t\tthis._connected=false;\r\n\t\t/**@private */\r\n\t\tthis._addInputPosition=0;\r\n\t\t/**@private */\r\n\t\tthis._input=null;\r\n\t\t/**@private */\r\n\t\tthis._output=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*表示建立连接时需等待的毫秒数。\r\n\t\t*/\r\n\t\tthis.timeout=0;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*在写入或读取对象时，控制所使用的 AMF 的版本。\r\n\t\t*/\r\n\t\tthis.objectEncoding=0;\r\n\t\t/**\r\n\t\t*不再缓存服务端发来的数据。\r\n\t\t*/\r\n\t\tthis.disableInput=false;\r\n\t\t/**\r\n\t\t*用来发送和接收数据的 <code>Byte</code> 类。\r\n\t\t*/\r\n\t\tthis._byteClass=null;\r\n\t\t/**\r\n\t\t*<p>子协议名称。子协议名称字符串，或由多个子协议名称字符串构成的数组。必须在调用 connect 或者 connectByUrl 之前进行赋值，否则无效。</p>\r\n\t\t*<p>指定后，只有当服务器选择了其中的某个子协议，连接才能建立成功，否则建立失败，派发 Event.ERROR 事件。</p>\r\n\t\t*@see https://html.spec.whatwg.org/multipage/comms.html#dom-websocket\r\n\t\t*/\r\n\t\tthis.protocols=[];\r\n\t\t(port===void 0)&& (port=0);\r\n\t\tSocket.__super.call(this);\r\n\t\tthis._byteClass=byteClass ? byteClass :Byte;\r\n\t\tthis.endian=\"bigEndian\";\r\n\t\tthis.timeout=20000;\r\n\t\tthis._addInputPosition=0;\r\n\t\tif (host && port > 0 && port < 65535)\r\n\t\t\tthis.connect(host,port);\r\n\t}\r\n\r\n\t__class(Socket,'laya.net.Socket',_super);\r\n\tvar __proto=Socket.prototype;\r\n\t/**\r\n\t*<p>连接到指定的主机和端口。</p>\r\n\t*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>\r\n\t*@param host 服务器地址。\r\n\t*@param port 服务器端口。\r\n\t*/\r\n\t__proto.connect=function(host,port){\r\n\t\tvar url=\"ws://\"+host+\":\"+port;\r\n\t\tif (Browser.window.location.protocol==\"https:\"){\r\n\t\t\turl=\"wss://\"+host+\":\"+port;\r\n\t\t\t}else {\r\n\t\t\turl=\"ws://\"+host+\":\"+port;\r\n\t\t}\r\n\t\tthis.connectByUrl(url);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>连接到指定的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。</p>\r\n\t*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>\r\n\t*@param url 要连接的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。\r\n\t*/\r\n\t__proto.connectByUrl=function(url){\r\n\t\tvar _$this=this;\r\n\t\tif (this._socket !=null)\r\n\t\t\tthis.close();\r\n\t\tthis._socket && this.cleanSocket();\r\n\t\tif (!this.protocols || this.protocols.length==0){\r\n\t\t\tthis._socket=new Browser.window.WebSocket(url);\r\n\t\t\t}else {\r\n\t\t\tthis._socket=new Browser.window.WebSocket(url,this.protocols);\r\n\t\t}\r\n\t\tthis._socket.binaryType=\"arraybuffer\";\r\n\t\tthis._output=new this._byteClass();\r\n\t\tthis._output.endian=this.endian;\r\n\t\tthis._input=new this._byteClass();\r\n\t\tthis._input.endian=this.endian;\r\n\t\tthis._addInputPosition=0;\r\n\t\tthis._socket.onopen=function (e){\r\n\t\t\t_$this._onOpen(e);\r\n\t\t};\r\n\t\tthis._socket.onmessage=function (msg){\r\n\t\t\t_$this._onMessage(msg);\r\n\t\t};\r\n\t\tthis._socket.onclose=function (e){\r\n\t\t\t_$this._onClose(e);\r\n\t\t};\r\n\t\tthis._socket.onerror=function (e){\r\n\t\t\t_$this._onError(e);\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t*清理socket。\r\n\t*/\r\n\t__proto.cleanSocket=function(){\r\n\t\ttry {\r\n\t\t\tthis._socket.close();\r\n\t\t}catch (e){}\r\n\t\tthis._connected=false;\r\n\t\tthis._socket.onopen=null;\r\n\t\tthis._socket.onmessage=null;\r\n\t\tthis._socket.onclose=null;\r\n\t\tthis._socket.onerror=null;\r\n\t\tthis._socket=null;\r\n\t}\r\n\r\n\t/**\r\n\t*关闭连接。\r\n\t*/\r\n\t__proto.close=function(){\r\n\t\tif (this._socket !=null){\r\n\t\t\ttry {\r\n\t\t\t\tthis._socket.close();\r\n\t\t\t}catch (e){}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*连接建立成功 。\r\n\t*/\r\n\t__proto._onOpen=function(e){\r\n\t\tthis._connected=true;\r\n\t\tthis.event(/*laya.events.Event.OPEN*/\"open\",e);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*接收到数据处理方法。\r\n\t*@param msg 数据。\r\n\t*/\r\n\t__proto._onMessage=function(msg){\r\n\t\tif (!msg || !msg.data)return;\r\n\t\tvar data=msg.data;\r\n\t\tif (this.disableInput && data){\r\n\t\t\tthis.event(/*laya.events.Event.MESSAGE*/\"message\",data);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this._input.length > 0 && this._input.bytesAvailable < 1){\r\n\t\t\tthis._input.clear();\r\n\t\t\tthis._addInputPosition=0;\r\n\t\t};\r\n\t\tvar pre=this._input.pos;\r\n\t\t!this._addInputPosition && (this._addInputPosition=0);\r\n\t\tthis._input.pos=this._addInputPosition;\r\n\t\tif (data){\r\n\t\t\tif ((typeof data=='string')){\r\n\t\t\t\tthis._input.writeUTFBytes(data);\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._input.writeArrayBuffer(data);\r\n\t\t\t}\r\n\t\t\tthis._addInputPosition=this._input.pos;\r\n\t\t\tthis._input.pos=pre;\r\n\t\t}\r\n\t\tthis.event(/*laya.events.Event.MESSAGE*/\"message\",data);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*连接被关闭处理方法。\r\n\t*/\r\n\t__proto._onClose=function(e){\r\n\t\tthis._connected=false;\r\n\t\tthis.event(/*laya.events.Event.CLOSE*/\"close\",e)\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*出现异常处理方法。\r\n\t*/\r\n\t__proto._onError=function(e){\r\n\t\tthis.event(/*laya.events.Event.ERROR*/\"error\",e)\r\n\t}\r\n\r\n\t/**\r\n\t*发送数据到服务器。\r\n\t*@param data 需要发送的数据，可以是String或者ArrayBuffer。\r\n\t*/\r\n\t__proto.send=function(data){\r\n\t\tthis._socket.send(data);\r\n\t}\r\n\r\n\t/**\r\n\t*发送缓冲区中的数据到服务器。\r\n\t*/\r\n\t__proto.flush=function(){\r\n\t\tif (this._output && this._output.length > 0){\r\n\t\t\tvar evt;\r\n\t\t\ttry {\r\n\t\t\t\tthis._socket && this._socket.send(this._output.__getBuffer().slice(0,this._output.length));\r\n\t\t\t\t}catch (e){\r\n\t\t\t\tevt=e;\r\n\t\t\t}\r\n\t\t\tthis._output.endian=this.endian;\r\n\t\t\tthis._output.clear();\r\n\t\t\tif (evt)this.event(/*laya.events.Event.ERROR*/\"error\",evt);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*缓存的服务端发来的数据。\r\n\t*/\r\n\t__getset(0,__proto,'input',function(){\r\n\t\treturn this._input;\r\n\t});\r\n\r\n\t/**\r\n\t*表示需要发送至服务端的缓冲区中的数据。\r\n\t*/\r\n\t__getset(0,__proto,'output',function(){\r\n\t\treturn this._output;\r\n\t});\r\n\r\n\t/**\r\n\t*表示此 Socket 对象目前是否已连接。\r\n\t*/\r\n\t__getset(0,__proto,'connected',function(){\r\n\t\treturn this._connected;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。</p>\r\n\t*<p> LITTLE_ENDIAN ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>\r\n\t*<p> BIG_ENDIAN ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。</p>\r\n\t*/\r\n\t__getset(0,__proto,'endian',function(){\r\n\t\treturn this._endian;\r\n\t\t},function(value){\r\n\t\tthis._endian=value;\r\n\t\tif (this._input !=null)this._input.endian=value;\r\n\t\tif (this._output !=null)this._output.endian=value;\r\n\t});\r\n\r\n\tSocket.LITTLE_ENDIAN=\"littleEndian\";\r\n\tSocket.BIG_ENDIAN=\"bigEndian\";\r\n\treturn Socket;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*@private\r\n*Worker Image加载器\r\n*/\r\n//class laya.net.WorkerLoader extends laya.events.EventDispatcher\r\nvar WorkerLoader=(function(_super){\r\n\tfunction WorkerLoader(){\r\n\t\t/**\r\n\t\t*使用的Worker对象。\r\n\t\t*/\r\n\t\tthis.worker=null;\r\n\t\tWorkerLoader.__super.call(this);\r\n\t\tvar _$this=this;\r\n\t\tthis.worker=new Browser.window.Worker(WorkerLoader.workerPath);\r\n\t\tthis.worker.onmessage=function (evt){\r\n\t\t\t_$this.workerMessage(evt.data);\r\n\t\t}\r\n\t}\r\n\r\n\t__class(WorkerLoader,'laya.net.WorkerLoader',_super);\r\n\tvar __proto=WorkerLoader.prototype;\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.workerMessage=function(data){\r\n\t\tif (data){\r\n\t\t\tswitch(data.type){\r\n\t\t\t\tcase \"Image\":\r\n\t\t\t\t\tthis.imageLoaded(data);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"Msg\":\r\n\t\t\t\t\tthis.event(\"image_msg\",data.msg);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.imageLoaded=function(data){\r\n\t\tif (data && data.buffer && data.buffer.length < 10){\r\n\t\t\tWorkerLoader._enable=false;\r\n\t\t\tthis._myTrace(\"buffer lost when postmessage ,disable workerloader\");\r\n\t\t\tthis.event(data.url,null);\r\n\t\t\tthis.event(\"image_err\",data.url+\"\\n\"+data.msg);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!data.dataType){\r\n\t\t\tthis.event(data.url,null);\r\n\t\t\tthis.event(\"image_err\",data.url+\"\\n\"+data.msg);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar canvas,ctx;\r\n\t\tvar imageData;\r\n\t\tswitch(data.dataType){\r\n\t\t\tcase \"buffer\":\r\n\t\t\t\tcanvas=new HTMLCanvas(\"2D\");\r\n\t\t\t\tctx=canvas.source.getContext(\"2d\");\r\n\t\t\t\timageData=ctx.createImageData(data.width,data.height);\r\n\t\t\t\timageData.data.set(data.buffer);\r\n\t\t\t\tcanvas.size(imageData.width,imageData.height);\r\n\t\t\t\tctx.putImageData(imageData,0,0);\r\n\t\t\t\tcanvas.memorySize=0;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"imagedata\":\r\n\t\t\t\tcanvas=new HTMLCanvas(\"2D\");\r\n\t\t\t\tctx=canvas.source.getContext(\"2d\");\r\n\t\t\t\timageData=data.imagedata;\r\n\t\t\t\tcanvas.size(imageData.width,imageData.height);\r\n\t\t\t\tctx.putImageData(imageData,0,0);\r\n\t\t\t\timageData=data.imagedata;\r\n\t\t\t\tcanvas.memorySize=0;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"imageBitmap\":\r\n\t\t\t\timageData=data.imageBitmap;\r\n\t\t\t\tif (!Render.isWebGL){\r\n\t\t\t\t\tcanvas=new HTMLCanvas(\"2D\");\r\n\t\t\t\t\tctx=canvas.source.getContext(\"2d\");\r\n\t\t\t\t\tcanvas.size(imageData.width,imageData.height);\r\n\t\t\t\t\tctx.drawImage(imageData,0,0);\r\n\t\t\t\t\tcanvas.src=data.url;\r\n\t\t\t\t}else\r\n\t\t\t\tcanvas=imageData;\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\tif (Render.isWebGL)\r\n\t\t\t/*__JS__ */canvas=new laya.webgl.resource.WebGLImage(canvas,data.url);;\r\n\t\tthis.event(data.url,canvas);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._myTrace=function(__arg){\r\n\t\tvar arg=arguments;\r\n\t\tvar rst=[];\r\n\t\tvar i=0,len=arg.length;\r\n\t\tfor(i=0;i<len;i++){\r\n\t\t\trst.push(arg[i]);\r\n\t\t}\r\n\t\tthis.event(\"image_msg\",rst.join(\" \"));\r\n\t}\r\n\r\n\t/**\r\n\t*加载图片\r\n\t*@param url 图片地址\r\n\t*/\r\n\t__proto.loadImage=function(url){\r\n\t\tvar data;\r\n\t\tdata={};\r\n\t\tdata.type=\"load\";\r\n\t\tdata.url=url;\r\n\t\tthis.worker.postMessage(data);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*加载图片资源。\r\n\t*@param url 资源地址。\r\n\t*/\r\n\t__proto._loadImage=function(url){\r\n\t\tvar _this=this;\r\n\t\tif (!WorkerLoader._enable||url.toLowerCase().indexOf(\".png\")< 0){\r\n\t\t\tWorkerLoader._preLoadFun.call(_this,url);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\turl=URL.formatURL(url);\r\n\t\tfunction clear (){\r\n\t\t\tlaya.net.WorkerLoader.I.off(url,_this,onload);\r\n\t\t};\r\n\t\tvar onload=function (image){\r\n\t\t\tclear();\r\n\t\t\tif (image){\r\n\t\t\t\t_this[\"onLoaded\"](image);\r\n\t\t\t\t}else{\r\n\t\t\t\tWorkerLoader._preLoadFun.call(_this,url);\r\n\t\t\t}\r\n\t\t};\r\n\t\tlaya.net.WorkerLoader.I.on(url,_this,onload);\r\n\t\tlaya.net.WorkerLoader.I.loadImage(url);\r\n\t}\r\n\r\n\t/**\r\n\t*是否启用。\r\n\t*/\r\n\t__getset(1,WorkerLoader,'enable',function(){\r\n\t\treturn WorkerLoader._enable;\r\n\t\t},function(v){\r\n\t\tif (WorkerLoader.disableJSDecode && (!Browser.window.createImageBitmap))return;\r\n\t\tWorkerLoader._enable=v;\r\n\t\tif (WorkerLoader._enable && WorkerLoader._preLoadFun==null)WorkerLoader._enable=WorkerLoader.__init__();\r\n\t});\r\n\r\n\tWorkerLoader.__init__=function(){\r\n\t\tif (WorkerLoader._preLoadFun !=null)return false;\r\n\t\tif (!Browser.window.Worker)return false;\r\n\t\tWorkerLoader._preLoadFun=Loader[\"prototype\"][\"_loadImage\"];\r\n\t\tLoader[\"prototype\"][\"_loadImage\"]=WorkerLoader[\"prototype\"][\"_loadImage\"];\r\n\t\tif (!WorkerLoader.I)WorkerLoader.I=new WorkerLoader();\r\n\t\treturn true;\r\n\t}\r\n\r\n\tWorkerLoader.workerSupported=function(){\r\n\t\treturn Browser.window.Worker?true:false;\r\n\t}\r\n\r\n\tWorkerLoader.IMAGE_LOADED=\"image_loaded\";\r\n\tWorkerLoader.IMAGE_ERR=\"image_err\";\r\n\tWorkerLoader.IMAGE_MSG=\"image_msg\";\r\n\tWorkerLoader.I=null;\r\n\tWorkerLoader._preLoadFun=null;\r\n\tWorkerLoader._enable=false;\r\n\tWorkerLoader.workerPath=\"libs/worker.js\";\r\n\tWorkerLoader.disableJSDecode=true;\r\n\treturn WorkerLoader;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Resource</code> 资源存取类。\r\n*/\r\n//class laya.resource.Resource extends laya.events.EventDispatcher\r\nvar Resource=(function(_super){\r\n\tfunction Resource(){\r\n\t\t/**@private */\r\n\t\t//this.__loaded=false;\r\n\t\t/**@private */\r\n\t\t//this._id=0;\r\n\t\t/**@private */\r\n\t\t//this._memorySize=0;\r\n\t\t/**@private */\r\n\t\t//this._released=false;\r\n\t\t/**@private */\r\n\t\t//this._destroyed=false;\r\n\t\t/**@private */\r\n\t\t//this._referenceCount=0;\r\n\t\t/**@private */\r\n\t\t//this._group=null;\r\n\t\t/**@private */\r\n\t\t//this._url=null;\r\n\t\t/**@private */\r\n\t\t//this._resourceManager=null;\r\n\t\t/**@private */\r\n\t\t//this._lastUseFrameCount=0;\r\n\t\t/**是否加锁，如果true为不能使用自动释放机制。*/\r\n\t\t//this.lock=false;\r\n\t\t/**名称。 */\r\n\t\t//this.name=null;\r\n\t\tResource.__super.call(this);\r\n\t\tthis._$1__id=++Resource._uniqueIDCounter;\r\n\t\tthis.__loaded=true;\r\n\t\tthis._destroyed=false;\r\n\t\tthis._referenceCount=0;\r\n\t\tResource._idResourcesMap[this.id]=this;\r\n\t\tthis._released=true;\r\n\t\tthis.lock=false;\r\n\t\tthis._memorySize=0;\r\n\t\tthis._lastUseFrameCount=-1;\r\n\t\t(ResourceManager.currentResourceManager)&& (ResourceManager.currentResourceManager.addResource(this));\r\n\t}\r\n\r\n\t__class(Resource,'laya.resource.Resource',_super);\r\n\tvar __proto=Resource.prototype;\r\n\tLaya.imps(__proto,{\"laya.resource.ICreateResource\":true,\"laya.resource.IDispose\":true})\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._setUrl=function(url){\r\n\t\tif (this._url!==url){\r\n\t\t\tvar resList;\r\n\t\t\tif (this._url){\r\n\t\t\t\tresList=Resource._urlResourcesMap[this._url];\r\n\t\t\t\tresList.splice(resList.indexOf(this),1);\r\n\t\t\t\t(resList.length===0)&& (delete Resource._urlResourcesMap[this._url]);\r\n\t\t\t}\r\n\t\t\tif (url){\r\n\t\t\t\tresList=Resource._urlResourcesMap[url];\r\n\t\t\t\t(resList)|| (Resource._urlResourcesMap[url]=resList=[]);\r\n\t\t\t\tresList.push(this);\r\n\t\t\t}\r\n\t\t\tthis._url=url;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._getGroup=function(){\r\n\t\treturn this._group;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._setGroup=function(value){\r\n\t\tif (this._group!==value){\r\n\t\t\tvar groupList;\r\n\t\t\tif (this._group){\r\n\t\t\t\tgroupList=Resource._groupResourcesMap[this._group];\r\n\t\t\t\tgroupList.splice(groupList.indexOf(this),1);\r\n\t\t\t\t(groupList.length===0)&& (delete Resource._groupResourcesMap[this._group]);\r\n\t\t\t}\r\n\t\t\tif (value){\r\n\t\t\t\tgroupList=Resource._groupResourcesMap[value];\r\n\t\t\t\t(groupList)|| (Resource._groupResourcesMap[value]=groupList=[]);\r\n\t\t\t\tgroupList.push(this);\r\n\t\t\t}\r\n\t\t\tthis._group=value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._addReference=function(){\r\n\t\tthis._referenceCount++;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._removeReference=function(){\r\n\t\tthis._referenceCount--;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._clearReference=function(){\r\n\t\tthis._referenceCount=0;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._endLoaded=function(){\r\n\t\tthis.__loaded=true;\r\n\t\tthis.event(/*laya.events.Event.LOADED*/\"loaded\",this);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.recreateResource=function(){\r\n\t\tthis.completeCreate();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.disposeResource=function(){}\r\n\t/**\r\n\t*激活资源，使用资源前应先调用此函数激活。\r\n\t*@param force 是否强制创建。\r\n\t*/\r\n\t__proto.activeResource=function(force){\r\n\t\t(force===void 0)&& (force=false);\r\n\t\tthis._lastUseFrameCount=Stat.loopCount;\r\n\t\tif (!this._destroyed && this.__loaded && (this._released || force))\r\n\t\t\tthis.recreateResource();\r\n\t}\r\n\r\n\t/**\r\n\t*释放资源。\r\n\t*@param force 是否强制释放。\r\n\t*@return 是否成功释放。\r\n\t*/\r\n\t__proto.releaseResource=function(force){\r\n\t\t(force===void 0)&& (force=false);\r\n\t\tif (!force && this.lock)\r\n\t\t\treturn false;\r\n\t\tif (!this._released || force){\r\n\t\t\tthis.disposeResource();\r\n\t\t\tthis._released=true;\r\n\t\t\tthis._lastUseFrameCount=-1;\r\n\t\t\tthis.event(/*laya.events.Event.RELEASED*/\"released\",this);\r\n\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.onAsynLoaded=function(url,data,params){\r\n\t\tthrow new Error(\"Resource: must override this function!\");\r\n\t}\r\n\r\n\t/**\r\n\t*<p>彻底处理资源，处理后不能恢复。</p>\r\n\t*<p><b>注意：</b>会强制解锁清理。</p>\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tif (this._destroyed)\r\n\t\t\treturn;\r\n\t\tif (this._resourceManager!==null)\r\n\t\t\tthis._resourceManager.removeResource(this);\r\n\t\tthis._destroyed=true;\r\n\t\tthis.lock=false;\r\n\t\tthis.releaseResource();\r\n\t\tdelete Resource._idResourcesMap[this.id];\r\n\t\tvar resList;\r\n\t\tif (this._url){\r\n\t\t\tresList=Resource._urlResourcesMap[this._url];\r\n\t\t\tif (resList){\r\n\t\t\t\tresList.splice(resList.indexOf(this),1);\r\n\t\t\t\t(resList.length===0)&& (delete Resource._urlResourcesMap[this.url]);\r\n\t\t\t}\r\n\t\t\tLoader.clearRes(this._url);\r\n\t\t\t(this.__loaded)||(RunDriver.cancelLoadByUrl(this._url));\r\n\t\t}\r\n\t\tif (this._group){\r\n\t\t\tresList=Resource._groupResourcesMap[this._group];\r\n\t\t\tresList.splice(resList.indexOf(this),1);\r\n\t\t\t(resList.length===0)&& (delete Resource._groupResourcesMap[this.url]);\r\n\t\t}\r\n\t}\r\n\r\n\t/**完成资源激活。*/\r\n\t__proto.completeCreate=function(){\r\n\t\tthis._released=false;\r\n\t\tthis.event(/*laya.events.Event.RECOVERED*/\"recovered\",this);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.dispose=function(){\r\n\t\tthis.destroy();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t/**\r\n\t*占用内存尺寸。\r\n\t*/\r\n\t__getset(0,__proto,'memorySize',function(){\r\n\t\treturn this._memorySize;\r\n\t\t},function(value){\r\n\t\tvar offsetValue=value-this._memorySize;\r\n\t\tthis._memorySize=value;\r\n\t\tthis.resourceManager && this.resourceManager.addSize(offsetValue);\r\n\t});\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__getset(0,__proto,'_loaded',null,function(value){\r\n\t\tthis.__loaded=value;\r\n\t});\r\n\r\n\t/**\r\n\t*获取是否已加载完成。\r\n\t*/\r\n\t__getset(0,__proto,'loaded',function(){\r\n\t\treturn this.__loaded;\r\n\t});\r\n\r\n\t/**\r\n\t*获取唯一标识ID,通常用于识别。\r\n\t*/\r\n\t__getset(0,__proto,'id',function(){\r\n\t\treturn this._$1__id;\r\n\t});\r\n\r\n\t/**\r\n\t*是否已处理。\r\n\t*/\r\n\t__getset(0,__proto,'destroyed',function(){\r\n\t\treturn this._destroyed;\r\n\t});\r\n\r\n\t/**\r\n\t*设置资源组名。\r\n\t*/\r\n\t/**\r\n\t*获取资源组名。\r\n\t*/\r\n\t__getset(0,__proto,'group',function(){\r\n\t\treturn this._getGroup();\r\n\t\t},function(value){\r\n\t\tthis._setGroup(value);\r\n\t});\r\n\r\n\t/**\r\n\t*资源管理员。\r\n\t*/\r\n\t__getset(0,__proto,'resourceManager',function(){\r\n\t\treturn this._resourceManager;\r\n\t});\r\n\r\n\t/**\r\n\t*获取资源的URL地址。\r\n\t*@return URL地址。\r\n\t*/\r\n\t__getset(0,__proto,'url',function(){\r\n\t\treturn this._url;\r\n\t});\r\n\r\n\t/**\r\n\t*是否已释放。\r\n\t*/\r\n\t__getset(0,__proto,'released',function(){\r\n\t\treturn this._released;\r\n\t});\r\n\r\n\t/**\r\n\t*获取资源的引用计数。\r\n\t*/\r\n\t__getset(0,__proto,'referenceCount',function(){\r\n\t\treturn this._referenceCount;\r\n\t});\r\n\r\n\tResource.getResourceByID=function(id){\r\n\t\treturn Resource._idResourcesMap[id];\r\n\t}\r\n\r\n\tResource.getResourceByURL=function(url,index){\r\n\t\t(index===void 0)&& (index=0);\r\n\t\treturn Resource._urlResourcesMap[url][index];\r\n\t}\r\n\r\n\tResource.getResourceCountByURL=function(url){\r\n\t\treturn Resource._urlResourcesMap[url].length;\r\n\t}\r\n\r\n\tResource.destroyUnusedResources=function(group){\r\n\t\tvar res;\r\n\t\tif (group){\r\n\t\t\tvar resouList=Resource._groupResourcesMap[group];\r\n\t\t\tif (resouList){\r\n\t\t\t\tvar tempResouList=resouList.slice();\r\n\t\t\t\tfor (var i=0,n=tempResouList.length;i < n;i++){\r\n\t\t\t\t\tres=tempResouList[i];\r\n\t\t\t\t\tif (!res.lock && res._referenceCount===0)\r\n\t\t\t\t\t\tres.destroy();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (var k in Resource._idResourcesMap){\r\n\t\t\t\tres=Resource._idResourcesMap[k];\r\n\t\t\t\tif (!res.lock && res._referenceCount===0)\r\n\t\t\t\t\tres.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tResource._uniqueIDCounter=0;\r\n\tResource._idResourcesMap={};\r\n\tResource._urlResourcesMap={};\r\n\tResource._groupResourcesMap={};\r\n\treturn Resource;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<code>Texture</code> 是一个纹理处理类。\r\n*/\r\n//class laya.resource.Texture extends laya.events.EventDispatcher\r\nvar Texture=(function(_super){\r\n\tfunction Texture(bitmap,uv){\r\n\t\t/**图片或者canvas 。*/\r\n\t\t//this.bitmap=null;\r\n\t\t/**UV信息。*/\r\n\t\t//this.uv=null;\r\n\t\t/**沿 X 轴偏移量。*/\r\n\t\tthis.offsetX=0;\r\n\t\t/**沿 Y 轴偏移量。*/\r\n\t\tthis.offsetY=0;\r\n\t\t/**原始宽度（包括被裁剪的透明区域）。*/\r\n\t\tthis.sourceWidth=0;\r\n\t\t/**原始高度（包括被裁剪的透明区域）。*/\r\n\t\tthis.sourceHeight=0;\r\n\t\t/**@private */\r\n\t\t//this._loaded=false;\r\n\t\t/**@private */\r\n\t\tthis._w=0;\r\n\t\t/**@private */\r\n\t\tthis._h=0;\r\n\t\t/**@private 唯一ID*/\r\n\t\t//this.$_GID=NaN;\r\n\t\t/**图片地址*/\r\n\t\t//this.url=null;\r\n\t\t/**@private */\r\n\t\tthis._uvID=0;\r\n\t\tthis._atlasID=-1;\r\n\t\t/**@private */\r\n\t\tthis.scaleRate=1;\r\n\t\tTexture.__super.call(this);\r\n\t\tif (bitmap && bitmap._addReference!=null){\r\n\t\t\tbitmap._addReference();\r\n\t\t}\r\n\t\tthis.setTo(bitmap,uv);\r\n\t}\r\n\r\n\t__class(Texture,'laya.resource.Texture',_super);\r\n\tvar __proto=Texture.prototype;\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._setUrl=function(url){\r\n\t\tthis.url=url;\r\n\t}\r\n\r\n\t/**\r\n\t*设置此对象的位图资源、UV数据信息。\r\n\t*@param bitmap 位图资源\r\n\t*@param uv UV数据信息\r\n\t*/\r\n\t__proto.setTo=function(bitmap,uv){\r\n\t\tif (/*__JS__ */bitmap instanceof window.HTMLElement){\r\n\t\t\tvar canvas=HTMLCanvas.create(\"2D\",bitmap);\r\n\t\t\tthis.bitmap=canvas;\r\n\t\t\t}else{\r\n\t\t\tthis.bitmap=bitmap;\r\n\t\t}\r\n\t\tthis.uv=uv || Texture.DEF_UV;\r\n\t\tif (bitmap){\r\n\t\t\tthis._w=bitmap.width;\r\n\t\t\tthis._h=bitmap.height;\r\n\t\t\tthis.sourceWidth=this.sourceWidth || this._w;\r\n\t\t\tthis.sourceHeight=this.sourceHeight || this._h\r\n\t\t\tthis._loaded=this._w > 0;\r\n\t\t\tvar _this=this;\r\n\t\t\tif (this._loaded){\r\n\t\t\t\tRunDriver.addToAtlas && RunDriver.addToAtlas(_this);\r\n\t\t\t\t}else {\r\n\t\t\t\tvar bm=bitmap;\r\n\t\t\t\tif ((bm instanceof laya.resource.HTMLImage )&& bm.image)\r\n\t\t\t\t\tbm.image.addEventListener('load',function(e){\r\n\t\t\t\t\tRunDriver.addToAtlas && RunDriver.addToAtlas(_this);\r\n\t\t\t\t},false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private 激活资源。*/\r\n\t__proto.active=function(){\r\n\t\tif (this.bitmap)this.bitmap.activeResource();\r\n\t}\r\n\r\n\t/**\r\n\t*销毁纹理（分直接销毁，跟计数销毁两种）。\r\n\t*@param forceDispose (default=false)true为强制销毁主纹理，false是通过计数销毁纹理。\r\n\t*/\r\n\t__proto.destroy=function(forceDispose){\r\n\t\t(forceDispose===void 0)&& (forceDispose=false);\r\n\t\tif (this.bitmap && (this.bitmap).referenceCount > 0){\r\n\t\t\tvar temp=this.bitmap;\r\n\t\t\tif (forceDispose){\r\n\t\t\t\tif (Render.isConchApp && temp.source && temp.source.conchDestroy){\r\n\t\t\t\t\tthis.bitmap.source.conchDestroy();\r\n\t\t\t\t}\r\n\t\t\t\tthis.bitmap=null;\r\n\t\t\t\ttemp.dispose();\r\n\t\t\t\t(temp)._clearReference();\r\n\t\t\t\t}else {\r\n\t\t\t\t(temp)._removeReference();\r\n\t\t\t\tif ((temp).referenceCount==0){\r\n\t\t\t\t\tif (Render.isConchApp && temp.source && temp.source.conchDestroy){\r\n\t\t\t\t\t\tthis.bitmap.source.conchDestroy();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.bitmap=null;\r\n\t\t\t\t\ttemp.dispose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.url && this===Laya.loader.getRes(this.url))Laya.loader.clearRes(this.url,forceDispose);\r\n\t\t\tthis._loaded=false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*加载指定地址的图片。\r\n\t*@param url 图片地址。\r\n\t*/\r\n\t__proto.load=function(url){\r\n\t\tvar _$this=this;\r\n\t\tthis._loaded=false;\r\n\t\turl=URL.customFormat(url);\r\n\t\tvar fileBitmap=(this.bitmap || (this.bitmap=HTMLImage.create(url)));\r\n\t\tif (fileBitmap)fileBitmap._addReference();\r\n\t\tvar _this=this;\r\n\t\tfileBitmap.onload=function (){\r\n\t\t\tfileBitmap.onload=null;\r\n\t\t\t_this._loaded=true;\r\n\t\t\t_$this.sourceWidth=_$this._w=fileBitmap.width;\r\n\t\t\t_$this.sourceHeight=_$this._h=fileBitmap.height;\r\n\t\t\t_this.event(/*laya.events.Event.LOADED*/\"loaded\",this);\r\n\t\t\t(RunDriver.addToAtlas)&& (RunDriver.addToAtlas(_this));\r\n\t\t};\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.addTextureToAtlas=function(e){\r\n\t\tRunDriver.addTextureToAtlas(this);\r\n\t}\r\n\r\n\t/**\r\n\t*获取Texture上的某个区域的像素点\r\n\t*@param x\r\n\t*@param y\r\n\t*@param width\r\n\t*@param height\r\n\t*@return 返回像素点集合\r\n\t*/\r\n\t__proto.getPixels=function(x,y,width,height){\r\n\t\tif (Render.isConchApp){\r\n\t\t\tvar temp=this.bitmap;\r\n\t\t\tif (temp.source && temp.source.getImageData){\r\n\t\t\t\tvar arraybuffer=temp.source.getImageData(x,y,width,height);\r\n\t\t\t\tvar tUint8Array=new Uint8Array(arraybuffer);\r\n\t\t\t\treturn /*__JS__ */Array.from(tUint8Array);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t\t}else if (Render.isWebGL){\r\n\t\t\treturn RunDriver.getTexturePixels(this,x,y,width,height);\r\n\t\t\t}else {\r\n\t\t\tBrowser.canvas.size(width,height);\r\n\t\t\tBrowser.canvas.clear();\r\n\t\t\tBrowser.context.drawTexture(this,-x,-y,this.width,this.height,0,0);\r\n\t\t\tvar info=Browser.context.getImageData(0,0,width,height);\r\n\t\t}\r\n\t\treturn info.data;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.onAsynLoaded=function(url,bitmap){\r\n\t\tif (bitmap)bitmap._addReference();\r\n\t\tthis.setTo(bitmap,this.uv);\r\n\t}\r\n\r\n\t/**激活并获取资源。*/\r\n\t__getset(0,__proto,'source',function(){\r\n\t\tif (!this.bitmap)return null;\r\n\t\tthis.bitmap.activeResource();\r\n\t\treturn this.bitmap.source;\r\n\t});\r\n\r\n\t/**\r\n\t*表示是否加载成功，只能表示初次载入成功（通常包含下载和载入）,并不能完全表示资源是否可立即使用（资源管理机制释放影响等）。\r\n\t*/\r\n\t__getset(0,__proto,'loaded',function(){\r\n\t\treturn this._loaded;\r\n\t});\r\n\r\n\t/**\r\n\t*表示资源是否已释放。\r\n\t*/\r\n\t__getset(0,__proto,'released',function(){\r\n\t\tif (!this.bitmap)return true;\r\n\t\treturn this.bitmap.released;\r\n\t});\r\n\r\n\t/**实际宽度。*/\r\n\t__getset(0,__proto,'width',function(){\r\n\t\tif (this._w)return this._w;\r\n\t\treturn (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[2]-this.uv[0])*this.bitmap.width :this.bitmap.width;\r\n\t\t},function(value){\r\n\t\tthis._w=value;\r\n\t\tthis.sourceWidth || (this.sourceWidth=value);\r\n\t});\r\n\r\n\t/**\r\n\t*通过外部设置是否启用纹理平铺(后面要改成在着色器里计算)\r\n\t*/\r\n\t/**\r\n\t*获取当前纹理是否启用了纹理平铺\r\n\t*/\r\n\t__getset(0,__proto,'repeat',function(){\r\n\t\tif (Render.isWebGL && this.bitmap){\r\n\t\t\treturn this.bitmap.repeat;\r\n\t\t}\r\n\t\treturn true;\r\n\t\t},function(value){\r\n\t\tif (value){\r\n\t\t\tif (Render.isWebGL && this.bitmap){\r\n\t\t\t\tthis.bitmap.repeat=value;\r\n\t\t\t\tif (value){\r\n\t\t\t\t\tthis.bitmap.enableMerageInAtlas=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**实际高度。*/\r\n\t__getset(0,__proto,'height',function(){\r\n\t\tif (this._h)return this._h;\r\n\t\treturn (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[5]-this.uv[1])*this.bitmap.height :this.bitmap.height;\r\n\t\t},function(value){\r\n\t\tthis._h=value;\r\n\t\tthis.sourceHeight || (this.sourceHeight=value);\r\n\t});\r\n\r\n\t/**\r\n\t*设置线性采样的状态（目前只能第一次绘制前设置false生效,来关闭线性采样）。\r\n\t*/\r\n\t/**\r\n\t*获取当前纹理是否启用了线性采样。\r\n\t*/\r\n\t__getset(0,__proto,'isLinearSampling',function(){\r\n\t\treturn Render.isWebGL ? (this.bitmap.minFifter !=0x2600):true;\r\n\t\t},function(value){\r\n\t\tif (!value && Render.isWebGL){\r\n\t\t\tif (!value && (this.bitmap.minFifter==-1)&& (this.bitmap.magFifter==-1)){\r\n\t\t\t\tthis.bitmap.minFifter=0x2600;\r\n\t\t\t\tthis.bitmap.magFifter=0x2600;\r\n\t\t\t\tthis.bitmap.enableMerageInAtlas=false;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tTexture.moveUV=function(offsetX,offsetY,uv){\r\n\t\tfor (var i=0;i < 8;i+=2){\r\n\t\t\tuv[i]+=offsetX;\r\n\t\t\tuv[i+1]+=offsetY;\r\n\t\t}\r\n\t\treturn uv;\r\n\t}\r\n\r\n\tTexture.create=function(source,x,y,width,height,offsetX,offsetY,sourceWidth,sourceHeight){\r\n\t\t(offsetX===void 0)&& (offsetX=0);\r\n\t\t(offsetY===void 0)&& (offsetY=0);\r\n\t\t(sourceWidth===void 0)&& (sourceWidth=0);\r\n\t\t(sourceHeight===void 0)&& (sourceHeight=0);\r\n\t\tvar btex=(source instanceof laya.resource.Texture );\r\n\t\tvar uv=btex ? source.uv :Texture.DEF_UV;\r\n\t\tvar bitmap=btex ? source.bitmap :source;\r\n\t\tvar bIsAtlas=RunDriver.isAtlas(bitmap);\r\n\t\tif (bIsAtlas){\r\n\t\t\tvar atlaser=bitmap._atlaser;\r\n\t\t\tvar nAtlasID=(source)._atlasID;\r\n\t\t\tif (nAtlasID==-1){\r\n\t\t\t\tthrow new Error(\"create texture error\");\r\n\t\t\t}\r\n\t\t\tbitmap=atlaser._inAtlasTextureBitmapValue[nAtlasID];\r\n\t\t\tuv=atlaser._inAtlasTextureOriUVValue[nAtlasID];\r\n\t\t};\r\n\t\tvar tex=new Texture(bitmap,null);\r\n\t\tif (bitmap.width && (x+width)> bitmap.width)width=bitmap.width-x;\r\n\t\tif (bitmap.height && (y+height)> bitmap.height)height=bitmap.height-y;\r\n\t\ttex.width=width;\r\n\t\ttex.height=height;\r\n\t\ttex.offsetX=offsetX;\r\n\t\ttex.offsetY=offsetY;\r\n\t\ttex.sourceWidth=sourceWidth || width;\r\n\t\ttex.sourceHeight=sourceHeight || height;\r\n\t\tvar dwidth=1 / bitmap.width;\r\n\t\tvar dheight=1 / bitmap.height;\r\n\t\tx *=dwidth;\r\n\t\ty *=dheight;\r\n\t\twidth *=dwidth;\r\n\t\theight *=dheight;\r\n\t\tvar u1=tex.uv[0],v1=tex.uv[1],u2=tex.uv[4],v2=tex.uv[5];\r\n\t\tvar inAltasUVWidth=(u2-u1),inAltasUVHeight=(v2-v1);\r\n\t\tvar oriUV=Texture.moveUV(uv[0],uv[1],[x,y,x+width,y,x+width,y+height,x,y+height]);\r\n\t\ttex.uv=[u1+oriUV[0] *inAltasUVWidth,v1+oriUV[1] *inAltasUVHeight,u2-(1-oriUV[2])*inAltasUVWidth,v1+oriUV[3] *inAltasUVHeight,u2-(1-oriUV[4])*inAltasUVWidth,v2-(1-oriUV[5])*inAltasUVHeight,u1+oriUV[6] *inAltasUVWidth,v2-(1-oriUV[7])*inAltasUVHeight];\r\n\t\tif (bIsAtlas){\r\n\t\t\ttex.addTextureToAtlas();\r\n\t\t};\r\n\t\tvar bitmapScale=bitmap.scaleRate;\r\n\t\tif (bitmapScale && bitmapScale !=1){\r\n\t\t\ttex.sourceWidth /=bitmapScale;\r\n\t\t\ttex.sourceHeight /=bitmapScale;\r\n\t\t\ttex.width /=bitmapScale;\r\n\t\t\ttex.height /=bitmapScale;\r\n\t\t\ttex.scaleRate=bitmapScale;\r\n\t\t\ttex.offsetX /=bitmapScale;\r\n\t\t\ttex.offsetY /=bitmapScale;\r\n\t\t\t}else{\r\n\t\t\ttex.scaleRate=1;\r\n\t\t}\r\n\t\treturn tex;\r\n\t}\r\n\r\n\tTexture.createFromTexture=function(texture,x,y,width,height){\r\n\t\tvar texScaleRate=texture.scaleRate;\r\n\t\tif (texScaleRate !=1){\r\n\t\t\tx *=texScaleRate;\r\n\t\t\ty *=texScaleRate;\r\n\t\t\twidth *=texScaleRate;\r\n\t\t\theight *=texScaleRate;\r\n\t\t};\r\n\t\tvar rect=Rectangle.TEMP.setTo(x-texture.offsetX,y-texture.offsetY,width,height);\r\n\t\tvar result=rect.intersection(Texture._rect1.setTo(0,0,texture.width,texture.height),Texture._rect2);\r\n\t\tif (result)\r\n\t\t\tvar tex=Texture.create(texture,result.x,result.y,result.width,result.height,result.x-rect.x,result.y-rect.y,width,height);\r\n\t\telse return null;\r\n\t\ttex.bitmap._removeReference();\r\n\t\treturn tex;\r\n\t}\r\n\r\n\tTexture.DEF_UV=[0,0,1.0,0,1.0,1.0,0,1.0];\r\n\tTexture.INV_UV=[0,1,1.0,1,1.0,0.0,0,0.0];\r\n\tTexture._rect1=new Rectangle();\r\n\tTexture._rect2=new Rectangle();\r\n\treturn Texture;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<code>TimeLine</code> 是一个用来创建时间轴动画的类。\r\n*/\r\n//class laya.utils.TimeLine extends laya.events.EventDispatcher\r\nvar TimeLine=(function(_super){\r\n\tvar tweenData;\r\n\tfunction TimeLine(){\r\n\t\tthis._labelDic=null;\r\n\t\tthis._tweenDic={};\r\n\t\tthis._tweenDataList=[];\r\n\t\tthis._endTweenDataList=null;\r\n\t\t//以结束时间进行排序\r\n\t\tthis._currTime=0;\r\n\t\tthis._lastTime=0;\r\n\t\tthis._startTime=0;\r\n\t\t/**当前动画数据播放到第几个了*/\r\n\t\tthis._index=0;\r\n\t\t/**为TWEEN创建属于自己的唯一标识，方便管理*/\r\n\t\tthis._gidIndex=0;\r\n\t\t/**保留所有对象第一次注册动画时的状态（根据时间跳转时，需要把对象的回复，再计算接下来的状态）*/\r\n\t\tthis._firstTweenDic={};\r\n\t\t/**是否需要排序*/\r\n\t\tthis._startTimeSort=false;\r\n\t\tthis._endTimeSort=false;\r\n\t\t/**是否循环*/\r\n\t\tthis._loopKey=false;\r\n\t\t/**缩放动画播放的速度。*/\r\n\t\tthis.scale=1;\r\n\t\tthis._frameRate=60;\r\n\t\tthis._frameIndex=0;\r\n\t\tthis._total=0;\r\n\t\tTimeLine.__super.call(this);\r\n\t}\r\n\r\n\t__class(TimeLine,'laya.utils.TimeLine',_super);\r\n\tvar __proto=TimeLine.prototype;\r\n\t/**\r\n\t*控制一个对象，从当前点移动到目标点。\r\n\t*@param target 要控制的对象。\r\n\t*@param props 要控制对象的属性。\r\n\t*@param duration 对象TWEEN的时间。\r\n\t*@param ease 缓动类型\r\n\t*@param offset 相对于上一个对象，偏移多长时间（单位：毫秒）。\r\n\t*/\r\n\t__proto.to=function(target,props,duration,ease,offset){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\treturn this._create(target,props,duration,ease,offset,true);\r\n\t}\r\n\r\n\t/**\r\n\t*从 props 属性，缓动到当前状态。\r\n\t*@param target target 目标对象(即将更改属性值的对象)\r\n\t*@param props 要控制对象的属性\r\n\t*@param duration 对象TWEEN的时间\r\n\t*@param ease 缓动类型\r\n\t*@param offset 相对于上一个对象，偏移多长时间（单位：毫秒）\r\n\t*/\r\n\t__proto.from=function(target,props,duration,ease,offset){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\treturn this._create(target,props,duration,ease,offset,false);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._create=function(target,props,duration,ease,offset,isTo){\r\n\t\tvar tTweenData=Pool.getItemByClass(\"tweenData\",tweenData);\r\n\t\ttTweenData.isTo=isTo;\r\n\t\ttTweenData.type=0;\r\n\t\ttTweenData.target=target;\r\n\t\ttTweenData.duration=duration;\r\n\t\ttTweenData.data=props;\r\n\t\ttTweenData.startTime=this._startTime+offset;\r\n\t\ttTweenData.endTime=tTweenData.startTime+tTweenData.duration;\r\n\t\ttTweenData.ease=ease;\r\n\t\tthis._startTime=Math.max(tTweenData.endTime,this._startTime);\r\n\t\tthis._tweenDataList.push(tTweenData);\r\n\t\tthis._startTimeSort=true;\r\n\t\tthis._endTimeSort=true;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*在时间队列中加入一个标签。\r\n\t*@param label 标签名称。\r\n\t*@param offset 标签相对于上个动画的偏移时间(单位：毫秒)。\r\n\t*/\r\n\t__proto.addLabel=function(label,offset){\r\n\t\tvar tTweenData=Pool.getItemByClass(\"tweenData\",tweenData);\r\n\t\ttTweenData.type=1;\r\n\t\ttTweenData.data=label;\r\n\t\ttTweenData.endTime=tTweenData.startTime=this._startTime+offset;\r\n\t\tthis._labelDic || (this._labelDic={});\r\n\t\tthis._labelDic[label]=tTweenData;\r\n\t\tthis._tweenDataList.push(tTweenData);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*移除指定的标签\r\n\t*@param label\r\n\t*/\r\n\t__proto.removeLabel=function(label){\r\n\t\tif (this._labelDic && this._labelDic[label]){\r\n\t\t\tvar tTweenData=this._labelDic[label];\r\n\t\t\tif (tTweenData){\r\n\t\t\t\tvar tIndex=this._tweenDataList.indexOf(tTweenData);\r\n\t\t\t\tif (tIndex >-1){\r\n\t\t\t\t\tthis._tweenDataList.splice(tIndex,1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete this._labelDic[label];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*动画从整个动画的某一时间开始。\r\n\t*@param time(单位：毫秒)。\r\n\t*/\r\n\t__proto.gotoTime=function(time){\r\n\t\tif (this._tweenDataList==null || this._tweenDataList.length==0)return;\r\n\t\tvar tTween;\r\n\t\tvar tObject;\r\n\t\tfor (var p in this._firstTweenDic){\r\n\t\t\ttObject=this._firstTweenDic[p];\r\n\t\t\tif (tObject){\r\n\t\t\t\tfor (var tDataP in tObject){\r\n\t\t\t\t\tif (tObject.diyTarget.hasOwnProperty(tDataP)){\r\n\t\t\t\t\t\ttObject.diyTarget[tDataP]=tObject[tDataP];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (p in this._tweenDic){\r\n\t\t\ttTween=this._tweenDic[p];\r\n\t\t\ttTween.clear();\r\n\t\t\tdelete this._tweenDic[p];\r\n\t\t}\r\n\t\tthis._index=0;\r\n\t\tthis._gidIndex=0;\r\n\t\tthis._currTime=time;\r\n\t\tthis._lastTime=Browser.now();\r\n\t\tvar tTweenDataCopyList;\r\n\t\tif (this._endTweenDataList==null || this._endTimeSort){\r\n\t\t\tthis._endTimeSort=false;\r\n\t\t\tthis._endTweenDataList=tTweenDataCopyList=this._tweenDataList.concat();\r\n\t\t\tfunction Compare (paraA,paraB){\r\n\t\t\t\tif (paraA.endTime > paraB.endTime){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}else if (paraA.endTime < paraB.endTime){\r\n\t\t\t\t\treturn-1;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttTweenDataCopyList.sort(Compare);\r\n\t\t\t}else {\r\n\t\t\ttTweenDataCopyList=this._endTweenDataList\r\n\t\t};\r\n\t\tvar tTweenData;\r\n\t\tfor (var i=0,n=tTweenDataCopyList.length;i < n;i++){\r\n\t\t\ttTweenData=tTweenDataCopyList[i];\r\n\t\t\tif (tTweenData.type==0){\r\n\t\t\t\tif (time >=tTweenData.endTime){\r\n\t\t\t\t\tthis._index=Math.max(this._index,i+1);\r\n\t\t\t\t\tvar props=tTweenData.data;\r\n\t\t\t\t\tif (tTweenData.isTo){\r\n\t\t\t\t\t\tfor (var tP in props){\r\n\t\t\t\t\t\t\ttTweenData.target[tP]=props[tP];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i=0,n=this._tweenDataList.length;i < n;i++){\r\n\t\t\ttTweenData=this._tweenDataList[i];\r\n\t\t\tif (tTweenData.type==0){\r\n\t\t\t\tif (time >=tTweenData.startTime && time < tTweenData.endTime){\r\n\t\t\t\t\tthis._index=Math.max(this._index,i+1);\r\n\t\t\t\t\tthis._gidIndex++;\r\n\t\t\t\t\ttTween=Pool.getItemByClass(\"tween\",Tween);\r\n\t\t\t\t\ttTween._create(tTweenData.target,tTweenData.data,tTweenData.duration,tTweenData.ease,Handler.create(this,this._animComplete,[this._gidIndex]),0,false,tTweenData.isTo,true,false);\r\n\t\t\t\t\ttTween.setStartTime(this._currTime-(time-tTweenData.startTime));\r\n\t\t\t\t\ttTween._updateEase(this._currTime);\r\n\t\t\t\t\ttTween.gid=this._gidIndex;\r\n\t\t\t\t\tthis._tweenDic[this._gidIndex]=tTween;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*从指定的标签开始播。\r\n\t*@param Label 标签名。\r\n\t*/\r\n\t__proto.gotoLabel=function(Label){\r\n\t\tif (this._labelDic==null)return;\r\n\t\tvar tLabelData=this._labelDic[Label];\r\n\t\tif (tLabelData)this.gotoTime(tLabelData.startTime);\r\n\t}\r\n\r\n\t/**\r\n\t*暂停整个动画。\r\n\t*/\r\n\t__proto.pause=function(){\r\n\t\tLaya.timer.clear(this,this._update);\r\n\t}\r\n\r\n\t/**\r\n\t*恢复暂停动画的播放。\r\n\t*/\r\n\t__proto.resume=function(){\r\n\t\tthis.play(this._currTime,this._loopKey);\r\n\t}\r\n\r\n\t/**\r\n\t*播放动画。\r\n\t*@param timeOrLabel 开启播放的时间点或标签名。\r\n\t*@param loop 是否循环播放。\r\n\t*/\r\n\t__proto.play=function(timeOrLabel,loop){\r\n\t\t(timeOrLabel===void 0)&& (timeOrLabel=0);\r\n\t\t(loop===void 0)&& (loop=false);\r\n\t\tif (!this._tweenDataList)return;\r\n\t\tif (this._startTimeSort){\r\n\t\t\tthis._startTimeSort=false;\r\n\t\t\tfunction Compare (paraA,paraB){\r\n\t\t\t\tif (paraA.startTime > paraB.startTime){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}else if (paraA.startTime < paraB.startTime){\r\n\t\t\t\t\treturn-1;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._tweenDataList.sort(Compare);\r\n\t\t\tfor (var i=0,n=this._tweenDataList.length;i < n;i++){\r\n\t\t\t\tvar tTweenData=this._tweenDataList[i];\r\n\t\t\t\tif (tTweenData !=null && tTweenData.type==0){\r\n\t\t\t\t\tvar tTarget=tTweenData.target;\r\n\t\t\t\t\tvar gid=(tTarget.$_GID || (tTarget.$_GID=Utils.getGID()));\r\n\t\t\t\t\tvar tSrcData=null;\r\n\t\t\t\t\tif (this._firstTweenDic[gid]==null){\r\n\t\t\t\t\t\ttSrcData={};\r\n\t\t\t\t\t\ttSrcData.diyTarget=tTarget;\r\n\t\t\t\t\t\tthis._firstTweenDic[gid]=tSrcData;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\ttSrcData=this._firstTweenDic[gid];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var p in tTweenData.data){\r\n\t\t\t\t\t\tif (tSrcData[p]==null){\r\n\t\t\t\t\t\t\ttSrcData[p]=tTarget[p];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((typeof timeOrLabel=='string')){\r\n\t\t\tthis.gotoLabel(timeOrLabel);\r\n\t\t\t}else {\r\n\t\t\tthis.gotoTime(timeOrLabel);\r\n\t\t}\r\n\t\tthis._loopKey=loop;\r\n\t\tthis._lastTime=Browser.now();\r\n\t\tLaya.timer.frameLoop(1,this,this._update);\r\n\t}\r\n\r\n\t/**\r\n\t*更新当前动画。\r\n\t*/\r\n\t__proto._update=function(){\r\n\t\tif (this._currTime >=this._startTime){\r\n\t\t\tif (this._loopKey){\r\n\t\t\t\tthis._complete();\r\n\t\t\t\tif (!this._tweenDataList)return;\r\n\t\t\t\tthis.gotoTime(0);\r\n\t\t\t\t}else {\r\n\t\t\t\tfor (var p in this._tweenDic){\r\n\t\t\t\t\ttTween=this._tweenDic[p];\r\n\t\t\t\t\ttTween.complete();\r\n\t\t\t\t}\r\n\t\t\t\tthis._complete();\r\n\t\t\t\tthis.pause();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar tNow=Browser.now();\r\n\t\tvar tFrameTime=tNow-this._lastTime;\r\n\t\tvar tCurrTime=this._currTime+=tFrameTime *this.scale;\r\n\t\tthis._lastTime=tNow;\r\n\t\tfor (p in this._tweenDic){\r\n\t\t\ttTween=this._tweenDic[p];\r\n\t\t\ttTween._updateEase(tCurrTime);\r\n\t\t};\r\n\t\tvar tTween;\r\n\t\tif (this._tweenDataList.length !=0 && this._index < this._tweenDataList.length){\r\n\t\t\tvar tTweenData=this._tweenDataList[this._index];\r\n\t\t\tif (tCurrTime >=tTweenData.startTime){\r\n\t\t\t\tthis._index++;\r\n\t\t\t\tif (tTweenData.type==0){\r\n\t\t\t\t\tthis._gidIndex++;\r\n\t\t\t\t\ttTween=Pool.getItemByClass(\"tween\",Tween);\r\n\t\t\t\t\ttTween._create(tTweenData.target,tTweenData.data,tTweenData.duration,tTweenData.ease,Handler.create(this,this._animComplete,[this._gidIndex]),0,false,tTweenData.isTo,true,false);\r\n\t\t\t\t\ttTween.setStartTime(tCurrTime);\r\n\t\t\t\t\ttTween.gid=this._gidIndex;\r\n\t\t\t\t\tthis._tweenDic[this._gidIndex]=tTween;\r\n\t\t\t\t\ttTween._updateEase(tCurrTime);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tthis.event(/*laya.events.Event.LABEL*/\"label\",tTweenData.data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*指定的动画索引处的动画播放完成后，把此动画从列表中删除。\r\n\t*@param index\r\n\t*/\r\n\t__proto._animComplete=function(index){\r\n\t\tvar tTween=this._tweenDic[index];\r\n\t\tif (tTween)delete this._tweenDic[index];\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._complete=function(){\r\n\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t}\r\n\r\n\t/**\r\n\t*重置所有对象，复用对象的时候使用。\r\n\t*/\r\n\t__proto.reset=function(){\r\n\t\tvar p;\r\n\t\tif (this._labelDic){\r\n\t\t\tfor (p in this._labelDic){\r\n\t\t\t\tdelete this._labelDic[p];\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar tTween;\r\n\t\tfor (p in this._tweenDic){\r\n\t\t\ttTween=this._tweenDic[p];\r\n\t\t\ttTween.clear();\r\n\t\t\tdelete this._tweenDic[p];\r\n\t\t}\r\n\t\tfor (p in this._firstTweenDic){\r\n\t\t\tdelete this._firstTweenDic[p];\r\n\t\t}\r\n\t\tthis._endTweenDataList=null;\r\n\t\tif (this._tweenDataList && this._tweenDataList.length){\r\n\t\t\tvar i=0,len=0;\r\n\t\t\tlen=this._tweenDataList.length;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\tif(this._tweenDataList[i])\r\n\t\t\t\t\tthis._tweenDataList[i].destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._tweenDataList.length=0;\r\n\t\tthis._currTime=0;\r\n\t\tthis._lastTime=0;\r\n\t\tthis._startTime=0;\r\n\t\tthis._index=0;\r\n\t\tthis._gidIndex=0;\r\n\t\tthis.scale=1;\r\n\t\tLaya.timer.clear(this,this._update);\r\n\t}\r\n\r\n\t/**\r\n\t*彻底销毁此对象。\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tthis.reset();\r\n\t\tthis._labelDic=null;\r\n\t\tthis._tweenDic=null;\r\n\t\tthis._tweenDataList=null;\r\n\t\tthis._firstTweenDic=null;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*设置帧索引\r\n\t*/\r\n\t/**\r\n\t*@private\r\n\t*得到帧索引\r\n\t*/\r\n\t__getset(0,__proto,'index',function(){\r\n\t\treturn this._frameIndex;\r\n\t\t},function(value){\r\n\t\tthis._frameIndex=value;\r\n\t\tthis.gotoTime(this._frameIndex / this._frameRate *1000);\r\n\t});\r\n\r\n\t/**\r\n\t*得到总帧数。\r\n\t*/\r\n\t__getset(0,__proto,'total',function(){\r\n\t\tthis._total=Math.floor(this._startTime / 1000 *this._frameRate);\r\n\t\treturn this._total;\r\n\t});\r\n\r\n\tTimeLine.to=function(target,props,duration,ease,offset){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\treturn (new TimeLine()).to(target,props,duration,ease,offset);\r\n\t}\r\n\r\n\tTimeLine.from=function(target,props,duration,ease,offset){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\treturn (new TimeLine()).from(target,props,duration,ease,offset);\r\n\t}\r\n\r\n\tTimeLine.__init$=function(){\r\n\t\t//class tweenData\r\n\t\ttweenData=(function(){\r\n\t\t\tfunction tweenData(){\r\n\t\t\t\tthis.type=0;\r\n\t\t\t\t//0代表TWEEN,1代表标签\r\n\t\t\t\tthis.isTo=true;\r\n\t\t\t\tthis.startTime=NaN;\r\n\t\t\t\tthis.endTime=NaN;\r\n\t\t\t\tthis.target=null;\r\n\t\t\t\tthis.duration=NaN;\r\n\t\t\t\tthis.ease=null;\r\n\t\t\t\tthis.data=null;\r\n\t\t\t}\r\n\t\t\t__class(tweenData,'');\r\n\t\t\tvar __proto=tweenData.prototype;\r\n\t\t\t__proto.destroy=function(){\r\n\t\t\t\tthis.target=null;\r\n\t\t\t\tthis.ease=null;\r\n\t\t\t\tthis.data=null;\r\n\t\t\t\tthis.isTo=true;\r\n\t\t\t\tthis.type=0;\r\n\t\t\t\tPool.recover(\"tweenData\",this);\r\n\t\t\t}\r\n\t\t\treturn tweenData;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn TimeLine;\r\n})(EventDispatcher)\r\n\r\n\r\n/**\r\n*<p> <code>Sprite</code> 是基本的显示图形的显示列表节点。 <code>Sprite</code> 默认没有宽高，默认不接受鼠标事件。通过 <code>graphics</code> 可以绘制图片或者矢量图，支持旋转，缩放，位移等操作。<code>Sprite</code>同时也是容器类，可用来添加多个子节点。</p>\r\n*<p>注意： <code>Sprite</code> 默认没有宽高，可以通过<code>getBounds</code>函数获取；也可手动设置宽高；还可以设置<code>autoSize=true</code>，然后再获取宽高。<code>Sprite</code>的宽高一般用于进行碰撞检测和排版，并不影响显示图像大小，如果需要更改显示图像大小，请使用 <code>scaleX</code> ， <code>scaleY</code> ， <code>scale</code>。</p>\r\n*<p> <code>Sprite</code> 默认不接受鼠标事件，即<code>mouseEnabled=false</code>，但是只要对其监听任意鼠标事件，会自动打开自己以及所有父对象的<code>mouseEnabled=true</code>。所以一般也无需手动设置<code>mouseEnabled</code>。</p>\r\n*<p>LayaAir引擎API设计精简巧妙。核心显示类只有一个<code>Sprite</code>。<code>Sprite</code>针对不同的情况做了渲染优化，所以保证一个类实现丰富功能的同时，又达到高性能。</p>\r\n*\r\n*@example <caption>创建了一个 <code>Sprite</code> 实例。</caption>\r\n*package\r\n*{\r\n\t*import laya.display.Sprite;\r\n\t*import laya.events.Event;\r\n\t*\r\n\t*public class Sprite_Example\r\n\t*{\r\n\t\t*private var sprite:Sprite;\r\n\t\t*private var shape:Sprite\r\n\t\t*public function Sprite_Example()\r\n\t\t*{\r\n\t\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t\t*onInit();\r\n\t\t\t*}\r\n\t\t*private function onInit():void\r\n\t\t*{\r\n\t\t\t*sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t\t\t*sprite.loadImage(\"resource/ui/bg.png\");//加载并显示图片。\r\n\t\t\t*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。\r\n\t\t\t*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。\r\n\t\t\t*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。\r\n\t\t\t*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。\r\n\t\t\t*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。\r\n\t\t\t*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。\r\n\t\t\t*shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t\t\t*shape.graphics.drawRect(0,0,100,100,\"#ccff00\",\"#ff0000\",2);//绘制一个有边框的填充矩形。\r\n\t\t\t*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。\r\n\t\t\t*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。\r\n\t\t\t*shape.width=100;//设置 shape 对象的宽度。\r\n\t\t\t*shape.height=100;//设置 shape 对象的高度。\r\n\t\t\t*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。\r\n\t\t\t*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。\r\n\t\t\t*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。\r\n\t\t\t*shape.on(Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。\r\n\t\t\t*}\r\n\t\t*private function onClickSprite():void\r\n\t\t*{\r\n\t\t\t*trace(\"点击 sprite 对象。\");\r\n\t\t\t*sprite.rotation+=5;//旋转 sprite 对象。\r\n\t\t\t*}\r\n\t\t*private function onClickShape():void\r\n\t\t*{\r\n\t\t\t*trace(\"点击 shape 对象。\");\r\n\t\t\t*shape.rotation+=5;//旋转 shape 对象。\r\n\t\t\t*}\r\n\t\t*}\r\n\t*}\r\n*\r\n*@example\r\n*var sprite;\r\n*var shape;\r\n*Sprite_Example();\r\n*function Sprite_Example()\r\n*{\r\n\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t*onInit();\r\n\t*}\r\n*function onInit()\r\n*{\r\n\t*sprite=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t*sprite.loadImage(\"resource/ui/bg.png\");//加载并显示图片。\r\n\t*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。\r\n\t*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。\r\n\t*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。\r\n\t*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。\r\n\t*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。\r\n\t*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。\r\n\t*shape=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t*shape.graphics.drawRect(0,0,100,100,\"#ccff00\",\"#ff0000\",2);//绘制一个有边框的填充矩形。\r\n\t*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。\r\n\t*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。\r\n\t*shape.width=100;//设置 shape 对象的宽度。\r\n\t*shape.height=100;//设置 shape 对象的高度。\r\n\t*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。\r\n\t*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。\r\n\t*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。\r\n\t*shape.on(laya.events.Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。\r\n\t*}\r\n*function onClickSprite()\r\n*{\r\n\t*console.log(\"点击 sprite 对象。\");\r\n\t*sprite.rotation+=5;//旋转 sprite 对象。\r\n\t*}\r\n*function onClickShape()\r\n*{\r\n\t*console.log(\"点击 shape 对象。\");\r\n\t*shape.rotation+=5;//旋转 shape 对象。\r\n\t*}\r\n*\r\n*@example\r\n*import Sprite=laya.display.Sprite;\r\n*class Sprite_Example {\r\n\t*private sprite:Sprite;\r\n\t*private shape:Sprite\r\n\t*public Sprite_Example(){\r\n\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t*this.onInit();\r\n\t\t*}\r\n\t*private onInit():void {\r\n\t\t*this.sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t\t*this.sprite.loadImage(\"resource/ui/bg.png\");//加载并显示图片。\r\n\t\t*this.sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。\r\n\t\t*this.sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。\r\n\t\t*this.sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。\r\n\t\t*this.sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。\r\n\t\t*Laya.stage.addChild(this.sprite);//将此 sprite 对象添加到显示列表。\r\n\t\t*this.sprite.on(laya.events.Event.CLICK,this,this.onClickSprite);//给 sprite 对象添加点击事件侦听。\r\n\t\t*this.shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。\r\n\t\t*this.shape.graphics.drawRect(0,0,100,100,\"#ccff00\",\"#ff0000\",2);//绘制一个有边框的填充矩形。\r\n\t\t*this.shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。\r\n\t\t*this.shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。\r\n\t\t*this.shape.width=100;//设置 shape 对象的宽度。\r\n\t\t*this.shape.height=100;//设置 shape 对象的高度。\r\n\t\t*this.shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。\r\n\t\t*this.shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。\r\n\t\t*Laya.stage.addChild(this.shape);//将此 shape 对象添加到显示列表。\r\n\t\t*this.shape.on(laya.events.Event.CLICK,this,this.onClickShape);//给 shape 对象添加点击事件侦听。\r\n\t\t*}\r\n\t*private onClickSprite():void {\r\n\t\t*console.log(\"点击 sprite 对象。\");\r\n\t\t*this.sprite.rotation+=5;//旋转 sprite 对象。\r\n\t\t*}\r\n\t*private onClickShape():void {\r\n\t\t*console.log(\"点击 shape 对象。\");\r\n\t\t*this.shape.rotation+=5;//旋转 shape 对象。\r\n\t\t*}\r\n\t*}\r\n*/\r\n//class laya.display.Sprite extends laya.display.Node\r\nvar Sprite=(function(_super){\r\n\tfunction Sprite(){\r\n\t\t/**@private 矩阵变换信息。*/\r\n\t\tthis._transform=null;\r\n\t\t/**@private */\r\n\t\tthis._tfChanged=false;\r\n\t\t/**@private */\r\n\t\tthis._x=0;\r\n\t\t/**@private */\r\n\t\tthis._y=0;\r\n\t\t/**@private */\r\n\t\tthis._width=0;\r\n\t\t/**@private */\r\n\t\tthis._height=0;\r\n\t\t/**@private */\r\n\t\tthis._repaint=1;\r\n\t\t/**@private 鼠标状态，0:auto,1:mouseEnabled=false,2:mouseEnabled=true。*/\r\n\t\tthis._mouseEnableState=0;\r\n\t\t/**@private Z排序，数值越大越靠前。*/\r\n\t\tthis._zOrder=0;\r\n\t\t/**@private */\r\n\t\tthis._graphics=null;\r\n\t\t/**@private */\r\n\t\tthis._renderType=0;\r\n\t\t/**@private */\r\n\t\tthis._optimizeScrollRect=false;\r\n\t\t/**@private */\r\n\t\tthis._texture=null;\r\n\t\t/**\r\n\t\t*<p>鼠标事件与此对象的碰撞检测是否可穿透。碰撞检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>\r\n\t\t*<p>穿透表示鼠标事件发生的位置处于本对象绘图区域内时，才算命中，而与对象宽高和值为Rectangle对象的hitArea属性无关。如果sprite.hitArea值是HitArea对象，表示显式声明了此对象的鼠标事件响应区域，而忽略对象的宽高、mouseThrough属性。</p>\r\n\t\t*<p>影响对象鼠标事件响应区域的属性为：width、height、hitArea，优先级顺序为：hitArea(type:HitArea)>hitArea(type:Rectangle)>width/height。</p>\r\n\t\t*@default false 不可穿透，此对象的鼠标响应区域由width、height、hitArea属性决定。</p>\r\n\t\t*/\r\n\t\tthis.mouseThrough=false;\r\n\t\t/**\r\n\t\t*<p>指定是否自动计算宽高数据。默认值为 false 。</p>\r\n\t\t*<p>Sprite宽高默认为0，并且不会随着绘制内容的变化而变化，如果想根据绘制内容获取宽高，可以设置本属性为true，或者通过getBounds方法获取。设置为true，对性能有一定影响。</p>\r\n\t\t*/\r\n\t\tthis.autoSize=false;\r\n\t\t/**\r\n\t\t*<p>指定鼠标事件检测是优先检测自身，还是优先检测其子对象。鼠标事件检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>\r\n\t\t*<p>如果为false，优先检测子对象，当有子对象被命中时，中断检测，获得命中目标。如果未命中任何子对象，最后再检测此对象；如果为true，则优先检测本对象，如果本对象没有被命中，直接中断检测，表示没有命中目标；如果本对象被命中，则进一步递归检测其子对象，以确认最终的命中目标。</p>\r\n\t\t*<p>合理使用本属性，能减少鼠标事件检测的节点，提高性能。可以设置为true的情况：开发者并不关心此节点的子节点的鼠标事件检测结果，也就是以此节点作为其子节点的鼠标事件检测依据。</p>\r\n\t\t*<p>Stage对象和UI的View组件默认为true。</p>\r\n\t\t*@default false 优先检测此对象的子对象，当递归检测完所有子对象后，仍然没有找到目标对象，最后再检测此对象。\r\n\t\t*/\r\n\t\tthis.hitTestPrior=false;\r\n\t\t/**\r\n\t\t*<p>视口大小，视口外的子对象，将不被渲染(如果想实现裁剪效果，请使用srollRect)，合理使用能提高渲染性能。比如由一个个小图片拼成的地图块，viewport外面的小图片将不渲染</p>\r\n\t\t*<p>srollRect和viewport的区别：<br/>\r\n\t\t*1. srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>\r\n\t\t*2. 设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>\r\n\t\t*@default null\r\n\t\t*/\r\n\t\tthis.viewport=null;\r\n\t\tSprite.__super.call(this);\r\n\t\tthis._style=Style.EMPTY;\r\n\t}\r\n\r\n\t__class(Sprite,'laya.display.Sprite',_super);\r\n\tvar __proto=Sprite.prototype;\r\n\tLaya.imps(__proto,{\"laya.display.ILayout\":true})\r\n\t/**@private */\r\n\t__proto.createConchModel=function(){\r\n\t\treturn /*__JS__ */new ConchNode();\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.destroy=function(destroyChild){\r\n\t\t(destroyChild===void 0)&& (destroyChild=true);\r\n\t\tthis._releaseMem();\r\n\t\t_super.prototype.destroy.call(this,destroyChild);\r\n\t\tthis._style && this._style.destroy();\r\n\t\tthis._transform && this._transform.destroy();\r\n\t\tthis._transform=null;\r\n\t\tthis._style=null;\r\n\t\tthis._graphics=null;\r\n\t}\r\n\r\n\t/**根据zOrder进行重新排序。*/\r\n\t__proto.updateZOrder=function(){\r\n\t\tUtils.updateOrder(this._childs)&& this.repaint();\r\n\t}\r\n\r\n\t/**在设置cacheAs的情况下，调用此方法会重新刷新缓存。*/\r\n\t__proto.reCache=function(){\r\n\t\tif (this._$P.cacheCanvas)this._$P.cacheCanvas.reCache=true;\r\n\t\tthis._repaint=1;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置对象在自身坐标系下的边界范围。与 <code>getSelfBounds</code> 对应。当 autoSize==true 时，会影响对象宽高。设置后，当需要获取自身边界范围时，就不再需要计算，合理使用能提高性能。比如 <code>getBounds</code> 会优先使用 <code>setBounds</code> 指定的值，如果没有指定则进行计算，此计算会对性能消耗比较大。</p>\r\n\t*<p><b>注意：</b> <code>setBounds</code> 与 <code>getBounds</code> 并非对应相等关系， <code>getBounds</code> 获取的是本对象在父容器坐标系下的边界范围，通过设置 <code>setBounds</code> 会影响 <code>getBounds</code> 的结果。</p>\r\n\t*@param bound bounds矩形区域\r\n\t*/\r\n\t__proto.setBounds=function(bound){\r\n\t\tthis._set$P(\"uBounds\",bound);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>获取本对象在父容器坐标系的矩形显示区域。</p>\r\n\t*<p><b>注意：</b> 1.计算量较大，尽量少用，如果需要频繁使用，可以通过手动设置 <code>setBounds</code> 来缓存自身边界信息，从而避免比较消耗性能的计算。2. <code>setBounds</code> 与 <code>getBounds</code> 并非对应相等关系， <code>getBounds</code> 获取的是本对象在父容器坐标系下的边界范围，通过设置 <code>setBounds</code> 会影响 <code>getBounds</code> 的结果。</p>\r\n\t*@return 矩形区域。\r\n\t*/\r\n\t__proto.getBounds=function(){\r\n\t\tif (!this._$P.mBounds)this._set$P(\"mBounds\",new Rectangle());\r\n\t\treturn Rectangle._getWrapRec(this._boundPointsToParent(),this._$P.mBounds);\r\n\t}\r\n\r\n\t/**\r\n\t*获取对象在自身坐标系的边界范围。与 <code>setBounds</code> 对应。\r\n\t*<p><b>注意：</b>计算量较大，尽量少用，如果需要频繁使用，可以提前手动设置 <code>setBounds</code> 来缓存自身边界信息，从而避免比较消耗性能的计算。</p>\r\n\t*@return 矩形区域。\r\n\t*/\r\n\t__proto.getSelfBounds=function(){\r\n\t\tif (this._$P.uBounds)return this._$P.uBounds;\r\n\t\tif (!this._$P.mBounds)this._set$P(\"mBounds\",new Rectangle());\r\n\t\treturn Rectangle._getWrapRec(this._getBoundPointsM(false),this._$P.mBounds);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取本对象在父容器坐标系的显示区域多边形顶点列表。\r\n\t*当显示对象链中有旋转时，返回多边形顶点列表，无旋转时返回矩形的四个顶点。\r\n\t*@param ifRotate （可选）之前的对象链中是否有旋转。\r\n\t*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。\r\n\t*/\r\n\t__proto._boundPointsToParent=function(ifRotate){\r\n\t\t(ifRotate===void 0)&& (ifRotate=false);\r\n\t\tvar pX=0,pY=0;\r\n\t\tif (this._style){\r\n\t\t\tpX=this._style._tf.translateX;\r\n\t\t\tpY=this._style._tf.translateY;\r\n\t\t\tifRotate=ifRotate || (this._style._tf.rotate!==0);\r\n\t\t\tif (this._style.scrollRect){\r\n\t\t\t\tpX+=this._style.scrollRect.x;\r\n\t\t\t\tpY+=this._style.scrollRect.y;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar pList=this._getBoundPointsM(ifRotate);\r\n\t\tif (!pList || pList.length < 1)return pList;\r\n\t\tif (pList.length !=8){\r\n\t\t\tpList=ifRotate ? GrahamScan.scanPList(pList):Rectangle._getWrapRec(pList,Rectangle.TEMP)._getBoundPoints();\r\n\t\t}\r\n\t\tif (!this.transform){\r\n\t\t\tUtils.transPointList(pList,this._x-pX,this._y-pY);\r\n\t\t\treturn pList;\r\n\t\t};\r\n\t\tvar tPoint=Point.TEMP;\r\n\t\tvar i=0,len=pList.length;\r\n\t\tfor (i=0;i < len;i+=2){\r\n\t\t\ttPoint.x=pList[i];\r\n\t\t\ttPoint.y=pList[i+1];\r\n\t\t\tthis.toParentPoint(tPoint);\r\n\t\t\tpList[i]=tPoint.x;\r\n\t\t\tpList[i+1]=tPoint.y;\r\n\t\t}\r\n\t\treturn pList;\r\n\t}\r\n\r\n\t/**\r\n\t*返回此实例中的绘图对象（ <code>Graphics</code> ）的显示区域，不包括子对象。\r\n\t*@param realSize （可选）使用图片的真实大小，默认为false\r\n\t*@return 一个 Rectangle 对象，表示获取到的显示区域。\r\n\t*/\r\n\t__proto.getGraphicBounds=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tif (!this._graphics)return Rectangle.TEMP.setTo(0,0,0,0);\r\n\t\treturn this._graphics.getBounds(realSize);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取自己坐标系的显示区域多边形顶点列表\r\n\t*@param ifRotate （可选）当前的显示对象链是否由旋转\r\n\t*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。\r\n\t*/\r\n\t__proto._getBoundPointsM=function(ifRotate){\r\n\t\t(ifRotate===void 0)&& (ifRotate=false);\r\n\t\tif (this._$P.uBounds)return this._$P.uBounds._getBoundPoints();\r\n\t\tif (!this._$P.temBM)this._set$P(\"temBM\",[]);\r\n\t\tif (this.scrollRect){\r\n\t\t\tvar rst=Utils.clearArray(this._$P.temBM);\r\n\t\t\tvar rec=Rectangle.TEMP;\r\n\t\t\trec.copyFrom(this.scrollRect);\r\n\t\t\tUtils.concatArray(rst,rec._getBoundPoints());\r\n\t\t\treturn rst;\r\n\t\t};\r\n\t\tvar pList=this._graphics ? this._graphics.getBoundPoints():Utils.clearArray(this._$P.temBM);\r\n\t\tvar child;\r\n\t\tvar cList;\r\n\t\tvar __childs;\r\n\t\t__childs=this._childs;\r\n\t\tfor (var i=0,n=__childs.length;i < n;i++){\r\n\t\t\tchild=__childs [i];\r\n\t\t\tif ((child instanceof laya.display.Sprite )&& child.visible==true){\r\n\t\t\t\tcList=child._boundPointsToParent(ifRotate);\r\n\t\t\t\tif (cList)\r\n\t\t\t\t\tpList=pList ? Utils.concatArray(pList,cList):cList;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pList;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取样式。\r\n\t*@return 样式 Style 。\r\n\t*/\r\n\t__proto.getStyle=function(){\r\n\t\tthis._style===Style.EMPTY && (this._style=new Style());\r\n\t\treturn this._style;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*设置样式。\r\n\t*@param value 样式。\r\n\t*/\r\n\t__proto.setStyle=function(value){\r\n\t\tthis._style=value;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._adjustTransform=function(){\r\n\t\tthis._tfChanged=false;\r\n\t\tvar style=this._style;\r\n\t\tvar tf=style._tf;\r\n\t\tvar sx=tf.scaleX,sy=tf.scaleY;\r\n\t\tvar m;\r\n\t\tif (tf.rotate || sx!==1 || sy!==1 || tf.skewX || tf.skewY){\r\n\t\t\tm=this._transform || (this._transform=Matrix.create());\r\n\t\t\tm.bTransform=true;\r\n\t\t\tvar skx=(tf.rotate-tf.skewX)*0.0174532922222222;\r\n\t\t\tvar sky=(tf.rotate+tf.skewY)*0.0174532922222222;\r\n\t\t\tvar cx=Math.cos(sky);\r\n\t\t\tvar ssx=Math.sin(sky);\r\n\t\t\tvar cy=Math.sin(skx);\r\n\t\t\tvar ssy=Math.cos(skx);\r\n\t\t\tm.a=sx *cx;\r\n\t\t\tm.b=sx *ssx;\r\n\t\t\tm.c=-sy *cy;\r\n\t\t\tm.d=sy *ssy;\r\n\t\t\tm.tx=m.ty=0;\r\n\t\t\treturn m;\r\n\t\t\t}else {\r\n\t\t\tthis._transform && this._transform.destroy();\r\n\t\t\tthis._transform=null;\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t}\r\n\t\treturn m;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置坐标位置。相当于分别设置x和y属性。</p>\r\n\t*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pos(...).scale(...);</p>\r\n\t*@param x X轴坐标。\r\n\t*@param y Y轴坐标。\r\n\t*@param speedMode （可选）是否极速模式，正常是调用this.x=value进行赋值，极速模式直接调用内部函数处理，如果未重写x,y属性，建议设置为急速模式性能更高。\r\n\t*@return 返回对象本身。\r\n\t*/\r\n\t__proto.pos=function(x,y,speedMode){\r\n\t\t(speedMode===void 0)&& (speedMode=false);\r\n\t\tif (this._x!==x || this._y!==y){\r\n\t\t\tif (this.destroyed)return this;\r\n\t\t\tif (speedMode){\r\n\t\t\t\tthis._x=x;\r\n\t\t\t\tthis._y=y;\r\n\t\t\t\tthis.conchModel && this.conchModel.pos(this._x,this._y);\r\n\t\t\t\tvar p=this._parent;\r\n\t\t\t\tif (p && p._repaint===0){\r\n\t\t\t\t\tp._repaint=1;\r\n\t\t\t\t\tp.parentRepaint();\r\n\t\t\t\t}\r\n\t\t\t\tif (this._$P.maskParent && this._$P.maskParent._repaint===0){\r\n\t\t\t\t\tthis._$P.maskParent._repaint=1;\r\n\t\t\t\t\tthis._$P.maskParent.parentRepaint();\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.x=x;\r\n\t\t\t\tthis.y=y;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置轴心点。相当于分别设置pivotX和pivotY属性。</p>\r\n\t*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pivot(...).pos(...);</p>\r\n\t*@param x X轴心点。\r\n\t*@param y Y轴心点。\r\n\t*@return 返回对象本身。\r\n\t*/\r\n\t__proto.pivot=function(x,y){\r\n\t\tthis.pivotX=x;\r\n\t\tthis.pivotY=y;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置宽高。相当于分别设置width和height属性。</p>\r\n\t*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.size(...).pos(...);</p>\r\n\t*@param width 宽度值。\r\n\t*@param hegiht 高度值。\r\n\t*@return 返回对象本身。\r\n\t*/\r\n\t__proto.size=function(width,height){\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置缩放。相当于分别设置scaleX和scaleY属性。</p>\r\n\t*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.scale(...).pos(...);</p>\r\n\t*@param scaleX X轴缩放比例。\r\n\t*@param scaleY Y轴缩放比例。\r\n\t*@param speedMode （可选）是否极速模式，正常是调用this.scaleX=value进行赋值，极速模式直接调用内部函数处理，如果未重写scaleX,scaleY属性，建议设置为急速模式性能更高。\r\n\t*@return 返回对象本身。\r\n\t*/\r\n\t__proto.scale=function(scaleX,scaleY,speedMode){\r\n\t\t(speedMode===void 0)&& (speedMode=false);\r\n\t\tvar style=this.getStyle();\r\n\t\tvar _tf=style._tf;\r\n\t\tif (_tf.scaleX !=scaleX || _tf.scaleY !=scaleY){\r\n\t\t\tif (this.destroyed)return this;\r\n\t\t\tif (speedMode){\r\n\t\t\t\tstyle.setScale(scaleX,scaleY);\r\n\t\t\t\tthis._tfChanged=true;\r\n\t\t\t\tthis.conchModel && this.conchModel.scale(scaleX,scaleY);\r\n\t\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\t\tvar p=this._parent;\r\n\t\t\t\tif (p && p._repaint===0){\r\n\t\t\t\t\tp._repaint=1;\r\n\t\t\t\t\tp.parentRepaint();\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.scaleX=scaleX;\r\n\t\t\t\tthis.scaleY=scaleY;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>设置倾斜角度。相当于分别设置skewX和skewY属性。</p>\r\n\t*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.skew(...).pos(...);</p>\r\n\t*@param skewX 水平倾斜角度。\r\n\t*@param skewY 垂直倾斜角度。\r\n\t*@return 返回对象本身\r\n\t*/\r\n\t__proto.skew=function(skewX,skewY){\r\n\t\tthis.skewX=skewX;\r\n\t\tthis.skewY=skewY;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*更新、呈现显示对象。由系统调用。\r\n\t*@param context 渲染的上下文引用。\r\n\t*@param x X轴坐标。\r\n\t*@param y Y轴坐标。\r\n\t*/\r\n\t__proto.render=function(context,x,y){\r\n\t\tStat.spriteCount++;\r\n\t\tRenderSprite.renders[this._renderType]._fun(this,context,x+this._x,y+this._y);\r\n\t\tthis._repaint=0;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>绘制 当前<code>Sprite</code> 到 <code>Canvas</code> 上，并返回一个HtmlCanvas。</p>\r\n\t*<p>绘制的结果可以当作图片源，再次绘制到其他Sprite里面，示例：</p>\r\n\t*\r\n\t*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面\r\n\t*var texture:Texture=new Texture(htmlCanvas);//使用htmlCanvas创建Texture\r\n\t*var sp:Sprite=new Sprite().pos(0,200);//创建精灵并把它放倒200位置\r\n\t*sp.graphics.drawTexture(texture);//把截图绘制到精灵上\r\n\t*Laya.stage.addChild(sp);//把精灵显示到舞台\r\n\t*\r\n\t*<p>也可以获取原始图片数据，分享到网上，从而实现截图效果，示例：</p>\r\n\t*\r\n\t*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面\r\n\t*\r\n\t*htmlCanvas.toBase64(\"image/png\",0.92,function(base64){//webgl和canvas模式下为同步方法，加速器下是异步方法\r\n\t\t*trace(base64);//打印图片base64信息，可以发给服务器或者保存为图片\r\n\t\t*});\r\n\t*\r\n\t*@param canvasWidth 画布宽度。\r\n\t*@param canvasHeight 画布高度。\r\n\t*@param x 绘制的 X 轴偏移量。\r\n\t*@param y 绘制的 Y 轴偏移量。\r\n\t*@return HTMLCanvas 对象。\r\n\t*/\r\n\t__proto.drawToCanvas=function(canvasWidth,canvasHeight,offsetX,offsetY){\r\n\t\tif (Render.isConchNode){\r\n\t\t\tvar canvas=HTMLCanvas.create(\"2D\");\r\n\t\t\tvar context=new RenderContext(canvasWidth,canvasHeight,canvas);\r\n\t\t\tcontext.ctx.setCanvasType(1);\r\n\t\t\tthis.conchModel.drawToCanvas(canvas.source,offsetX,offsetY);\r\n\t\t\treturn canvas;\r\n\t\t\t}else {\r\n\t\t\treturn RunDriver.drawToCanvas(this,this._renderType,canvasWidth,canvasHeight,offsetX,offsetY);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*<p>自定义更新、呈现显示对象。一般用来扩展渲染模式，请合理使用，可能会导致在加速器上无法渲染。</p>\r\n\t*<p><b>注意</b>不要在此函数内增加或删除树节点，否则会对树节点遍历造成影响。</p>\r\n\t*@param context 渲染的上下文引用。\r\n\t*@param x X轴坐标。\r\n\t*@param y Y轴坐标。\r\n\t*/\r\n\t__proto.customRender=function(context,x,y){\r\n\t\tthis._renderType |=/*laya.renders.RenderSprite.CUSTOM*/0x400;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*应用滤镜。\r\n\t*/\r\n\t__proto._applyFilters=function(){\r\n\t\tif (Render.isWebGL)return;\r\n\t\tvar _filters;\r\n\t\t_filters=this._$P.filters;\r\n\t\tif (!_filters || _filters.length < 1)return;\r\n\t\tfor (var i=0,n=_filters.length;i < n;i++){\r\n\t\t\t_filters[i].action.apply(this._$P.cacheCanvas);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*查看当前原件中是否包含发光滤镜。\r\n\t*@return 一个 Boolean 值，表示当前原件中是否包含发光滤镜。\r\n\t*/\r\n\t__proto._isHaveGlowFilter=function(){\r\n\t\tvar i=0,len=0;\r\n\t\tif (this.filters){\r\n\t\t\tfor (i=0;i < this.filters.length;i++){\r\n\t\t\t\tif (this.filters[i].type==/*laya.filters.Filter.GLOW*/0x08){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i=0,len=this._childs.length;i < len;i++){\r\n\t\t\tif (this._childs[i]._isHaveGlowFilter()){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t*把本地坐标转换为相对stage的全局坐标。\r\n\t*@param point 本地坐标点。\r\n\t*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。\r\n\t*@return 转换后的坐标的点。\r\n\t*/\r\n\t__proto.localToGlobal=function(point,createNewPoint){\r\n\t\t(createNewPoint===void 0)&& (createNewPoint=false);\r\n\t\tif (createNewPoint===true){\r\n\t\t\tpoint=new Point(point.x,point.y);\r\n\t\t};\r\n\t\tvar ele=this;\r\n\t\twhile (ele){\r\n\t\t\tif (ele==Laya.stage)break ;\r\n\t\t\tpoint=ele.toParentPoint(point);\r\n\t\t\tele=ele.parent;\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\t/**\r\n\t*把stage的全局坐标转换为本地坐标。\r\n\t*@param point 全局坐标点。\r\n\t*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。\r\n\t*@return 转换后的坐标的点。\r\n\t*/\r\n\t__proto.globalToLocal=function(point,createNewPoint){\r\n\t\t(createNewPoint===void 0)&& (createNewPoint=false);\r\n\t\tif (createNewPoint){\r\n\t\t\tpoint=new Point(point.x,point.y);\r\n\t\t};\r\n\t\tvar ele=this;\r\n\t\tvar list=[];\r\n\t\twhile (ele){\r\n\t\t\tif (ele==Laya.stage)break ;\r\n\t\t\tlist.push(ele);\r\n\t\t\tele=ele.parent;\r\n\t\t};\r\n\t\tvar i=list.length-1;\r\n\t\twhile (i >=0){\r\n\t\t\tele=list[i];\r\n\t\t\tpoint=ele.fromParentPoint(point);\r\n\t\t\ti--;\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\t/**\r\n\t*将本地坐标系坐标转转换到父容器坐标系。\r\n\t*@param point 本地坐标点。\r\n\t*@return 转换后的点。\r\n\t*/\r\n\t__proto.toParentPoint=function(point){\r\n\t\tif (!point)return point;\r\n\t\tpoint.x-=this.pivotX;\r\n\t\tpoint.y-=this.pivotY;\r\n\t\tif (this.transform){\r\n\t\t\tthis._transform.transformPoint(point);\r\n\t\t}\r\n\t\tpoint.x+=this._x;\r\n\t\tpoint.y+=this._y;\r\n\t\tvar scroll=this._style.scrollRect;\r\n\t\tif (scroll){\r\n\t\t\tpoint.x-=scroll.x;\r\n\t\t\tpoint.y-=scroll.y;\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\t/**\r\n\t*将父容器坐标系坐标转换到本地坐标系。\r\n\t*@param point 父容器坐标点。\r\n\t*@return 转换后的点。\r\n\t*/\r\n\t__proto.fromParentPoint=function(point){\r\n\t\tif (!point)return point;\r\n\t\tpoint.x-=this._x;\r\n\t\tpoint.y-=this._y;\r\n\t\tvar scroll=this._style.scrollRect;\r\n\t\tif (scroll){\r\n\t\t\tpoint.x+=scroll.x;\r\n\t\t\tpoint.y+=scroll.y;\r\n\t\t}\r\n\t\tif (this.transform){\r\n\t\t\tthis._transform.invertTransformPoint(point);\r\n\t\t}\r\n\t\tpoint.x+=this.pivotX;\r\n\t\tpoint.y+=this.pivotY;\r\n\t\treturn point;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>\r\n\t*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.on=function(type,caller,listener,args){\r\n\t\tif (this._mouseEnableState!==1 && this.isMouseEvent(type)){\r\n\t\t\tthis.mouseEnabled=true;\r\n\t\t\tthis._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);\r\n\t\t\tif (this._parent){\r\n\t\t\t\tthis._$2__onDisplay();\r\n\t\t\t}\r\n\t\t\treturn this._createListener(type,caller,listener,args,false);\r\n\t\t}\r\n\t\treturn _super.prototype.on.call(this,type,caller,listener,args);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>\r\n\t*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>\r\n\t*@param type 事件的类型。\r\n\t*@param caller 事件侦听函数的执行域。\r\n\t*@param listener 事件侦听函数。\r\n\t*@param args （可选）事件侦听函数的回调参数。\r\n\t*@return 此 EventDispatcher 对象。\r\n\t*/\r\n\t__proto.once=function(type,caller,listener,args){\r\n\t\tif (this._mouseEnableState!==1 && this.isMouseEvent(type)){\r\n\t\t\tthis.mouseEnabled=true;\r\n\t\t\tthis._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);\r\n\t\t\tif (this._parent){\r\n\t\t\t\tthis._$2__onDisplay();\r\n\t\t\t}\r\n\t\t\treturn this._createListener(type,caller,listener,args,true);\r\n\t\t}\r\n\t\treturn _super.prototype.once.call(this,type,caller,listener,args);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._$2__onDisplay=function(){\r\n\t\tif (this._mouseEnableState!==1){\r\n\t\t\tvar ele=this;\r\n\t\t\tele=ele.parent;\r\n\t\t\twhile (ele && ele._mouseEnableState!==1){\r\n\t\t\t\tif (ele._getBit(/*laya.display.Node.MOUSEENABLE*/0x2))break ;\r\n\t\t\t\tele.mouseEnabled=true;\r\n\t\t\t\tele._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);\r\n\t\t\t\tele=ele.parent;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*<p>加载并显示一个图片。功能等同于graphics.loadImage方法。支持异步加载。</p>\r\n\t*<p>注意：多次调用loadImage绘制不同的图片，会同时显示。</p>\r\n\t*@param url 图片地址。\r\n\t*@param x （可选）显示图片的x位置。\r\n\t*@param y （可选）显示图片的y位置。\r\n\t*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。\r\n\t*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。\r\n\t*@param complete （可选）加载完成回调。\r\n\t*@return 返回精灵对象本身。\r\n\t*/\r\n\t__proto.loadImage=function(url,x,y,width,height,complete){\r\n\t\tvar _$this=this;\r\n\t\t(x===void 0)&& (x=0);\r\n\t\t(y===void 0)&& (y=0);\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\tfunction loaded (tex){\r\n\t\t\tif (!_$this.destroyed){\r\n\t\t\t\t_$this.size(x+(width || tex.width),y+(height || tex.height));\r\n\t\t\t\t_$this.repaint();\r\n\t\t\t\tcomplete && complete.runWith(tex);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.graphics.loadImage(url,x,y,width,height,loaded);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**cacheAs后，设置自己和父对象缓存失效。*/\r\n\t__proto.repaint=function(){\r\n\t\tthis.conchModel && this.conchModel.repaint && this.conchModel.repaint();\r\n\t\tif (this._repaint===0){\r\n\t\t\tthis._repaint=1;\r\n\t\t\tthis.parentRepaint();\r\n\t\t}\r\n\t\tif (this._$P && this._$P.maskParent){\r\n\t\t\tthis._$P.maskParent.repaint();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取是否重新缓存。\r\n\t*@return 如果重新缓存值为 true，否则值为 false。\r\n\t*/\r\n\t__proto._needRepaint=function(){\r\n\t\treturn (this._repaint!==0)&& this._$P.cacheCanvas && this._$P.cacheCanvas.reCache;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._childChanged=function(child){\r\n\t\tif (this._childs.length)this._renderType |=/*laya.renders.RenderSprite.CHILDS*/0x800;\r\n\t\telse this._renderType &=~ /*laya.renders.RenderSprite.CHILDS*/0x800;\r\n\t\tif (child && this._get$P(\"hasZorder\"))Laya.timer.callLater(this,this.updateZOrder);\r\n\t\tthis.repaint();\r\n\t}\r\n\r\n\t/**cacheAs时，设置所有父对象缓存失效。 */\r\n\t__proto.parentRepaint=function(){\r\n\t\tvar p=this._parent;\r\n\t\tif (p && p._repaint===0){\r\n\t\t\tp._repaint=1;\r\n\t\t\tp.parentRepaint();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*开始拖动此对象。\r\n\t*@param area （可选）拖动区域，此区域为当前对象注册点活动区域（不包括对象宽高），可选。\r\n\t*@param hasInertia （可选）鼠标松开后，是否还惯性滑动，默认为false，可选。\r\n\t*@param elasticDistance （可选）橡皮筋效果的距离值，0为无橡皮筋效果，默认为0，可选。\r\n\t*@param elasticBackTime （可选）橡皮筋回弹时间，单位为毫秒，默认为300毫秒，可选。\r\n\t*@param data （可选）拖动事件携带的数据，可选。\r\n\t*@param disableMouseEvent （可选）禁用其他对象的鼠标检测，默认为false，设置为true能提高性能。\r\n\t*@param ratio （可选）惯性阻尼系数，影响惯性力度和时长。\r\n\t*/\r\n\t__proto.startDrag=function(area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){\r\n\t\t(hasInertia===void 0)&& (hasInertia=false);\r\n\t\t(elasticDistance===void 0)&& (elasticDistance=0);\r\n\t\t(elasticBackTime===void 0)&& (elasticBackTime=300);\r\n\t\t(disableMouseEvent===void 0)&& (disableMouseEvent=false);\r\n\t\t(ratio===void 0)&& (ratio=0.92);\r\n\t\tthis._$P.dragging || (this._set$P(\"dragging\",new Dragging()));\r\n\t\tthis._$P.dragging.start(this,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio);\r\n\t}\r\n\r\n\t/**停止拖动此对象。*/\r\n\t__proto.stopDrag=function(){\r\n\t\tthis._$P.dragging && this._$P.dragging.stop();\r\n\t}\r\n\r\n\t__proto._releaseMem=function(){\r\n\t\tif (!this._$P)return;\r\n\t\tvar cc=this._$P.cacheCanvas;\r\n\t\tif (cc && cc.ctx){\r\n\t\t\tPool.recover(\"RenderContext\",cc.ctx);\r\n\t\t\tcc.ctx.canvas.size(0,0);\r\n\t\t\tcc.ctx=null;\r\n\t\t};\r\n\t\tvar fc=this._$P._filterCache;\r\n\t\tif (fc){\r\n\t\t\tfc.destroy();\r\n\t\t\tfc.recycle();\r\n\t\t\tthis._set$P('_filterCache',null);\r\n\t\t}\r\n\t\tthis._$P._isHaveGlowFilter && this._set$P('_isHaveGlowFilter',false);\r\n\t\tthis._$P._isHaveGlowFilter=null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setDisplay=function(value){\r\n\t\tif (!value)this._releaseMem();\r\n\t\t_super.prototype._setDisplay.call(this,value);\r\n\t}\r\n\r\n\t/**\r\n\t*检测某个点是否在此对象内。\r\n\t*@param x 全局x坐标。\r\n\t*@param y 全局y坐标。\r\n\t*@return 表示是否在对象内。\r\n\t*/\r\n\t__proto.hitTestPoint=function(x,y){\r\n\t\tvar point=this.globalToLocal(Point.TEMP.setTo(x,y));\r\n\t\tx=point.x;\r\n\t\ty=point.y;\r\n\t\tvar rect=this._$P.hitArea ? this._$P.hitArea :(this._width > 0 && this._height > 0)? Rectangle.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds();\r\n\t\treturn rect.contains(x,y);\r\n\t}\r\n\r\n\t/**获得相对于本对象上的鼠标坐标信息。*/\r\n\t__proto.getMousePoint=function(){\r\n\t\treturn this.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getWords=function(){\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._addChildsToLayout=function(out){\r\n\t\tvar words=this._getWords();\r\n\t\tif (words==null && this._childs.length==0)return false;\r\n\t\tif (words){\r\n\t\t\tfor (var i=0,n=words.length;i < n;i++){\r\n\t\t\t\tout.push(words[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._childs.forEach(function(o,index,array){\r\n\t\t\to._style._enableLayout()&& o._addToLayout(out);\r\n\t\t});\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._addToLayout=function(out){\r\n\t\tif (this._style.absolute)return;\r\n\t\tthis._style.block ? out.push(this):(this._addChildsToLayout(out)&& (this.x=this.y=0));\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._isChar=function(){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getCSSStyle=function(){\r\n\t\treturn this._style.getCSSStyle();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*设置指定属性名的属性值。\r\n\t*@param name 属性名。\r\n\t*@param value 属性值。\r\n\t*/\r\n\t__proto._setAttributes=function(name,value){\r\n\t\tswitch (name){\r\n\t\t\tcase 'x':\r\n\t\t\t\tthis.x=parseFloat(value);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'y':\r\n\t\t\t\tthis.y=parseFloat(value);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'width':\r\n\t\t\t\tthis.width=parseFloat(value);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'height':\r\n\t\t\t\tthis.height=parseFloat(value);\r\n\t\t\t\tbreak ;\r\n\t\t\tdefault :\r\n\t\t\t\tthis[name]=value;\r\n\t\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._layoutLater=function(){\r\n\t\tthis.parent && (this.parent)._layoutLater();\r\n\t}\r\n\r\n\t/**\r\n\t*<p>指定是否对使用了 scrollRect 的显示对象进行优化处理。默认为false(不优化)。</p>\r\n\t*<p>当值为ture时：将对此对象使用了scrollRect 设定的显示区域以外的显示内容不进行渲染，以提高性能(如果子对象有旋转缩放或者中心点偏移，则显示筛选会不精确)。</p>\r\n\t*/\r\n\t__getset(0,__proto,'optimizeScrollRect',function(){\r\n\t\treturn this._optimizeScrollRect;\r\n\t\t},function(b){\r\n\t\tif (this._optimizeScrollRect !=b){\r\n\t\t\tthis._optimizeScrollRect=b;\r\n\t\t\tthis.conchModel && this.conchModel.optimizeScrollRect(b);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*设置是否开启自定义渲染，只有开启自定义渲染，才能使用customRender函数渲染。\r\n\t*/\r\n\t__getset(0,__proto,'customRenderEnable',null,function(b){\r\n\t\tif (b){\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.CUSTOM*/0x400;\r\n\t\t\tif (Render.isConchNode){\r\n\t\t\t\tSprite.CustomList.push(this);\r\n\t\t\t\tvar canvas=new HTMLCanvas(\"2d\");\r\n\t\t\t\tcanvas._setContext(/*__JS__ */new CanvasRenderingContext2D());\r\n\t\t\t\t/*__JS__ */this.customContext=new RenderContext(0,0,canvas);\r\n\t\t\t\tcanvas.context.setCanvasType && canvas.context.setCanvasType(2);\r\n\t\t\t\tthis.conchModel.custom(canvas.context);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*指定显示对象是否缓存为静态图像。功能同cacheAs的normal模式。建议优先使用cacheAs代替。\r\n\t*/\r\n\t__getset(0,__proto,'cacheAsBitmap',function(){\r\n\t\treturn this.cacheAs!==\"none\";\r\n\t\t},function(value){\r\n\t\tthis.cacheAs=value ? (this._$P[\"hasFilter\"] ? \"none\" :\"normal\"):\"none\";\r\n\t});\r\n\r\n\t/**\r\n\t*<p>指定显示对象是否缓存为静态图像，cacheAs时，子对象发生变化，会自动重新缓存，同时也可以手动调用reCache方法更新缓存。</p>\r\n\t*<p>建议把不经常变化的“复杂内容”缓存为静态图像，能极大提高渲染性能。cacheAs有\"none\"，\"normal\"和\"bitmap\"三个值可选。\r\n\t*<li>默认为\"none\"，不做任何缓存。</li>\r\n\t*<li>当值为\"normal\"时，canvas模式下进行画布缓存，webgl模式下进行命令缓存。</li>\r\n\t*<li>当值为\"bitmap\"时，canvas模式下进行依然是画布缓存，webgl模式下使用renderTarget缓存。</li></p>\r\n\t*<p>webgl下renderTarget缓存模式缺点：会额外创建renderTarget对象，增加内存开销，缓存面积有最大2048限制，不断重绘时会增加CPU开销。优点：大幅减少drawcall，渲染性能最高。\r\n\t*webgl下命令缓存模式缺点：只会减少节点遍历及命令组织，不会减少drawcall数，性能中等。优点：没有额外内存开销，无需renderTarget支持。</p>\r\n\t*/\r\n\t__getset(0,__proto,'cacheAs',function(){\r\n\t\treturn this._$P.cacheCanvas==null ? \"none\" :this._$P.cacheCanvas.type;\r\n\t\t},function(value){\r\n\t\tvar cacheCanvas=this._$P.cacheCanvas;\r\n\t\tif (value===(cacheCanvas ? cacheCanvas.type :\"none\"))return;\r\n\t\tif (value!==\"none\"){\r\n\t\t\tif (!this._getBit(/*laya.display.Node.NOTICE_DISPLAY*/0x1))this._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);\r\n\t\t\tcacheCanvas || (cacheCanvas=this._set$P(\"cacheCanvas\",Pool.getItemByClass(\"cacheCanvas\",Object)));\r\n\t\t\tcacheCanvas.type=value;\r\n\t\t\tcacheCanvas.reCache=true;\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.CANVAS*/0x10;\r\n\t\t\tif (value==\"bitmap\")this.conchModel && this.conchModel.cacheAs(1);\r\n\t\t\tthis._set$P(\"cacheForFilters\",false);\r\n\t\t\t}else {\r\n\t\t\tif (this._$P[\"_mask\"]){\r\n\t\t\t}else\r\n\t\t\tif (this._$P[\"hasFilter\"]){\r\n\t\t\t\tthis._set$P(\"cacheForFilters\",true);\r\n\t\t\t\t}else {\r\n\t\t\t\tif (cacheCanvas){\r\n\t\t\t\t\tvar cc=cacheCanvas;\r\n\t\t\t\t\tif (cc && cc.ctx){\r\n\t\t\t\t\t\tPool.recover(\"RenderContext\",cc.ctx);\r\n\t\t\t\t\t\tcc.ctx.canvas.size(0,0);\r\n\t\t\t\t\t\tcc.ctx=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPool.recover(\"cacheCanvas\",cacheCanvas);\r\n\t\t\t\t}\r\n\t\t\t\tthis._$P.cacheCanvas=null;\r\n\t\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.CANVAS*/0x10;\r\n\t\t\t\tthis.conchModel && this.conchModel.cacheAs(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.repaint();\r\n\t});\r\n\r\n\t/**z排序，更改此值，则会按照值的大小对同一容器的所有对象重新排序。值越大，越靠上。默认为0，则根据添加顺序排序。*/\r\n\t__getset(0,__proto,'zOrder',function(){\r\n\t\treturn this._zOrder;\r\n\t\t},function(value){\r\n\t\tif (this._zOrder !=value){\r\n\t\t\tthis._zOrder=value;\r\n\t\t\tthis.conchModel && this.conchModel.setZOrder && this.conchModel.setZOrder(value);\r\n\t\t\tif (this._parent){\r\n\t\t\t\tvalue && this._parent._set$P(\"hasZorder\",true);\r\n\t\t\t\tLaya.timer.callLater(this._parent,this.updateZOrder);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**旋转角度，默认值为0。以角度为单位。*/\r\n\t__getset(0,__proto,'rotation',function(){\r\n\t\treturn this._style._tf.rotate;\r\n\t\t},function(value){\r\n\t\tvar style=this.getStyle();\r\n\t\tif (style._tf.rotate!==value){\r\n\t\t\tstyle.setRotate(value);\r\n\t\t\tthis._tfChanged=true;\r\n\t\t\tthis.conchModel && this.conchModel.rotate(value);\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>显示对象的宽度，单位为像素，默认为0。</p>\r\n\t*<p>此宽度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>\r\n\t*<p>可以通过getbounds获取显示对象图像的实际宽度。</p>\r\n\t*/\r\n\t__getset(0,__proto,'width',function(){\r\n\t\tif (!this.autoSize)return this._width;\r\n\t\treturn this.getSelfBounds().width;\r\n\t\t},function(value){\r\n\t\tif (this._width!==value){\r\n\t\t\tthis._width=value;\r\n\t\t\tthis.conchModel && this.conchModel.size(value,this._height)\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t});\r\n\r\n\t/**表示显示对象相对于父容器的水平方向坐标值。*/\r\n\t__getset(0,__proto,'x',function(){\r\n\t\treturn this._x;\r\n\t\t},function(value){\r\n\t\tif (this._x!==value){\r\n\t\t\tif (this.destroyed)return;\r\n\t\t\tthis._x=value;\r\n\t\t\tthis.conchModel && this.conchModel.pos(value,this._y);\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t\tif (this._$P.maskParent && this._$P.maskParent._repaint===0){\r\n\t\t\t\tthis._$P.maskParent._repaint=1;\r\n\t\t\t\tthis._$P.maskParent.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*获得相对于stage的全局Y轴缩放值（会叠加父亲节点的缩放值）。\r\n\t*/\r\n\t__getset(0,__proto,'globalScaleY',function(){\r\n\t\tvar scale=1;\r\n\t\tvar ele=this;\r\n\t\twhile (ele){\r\n\t\t\tif (ele===Laya.stage)break ;\r\n\t\t\tscale *=ele.scaleY;\r\n\t\t\tele=ele.parent;\r\n\t\t}\r\n\t\treturn scale;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>可以设置一个Rectangle区域作为点击区域，或者设置一个<code>HitArea</code>实例作为点击区域，HitArea内可以设置可点击和不可点击区域。</p>\r\n\t*<p>如果不设置hitArea，则根据宽高形成的区域进行碰撞。</p>\r\n\t*/\r\n\t__getset(0,__proto,'hitArea',function(){\r\n\t\treturn this._$P.hitArea;\r\n\t\t},function(value){\r\n\t\tthis._set$P(\"hitArea\",value);\r\n\t});\r\n\r\n\t/**\r\n\t*是否静态缓存此对象的当前帧的最终属性。为 true 时，子对象变化时不会自动更新缓存，但是可以通过调用 reCache 方法手动刷新。\r\n\t*<b>注意：</b> 1. 设置 cacheAs 为非空和非\"none\"时才有效。 2. 由于渲染的时机在脚本执行之后，也就是说当前帧渲染的是对象的最终属性，所以如果在当前帧渲染之前、设置静态缓存之后改变对象属性，则最终渲染结果表现的是对象的最终属性。\r\n\t*/\r\n\t__getset(0,__proto,'staticCache',function(){\r\n\t\treturn this._$P.staticCache;\r\n\t\t},function(value){\r\n\t\tthis._set$P(\"staticCache\",value);\r\n\t\tif (!value)this.reCache();\r\n\t});\r\n\r\n\t/**设置一个Texture实例，并显示此图片（如果之前有其他绘制，则会被清除掉）。等同于graphics.clear();graphics.drawTexture()*/\r\n\t__getset(0,__proto,'texture',function(){\r\n\t\treturn this._texture;\r\n\t\t},function(value){\r\n\t\tif (this._texture !=value){\r\n\t\t\tthis._texture=value;\r\n\t\t\tthis.graphics.cleanByTexture(value,0,0);\r\n\t\t}\r\n\t});\r\n\r\n\t/**表示显示对象相对于父容器的垂直方向坐标值。*/\r\n\t__getset(0,__proto,'y',function(){\r\n\t\treturn this._y;\r\n\t\t},function(value){\r\n\t\tif (this._y!==value){\r\n\t\t\tif (this.destroyed)return;\r\n\t\t\tthis._y=value;\r\n\t\t\tthis.conchModel && this.conchModel.pos(this._x,value);\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t\tif (this._$P.maskParent && this._$P.maskParent._repaint===0){\r\n\t\t\t\tthis._$P.maskParent._repaint=1;\r\n\t\t\t\tthis._$P.maskParent.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>显示对象的高度，单位为像素，默认为0。</p>\r\n\t*<p>此高度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>\r\n\t*<p>可以通过getbounds获取显示对象图像的实际高度。</p>\r\n\t*/\r\n\t__getset(0,__proto,'height',function(){\r\n\t\tif (!this.autoSize)return this._height;\r\n\t\treturn this.getSelfBounds().height;\r\n\t\t},function(value){\r\n\t\tif (this._height!==value){\r\n\t\t\tthis._height=value;\r\n\t\t\tthis.conchModel && this.conchModel.size(this._width,value);\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t});\r\n\r\n\t/**指定要使用的混合模式。目前只支持\"lighter\"。*/\r\n\t__getset(0,__proto,'blendMode',function(){\r\n\t\treturn this._style.blendMode;\r\n\t\t},function(value){\r\n\t\tthis.getStyle().blendMode=value;\r\n\t\tthis.conchModel && this.conchModel.blendMode(value);\r\n\t\tif (value && value !=\"source-over\")this._renderType |=/*laya.renders.RenderSprite.BLEND*/0x08;\r\n\t\telse this._renderType &=~ /*laya.renders.RenderSprite.BLEND*/0x08;\r\n\t\tthis.parentRepaint();\r\n\t});\r\n\r\n\t/**X轴缩放值，默认值为1。设置为负数，可以实现水平反转效果，比如scaleX=-1。*/\r\n\t__getset(0,__proto,'scaleX',function(){\r\n\t\treturn this._style._tf.scaleX;\r\n\t\t},function(value){\r\n\t\tvar style=this.getStyle();\r\n\t\tif (style._tf.scaleX!==value){\r\n\t\t\tstyle.setScaleX(value);\r\n\t\t\tthis._tfChanged=true;\r\n\t\t\tthis.conchModel && this.conchModel.scale(value,style._tf.scaleY);\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**Y轴缩放值，默认值为1。设置为负数，可以实现垂直反转效果，比如scaleX=-1。*/\r\n\t__getset(0,__proto,'scaleY',function(){\r\n\t\treturn this._style._tf.scaleY;\r\n\t\t},function(value){\r\n\t\tvar style=this.getStyle();\r\n\t\tif (style._tf.scaleY!==value){\r\n\t\t\tstyle.setScaleY(value);\r\n\t\t\tthis._tfChanged=true;\r\n\t\t\tthis.conchModel && this.conchModel.scale(style._tf.scaleX,value);\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**对舞台 <code>stage</code> 的引用。*/\r\n\t__getset(0,__proto,'stage',function(){\r\n\t\treturn Laya.stage;\r\n\t});\r\n\r\n\t/**水平倾斜角度，默认值为0。以角度为单位。*/\r\n\t__getset(0,__proto,'skewX',function(){\r\n\t\treturn this._style._tf.skewX;\r\n\t\t},function(value){\r\n\t\tvar style=this.getStyle();\r\n\t\tif (style._tf.skewX!==value){\r\n\t\t\tstyle.setSkewX(value);\r\n\t\t\tthis._tfChanged=true;\r\n\t\t\tthis.conchModel && this.conchModel.skew(value,style._tf.skewY);\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>显示对象的滚动矩形范围，具有裁剪效果(如果只想限制子对象渲染区域，请使用viewport)，设置optimizeScrollRect=true，可以优化裁剪区域外的内容不进行渲染。</p>\r\n\t*<p> srollRect和viewport的区别：<br/>\r\n\t*1.srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>\r\n\t*2.设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>\r\n\t*/\r\n\t__getset(0,__proto,'scrollRect',function(){\r\n\t\treturn this._style.scrollRect;\r\n\t\t},function(value){\r\n\t\tthis.getStyle().scrollRect=value;\r\n\t\tthis.repaint();\r\n\t\tif (value){\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.CLIP*/0x80;\r\n\t\t\tthis.conchModel && this.conchModel.scrollRect(value.x,value.y,value.width,value.height);\r\n\t\t\t}else {\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.CLIP*/0x80;\r\n\t\t\tif (this.conchModel){\r\n\t\t\t\tif (Sprite.RUNTIMEVERION < \"0.9.1\")\r\n\t\t\t\t\tthis.conchModel.removeType(0x40);\r\n\t\t\t\telse\r\n\t\t\t\tthis.conchModel.removeType(/*laya.renders.RenderSprite.CLIP*/0x80);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**垂直倾斜角度，默认值为0。以角度为单位。*/\r\n\t__getset(0,__proto,'skewY',function(){\r\n\t\treturn this._style._tf.skewY;\r\n\t\t},function(value){\r\n\t\tvar style=this.getStyle();\r\n\t\tif (style._tf.skewY!==value){\r\n\t\t\tstyle.setSkewY(value);\r\n\t\t\tthis._tfChanged=true;\r\n\t\t\tthis.conchModel && this.conchModel.skew(style._tf.skewX,value);\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tvar p=this._parent;\r\n\t\t\tif (p && p._repaint===0){\r\n\t\t\t\tp._repaint=1;\r\n\t\t\t\tp.parentRepaint();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>对象的矩阵信息。通过设置矩阵可以实现节点旋转，缩放，位移效果。</p>\r\n\t*<p>矩阵更多信息请参考 <code>Matrix</code></p>\r\n\t*/\r\n\t__getset(0,__proto,'transform',function(){\r\n\t\treturn this._tfChanged ? this._adjustTransform():this._transform;\r\n\t\t},function(value){\r\n\t\tthis._tfChanged=false;\r\n\t\tthis._transform=value;\r\n\t\tif (value){\r\n\t\t\tthis._x=value.tx;\r\n\t\t\tthis._y=value.ty;\r\n\t\t\tvalue.tx=value.ty=0;\r\n\t\t\tthis.conchModel && this.conchModel.transform(value.a,value.b,value.c,value.d,this._x,this._y);\r\n\t\t}\r\n\t\tif (value)this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\telse {\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.TRANSFORM*/0x04;\r\n\t\t\tthis.conchModel && this.conchModel.removeType(/*laya.renders.RenderSprite.TRANSFORM*/0x04);\r\n\t\t}\r\n\t\tthis.parentRepaint();\r\n\t});\r\n\r\n\t/**X轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/\r\n\t__getset(0,__proto,'pivotX',function(){\r\n\t\treturn this._style._tf.translateX;\r\n\t\t},function(value){\r\n\t\tthis.getStyle().setTranslateX(value);\r\n\t\tthis.conchModel && this.conchModel.pivot(value,this._style._tf.translateY);\r\n\t\tthis.repaint();\r\n\t});\r\n\r\n\t/**Y轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/\r\n\t__getset(0,__proto,'pivotY',function(){\r\n\t\treturn this._style._tf.translateY;\r\n\t\t},function(value){\r\n\t\tthis.getStyle().setTranslateY(value);\r\n\t\tthis.conchModel && this.conchModel.pivot(this._style._tf.translateX,value);\r\n\t\tthis.repaint();\r\n\t});\r\n\r\n\t/**透明度，值为0-1，默认值为1，表示不透明。更改alpha值会影响drawcall。*/\r\n\t__getset(0,__proto,'alpha',function(){\r\n\t\treturn this._style.alpha;\r\n\t\t},function(value){\r\n\t\tif (this._style && this._style.alpha!==value){\r\n\t\t\tvalue=value < 0 ? 0 :(value > 1 ? 1 :value);\r\n\t\t\tthis.getStyle().alpha=value;\r\n\t\t\tthis.conchModel && this.conchModel.alpha(value);\r\n\t\t\tif (value!==1)this._renderType |=/*laya.renders.RenderSprite.ALPHA*/0x02;\r\n\t\t\telse this._renderType &=~ /*laya.renders.RenderSprite.ALPHA*/0x02;\r\n\t\t\tthis.parentRepaint();\r\n\t\t}\r\n\t});\r\n\r\n\t/**表示是否可见，默认为true。如果设置不可见，节点将不被渲染。*/\r\n\t__getset(0,__proto,'visible',function(){\r\n\t\treturn this._style.visible;\r\n\t\t},function(value){\r\n\t\tif (this._style && this._style.visible!==value){\r\n\t\t\tthis.getStyle().visible=value;\r\n\t\t\tthis.conchModel && this.conchModel.visible(value);\r\n\t\t\tthis.parentRepaint();\r\n\t\t}\r\n\t});\r\n\r\n\t/**绘图对象。封装了绘制位图和矢量图的接口，Sprite所有的绘图操作都通过Graphics来实现的。*/\r\n\t__getset(0,__proto,'graphics',function(){\r\n\t\treturn this._graphics || (this.graphics=RunDriver.createGraphics());\r\n\t\t},function(value){\r\n\t\tif (this._graphics)this._graphics._sp=null;\r\n\t\tthis._graphics=value;\r\n\t\tif (value){\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01;\r\n\t\t\tthis._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200;\r\n\t\t\tvalue._sp=this;\r\n\t\t\tthis.conchModel && this.conchModel.graphics(this._graphics);\r\n\t\t\t}else {\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.GRAPHICS*/0x200;\r\n\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01;\r\n\t\t\tif (this.conchModel){\r\n\t\t\t\tif (Sprite.RUNTIMEVERION < \"0.9.1\")\r\n\t\t\t\t\tthis.conchModel.removeType(0x100);\r\n\t\t\t\telse\r\n\t\t\t\tthis.conchModel.removeType(/*laya.renders.RenderSprite.GRAPHICS*/0x200);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.repaint();\r\n\t});\r\n\r\n\t/**滤镜集合。可以设置多个滤镜组合。*/\r\n\t__getset(0,__proto,'filters',function(){\r\n\t\treturn this._$P.filters;\r\n\t\t},function(value){\r\n\t\tvalue && value.length===0 && (value=null);\r\n\t\tif (this._$P.filters==value)return;\r\n\t\tthis._set$P(\"filters\",value ? value.slice():null);\r\n\t\tif (Render.isConchApp){\r\n\t\t\tif (this.conchModel){\r\n\t\t\t\tif (Sprite.RUNTIMEVERION < \"0.9.1\")\r\n\t\t\t\t\tthis.conchModel.removeType(0x10);\r\n\t\t\t\telse\r\n\t\t\t\tthis.conchModel.removeType(/*laya.renders.RenderSprite.FILTERS*/0x20);\r\n\t\t\t}\r\n\t\t\tif (this._$P.filters && this._$P.filters.length==1){\r\n\t\t\t\tthis._$P.filters[0].callNative(this);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Render.isWebGL){\r\n\t\t\tif (value && value.length){\r\n\t\t\t\tthis._renderType |=/*laya.renders.RenderSprite.FILTERS*/0x20;\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._renderType &=~ /*laya.renders.RenderSprite.FILTERS*/0x20;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (value && value.length > 0){\r\n\t\t\tif (!this._getBit(/*laya.display.Node.NOTICE_DISPLAY*/0x1))this._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);\r\n\t\t\tif (!(Render.isWebGL && value.length==1 && (((value[0])instanceof laya.filters.ColorFilter )))){\r\n\t\t\t\tif (this.cacheAs !=\"bitmap\"){\r\n\t\t\t\t\tif (!Render.isConchNode)this.cacheAs=\"bitmap\";\r\n\t\t\t\t\tthis._set$P(\"cacheForFilters\",true);\r\n\t\t\t\t}\r\n\t\t\t\tthis._set$P(\"hasFilter\",true);\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis._set$P(\"hasFilter\",false);\r\n\t\t\tif (this._$P[\"cacheForFilters\"] && this.cacheAs==\"bitmap\"){\r\n\t\t\t\tthis.cacheAs=\"none\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.repaint();\r\n\t});\r\n\r\n\t__getset(0,__proto,'parent',_super.prototype._$get_parent,function(value){\r\n\t\tLaya.superSet(Node,this,'parent',value);\r\n\t\tif (value && this._getBit(/*laya.display.Node.MOUSEENABLE*/0x2)){\r\n\t\t\tthis._$2__onDisplay();\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>遮罩，可以设置一个对象(支持位图和矢量图)，根据对象形状进行遮罩显示。</p>\r\n\t*<p>【注意】遮罩对象坐标系是相对遮罩对象本身的，和Flash机制不同</p>\r\n\t*/\r\n\t__getset(0,__proto,'mask',function(){\r\n\t\treturn this._$P._mask;\r\n\t\t},function(value){\r\n\t\tif (value && this.mask && this.mask._$P.maskParent)return;\r\n\t\tif (value){\r\n\t\t\tthis.cacheAs=\"bitmap\";\r\n\t\t\tthis._set$P(\"_mask\",value);\r\n\t\t\tvalue._set$P(\"maskParent\",this);\r\n\t\t\t}else {\r\n\t\t\tthis.mask && this.mask._set$P(\"maskParent\",null);\r\n\t\t\tthis._set$P(\"_mask\",value);\r\n\t\t\tthis.cacheAs=\"none\";\r\n\t\t}\r\n\t\tthis.conchModel && this.conchModel.mask(value ? value.conchModel :null);\r\n\t\tthis._renderType |=/*laya.renders.RenderSprite.MASK*/0x40;\r\n\t\tthis.parentRepaint();\r\n\t});\r\n\r\n\t/**\r\n\t*是否接受鼠标事件。\r\n\t*默认为false，如果监听鼠标事件，则会自动设置本对象及父节点的属性 mouseEnable 的值都为 true（如果父节点手动设置为false，则不会更改）。\r\n\t**/\r\n\t__getset(0,__proto,'mouseEnabled',function(){\r\n\t\treturn this._mouseEnableState > 1;\r\n\t\t},function(value){\r\n\t\tthis._mouseEnableState=value ? 2 :1;\r\n\t});\r\n\r\n\t/**\r\n\t*获得相对于stage的全局X轴缩放值（会叠加父亲节点的缩放值）。\r\n\t*/\r\n\t__getset(0,__proto,'globalScaleX',function(){\r\n\t\tvar scale=1;\r\n\t\tvar ele=this;\r\n\t\twhile (ele){\r\n\t\t\tif (ele===Laya.stage)break ;\r\n\t\t\tscale *=ele.scaleX;\r\n\t\t\tele=ele.parent;\r\n\t\t}\r\n\t\treturn scale;\r\n\t});\r\n\r\n\t/**\r\n\t*返回鼠标在此对象坐标系上的 X 轴坐标信息。\r\n\t*/\r\n\t__getset(0,__proto,'mouseX',function(){\r\n\t\treturn this.getMousePoint().x;\r\n\t});\r\n\r\n\t/**\r\n\t*返回鼠标在此对象坐标系上的 Y 轴坐标信息。\r\n\t*/\r\n\t__getset(0,__proto,'mouseY',function(){\r\n\t\treturn this.getMousePoint().y;\r\n\t});\r\n\r\n\tSprite.fromImage=function(url){\r\n\t\treturn new Sprite().loadImage(url);\r\n\t}\r\n\r\n\tSprite.CustomList=[];\r\n\t__static(Sprite,\r\n\t['RUNTIMEVERION',function(){return this.RUNTIMEVERION=/*__JS__ */window.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf('-')+1):'';}\r\n\t]);\r\n\treturn Sprite;\r\n})(Node)\r\n\r\n\r\n/**\r\n*@private\r\n*audio标签播放声音的音轨控制\r\n*/\r\n//class laya.media.h5audio.AudioSoundChannel extends laya.media.SoundChannel\r\nvar AudioSoundChannel=(function(_super){\r\n\tfunction AudioSoundChannel(audio){\r\n\t\t/**\r\n\t\t*播放用的audio标签\r\n\t\t*/\r\n\t\tthis._audio=null;\r\n\t\tthis._onEnd=null;\r\n\t\tthis._resumePlay=null;\r\n\t\tAudioSoundChannel.__super.call(this);\r\n\t\tthis._onEnd=Utils.bind(this.__onEnd,this);\r\n\t\tthis._resumePlay=Utils.bind(this.__resumePlay,this);\r\n\t\taudio.addEventListener(\"ended\",this._onEnd);\r\n\t\tthis._audio=audio;\r\n\t}\r\n\r\n\t__class(AudioSoundChannel,'laya.media.h5audio.AudioSoundChannel',_super);\r\n\tvar __proto=AudioSoundChannel.prototype;\r\n\t__proto.__onEnd=function(){\r\n\t\tif (this.loops==1){\r\n\t\t\tif (this.completeHandler){\r\n\t\t\t\tLaya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);\r\n\t\t\t\tthis.completeHandler=null;\r\n\t\t\t}\r\n\t\t\tthis.stop();\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.loops > 0){\r\n\t\t\tthis.loops--;\r\n\t\t}\r\n\t\tthis.startTime=0;\r\n\t\tthis.play();\r\n\t}\r\n\r\n\t__proto.__resumePlay=function(){\r\n\t\tif(this._audio)this._audio.removeEventListener(\"canplay\",this._resumePlay);\r\n\t\ttry {\r\n\t\t\tthis._audio.currentTime=this.startTime;\r\n\t\t\tBrowser.container.appendChild(this._audio);\r\n\t\t\tthis._audio.play();\r\n\t\t\t}catch (e){\r\n\t\t\tthis.event(/*laya.events.Event.ERROR*/\"error\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*播放\r\n\t*/\r\n\t__proto.play=function(){\r\n\t\tthis.isStopped=false;\r\n\t\ttry {\r\n\t\t\tthis._audio.playbackRate=SoundManager.playbackRate;\r\n\t\t\tthis._audio.currentTime=this.startTime;\r\n\t\t\t}catch (e){\r\n\t\t\tthis._audio.addEventListener(\"canplay\",this._resumePlay);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSoundManager.addChannel(this);\r\n\t\tBrowser.container.appendChild(this._audio);\r\n\t\tif(\"play\" in this._audio)\r\n\t\t\tthis._audio.play();\r\n\t}\r\n\r\n\t/**\r\n\t*停止播放\r\n\t*\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tthis.isStopped=true;\r\n\t\tSoundManager.removeChannel(this);\r\n\t\tthis.completeHandler=null;\r\n\t\tif (!this._audio)\r\n\t\t\treturn;\r\n\t\tif (\"pause\" in this._audio)\r\n\t\t\tif (Render.isConchApp){\r\n\t\t\tthis._audio.stop();\r\n\t\t}\r\n\t\tthis._audio.pause();\r\n\t\tthis._audio.removeEventListener(\"ended\",this._onEnd);\r\n\t\tthis._audio.removeEventListener(\"canplay\",this._resumePlay);\r\n\t\tif (!Browser.onIE){\r\n\t\t\tif (this._audio!=AudioSound._musicAudio){\r\n\t\t\t\tPool.recover(\"audio:\"+this.url,this._audio);\r\n\t\t\t}\r\n\t\t}\r\n\t\tBrowser.removeElement(this._audio);\r\n\t\tthis._audio=null;\r\n\t}\r\n\r\n\t__proto.pause=function(){\r\n\t\tthis.isStopped=true;\r\n\t\tSoundManager.removeChannel(this);\r\n\t\tif(\"pause\" in this._audio)\r\n\t\t\tthis._audio.pause();\r\n\t}\r\n\r\n\t__proto.resume=function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn;\r\n\t\tthis.isStopped=false;\r\n\t\tSoundManager.addChannel(this);\r\n\t\tif(\"play\" in this._audio)\r\n\t\t\tthis._audio.play();\r\n\t}\r\n\r\n\t/**\r\n\t*当前播放到的位置\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'position',function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn 0;\r\n\t\treturn this._audio.currentTime;\r\n\t});\r\n\r\n\t/**\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn 0;\r\n\t\treturn this._audio.duration;\r\n\t});\r\n\r\n\t/**\r\n\t*设置音量\r\n\t*@param v\r\n\t*\r\n\t*/\r\n\t/**\r\n\t*获取音量\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'volume',function(){\r\n\t\tif (!this._audio)return 1;\r\n\t\treturn this._audio.volume;\r\n\t\t},function(v){\r\n\t\tif (!this._audio)return;\r\n\t\tthis._audio.volume=v;\r\n\t});\r\n\r\n\treturn AudioSoundChannel;\r\n})(SoundChannel)\r\n\r\n\r\n/**\r\n*@private\r\n*web audio api方式播放声音的音轨控制\r\n*/\r\n//class laya.media.webaudio.WebAudioSoundChannel extends laya.media.SoundChannel\r\nvar WebAudioSoundChannel=(function(_super){\r\n\tfunction WebAudioSoundChannel(){\r\n\t\t/**\r\n\t\t*声音原始文件数据\r\n\t\t*/\r\n\t\tthis.audioBuffer=null;\r\n\t\t/**\r\n\t\t*gain节点\r\n\t\t*/\r\n\t\tthis.gain=null;\r\n\t\t/**\r\n\t\t*播放用的数据\r\n\t\t*/\r\n\t\tthis.bufferSource=null;\r\n\t\t/**\r\n\t\t*当前时间\r\n\t\t*/\r\n\t\tthis._currentTime=0;\r\n\t\t/**\r\n\t\t*当前音量\r\n\t\t*/\r\n\t\tthis._volume=1;\r\n\t\t/**\r\n\t\t*播放开始时的时间戳\r\n\t\t*/\r\n\t\tthis._startTime=0;\r\n\t\tthis._pauseTime=0;\r\n\t\tthis._onPlayEnd=null;\r\n\t\tthis.context=WebAudioSound.ctx;\r\n\t\tWebAudioSoundChannel.__super.call(this);\r\n\t\tthis._onPlayEnd=Utils.bind(this.__onPlayEnd,this);\r\n\t\tif (this.context[\"createGain\"]){\r\n\t\t\tthis.gain=this.context[\"createGain\"]();\r\n\t\t\t}else {\r\n\t\t\tthis.gain=this.context[\"createGainNode\"]();\r\n\t\t}\r\n\t}\r\n\r\n\t__class(WebAudioSoundChannel,'laya.media.webaudio.WebAudioSoundChannel',_super);\r\n\tvar __proto=WebAudioSoundChannel.prototype;\r\n\t/**\r\n\t*播放声音\r\n\t*/\r\n\t__proto.play=function(){\r\n\t\tSoundManager.addChannel(this);\r\n\t\tthis.isStopped=false;\r\n\t\tthis._clearBufferSource();\r\n\t\tif (!this.audioBuffer)return;\r\n\t\tvar context=this.context;\r\n\t\tvar gain=this.gain;\r\n\t\tvar bufferSource=context.createBufferSource();\r\n\t\tthis.bufferSource=bufferSource;\r\n\t\tbufferSource.buffer=this.audioBuffer;\r\n\t\tbufferSource.connect(gain);\r\n\t\tif (gain)\r\n\t\t\tgain.disconnect();\r\n\t\tgain.connect(context.destination);\r\n\t\tbufferSource.onended=this._onPlayEnd;\r\n\t\tif (this.startTime >=this.duration)this.startTime=0;\r\n\t\tthis._startTime=Browser.now();\r\n\t\tif (this.gain.gain.setTargetAtTime){\r\n\t\t\tthis.gain.gain.setTargetAtTime(this._volume,this.context.currentTime,0.1);\r\n\t\t}else\r\n\t\tthis.gain.gain.value=this._volume;\r\n\t\tif (this.loops==0){\r\n\t\t\tbufferSource.loop=true;\r\n\t\t}\r\n\t\tif (bufferSource.playbackRate.setTargetAtTime){\r\n\t\t\tbufferSource.playbackRate.setTargetAtTime(SoundManager.playbackRate,this.context.currentTime,0.1)\r\n\t\t}else\r\n\t\tbufferSource.playbackRate.value=SoundManager.playbackRate;\r\n\t\tbufferSource.start(0,this.startTime);\r\n\t\tthis._currentTime=0;\r\n\t}\r\n\r\n\t__proto.__onPlayEnd=function(){\r\n\t\tif (this.loops==1){\r\n\t\t\tif (this.completeHandler){\r\n\t\t\t\tLaya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);\r\n\t\t\t\tthis.completeHandler=null;\r\n\t\t\t}\r\n\t\t\tthis.stop();\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.loops > 0){\r\n\t\t\tthis.loops--;\r\n\t\t}\r\n\t\tthis.startTime=0;\r\n\t\tthis.play();\r\n\t}\r\n\r\n\t__proto._clearBufferSource=function(){\r\n\t\tif (this.bufferSource){\r\n\t\t\tvar sourceNode=this.bufferSource;\r\n\t\t\tif (sourceNode.stop){\r\n\t\t\t\tsourceNode.stop(0);\r\n\t\t\t\t}else {\r\n\t\t\t\tsourceNode.noteOff(0);\r\n\t\t\t}\r\n\t\t\tsourceNode.disconnect(0);\r\n\t\t\tsourceNode.onended=null;\r\n\t\t\tif (!WebAudioSoundChannel._tryCleanFailed)this._tryClearBuffer(sourceNode);\r\n\t\t\tthis.bufferSource=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._tryClearBuffer=function(sourceNode){\r\n\t\tif (!Browser.onMac){\r\n\t\t\ttry{\r\n\t\t\t\tsourceNode.buffer=null;\r\n\t\t\t\t}catch (e){\r\n\t\t\t\tWebAudioSoundChannel._tryCleanFailed=true;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {sourceNode.buffer=WebAudioSound._miniBuffer;}catch (e){WebAudioSoundChannel._tryCleanFailed=true;}\r\n\t}\r\n\r\n\t/**\r\n\t*停止播放\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tthis._clearBufferSource();\r\n\t\tthis.audioBuffer=null;\r\n\t\tif (this.gain)\r\n\t\t\tthis.gain.disconnect();\r\n\t\tthis.isStopped=true;\r\n\t\tSoundManager.removeChannel(this);\r\n\t\tthis.completeHandler=null;\r\n\t\tif(SoundManager.autoReleaseSound)\r\n\t\t\tLaya.timer.once(5000,null,SoundManager.disposeSoundIfNotUsed,[this.url],false);\r\n\t}\r\n\r\n\t__proto.pause=function(){\r\n\t\tif (!this.isStopped){\r\n\t\t\tthis._pauseTime=this.position;\r\n\t\t}\r\n\t\tthis._clearBufferSource();\r\n\t\tif (this.gain)\r\n\t\t\tthis.gain.disconnect();\r\n\t\tthis.isStopped=true;\r\n\t\tSoundManager.removeChannel(this);\r\n\t\tif(SoundManager.autoReleaseSound)\r\n\t\t\tLaya.timer.once(5000,null,SoundManager.disposeSoundIfNotUsed,[this.url],false);\r\n\t}\r\n\r\n\t__proto.resume=function(){\r\n\t\tthis.startTime=this._pauseTime;\r\n\t\tthis.play();\r\n\t}\r\n\r\n\t/**\r\n\t*获取当前播放位置\r\n\t*/\r\n\t__getset(0,__proto,'position',function(){\r\n\t\tif (this.bufferSource){\r\n\t\t\treturn (Browser.now()-this._startTime)/ 1000+this.startTime;\r\n\t\t}\r\n\t\treturn 0;\r\n\t});\r\n\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\tif (this.audioBuffer){\r\n\t\t\treturn this.audioBuffer.duration;\r\n\t\t}\r\n\t\treturn 0;\r\n\t});\r\n\r\n\t/**\r\n\t*设置音量\r\n\t*/\r\n\t/**\r\n\t*获取音量\r\n\t*/\r\n\t__getset(0,__proto,'volume',function(){\r\n\t\treturn this._volume;\r\n\t\t},function(v){\r\n\t\tif (this.isStopped){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._volume=v;\r\n\t\tif (this.gain.gain.setTargetAtTime){\r\n\t\t\tthis.gain.gain.setTargetAtTime(v,this.context.currentTime,0.1);\r\n\t\t}else\r\n\t\tthis.gain.gain.value=v;\r\n\t});\r\n\r\n\tWebAudioSoundChannel._tryCleanFailed=false;\r\n\treturn WebAudioSoundChannel;\r\n})(SoundChannel)\r\n\r\n\r\n/**\r\n*@private\r\n*<code>Bitmap</code> 是图片资源类。\r\n*/\r\n//class laya.resource.Bitmap extends laya.resource.Resource\r\nvar Bitmap=(function(_super){\r\n\tfunction Bitmap(){\r\n\t\t/**@private\r\n\t\t*HTML Image或HTML Canvas或WebGL Texture。\r\n\t\t**/\r\n\t\t//this._source=null;\r\n\t\t/**@private 宽度*/\r\n\t\t//this._w=NaN;\r\n\t\t/**@private 高度*/\r\n\t\t//this._h=NaN;\r\n\t\tBitmap.__super.call(this);\r\n\t\tthis._w=0;\r\n\t\tthis._h=0;\r\n\t}\r\n\r\n\t__class(Bitmap,'laya.resource.Bitmap',_super);\r\n\tvar __proto=Bitmap.prototype;\r\n\t/***\r\n\t*宽度。\r\n\t*/\r\n\t__getset(0,__proto,'width',function(){\r\n\t\treturn this._w;\r\n\t});\r\n\r\n\t/***\r\n\t*高度。\r\n\t*/\r\n\t__getset(0,__proto,'height',function(){\r\n\t\treturn this._h;\r\n\t});\r\n\r\n\t/***\r\n\t*HTML Image 或 HTML Canvas 或 WebGL Texture 。\r\n\t*/\r\n\t__getset(0,__proto,'source',function(){\r\n\t\treturn this._source;\r\n\t});\r\n\r\n\treturn Bitmap;\r\n})(Resource)\r\n\r\n\r\n/**\r\n*<p>动画播放基类，提供了基础的动画播放控制方法和帧标签事件相关功能。</p>\r\n*<p>可以继承此类，但不要直接实例化此类，因为有些方法需要由子类实现。</p>\r\n*/\r\n//class laya.display.AnimationPlayerBase extends laya.display.Sprite\r\nvar AnimationPlayerBase=(function(_super){\r\n\tfunction AnimationPlayerBase(){\r\n\t\t/**\r\n\t\t*是否循环播放，调用play(...)方法时，会将此值设置为指定的参数值。\r\n\t\t*/\r\n\t\tthis.loop=false;\r\n\t\t/**\r\n\t\t*<p>播放顺序类型：AnimationPlayerBase.WRAP_POSITIVE为正序播放，AnimationPlayerBase.WRAP_REVERSE为倒序播放，AnimationPlayerBase.WRAP_PINGPONG为pingpong播放(当按指定顺序播放完结尾后，如果继续播发，则会改变播放顺序)。</p>\r\n\t\t*<p>默认为正序播放。</p>\r\n\t\t*/\r\n\t\tthis.wrapMode=0;\r\n\t\t/**@private */\r\n\t\tthis._index=0;\r\n\t\t/**@private */\r\n\t\tthis._count=0;\r\n\t\t/**@private */\r\n\t\tthis._isPlaying=false;\r\n\t\t/**@private */\r\n\t\tthis._labels=null;\r\n\t\t/**是否是逆序播放*/\r\n\t\tthis._isReverse=false;\r\n\t\t/**@private */\r\n\t\tthis._frameRateChanged=false;\r\n\t\t/**@private */\r\n\t\tthis._controlNode=null;\r\n\t\t/**@private */\r\n\t\tthis._actionName=null;\r\n\t\tAnimationPlayerBase.__super.call(this);\r\n\t\tthis._interval=Config.animationInterval;\r\n\t\tthis._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);\r\n\t}\r\n\r\n\t__class(AnimationPlayerBase,'laya.display.AnimationPlayerBase',_super);\r\n\tvar __proto=AnimationPlayerBase.prototype;\r\n\t/**\r\n\t*<p>开始播放动画。play(...)方法被设计为在创建实例后的任何时候都可以被调用，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否正在播放中，如果是，则进行播放。</p>\r\n\t*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>\r\n\t*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。\r\n\t*@param loop （可选）是否循环播放。\r\n\t*@param name （可选）动画名称。\r\n\t*@param showWarn（可选）是否动画不存在时打印警告\r\n\t*/\r\n\t__proto.play=function(start,loop,name,showWarn){\r\n\t\t(start===void 0)&& (start=0);\r\n\t\t(loop===void 0)&& (loop=true);\r\n\t\t(name===void 0)&& (name=\"\");\r\n\t\t(showWarn===void 0)&& (showWarn=true);\r\n\t\tthis._isPlaying=true;\r\n\t\tthis.index=((typeof start=='string'))? this._getFrameByLabel(start):start;\r\n\t\tthis.loop=loop;\r\n\t\tthis._actionName=name;\r\n\t\tthis._isReverse=this.wrapMode==1;\r\n\t\tif (this.interval > 0){\r\n\t\t\tthis.timerLoop(this.interval,this,this._frameLoop,null,true,true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._getFrameByLabel=function(label){\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < this._count;i++){\r\n\t\t\tif (this._labels[i] && (this._labels [i]).indexOf(label)>=0)return i;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._frameLoop=function(){\r\n\t\tif (this._isReverse){\r\n\t\t\tthis._index--;\r\n\t\t\tif (this._index < 0){\r\n\t\t\t\tif (this.loop){\r\n\t\t\t\t\tif (this.wrapMode==2){\r\n\t\t\t\t\t\tthis._index=this._count > 0 ? 1 :0;\r\n\t\t\t\t\t\tthis._isReverse=false;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tthis._index=this._count-1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tthis._index=0;\r\n\t\t\t\t\tthis.stop();\r\n\t\t\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis._index++;\r\n\t\t\tif (this._index >=this._count){\r\n\t\t\t\tif (this.loop){\r\n\t\t\t\t\tif (this.wrapMode==2){\r\n\t\t\t\t\t\tthis._index=this._count-2 >=0 ? this._count-2 :0;\r\n\t\t\t\t\t\tthis._isReverse=true;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tthis._index=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tthis._index--;\r\n\t\t\t\t\tthis.stop();\r\n\t\t\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.index=this._index;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setControlNode=function(node){\r\n\t\tif (this._controlNode){\r\n\t\t\tthis._controlNode.off(/*laya.events.Event.DISPLAY*/\"display\",this,this._checkResumePlaying);\r\n\t\t\tthis._controlNode.off(/*laya.events.Event.UNDISPLAY*/\"undisplay\",this,this._checkResumePlaying);\r\n\t\t}\r\n\t\tthis._controlNode=node;\r\n\t\tif (node && node !=this){\r\n\t\t\tnode.on(/*laya.events.Event.DISPLAY*/\"display\",this,this._checkResumePlaying);\r\n\t\t\tnode.on(/*laya.events.Event.UNDISPLAY*/\"undisplay\",this,this._checkResumePlaying);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setDisplay=function(value){\r\n\t\t_super.prototype._setDisplay.call(this,value);\r\n\t\tthis._checkResumePlaying();\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._checkResumePlaying=function(){\r\n\t\tif (this._isPlaying){\r\n\t\t\tif (this._controlNode.displayedInStage)this.play(this._index,this.loop,this._actionName);\r\n\t\t\telse this.clearTimer(this,this._frameLoop);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*停止动画播放。\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tthis._isPlaying=false;\r\n\t\tthis.clearTimer(this,this._frameLoop);\r\n\t}\r\n\r\n\t/**\r\n\t*增加一个帧标签到指定索引的帧上。当动画播放到此索引的帧时会派发Event.LABEL事件，派发事件是在完成当前帧画面更新之后。\r\n\t*@param label 帧标签名称\r\n\t*@param index 帧索引\r\n\t*/\r\n\t__proto.addLabel=function(label,index){\r\n\t\tif (!this._labels)this._labels={};\r\n\t\tif (!this._labels[index])this._labels[index]=[];\r\n\t\tthis._labels[index].push(label);\r\n\t}\r\n\r\n\t/**\r\n\t*删除指定的帧标签。\r\n\t*@param label 帧标签名称。注意：如果为空，则删除所有帧标签！\r\n\t*/\r\n\t__proto.removeLabel=function(label){\r\n\t\tif (!label)this._labels=null;\r\n\t\telse if (this._labels){\r\n\t\t\tfor (var name in this._labels){\r\n\t\t\t\tthis._removeLabelFromLabelList(this._labels[name],label);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._removeLabelFromLabelList=function(list,label){\r\n\t\tif (!list)return;\r\n\t\tfor (var i=list.length-1;i >=0;i--){\r\n\t\t\tif (list[i]==label){\r\n\t\t\t\tlist.splice(i,1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*将动画切换到指定帧并停在那里。\r\n\t*@param position 帧索引或帧标签\r\n\t*/\r\n\t__proto.gotoAndStop=function(position){\r\n\t\tthis.index=((typeof position=='string'))? this._getFrameByLabel(position):position;\r\n\t\tthis.stop();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*显示到某帧\r\n\t*@param value 帧索引\r\n\t*/\r\n\t__proto._displayToIndex=function(value){}\r\n\t/**\r\n\t*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis.stop();\r\n\t\tthis._labels=null;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>动画播放的帧间隔时间(单位：毫秒)。默认值依赖于Config.animationInterval=50，通过Config.animationInterval可以修改默认帧间隔时间。</p>\r\n\t*<p>要想为某动画设置独立的帧间隔时间，可以使用set interval，注意：如果动画正在播放，设置后会重置帧循环定时器的起始时间为当前时间，也就是说，如果频繁设置interval，会导致动画帧更新的时间间隔会比预想的要慢，甚至不更新。</p>\r\n\t*/\r\n\t__getset(0,__proto,'interval',function(){\r\n\t\treturn this._interval;\r\n\t\t},function(value){\r\n\t\tif (this._interval !=value){\r\n\t\t\tthis._frameRateChanged=true;\r\n\t\t\tthis._interval=value;\r\n\t\t\tif (this._isPlaying && value > 0){\r\n\t\t\t\tthis.timerLoop(value,this,this._frameLoop,null,true,true);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*是否正在播放中。\r\n\t*/\r\n\t__getset(0,__proto,'isPlaying',function(){\r\n\t\treturn this._isPlaying;\r\n\t});\r\n\r\n\t/**\r\n\t*动画当前帧的索引。\r\n\t*/\r\n\t__getset(0,__proto,'index',function(){\r\n\t\treturn this._index;\r\n\t\t},function(value){\r\n\t\tthis._index=value;\r\n\t\tthis._displayToIndex(value);\r\n\t\tif (this._labels && this._labels[value]){\r\n\t\t\tvar tArr=this._labels[value];\r\n\t\t\tfor (var i=0,len=tArr.length;i < len;i++){\r\n\t\t\t\tthis.event(/*laya.events.Event.LABEL*/\"label\",tArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*当前动画中帧的总数。\r\n\t*/\r\n\t__getset(0,__proto,'count',function(){\r\n\t\treturn this._count;\r\n\t});\r\n\r\n\tAnimationPlayerBase.WRAP_POSITIVE=0;\r\n\tAnimationPlayerBase.WRAP_REVERSE=1;\r\n\tAnimationPlayerBase.WRAP_PINGPONG=2;\r\n\treturn AnimationPlayerBase;\r\n})(Sprite)\r\n\r\n\r\n/**\r\n*<p> <code>Text</code> 类用于创建显示对象以显示文本。</p>\r\n*<p>\r\n*注意：如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。\r\n*</p>\r\n*@example\r\n*package\r\n*{\r\n\t*import laya.display.Text;\r\n\t*public class Text_Example\r\n\t*{\r\n\t\t*public function Text_Example()\r\n\t\t*{\r\n\t\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t\t*onInit();\r\n\t\t\t*}\r\n\t\t*private function onInit():void\r\n\t\t*{\r\n\t\t\t*var text:Text=new Text();//创建一个 Text 类的实例对象 text 。\r\n\t\t\t*text.text=\"这个是一个 Text 文本示例。\";\r\n\t\t\t*text.color=\"#008fff\";//设置 text 的文本颜色。\r\n\t\t\t*text.font=\"Arial\";//设置 text 的文本字体。\r\n\t\t\t*text.bold=true;//设置 text 的文本显示为粗体。\r\n\t\t\t*text.fontSize=30;//设置 text 的字体大小。\r\n\t\t\t*text.wordWrap=true;//设置 text 的文本自动换行。\r\n\t\t\t*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。\r\n\t\t\t*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。\r\n\t\t\t*text.width=300;//设置 text 的宽度。\r\n\t\t\t*text.height=200;//设置 text 的高度。\r\n\t\t\t*text.italic=true;//设置 text 的文本显示为斜体。\r\n\t\t\t*text.borderColor=\"#fff000\";//设置 text 的文本边框颜色。\r\n\t\t\t*Laya.stage.addChild(text);//将 text 添加到显示列表。\r\n\t\t\t*}\r\n\t\t*}\r\n\t*}\r\n*@example\r\n*Text_Example();\r\n*function Text_Example()\r\n*{\r\n\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t*onInit();\r\n\t*}\r\n*function onInit()\r\n*{\r\n\t*var text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。\r\n\t*text.text=\"这个是一个 Text 文本示例。\";\r\n\t*text.color=\"#008fff\";//设置 text 的文本颜色。\r\n\t*text.font=\"Arial\";//设置 text 的文本字体。\r\n\t*text.bold=true;//设置 text 的文本显示为粗体。\r\n\t*text.fontSize=30;//设置 text 的字体大小。\r\n\t*text.wordWrap=true;//设置 text 的文本自动换行。\r\n\t*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。\r\n\t*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。\r\n\t*text.width=300;//设置 text 的宽度。\r\n\t*text.height=200;//设置 text 的高度。\r\n\t*text.italic=true;//设置 text 的文本显示为斜体。\r\n\t*text.borderColor=\"#fff000\";//设置 text 的文本边框颜色。\r\n\t*Laya.stage.addChild(text);//将 text 添加到显示列表。\r\n\t*}\r\n*@example\r\n*class Text_Example {\r\n\t*constructor(){\r\n\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t*this.onInit();\r\n\t\t*}\r\n\t*private onInit():void {\r\n\t\t*var text:laya.display.Text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。\r\n\t\t*text.text=\"这个是一个 Text 文本示例。\";\r\n\t\t*text.color=\"#008fff\";//设置 text 的文本颜色。\r\n\t\t*text.font=\"Arial\";//设置 text 的文本字体。\r\n\t\t*text.bold=true;//设置 text 的文本显示为粗体。\r\n\t\t*text.fontSize=30;//设置 text 的字体大小。\r\n\t\t*text.wordWrap=true;//设置 text 的文本自动换行。\r\n\t\t*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。\r\n\t\t*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。\r\n\t\t*text.width=300;//设置 text 的宽度。\r\n\t\t*text.height=200;//设置 text 的高度。\r\n\t\t*text.italic=true;//设置 text 的文本显示为斜体。\r\n\t\t*text.borderColor=\"#fff000\";//设置 text 的文本边框颜色。\r\n\t\t*Laya.stage.addChild(text);//将 text 添加到显示列表。\r\n\t\t*}\r\n\t*}\r\n*/\r\n//class laya.display.Text extends laya.display.Sprite\r\nvar Text=(function(_super){\r\n\tfunction Text(){\r\n\t\t/**@private */\r\n\t\tthis._clipPoint=null;\r\n\t\t/**当前使用的位置字体。*/\r\n\t\tthis._currBitmapFont=null;\r\n\t\t/**@private 表示文本内容字符串。*/\r\n\t\tthis._text=null;\r\n\t\t/**@private 表示文本内容是否发生改变。*/\r\n\t\tthis._isChanged=false;\r\n\t\t/**@private 表示文本的宽度，以像素为单位。*/\r\n\t\tthis._textWidth=0;\r\n\t\t/**@private 表示文本的高度，以像素为单位。*/\r\n\t\tthis._textHeight=0;\r\n\t\t/**@private 存储文字行数信息。*/\r\n\t\tthis._lines=[];\r\n\t\t/**@private 保存每行宽度*/\r\n\t\tthis._lineWidths=[];\r\n\t\t/**@private 文本的内容位置 X 轴信息。*/\r\n\t\tthis._startX=NaN;\r\n\t\t/**@private 文本的内容位置X轴信息。 */\r\n\t\tthis._startY=NaN;\r\n\t\t/**@private 当前可视行索引。*/\r\n\t\tthis._lastVisibleLineIndex=-1;\r\n\t\t/**@private 当前可视行索引。*/\r\n\t\tthis._words=null;\r\n\t\t/**@private */\r\n\t\tthis._charSize={};\r\n\t\t/**\r\n\t\t*是否显示下划线。\r\n\t\t*/\r\n\t\tthis.underline=false;\r\n\t\t/**\r\n\t\t*下划线的颜色，为null则使用字体颜色。\r\n\t\t*/\r\n\t\tthis._underlineColor=null;\r\n\t\tText.__super.call(this);\r\n\t\tthis.overflow=Text.VISIBLE;\r\n\t\tthis._style=new CSSStyle(this);\r\n\t\t(this._style).wordWrap=false;\r\n\t}\r\n\r\n\t__class(Text,'laya.display.Text',_super);\r\n\tvar __proto=Text.prototype;\r\n\t/**@inheritDoc */\r\n\t__proto.destroy=function(destroyChild){\r\n\t\t(destroyChild===void 0)&& (destroyChild=true);\r\n\t\t_super.prototype.destroy.call(this,destroyChild);\r\n\t\tthis._lines=null;\r\n\t\tif (this._words){\r\n\t\t\tthis._words.length=0;\r\n\t\t\tthis._words=null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*@inheritDoc\r\n\t*/\r\n\t__proto._getBoundPointsM=function(ifRotate){\r\n\t\t(ifRotate===void 0)&& (ifRotate=false);\r\n\t\tvar rec=Rectangle.TEMP;\r\n\t\trec.setTo(0,0,this.width,this.height);\r\n\t\treturn rec._getBoundPoints();\r\n\t}\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__proto.getGraphicBounds=function(realSize){\r\n\t\t(realSize===void 0)&& (realSize=false);\r\n\t\tvar rec=Rectangle.TEMP;\r\n\t\trec.setTo(0,0,this.width,this.height);\r\n\t\treturn rec;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*@inheritDoc\r\n\t*/\r\n\t__proto._getCSSStyle=function(){\r\n\t\treturn this._style;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>根据指定的文本，从语言包中取当前语言的文本内容。并对此文本中的{i}文本进行替换。</p>\r\n\t*<p>设置Text.langPacks语言包后，即可使用lang获取里面的语言</p>\r\n\t*<p>例如：\r\n\t*<li>（1）text 的值为“我的名字”，先取到这个文本对应的当前语言版本里的值“My name”，将“My name”设置为当前文本的内容。</li>\r\n\t*<li>（2）text 的值为“恭喜你赢得{0}个钻石，{1}经验。”，arg1 的值为100，arg2 的值为200。\r\n\t*则先取到这个文本对应的当前语言版本里的值“Congratulations on your winning {0}diamonds,{1}experience.”，\r\n\t*然后将文本里的{0}、{1}，依据括号里的数字从0开始替换为 arg1、arg2 的值。\r\n\t*将替换处理后的文本“Congratulations on your winning 100 diamonds,200 experience.”设置为当前文本的内容。\r\n\t*</li>\r\n\t*</p>\r\n\t*@param text 文本内容。\r\n\t*@param ...args 文本替换参数。\r\n\t*/\r\n\t__proto.lang=function(text,arg1,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10){\r\n\t\ttext=Text.langPacks && Text.langPacks[text] ? Text.langPacks[text] :text;\r\n\t\tif (arguments.length < 2){\r\n\t\t\tthis._text=text;\r\n\t\t\t}else {\r\n\t\t\tfor (var i=0,n=arguments.length;i < n;i++){\r\n\t\t\t\ttext=text.replace(\"{\"+i+\"}\",arguments[i+1]);\r\n\t\t\t}\r\n\t\t\tthis._text=text;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._isPassWordMode=function(){\r\n\t\tvar style=this._style;\r\n\t\tvar password=style.password;\r\n\t\tif ((\"prompt\" in this)&& this['prompt']==this._text)\r\n\t\t\tpassword=false;\r\n\t\treturn password;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._getPassWordTxt=function(txt){\r\n\t\tvar len=txt.length;\r\n\t\tvar word;\r\n\t\tword=\"\";\r\n\t\tfor (var j=len;j > 0;j--){\r\n\t\t\tword+=\"●\";\r\n\t\t}\r\n\t\treturn word;\r\n\t}\r\n\r\n\t/**\r\n\t*渲染文字。\r\n\t*@param begin 开始渲染的行索引。\r\n\t*@param visibleLineCount 渲染的行数。\r\n\t*/\r\n\t__proto.renderText=function(begin,visibleLineCount){\r\n\t\tvar graphics=this.graphics;\r\n\t\tgraphics.clear(true);\r\n\t\tvar ctxFont=(this.italic ? \"italic \" :\"\")+(this.bold ? \"bold \" :\"\")+this.fontSize+\"px \"+(Browser.onIPhone ? (laya.display.Text._fontFamilyMap[this.font] || this.font):this.font);\r\n\t\tBrowser.context.font=ctxFont;\r\n\t\tvar padding=this.padding;\r\n\t\tvar startX=padding[3];\r\n\t\tvar textAlgin=\"left\";\r\n\t\tvar lines=this._lines;\r\n\t\tvar lineHeight=this.leading+this._charSize.height;\r\n\t\tvar tCurrBitmapFont=this._currBitmapFont;\r\n\t\tif (tCurrBitmapFont){\r\n\t\t\tlineHeight=this.leading+tCurrBitmapFont.getMaxHeight();\r\n\t\t};\r\n\t\tvar startY=padding[0];\r\n\t\tif ((!tCurrBitmapFont)&& this._width > 0 && this._textWidth <=this._width){\r\n\t\t\tif (this.align==\"right\"){\r\n\t\t\t\ttextAlgin=\"right\";\r\n\t\t\t\tstartX=this._width-padding[1];\r\n\t\t\t\t}else if (this.align==\"center\"){\r\n\t\t\t\ttextAlgin=\"center\";\r\n\t\t\t\tstartX=this._width *0.5+padding[3]-padding[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._height > 0){\r\n\t\t\tvar tempVAlign=(this._textHeight > this._height)? \"top\" :this.valign;\r\n\t\t\tif (tempVAlign===\"middle\")\r\n\t\t\t\tstartY=(this._height-visibleLineCount *lineHeight)*0.5+padding[0]-padding[2];\r\n\t\t\telse if (tempVAlign===\"bottom\")\r\n\t\t\tstartY=this._height-visibleLineCount *lineHeight-padding[2];\r\n\t\t};\r\n\t\tvar style=this._style;\r\n\t\tif (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){\r\n\t\t\tvar bitmapScale=tCurrBitmapFont.fontSize / this.fontSize;\r\n\t\t}\r\n\t\tif (this._clipPoint){\r\n\t\t\tgraphics.save();\r\n\t\t\tif (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){\r\n\t\t\t\tvar tClipWidth=0;\r\n\t\t\t\tvar tClipHeight=0;\r\n\t\t\t\tthis._width ? tClipWidth=(this._width-padding[3]-padding[1]):tClipWidth=this._textWidth;\r\n\t\t\t\tthis._height ? tClipHeight=(this._height-padding[0]-padding[2]):tClipHeight=this._textHeight;\r\n\t\t\t\ttClipWidth *=bitmapScale;\r\n\t\t\t\ttClipHeight *=bitmapScale;\r\n\t\t\t\tgraphics.clipRect(padding[3],padding[0],tClipWidth,tClipHeight);\r\n\t\t\t\t}else {\r\n\t\t\t\tgraphics.clipRect(padding[3],padding[0],this._width ? (this._width-padding[3]-padding[1]):this._textWidth,this._height ? (this._height-padding[0]-padding[2]):this._textHeight);\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar password=style.password;\r\n\t\tif ((\"prompt\" in this)&& this['prompt']==this._text)\r\n\t\t\tpassword=false;\r\n\t\tvar x=0,y=0;\r\n\t\tvar end=Math.min(this._lines.length,visibleLineCount+begin)|| 1;\r\n\t\tfor (var i=begin;i < end;i++){\r\n\t\t\tvar word=lines[i];\r\n\t\t\tvar _word;\r\n\t\t\tif (password){\r\n\t\t\t\tvar len=word.length;\r\n\t\t\t\tword=\"\";\r\n\t\t\t\tfor (var j=len;j > 0;j--){\r\n\t\t\t\t\tword+=\"●\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tx=startX-(this._clipPoint ? this._clipPoint.x :0);\r\n\t\t\ty=startY+lineHeight *i-(this._clipPoint ? this._clipPoint.y :0);\r\n\t\t\tthis.underline && this.drawUnderline(textAlgin,x,y,i);\r\n\t\t\tif (tCurrBitmapFont){\r\n\t\t\t\tvar tWidth=this.width;\r\n\t\t\t\tif (tCurrBitmapFont.autoScaleSize){\r\n\t\t\t\t\ttWidth=this.width *bitmapScale;\r\n\t\t\t\t}\r\n\t\t\t\ttCurrBitmapFont.drawText(word,this,x,y,this.align,tWidth);\r\n\t\t\t\t}else {\r\n\t\t\t\tif (Render.isWebGL){\r\n\t\t\t\t\tthis._words || (this._words=[]);\r\n\t\t\t\t\t_word=this._words.length > (i-begin)? this._words[i-begin] :new WordText();\r\n\t\t\t\t\t_word.setText(word);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t_word=word;\r\n\t\t\t\t}\r\n\t\t\t\tstyle.stroke ? graphics.fillBorderText(_word,x,y,ctxFont,this.color,style.strokeColor,style.stroke,textAlgin):graphics.fillText(_word,x,y,ctxFont,this.color,textAlgin);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){\r\n\t\t\tvar tScale=1 / bitmapScale;\r\n\t\t\tthis.scale(tScale,tScale);\r\n\t\t}\r\n\t\tif (this._clipPoint)\r\n\t\t\tgraphics.restore();\r\n\t\tthis._startX=startX;\r\n\t\tthis._startY=startY;\r\n\t}\r\n\r\n\t/**\r\n\t*绘制下划线\r\n\t*@param x 本行坐标\r\n\t*@param y 本行坐标\r\n\t*@param lineIndex 本行索引\r\n\t*/\r\n\t__proto.drawUnderline=function(align,x,y,lineIndex){\r\n\t\tvar lineWidth=this._lineWidths[lineIndex];\r\n\t\tswitch (align){\r\n\t\t\tcase 'center':\r\n\t\t\t\tx-=lineWidth / 2;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'right':\r\n\t\t\t\tx-=lineWidth;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 'left':\r\n\t\t\tdefault :\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\ty+=this._charSize.height;\r\n\t\tthis._graphics.drawLine(x,y,x+lineWidth,y,this.underlineColor || this.color,1);\r\n\t}\r\n\r\n\t/**\r\n\t*<p>排版文本。</p>\r\n\t*<p>进行宽高计算，渲染、重绘文本。</p>\r\n\t*/\r\n\t__proto.typeset=function(){\r\n\t\tthis._isChanged=false;\r\n\t\tif (!this._text){\r\n\t\t\tthis._clipPoint=null;\r\n\t\t\tthis._textWidth=this._textHeight=0;\r\n\t\t\tthis.graphics.clear(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tBrowser.context.font=this._getCSSStyle().font;\r\n\t\tthis._lines.length=0;\r\n\t\tthis._lineWidths.length=0;\r\n\t\tif (this._isPassWordMode()){\r\n\t\t\tthis.parseLines(this._getPassWordTxt(this._text));\r\n\t\t}else\r\n\t\tthis.parseLines(this._text);\r\n\t\tthis.evalTextSize();\r\n\t\tif (this.checkEnabledViewportOrNot())\r\n\t\t\tthis._clipPoint || (this._clipPoint=new Point(0,0));\r\n\t\telse\r\n\t\tthis._clipPoint=null;\r\n\t\tvar lineCount=this._lines.length;\r\n\t\tif (this.overflow !=Text.VISIBLE){\r\n\t\t\tvar func=this.overflow==Text.HIDDEN ? Math.floor :Math.ceil;\r\n\t\t\tlineCount=Math.min(lineCount,func((this.height-this.padding[0]-this.padding[2])/ (this.leading+this._charSize.height)));\r\n\t\t};\r\n\t\tvar startLine=this.scrollY / (this._charSize.height+this.leading)| 0;\r\n\t\tthis.renderText(startLine,lineCount);\r\n\t\tthis.repaint();\r\n\t}\r\n\r\n\t__proto.evalTextSize=function(){\r\n\t\tvar nw=NaN,nh=NaN;\r\n\t\tnw=Math.max.apply(this,this._lineWidths);\r\n\t\tif (this._currBitmapFont)\r\n\t\t\tnh=this._lines.length *(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2];\r\n\t\telse\r\n\t\tnh=this._lines.length *(this._charSize.height+this.leading)+this.padding[0]+this.padding[2];\r\n\t\tif (nw !=this._textWidth || nh !=this._textHeight){\r\n\t\t\tthis._textWidth=nw;\r\n\t\t\tthis._textHeight=nh;\r\n\t\t\tif (!this._width || !this._height)\r\n\t\t\t\tthis.conchModel && this.conchModel.size(this._width || this._textWidth,this._height || this._textHeight);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.checkEnabledViewportOrNot=function(){\r\n\t\treturn this.overflow==Text.SCROLL && ((this._width > 0 && this._textWidth > this._width)|| (this._height > 0 && this._textHeight > this._height));\r\n\t}\r\n\r\n\t/**\r\n\t*<p>快速更改显示文本。不进行排版计算，效率较高。</p>\r\n\t*<p>如果只更改文字内容，不更改文字样式，建议使用此接口，能提高效率。</p>\r\n\t*@param text 文本内容。\r\n\t*/\r\n\t__proto.changeText=function(text){\r\n\t\tif (this._text!==text){\r\n\t\t\tthis.lang(text+\"\");\r\n\t\t\tif (this._graphics && this._graphics.replaceText(this._text)){\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.typeset();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*分析文本换行。\r\n\t*/\r\n\t__proto.parseLines=function(text){\r\n\t\tvar needWordWrapOrTruncate=this.wordWrap || this.overflow==Text.HIDDEN;\r\n\t\tif (needWordWrapOrTruncate){\r\n\t\t\tvar wordWrapWidth=this.getWordWrapWidth();\r\n\t\t}\r\n\t\tif (this._currBitmapFont){\r\n\t\t\tthis._charSize.width=this._currBitmapFont.getMaxWidth();\r\n\t\t\tthis._charSize.height=this._currBitmapFont.getMaxHeight();\r\n\t\t\t}else {\r\n\t\t\tvar measureResult=Browser.context.measureText(Text._testWord);\r\n\t\t\tthis._charSize.width=measureResult.width;\r\n\t\t\tthis._charSize.height=(measureResult.height || this.fontSize);\r\n\t\t};\r\n\t\tvar lines=text.replace(/\\r\\n/g,\"\\n\").split(\"\\n\");\r\n\t\tfor (var i=0,n=lines.length;i < n;i++){\r\n\t\t\tvar line=lines[i];\r\n\t\t\tif (needWordWrapOrTruncate)\r\n\t\t\t\tthis.parseLine(line,wordWrapWidth);\r\n\t\t\telse {\r\n\t\t\t\tthis._lineWidths.push(this.getTextWidth(line));\r\n\t\t\t\tthis._lines.push(line);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*解析行文本。\r\n\t*@param line 某行的文本。\r\n\t*@param wordWrapWidth 文本的显示宽度。\r\n\t*/\r\n\t__proto.parseLine=function(line,wordWrapWidth){\r\n\t\tvar ctx=Browser.context;\r\n\t\tvar lines=this._lines;\r\n\t\tvar maybeIndex=0;\r\n\t\tvar execResult;\r\n\t\tvar charsWidth=NaN;\r\n\t\tvar wordWidth=NaN;\r\n\t\tvar startIndex=0;\r\n\t\tcharsWidth=this.getTextWidth(line);\r\n\t\tif (charsWidth <=wordWrapWidth){\r\n\t\t\tlines.push(line);\r\n\t\t\tthis._lineWidths.push(charsWidth);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcharsWidth=this._charSize.width;\r\n\t\tmaybeIndex=Math.floor(wordWrapWidth / charsWidth);\r\n\t\t(maybeIndex==0)&& (maybeIndex=1);\r\n\t\tcharsWidth=this.getTextWidth(line.substring(0,maybeIndex));\r\n\t\twordWidth=charsWidth;\r\n\t\tfor (var j=maybeIndex,m=line.length;j < m;j++){\r\n\t\t\tcharsWidth=this.getTextWidth(line.charAt(j));\r\n\t\t\twordWidth+=charsWidth;\r\n\t\t\tif (wordWidth > wordWrapWidth){\r\n\t\t\t\tif (this.wordWrap){\r\n\t\t\t\t\tvar newLine=line.substring(startIndex,j);\r\n\t\t\t\t\tif (newLine.charCodeAt(newLine.length-1)< 255){\r\n\t\t\t\t\t\texecResult=/(?:\\w|-)+$/.exec(newLine);\r\n\t\t\t\t\t\tif (execResult){\r\n\t\t\t\t\t\t\tj=execResult.index+startIndex;\r\n\t\t\t\t\t\t\tif (execResult.index==0)\r\n\t\t\t\t\t\t\t\tj+=newLine.length;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tnewLine=line.substring(startIndex,j);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else\r\n\t\t\t\t\tif (Text.RightToLeft){\r\n\t\t\t\t\t\texecResult=/([\\u0600-\\u06FF])+$/.exec(newLine);\r\n\t\t\t\t\t\tif(execResult){\r\n\t\t\t\t\t\t\tj=execResult.index+startIndex;\r\n\t\t\t\t\t\t\tif (execResult.index==0)\r\n\t\t\t\t\t\t\t\tj+=newLine.length;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tnewLine=line.substring(startIndex,j);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlines.push(newLine);\r\n\t\t\t\t\tthis._lineWidths.push(wordWidth-charsWidth);\r\n\t\t\t\t\tstartIndex=j;\r\n\t\t\t\t\tif (j+maybeIndex < m){\r\n\t\t\t\t\t\tj+=maybeIndex;\r\n\t\t\t\t\t\tcharsWidth=this.getTextWidth(line.substring(startIndex,j));\r\n\t\t\t\t\t\twordWidth=charsWidth;\r\n\t\t\t\t\t\tj--;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tlines.push(line.substring(startIndex,m));\r\n\t\t\t\t\t\tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t\t\t\t\tstartIndex=-1;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}else if (this.overflow==Text.HIDDEN){\r\n\t\t\t\t\tlines.push(line.substring(0,j));\r\n\t\t\t\t\tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.wordWrap && startIndex !=-1){\r\n\t\t\tlines.push(line.substring(startIndex,m));\r\n\t\t\tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getTextWidth=function(text){\r\n\t\tif (this._currBitmapFont)\r\n\t\t\treturn this._currBitmapFont.getTextWidth(text);\r\n\t\telse\r\n\t\treturn Browser.context.measureText(text).width;\r\n\t}\r\n\r\n\t/**\r\n\t*获取换行所需的宽度。\r\n\t*/\r\n\t__proto.getWordWrapWidth=function(){\r\n\t\tvar p=this.padding;\r\n\t\tvar w=NaN;\r\n\t\tif (this._currBitmapFont && this._currBitmapFont.autoScaleSize)\r\n\t\t\tw=this._width *(this._currBitmapFont.fontSize / this.fontSize);\r\n\t\telse\r\n\t\tw=this._width;\r\n\t\tif (w <=0){\r\n\t\t\tw=this.wordWrap ? 100 :Browser.width;\r\n\t\t}\r\n\t\tw <=0 && (w=100);\r\n\t\treturn w-p[3]-p[1];\r\n\t}\r\n\r\n\t/**\r\n\t*返回字符在本类实例的父坐标系下的坐标。\r\n\t*@param charIndex 索引位置。\r\n\t*@param out （可选）输出的Point引用。\r\n\t*@return Point 字符在本类实例的父坐标系下的坐标。如果out参数不为空，则将结果赋值给指定的Point对象，否则创建一个新的Point对象返回。建议使用Point.TEMP作为out参数，可以省去Point对象创建和垃圾回收的开销，尤其是在需要频繁执行的逻辑中，比如帧循环和MOUSE_MOVE事件回调函数里面。\r\n\t*/\r\n\t__proto.getCharPoint=function(charIndex,out){\r\n\t\tthis._isChanged && Laya.timer.runCallLater(this,this.typeset);\r\n\t\tvar len=0,lines=this._lines,startIndex=0;\r\n\t\tfor (var i=0,n=lines.length;i < n;i++){\r\n\t\t\tlen+=lines[i].length;\r\n\t\t\tif (charIndex < len){\r\n\t\t\t\tvar line=i;\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t\tstartIndex=len;\r\n\t\t};\r\n\t\tvar ctxFont=(this.italic ? \"italic \" :\"\")+(this.bold ? \"bold \" :\"\")+this.fontSize+\"px \"+this.font;\r\n\t\tBrowser.context.font=ctxFont;\r\n\t\tvar width=this.getTextWidth(this._text.substring(startIndex,charIndex));\r\n\t\tvar point=out || new Point();\r\n\t\treturn point.setTo(this._startX+width-(this._clipPoint ? this._clipPoint.x :0),this._startY+line *(this._charSize.height+this.leading)-(this._clipPoint ? this._clipPoint.y :0));\r\n\t}\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__getset(0,__proto,'width',function(){\r\n\t\tif (this._width)\r\n\t\t\treturn this._width;\r\n\t\treturn this.textWidth+this.padding[1]+this.padding[3];\r\n\t\t},function(value){\r\n\t\tif (value !=this._width){\r\n\t\t\tLaya.superSet(Sprite,this,'width',value);\r\n\t\t\tthis.isChanged=true;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*表示文本的宽度，以像素为单位。\r\n\t*/\r\n\t__getset(0,__proto,'textWidth',function(){\r\n\t\tthis._isChanged && Laya.timer.runCallLater(this,this.typeset);\r\n\t\treturn this._textWidth;\r\n\t});\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__getset(0,__proto,'height',function(){\r\n\t\tif (this._height)return this._height;\r\n\t\treturn this.textHeight+this.padding[0]+this.padding[2];\r\n\t\t},function(value){\r\n\t\tif (value !=this._height){\r\n\t\t\tLaya.superSet(Sprite,this,'height',value);\r\n\t\t\tthis.isChanged=true;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*表示文本的高度，以像素为单位。\r\n\t*/\r\n\t__getset(0,__proto,'textHeight',function(){\r\n\t\tthis._isChanged && Laya.timer.runCallLater(this,this.typeset);\r\n\t\treturn this._textHeight;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>边距信息。</p>\r\n\t*<p>数据格式：[上边距，右边距，下边距，左边距]（边距以像素为单位）。</p>\r\n\t*/\r\n\t__getset(0,__proto,'padding',function(){\r\n\t\treturn this._getCSSStyle().padding;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().padding=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>指定文本是否为粗体字。</p>\r\n\t*<p>默认值为 false，这意味着不使用粗体字。如果值为 true，则文本为粗体字。</p>\r\n\t*/\r\n\t__getset(0,__proto,'bold',function(){\r\n\t\treturn this._getCSSStyle().bold;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().bold=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**当前文本的内容字符串。*/\r\n\t__getset(0,__proto,'text',function(){\r\n\t\treturn this._text || \"\";\r\n\t\t},function(value){\r\n\t\tif (this._text!==value){\r\n\t\t\tthis.lang(value+\"\");\r\n\t\t\tthis.isChanged=true;\r\n\t\t\tthis.event(/*laya.events.Event.CHANGE*/\"change\");\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>表示文本的颜色值。可以通过 <code>Text.defaultColor</code> 设置默认颜色。</p>\r\n\t*<p>默认值为黑色。</p>\r\n\t*/\r\n\t__getset(0,__proto,'color',function(){\r\n\t\treturn this._getCSSStyle().color;\r\n\t\t},function(value){\r\n\t\tif (this._getCSSStyle().color !=value){\r\n\t\t\tthis._getCSSStyle().color=value;\r\n\t\t\tif (!this._isChanged && this._graphics){\r\n\t\t\t\tthis._graphics.replaceTextColor(this.color)\r\n\t\t\t\t}else {\r\n\t\t\t\tthis.isChanged=true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>文本的字体名称，以字符串形式表示。</p>\r\n\t*<p>默认值为：\"Arial\"，可以通过Font.defaultFont设置默认字体。</p>\r\n\t*<p>如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。</p>\r\n\t*@see laya.display.css.Font#defaultFamily\r\n\t*/\r\n\t__getset(0,__proto,'font',function(){\r\n\t\treturn this._getCSSStyle().fontFamily;\r\n\t\t},function(value){\r\n\t\tif (this._currBitmapFont){\r\n\t\t\tthis._currBitmapFont=null;\r\n\t\t\tthis.scale(1,1);\r\n\t\t}\r\n\t\tif (Text._bitmapFonts && Text._bitmapFonts[value]){\r\n\t\t\tthis._currBitmapFont=Text._bitmapFonts[value];\r\n\t\t}\r\n\t\tthis._getCSSStyle().fontFamily=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>指定文本的字体大小（以像素为单位）。</p>\r\n\t*<p>默认为20像素，可以通过 <code>Text.defaultSize</code> 设置默认大小。</p>\r\n\t*/\r\n\t__getset(0,__proto,'fontSize',function(){\r\n\t\treturn this._getCSSStyle().fontSize;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().fontSize=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>表示使用此文本格式的文本是否为斜体。</p>\r\n\t*<p>默认值为 false，这意味着不使用斜体。如果值为 true，则文本为斜体。</p>\r\n\t*/\r\n\t__getset(0,__proto,'italic',function(){\r\n\t\treturn this._getCSSStyle().italic;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().italic=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>表示文本的水平显示方式。</p>\r\n\t*<p><b>取值：</b>\r\n\t*<li>\"left\"： 居左对齐显示。</li>\r\n\t*<li>\"center\"： 居中对齐显示。</li>\r\n\t*<li>\"right\"： 居右对齐显示。</li>\r\n\t*</p>\r\n\t*/\r\n\t__getset(0,__proto,'align',function(){\r\n\t\treturn this._getCSSStyle().align;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().align=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>表示文本的垂直显示方式。</p>\r\n\t*<p><b>取值：</b>\r\n\t*<li>\"top\"： 居顶部对齐显示。</li>\r\n\t*<li>\"middle\"： 居中对齐显示。</li>\r\n\t*<li>\"bottom\"： 居底部对齐显示。</li>\r\n\t*</p>\r\n\t*/\r\n\t__getset(0,__proto,'valign',function(){\r\n\t\treturn this._getCSSStyle().valign;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().valign=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>表示文本是否自动换行，默认为false。</p>\r\n\t*<p>若值为true，则自动换行；否则不自动换行。</p>\r\n\t*/\r\n\t__getset(0,__proto,'wordWrap',function(){\r\n\t\treturn this._getCSSStyle().wordWrap;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().wordWrap=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*垂直行间距（以像素为单位）。\r\n\t*/\r\n\t__getset(0,__proto,'leading',function(){\r\n\t\treturn this._getCSSStyle().leading;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().leading=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*文本背景颜色，以字符串表示。\r\n\t*/\r\n\t__getset(0,__proto,'bgColor',function(){\r\n\t\treturn this._getCSSStyle().backgroundColor;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().backgroundColor=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*文本边框背景颜色，以字符串表示。\r\n\t*/\r\n\t__getset(0,__proto,'borderColor',function(){\r\n\t\treturn this._getCSSStyle().borderColor;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().borderColor=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>描边宽度（以像素为单位）。</p>\r\n\t*<p>默认值0，表示不描边。</p>\r\n\t*/\r\n\t__getset(0,__proto,'stroke',function(){\r\n\t\treturn this._getCSSStyle().stroke;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().stroke=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>描边颜色，以字符串表示。</p>\r\n\t*<p>默认值为 \"#000000\"（黑色）;</p>\r\n\t*/\r\n\t__getset(0,__proto,'strokeColor',function(){\r\n\t\treturn this._getCSSStyle().strokeColor;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().strokeColor=value;\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\t/**\r\n\t*一个布尔值，表示文本的属性是否有改变。若为true表示有改变。\r\n\t*/\r\n\t__getset(0,__proto,'isChanged',null,function(value){\r\n\t\tif (this._isChanged!==value){\r\n\t\t\tthis._isChanged=value;\r\n\t\t\tvalue && Laya.timer.callLater(this,this.typeset);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>设置横向滚动量。</p>\r\n\t*<p>即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。</p>\r\n\t*/\r\n\t/**\r\n\t*获取横向滚动量。\r\n\t*/\r\n\t__getset(0,__proto,'scrollX',function(){\r\n\t\tif (!this._clipPoint)\r\n\t\t\treturn 0;\r\n\t\treturn this._clipPoint.x;\r\n\t\t},function(value){\r\n\t\tif (this.overflow !=Text.SCROLL || (this.textWidth < this._width || !this._clipPoint))\r\n\t\t\treturn;\r\n\t\tvalue=value < this.padding[3] ? this.padding[3] :value;\r\n\t\tvar maxScrollX=this._textWidth-this._width;\r\n\t\tvalue=value > maxScrollX ? maxScrollX :value;\r\n\t\tvar visibleLineCount=this._height / (this._charSize.height+this.leading)| 0+1;\r\n\t\tthis._clipPoint.x=value;\r\n\t\tthis.renderText(this._lastVisibleLineIndex,visibleLineCount);\r\n\t});\r\n\r\n\t/**\r\n\t*设置纵向滚动量（px)。即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。\r\n\t*/\r\n\t/**\r\n\t*获取纵向滚动量。\r\n\t*/\r\n\t__getset(0,__proto,'scrollY',function(){\r\n\t\tif (!this._clipPoint)\r\n\t\t\treturn 0;\r\n\t\treturn this._clipPoint.y;\r\n\t\t},function(value){\r\n\t\tif (this.overflow !=Text.SCROLL || (this.textHeight < this._height || !this._clipPoint))\r\n\t\t\treturn;\r\n\t\tvalue=value < this.padding[0] ? this.padding[0] :value;\r\n\t\tvar maxScrollY=this._textHeight-this._height;\r\n\t\tvalue=value > maxScrollY ? maxScrollY :value;\r\n\t\tvar startLine=value / (this._charSize.height+this.leading)| 0;\r\n\t\tthis._lastVisibleLineIndex=startLine;\r\n\t\tvar visibleLineCount=(this._height / (this._charSize.height+this.leading)| 0)+1;\r\n\t\tthis._clipPoint.y=value;\r\n\t\tthis.renderText(startLine,visibleLineCount);\r\n\t});\r\n\r\n\t/**\r\n\t*获取横向可滚动最大值。\r\n\t*/\r\n\t__getset(0,__proto,'maxScrollX',function(){\r\n\t\treturn (this.textWidth < this._width)? 0 :this._textWidth-this._width;\r\n\t});\r\n\r\n\t/**\r\n\t*获取纵向可滚动最大值。\r\n\t*/\r\n\t__getset(0,__proto,'maxScrollY',function(){\r\n\t\treturn (this.textHeight < this._height)? 0 :this._textHeight-this._height;\r\n\t});\r\n\r\n\t__getset(0,__proto,'lines',function(){\r\n\t\tif (this._isChanged)\r\n\t\t\tthis.typeset();\r\n\t\treturn this._lines;\r\n\t});\r\n\r\n\t__getset(0,__proto,'underlineColor',function(){\r\n\t\treturn this._underlineColor;\r\n\t\t},function(value){\r\n\t\tthis._underlineColor=value;\r\n\t\tthis._isChanged=true;\r\n\t\tthis.typeset();\r\n\t});\r\n\r\n\tText.registerBitmapFont=function(name,bitmapFont){\r\n\t\tText._bitmapFonts || (Text._bitmapFonts={});\r\n\t\tText._bitmapFonts[name]=bitmapFont;\r\n\t}\r\n\r\n\tText.unregisterBitmapFont=function(name,destroy){\r\n\t\t(destroy===void 0)&& (destroy=true);\r\n\t\tif (Text._bitmapFonts && Text._bitmapFonts[name]){\r\n\t\t\tvar tBitmapFont=Text._bitmapFonts[name];\r\n\t\t\tif (destroy){\r\n\t\t\t\ttBitmapFont.destroy();\r\n\t\t\t}\r\n\t\t\tdelete Text._bitmapFonts[name];\r\n\t\t}\r\n\t}\r\n\r\n\tText.setTextRightToLeft=function(){\r\n\t\tvar style;\r\n\t\tstyle=Browser.canvas.source.style;\r\n\t\tstyle.display=\"none\";\r\n\t\tstyle.position=\"absolute\";\r\n\t\tstyle.direction=\"rtl\";\r\n\t\tRender._mainCanvas.source.style.direction=\"rtl\";\r\n\t\tlaya.display.Text.RightToLeft=true;\r\n\t\tBrowser.document.body.appendChild(Browser.canvas.source);\r\n\t}\r\n\r\n\tText.supportFont=function(font){\r\n\t\tBrowser.context.font=\"10px sans-serif\";\r\n\t\tvar defaultFontWidth=Browser.context.measureText(\"abcji\").width;\r\n\t\tBrowser.context.font=\"10px \"+font;\r\n\t\tvar customFontWidth=Browser.context.measureText(\"abcji\").width;\r\n\t\tconsole.log(defaultFontWidth,customFontWidth);\r\n\t\tif (defaultFontWidth===customFontWidth)return false;\r\n\t\telse return true;\r\n\t}\r\n\r\n\tText._testWord=\"游\";\r\n\tText.langPacks=null;\r\n\tText.VISIBLE=\"visible\";\r\n\tText.SCROLL=\"scroll\";\r\n\tText.HIDDEN=\"hidden\";\r\n\tText.CharacterCache=true;\r\n\tText.RightToLeft=false;\r\n\tText._bitmapFonts=null;\r\n\t__static(Text,\r\n\t['_fontFamilyMap',function(){return this._fontFamilyMap={\"报隶\" :\"报隶-简\",\"黑体\" :\"黑体-简\",\"楷体\" :\"楷体-简\",\"兰亭黑\" :\"兰亭黑-简\",\"隶变\" :\"隶变-简\",\"凌慧体\" :\"凌慧体-简\",\"翩翩体\" :\"翩翩体-简\",\"苹方\" :\"苹方-简\",\"手札体\" :\"手札体-简\",\"宋体\" :\"宋体-简\",\"娃娃体\" :\"娃娃体-简\",\"魏碑\" :\"魏碑-简\",\"行楷\" :\"行楷-简\",\"雅痞\" :\"雅痞-简\",\"圆体\" :\"圆体-简\"};}\r\n\t]);\r\n\treturn Text;\r\n})(Sprite)\r\n\r\n\r\n/**\r\n*<p> <code>Stage</code> 是舞台类，显示列表的根节点，所有显示对象都在舞台上显示。通过 Laya.stage 单例访问。</p>\r\n*<p>Stage提供几种适配模式，不同的适配模式会产生不同的画布大小，画布越大，渲染压力越大，所以要选择合适的适配方案。</p>\r\n*<p>Stage提供不同的帧率模式，帧率越高，渲染压力越大，越费电，合理使用帧率甚至动态更改帧率有利于改进手机耗电。</p>\r\n*/\r\n//class laya.display.Stage extends laya.display.Sprite\r\nvar Stage=(function(_super){\r\n\tfunction Stage(){\r\n\t\t/**当前焦点对象，此对象会影响当前键盘事件的派发主体。*/\r\n\t\tthis.focus=null;\r\n\t\t/**设计宽度（初始化时设置的宽度Laya.init(width,height)）*/\r\n\t\tthis.designWidth=0;\r\n\t\t/**设计高度（初始化时设置的高度Laya.init(width,height)）*/\r\n\t\tthis.designHeight=0;\r\n\t\t/**画布是否发生翻转。*/\r\n\t\tthis.canvasRotation=false;\r\n\t\t/**画布的旋转角度。*/\r\n\t\tthis.canvasDegree=0;\r\n\t\t/**\r\n\t\t*<p>设置是否渲染，设置为false，可以停止渲染，画面会停留到最后一次渲染上，减少cpu消耗，此设置不影响时钟。</p>\r\n\t\t*<p>比如非激活状态，可以设置renderingEnabled=false以节省消耗。</p>\r\n\t\t**/\r\n\t\tthis.renderingEnabled=true;\r\n\t\t/**是否启用屏幕适配，可以适配后，在某个时候关闭屏幕适配，防止某些操作导致的屏幕以外改变*/\r\n\t\tthis.screenAdaptationEnabled=true;\r\n\t\t/**@private */\r\n\t\tthis._screenMode=\"none\";\r\n\t\t/**@private */\r\n\t\tthis._scaleMode=\"noscale\";\r\n\t\t/**@private */\r\n\t\tthis._alignV=\"top\";\r\n\t\t/**@private */\r\n\t\tthis._alignH=\"left\";\r\n\t\t/**@private */\r\n\t\tthis._bgColor=\"black\";\r\n\t\t/**@private */\r\n\t\tthis._mouseMoveTime=0;\r\n\t\t/**@private */\r\n\t\tthis._renderCount=0;\r\n\t\t/**@private */\r\n\t\tthis._frameStartTime=NaN;\r\n\t\t/**@private */\r\n\t\tthis._isFocused=false;\r\n\t\t/**@private */\r\n\t\tthis._isVisibility=false;\r\n\t\t/**@private 3D场景*/\r\n\t\tthis._scenes=null;\r\n\t\t/**@private */\r\n\t\tthis._frameRate=\"fast\";\r\n\t\tStage.__super.call(this);\r\n\t\tthis.offset=new Point();\r\n\t\tthis._canvasTransform=new Matrix();\r\n\t\tthis._previousOrientation=Browser.window.orientation;\r\n\t\tvar _$this=this;\r\n\t\tthis.transform=Matrix.create();\r\n\t\tthis._scenes=[];\r\n\t\tthis.mouseEnabled=true;\r\n\t\tthis.hitTestPrior=true;\r\n\t\tthis.autoSize=false;\r\n\t\tthis._displayedInStage=true;\r\n\t\tthis._isFocused=true;\r\n\t\tthis._isVisibility=true;\r\n\t\tvar window=Browser.window;\r\n\t\tvar _this=this;\r\n\t\twindow.addEventListener(\"focus\",function(){\r\n\t\t\t_$this._isFocused=true;\r\n\t\t\t_this.event(/*laya.events.Event.FOCUS*/\"focus\");\r\n\t\t\t_this.event(/*laya.events.Event.FOCUS_CHANGE*/\"focuschange\");\r\n\t\t});\r\n\t\twindow.addEventListener(\"blur\",function(){\r\n\t\t\t_$this._isFocused=false;\r\n\t\t\t_this.event(/*laya.events.Event.BLUR*/\"blur\");\r\n\t\t\t_this.event(/*laya.events.Event.FOCUS_CHANGE*/\"focuschange\");\r\n\t\t\tif (_this._isInputting())Input[\"inputElement\"].target.focus=false;\r\n\t\t});\r\n\t\tvar hidden=\"hidden\",state=\"visibilityState\",visibilityChange=\"visibilitychange\";\r\n\t\tvar document=window.document;\r\n\t\tif (typeof document.hidden!==\"undefined\"){\r\n\t\t\tvisibilityChange=\"visibilitychange\";\r\n\t\t\tstate=\"visibilityState\";\r\n\t\t\t}else if (typeof document.mozHidden!==\"undefined\"){\r\n\t\t\tvisibilityChange=\"mozvisibilitychange\";\r\n\t\t\tstate=\"mozVisibilityState\";\r\n\t\t\t}else if (typeof document.msHidden!==\"undefined\"){\r\n\t\t\tvisibilityChange=\"msvisibilitychange\";\r\n\t\t\tstate=\"msVisibilityState\";\r\n\t\t\t}else if (typeof document.webkitHidden!==\"undefined\"){\r\n\t\t\tvisibilityChange=\"webkitvisibilitychange\";\r\n\t\t\tstate=\"webkitVisibilityState\";\r\n\t\t}\r\n\t\twindow.document.addEventListener(visibilityChange,visibleChangeFun);\r\n\t\tfunction visibleChangeFun (){\r\n\t\t\tif (Browser.document[state]==\"hidden\"){\r\n\t\t\t\t_this._setStageVisible(false);\r\n\t\t\t\t}else {\r\n\t\t\t\t_this._setStageVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.document.addEventListener(\"qbrowserVisibilityChange\",qbroserVisibleChangeFun);\r\n\t\tfunction qbroserVisibleChangeFun (e){\r\n\t\t\t_this._setStageVisible(!e.hidden);\r\n\t\t}\r\n\t\twindow.addEventListener(\"resize\",function(){\r\n\t\t\tvar orientation=Browser.window.orientation;\r\n\t\t\tif (orientation !=null && orientation !=_$this._previousOrientation && _this._isInputting()){\r\n\t\t\t\tInput[\"inputElement\"].target.focus=false;\r\n\t\t\t}\r\n\t\t\t_$this._previousOrientation=orientation;\r\n\t\t\tif (_this._isInputting())return;\r\n\t\t\t_this._resetCanvas();\r\n\t\t});\r\n\t\twindow.addEventListener(\"orientationchange\",function(e){\r\n\t\t\t_this._resetCanvas();\r\n\t\t});\r\n\t\tthis.on(/*laya.events.Event.MOUSE_MOVE*/\"mousemove\",this,this._onmouseMove);\r\n\t\tif (Browser.onMobile)this.on(/*laya.events.Event.MOUSE_DOWN*/\"mousedown\",this,this._onmouseMove);\r\n\t}\r\n\r\n\t__class(Stage,'laya.display.Stage',_super);\r\n\tvar __proto=Stage.prototype;\r\n\t__proto._setStageVisible=function(value){\r\n\t\tif (this._isVisibility==value)return;\r\n\t\tthis._isVisibility=value;\r\n\t\tif (!this._isVisibility)if (this._isInputting())Input[\"inputElement\"].target.focus=false;\r\n\t\tthis.event(/*laya.events.Event.VISIBILITY_CHANGE*/\"visibilitychange\");\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*在移动端输入时，输入法弹出期间不进行画布尺寸重置。\r\n\t*/\r\n\t__proto._isInputting=function(){\r\n\t\treturn (Browser.onMobile && Input.isInputting);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._changeCanvasSize=function(){\r\n\t\tthis.setScreenSize(Browser.clientWidth *Browser.pixelRatio,Browser.clientHeight *Browser.pixelRatio);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._resetCanvas=function(){\r\n\t\tif (!this.screenAdaptationEnabled)return;\r\n\t\tvar canvas=Render._mainCanvas;\r\n\t\tvar canvasStyle=canvas.source.style;\r\n\t\tcanvas.size(1,1);\r\n\t\tLaya.timer.once(100,this,this._changeCanvasSize);\r\n\t}\r\n\r\n\t/**\r\n\t*设置屏幕大小，场景会根据屏幕大小进行适配。可以动态调用此方法，来更改游戏显示的大小。\r\n\t*@param screenWidth 屏幕宽度。\r\n\t*@param screenHeight 屏幕高度。\r\n\t*/\r\n\t__proto.setScreenSize=function(screenWidth,screenHeight){\r\n\t\tvar rotation=false;\r\n\t\tif (this._screenMode!==\"none\"){\r\n\t\t\tvar screenType=screenWidth / screenHeight < 1 ? \"vertical\" :\"horizontal\";\r\n\t\t\trotation=screenType!==this._screenMode;\r\n\t\t\tif (rotation){\r\n\t\t\t\tvar temp=screenHeight;\r\n\t\t\t\tscreenHeight=screenWidth;\r\n\t\t\t\tscreenWidth=temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.canvasRotation=rotation;\r\n\t\tvar canvas=Render._mainCanvas;\r\n\t\tvar canvasStyle=canvas.source.style;\r\n\t\tvar mat=this._canvasTransform.identity();\r\n\t\tvar scaleMode=this._scaleMode;\r\n\t\tvar scaleX=screenWidth / this.designWidth;\r\n\t\tvar scaleY=screenHeight / this.designHeight;\r\n\t\tvar canvasWidth=this.designWidth;\r\n\t\tvar canvasHeight=this.designHeight;\r\n\t\tvar realWidth=screenWidth;\r\n\t\tvar realHeight=screenHeight;\r\n\t\tvar pixelRatio=Browser.pixelRatio;\r\n\t\tthis._width=this.designWidth;\r\n\t\tthis._height=this.designHeight;\r\n\t\tswitch (scaleMode){\r\n\t\t\tcase \"noscale\":\r\n\t\t\t\tscaleX=scaleY=1;\r\n\t\t\t\trealWidth=this.designWidth;\r\n\t\t\t\trealHeight=this.designHeight;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"showall\":\r\n\t\t\t\tscaleX=scaleY=Math.min(scaleX,scaleY);\r\n\t\t\t\tcanvasWidth=realWidth=Math.round(this.designWidth *scaleX);\r\n\t\t\t\tcanvasHeight=realHeight=Math.round(this.designHeight *scaleY);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"noborder\":\r\n\t\t\t\tscaleX=scaleY=Math.max(scaleX,scaleY);\r\n\t\t\t\trealWidth=Math.round(this.designWidth *scaleX);\r\n\t\t\t\trealHeight=Math.round(this.designHeight *scaleY);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"full\":\r\n\t\t\t\tscaleX=scaleY=1;\r\n\t\t\t\tthis._width=canvasWidth=screenWidth;\r\n\t\t\t\tthis._height=canvasHeight=screenHeight;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"fixedwidth\":\r\n\t\t\t\tscaleY=scaleX;\r\n\t\t\t\tthis._height=canvasHeight=Math.round(screenHeight / scaleX);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"fixedheight\":\r\n\t\t\t\tscaleX=scaleY;\r\n\t\t\t\tthis._width=canvasWidth=Math.round(screenWidth / scaleY);\r\n\t\t\t\tbreak ;\r\n\t\t\tcase \"fixedauto\":\r\n\t\t\t\tif ((screenWidth / screenHeight)< (this.designWidth / this.designHeight)){\r\n\t\t\t\t\tscaleY=scaleX;\r\n\t\t\t\t\tthis._height=canvasHeight=Math.round(screenHeight / scaleX);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tscaleX=scaleY;\r\n\t\t\t\t\tthis._width=canvasWidth=Math.round(screenWidth / scaleY);\r\n\t\t\t\t}\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\tif (this.conchModel)this.conchModel.size(this._width,this._height);\r\n\t\tscaleX *=this.scaleX;\r\n\t\tscaleY *=this.scaleY;\r\n\t\tif (scaleX===1 && scaleY===1){\r\n\t\t\tthis.transform.identity();\r\n\t\t\t}else {\r\n\t\t\tthis.transform.a=this._formatData(scaleX / (realWidth / canvasWidth));\r\n\t\t\tthis.transform.d=this._formatData(scaleY / (realHeight / canvasHeight));\r\n\t\t\tthis.conchModel && this.conchModel.scale(this.transform.a,this.transform.d);\r\n\t\t}\r\n\t\tcanvas.size(canvasWidth,canvasHeight);\r\n\t\tRunDriver.changeWebGLSize(canvasWidth,canvasHeight);\r\n\t\tmat.scale(realWidth / canvasWidth / pixelRatio,realHeight / canvasHeight / pixelRatio);\r\n\t\tif (this._alignH===\"left\")this.offset.x=0;\r\n\t\telse if (this._alignH===\"right\")this.offset.x=(screenWidth-realWidth)/pixelRatio;\r\n\t\telse this.offset.x=(screenWidth-realWidth)*0.5 / pixelRatio;\r\n\t\tif (this._alignV===\"top\")this.offset.y=0;\r\n\t\telse if (this._alignV===\"bottom\")this.offset.y=(screenHeight-realHeight)/pixelRatio;\r\n\t\telse this.offset.y=(screenHeight-realHeight)*0.5 / pixelRatio;\r\n\t\tthis.offset.x=Math.round(this.offset.x);\r\n\t\tthis.offset.y=Math.round(this.offset.y);\r\n\t\tmat.translate(this.offset.x,this.offset.y);\r\n\t\tthis.canvasDegree=0;\r\n\t\tif (rotation){\r\n\t\t\tif (this._screenMode===\"horizontal\"){\r\n\t\t\t\tmat.rotate(Math.PI / 2);\r\n\t\t\t\tmat.translate(screenHeight / pixelRatio,0);\r\n\t\t\t\tthis.canvasDegree=90;\r\n\t\t\t\t}else {\r\n\t\t\t\tmat.rotate(-Math.PI / 2);\r\n\t\t\t\tmat.translate(0,screenWidth / pixelRatio);\r\n\t\t\t\tthis.canvasDegree=-90;\r\n\t\t\t}\r\n\t\t}\r\n\t\tmat.a=this._formatData(mat.a);\r\n\t\tmat.d=this._formatData(mat.d);\r\n\t\tmat.tx=this._formatData(mat.tx);\r\n\t\tmat.ty=this._formatData(mat.ty);\r\n\t\tcanvasStyle.transformOrigin=canvasStyle.webkitTransformOrigin=canvasStyle.msTransformOrigin=canvasStyle.mozTransformOrigin=canvasStyle.oTransformOrigin=\"0px 0px 0px\";\r\n\t\tcanvasStyle.transform=canvasStyle.webkitTransform=canvasStyle.msTransform=canvasStyle.mozTransform=canvasStyle.oTransform=\"matrix(\"+mat.toString()+\")\";\r\n\t\tmat.translate(parseInt(canvasStyle.left)|| 0,parseInt(canvasStyle.top)|| 0);\r\n\t\tthis.visible=true;\r\n\t\tthis._repaint=1;\r\n\t\tthis.event(/*laya.events.Event.RESIZE*/\"resize\");\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._formatData=function(value){\r\n\t\tif (Math.abs(value)< 0.000001)return 0;\r\n\t\tif (Math.abs(1-value)< 0.001)return value > 0 ? 1 :-1;\r\n\t\treturn value;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.getMousePoint=function(){\r\n\t\treturn Point.TEMP.setTo(this.mouseX,this.mouseY);\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.repaint=function(){\r\n\t\tthis._repaint=1;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.parentRepaint=function(){}\r\n\t/**@private */\r\n\t__proto._loop=function(){\r\n\t\tthis.render(Render.context,0,0);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._onmouseMove=function(e){\r\n\t\tthis._mouseMoveTime=Browser.now();\r\n\t}\r\n\r\n\t/**\r\n\t*<p>获得距当前帧开始后，过了多少时间，单位为毫秒。</p>\r\n\t*<p>可以用来判断函数内时间消耗，通过合理控制每帧函数处理消耗时长，避免一帧做事情太多，对复杂计算分帧处理，能有效降低帧率波动。</p>\r\n\t*/\r\n\t__proto.getTimeFromFrameStart=function(){\r\n\t\treturn Browser.now()-this._frameStartTime;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.render=function(context,x,y){\r\n\t\tif (this._frameRate===\"sleep\" && !Render.isConchApp){\r\n\t\t\tvar now=Browser.now();\r\n\t\t\tif (now-this._frameStartTime >=1000)this._frameStartTime=now;\r\n\t\t\telse return;\r\n\t\t}\r\n\t\tthis._renderCount++;\r\n\t\tRender.isFlash && this.repaint();\r\n\t\tif (!this._style.visible){\r\n\t\t\tif (this._renderCount % 5===0){\r\n\t\t\t\tStat.loopCount++;\r\n\t\t\t\tMouseManager.instance.runEvent();\r\n\t\t\t\tLaya.timer._update();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._frameStartTime=Browser.now();\r\n\t\tvar frameMode=this._frameRate===\"mouse\" ? (((this._frameStartTime-this._mouseMoveTime)< 2000)? \"fast\" :\"slow\"):this._frameRate;\r\n\t\tvar isFastMode=(frameMode!==\"slow\");\r\n\t\tvar isDoubleLoop=(this._renderCount % 2===0);\r\n\t\tStat.renderSlow=!isFastMode;\r\n\t\tif (isFastMode || isDoubleLoop || Render.isConchApp){\r\n\t\t\tStat.loopCount++;\r\n\t\t\tMouseManager.instance.runEvent();\r\n\t\t\tLaya.timer._update();\r\n\t\t\tRunDriver.update3DLoop();\r\n\t\t\tvar scene;\r\n\t\t\tvar i=0,n=0;\r\n\t\t\tif (Render.isConchNode){\r\n\t\t\t\tfor (i=0,n=this._scenes.length;i < n;i++){\r\n\t\t\t\t\tscene=this._scenes[i];\r\n\t\t\t\t\t(scene)&& (scene._updateSceneConch());\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tfor (i=0,n=this._scenes.length;i < n;i++){\r\n\t\t\t\t\tscene=this._scenes[i];\r\n\t\t\t\t\t(scene)&& (scene._updateScene());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (Render.isConchNode){\r\n\t\t\t\tvar customList=Sprite[\"CustomList\"];\r\n\t\t\t\tfor (i=0,n=customList.length;i < n;i++){\r\n\t\t\t\t\tvar customItem=customList[i];\r\n\t\t\t\t\tcustomItem.customRender(customItem.customContext,0,0);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Render.isConchNode)return;\r\n\t\tif (this.renderingEnabled && (isFastMode || !isDoubleLoop)){\r\n\t\t\tif (Render.isWebGL){\r\n\t\t\t\tcontext.clear();\r\n\t\t\t\t_super.prototype.render.call(this,context,x,y);\r\n\t\t\t\tStat._show&& Stat._sp && Stat._sp.render(context,x,y);\r\n\t\t\t\tRunDriver.clear(this._bgColor);\r\n\t\t\t\tRunDriver.beginFlush();\r\n\t\t\t\tcontext.flush();\r\n\t\t\t\tRunDriver.endFinish();\r\n\t\t\t\tVectorGraphManager.instance && VectorGraphManager.getInstance().endDispose();\r\n\t\t\t\t}else {\r\n\t\t\t\tRunDriver.clear(this._bgColor);\r\n\t\t\t\t_super.prototype.render.call(this,context,x,y);\r\n\t\t\t\tStat._show&& Stat._sp && Stat._sp.render(context,x,y);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._requestFullscreen=function(){\r\n\t\tvar element=Browser.document.documentElement;\r\n\t\tif (element.requestFullscreen){\r\n\t\t\telement.requestFullscreen();\r\n\t\t\t}else if (element.mozRequestFullScreen){\r\n\t\t\telement.mozRequestFullScreen();\r\n\t\t\t}else if (element.webkitRequestFullscreen){\r\n\t\t\telement.webkitRequestFullscreen();\r\n\t\t\t}else if (element.msRequestFullscreen){\r\n\t\t\telement.msRequestFullscreen();\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._fullScreenChanged=function(){\r\n\t\tLaya.stage.event(/*laya.events.Event.FULL_SCREEN_CHANGE*/\"fullscreenchange\");\r\n\t}\r\n\r\n\t/**退出全屏模式*/\r\n\t__proto.exitFullscreen=function(){\r\n\t\tvar document=Browser.document;\r\n\t\tif (document.exitFullscreen){\r\n\t\t\tdocument.exitFullscreen();\r\n\t\t\t}else if (document.mozCancelFullScreen){\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\t\t}else if (document.webkitExitFullscreen){\r\n\t\t\tdocument.webkitExitFullscreen();\r\n\t\t}\r\n\t}\r\n\r\n\t/**当前视窗由缩放模式导致的 X 轴缩放系数。*/\r\n\t__getset(0,__proto,'clientScaleX',function(){\r\n\t\treturn this._transform ? this._transform.getScaleX():1;\r\n\t});\r\n\r\n\t//[Deprecated]\r\n\t__getset(0,__proto,'desginHeight',function(){\r\n\t\tconsole.debug(\"desginHeight已经弃用，请使用designHeight代替\");\r\n\t\treturn this.designHeight;\r\n\t});\r\n\r\n\t/**帧率类型，支持三种模式：fast-60帧(默认)，slow-30帧，mouse-30帧（鼠标活动后会自动加速到60，鼠标不动2秒后降低为30帧，以节省消耗），sleep-1帧。*/\r\n\t__getset(0,__proto,'frameRate',function(){\r\n\t\treturn this._frameRate;\r\n\t\t},function(value){\r\n\t\tthis._frameRate=value;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tswitch (this._frameRate){\r\n\t\t\t\tcase \"slow\":\r\n\t\t\t\t\tBrowser.window.conch && Browser.window.conchConfig.setSlowFrame && Browser.window.conchConfig.setSlowFrame(true);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"fast\":\r\n\t\t\t\t\tBrowser.window.conch && Browser.window.conchConfig.setSlowFrame && Browser.window.conchConfig.setSlowFrame(false);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"mouse\":\r\n\t\t\t\t\tBrowser.window.conch && Browser.window.conchConfig.setMouseFrame && Browser.window.conchConfig.setMouseFrame(2000);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase \"sleep\":\r\n\t\t\t\t\tBrowser.window.conch && Browser.window.conchConfig.setLimitFPS && Browser.window.conchConfig.setLimitFPS(1);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tthrow new Error(\"Stage:frameRate invalid.\");\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**当前视窗由缩放模式导致的 Y 轴缩放系数。*/\r\n\t__getset(0,__proto,'clientScaleY',function(){\r\n\t\treturn this._transform ? this._transform.getScaleY():1;\r\n\t});\r\n\r\n\t__getset(0,__proto,'width',_super.prototype._$get_width,function(value){\r\n\t\tthis.designWidth=value;\r\n\t\tLaya.superSet(Sprite,this,'width',value);\r\n\t\tLaya.timer.callLater(this,this._changeCanvasSize);\r\n\t});\r\n\r\n\t/**\r\n\t*<p>水平对齐方式。默认值为\"left\"。</p>\r\n\t*<p><ul>取值范围：\r\n\t*<li>\"left\" ：居左对齐；</li>\r\n\t*<li>\"center\" ：居中对齐；</li>\r\n\t*<li>\"right\" ：居右对齐；</li>\r\n\t*</ul></p>\r\n\t*/\r\n\t__getset(0,__proto,'alignH',function(){\r\n\t\treturn this._alignH;\r\n\t\t},function(value){\r\n\t\tthis._alignH=value;\r\n\t\tLaya.timer.callLater(this,this._changeCanvasSize);\r\n\t});\r\n\r\n\t/**\r\n\t*舞台是否获得焦点。\r\n\t*/\r\n\t__getset(0,__proto,'isFocused',function(){\r\n\t\treturn this._isFocused;\r\n\t});\r\n\r\n\t__getset(0,__proto,'height',_super.prototype._$get_height,function(value){\r\n\t\tthis.designHeight=value;\r\n\t\tLaya.superSet(Sprite,this,'height',value);\r\n\t\tLaya.timer.callLater(this,this._changeCanvasSize);\r\n\t});\r\n\r\n\t__getset(0,__proto,'transform',function(){\r\n\t\tif (this._tfChanged)this._adjustTransform();\r\n\t\treturn this._transform=this._transform|| Matrix.create();\r\n\t},_super.prototype._$set_transform);\r\n\r\n\t/**\r\n\t*舞台是否处于可见状态(是否进入后台)。\r\n\t*/\r\n\t__getset(0,__proto,'isVisibility',function(){\r\n\t\treturn this._isVisibility;\r\n\t});\r\n\r\n\t//[Deprecated]\r\n\t__getset(0,__proto,'desginWidth',function(){\r\n\t\tconsole.debug(\"desginWidth已经弃用，请使用designWidth代替\");\r\n\t\treturn this.designWidth;\r\n\t});\r\n\r\n\t/**\r\n\t*<p>缩放模式。默认值为 \"noscale\"。</p>\r\n\t*<p><ul>取值范围：\r\n\t*<li>\"noscale\" ：不缩放；</li>\r\n\t*<li>\"exactfit\" ：全屏不等比缩放；</li>\r\n\t*<li>\"showall\" ：最小比例缩放；</li>\r\n\t*<li>\"noborder\" ：最大比例缩放；</li>\r\n\t*<li>\"full\" ：不缩放，stage的宽高等于屏幕宽高；</li>\r\n\t*<li>\"fixedwidth\" ：宽度不变，高度根据屏幕比缩放；</li>\r\n\t*<li>\"fixedheight\" ：高度不变，宽度根据屏幕比缩放；</li>\r\n\t*<li>\"fixedauto\" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>\r\n\t*</ul></p>\r\n\t*/\r\n\t__getset(0,__proto,'scaleMode',function(){\r\n\t\treturn this._scaleMode;\r\n\t\t},function(value){\r\n\t\tthis._scaleMode=value;\r\n\t\tLaya.timer.callLater(this,this._changeCanvasSize);\r\n\t});\r\n\r\n\t/**\r\n\t*<p>垂直对齐方式。默认值为\"top\"。</p>\r\n\t*<p><ul>取值范围：\r\n\t*<li>\"top\" ：居顶部对齐；</li>\r\n\t*<li>\"middle\" ：居中对齐；</li>\r\n\t*<li>\"bottom\" ：居底部对齐；</li>\r\n\t*</ul></p>\r\n\t*/\r\n\t__getset(0,__proto,'alignV',function(){\r\n\t\treturn this._alignV;\r\n\t\t},function(value){\r\n\t\tthis._alignV=value;\r\n\t\tLaya.timer.callLater(this,this._changeCanvasSize);\r\n\t});\r\n\r\n\t/**舞台的背景颜色，默认为黑色，null为透明。*/\r\n\t__getset(0,__proto,'bgColor',function(){\r\n\t\treturn this._bgColor;\r\n\t\t},function(value){\r\n\t\tthis._bgColor=value;\r\n\t\tthis.conchModel && this.conchModel.bgColor(value);\r\n\t\tif (Render.isWebGL){\r\n\t\t\tif (value){\r\n\t\t\t\tStage._wgColor=Color.create(value)._color;\r\n\t\t\t\t}else {\r\n\t\t\t\tif (!Browser.onMiniGame)Stage._wgColor=null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Browser.onLimixiu){\r\n\t\t\tStage._wgColor=Color.create(value)._color;\r\n\t\t}else\r\n\t\tif (value){\r\n\t\t\tRender.canvas.style.background=value;\r\n\t\t\t}else {\r\n\t\t\tRender.canvas.style.background=\"none\";\r\n\t\t}\r\n\t});\r\n\r\n\t/**鼠标在 Stage 上的 X 轴坐标。*/\r\n\t__getset(0,__proto,'mouseX',function(){\r\n\t\treturn Math.round(MouseManager.instance.mouseX / this.clientScaleX);\r\n\t});\r\n\r\n\t/**鼠标在 Stage 上的 Y 轴坐标。*/\r\n\t__getset(0,__proto,'mouseY',function(){\r\n\t\treturn Math.round(MouseManager.instance.mouseY / this.clientScaleY);\r\n\t});\r\n\r\n\t/**\r\n\t*<p>场景布局类型。</p>\r\n\t*<p><ul>取值范围：\r\n\t*<li>\"none\" ：不更改屏幕</li>\r\n\t*<li>\"horizontal\" ：自动横屏</li>\r\n\t*<li>\"vertical\" ：自动竖屏</li>\r\n\t*</ul></p>\r\n\t*/\r\n\t__getset(0,__proto,'screenMode',function(){\r\n\t\treturn this._screenMode;\r\n\t\t},function(value){\r\n\t\tthis._screenMode=value;\r\n\t});\r\n\r\n\t__getset(0,__proto,'visible',_super.prototype._$get_visible,function(value){\r\n\t\tif (this.visible!==value){\r\n\t\t\tLaya.superSet(Sprite,this,'visible',value);\r\n\t\t\tvar style=Render._mainCanvas.source.style;\r\n\t\t\tstyle.visibility=value ? \"visible\" :\"hidden\";\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>是否开启全屏，用户点击后进入全屏。</p>\r\n\t*<p>兼容性提示：部分浏览器不允许点击进入全屏，比如Iphone等。</p>\r\n\t*/\r\n\t__getset(0,__proto,'fullScreenEnabled',null,function(value){\r\n\t\tvar document=Browser.document;\r\n\t\tvar canvas=Render.canvas;\r\n\t\tif (value){\r\n\t\t\tcanvas.addEventListener('mousedown',this._requestFullscreen);\r\n\t\t\tcanvas.addEventListener('touchstart',this._requestFullscreen);\r\n\t\t\tdocument.addEventListener(\"fullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.addEventListener(\"mozfullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.addEventListener(\"webkitfullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.addEventListener(\"msfullscreenchange\",this._fullScreenChanged);\r\n\t\t\t}else {\r\n\t\t\tcanvas.removeEventListener('mousedown',this._requestFullscreen);\r\n\t\t\tcanvas.removeEventListener('touchstart',this._requestFullscreen);\r\n\t\t\tdocument.removeEventListener(\"fullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.removeEventListener(\"mozfullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.removeEventListener(\"webkitfullscreenchange\",this._fullScreenChanged);\r\n\t\t\tdocument.removeEventListener(\"msfullscreenchange\",this._fullScreenChanged);\r\n\t\t}\r\n\t});\r\n\r\n\tStage.SCALE_NOSCALE=\"noscale\";\r\n\tStage.SCALE_EXACTFIT=\"exactfit\";\r\n\tStage.SCALE_SHOWALL=\"showall\";\r\n\tStage.SCALE_NOBORDER=\"noborder\";\r\n\tStage.SCALE_FULL=\"full\";\r\n\tStage.SCALE_FIXED_WIDTH=\"fixedwidth\";\r\n\tStage.SCALE_FIXED_HEIGHT=\"fixedheight\";\r\n\tStage.SCALE_FIXED_AUTO=\"fixedauto\";\r\n\tStage.ALIGN_LEFT=\"left\";\r\n\tStage.ALIGN_RIGHT=\"right\";\r\n\tStage.ALIGN_CENTER=\"center\";\r\n\tStage.ALIGN_TOP=\"top\";\r\n\tStage.ALIGN_MIDDLE=\"middle\";\r\n\tStage.ALIGN_BOTTOM=\"bottom\";\r\n\tStage.SCREEN_NONE=\"none\";\r\n\tStage.SCREEN_HORIZONTAL=\"horizontal\";\r\n\tStage.SCREEN_VERTICAL=\"vertical\";\r\n\tStage.FRAME_FAST=\"fast\";\r\n\tStage.FRAME_SLOW=\"slow\";\r\n\tStage.FRAME_MOUSE=\"mouse\";\r\n\tStage.FRAME_SLEEP=\"sleep\";\r\n\tStage.FRAME_MOUSE_THREDHOLD=2000;\r\n\t__static(Stage,\r\n\t['_wgColor',function(){return this._wgColor=[0,0,0,1];}\r\n\t]);\r\n\treturn Stage;\r\n})(Sprite)\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.media.SoundNode extends laya.display.Sprite\r\nvar SoundNode=(function(_super){\r\n\tfunction SoundNode(){\r\n\t\tthis.url=null;\r\n\t\tthis._channel=null;\r\n\t\tthis._tar=null;\r\n\t\tthis._playEvents=null;\r\n\t\tthis._stopEvents=null;\r\n\t\tSoundNode.__super.call(this);\r\n\t\tthis.visible=false;\r\n\t\tthis.on(/*laya.events.Event.ADDED*/\"added\",this,this._onParentChange);\r\n\t\tthis.on(/*laya.events.Event.REMOVED*/\"removed\",this,this._onParentChange);\r\n\t}\r\n\r\n\t__class(SoundNode,'laya.media.SoundNode',_super);\r\n\tvar __proto=SoundNode.prototype;\r\n\t/**@private */\r\n\t__proto._onParentChange=function(){\r\n\t\tthis.target=this.parent;\r\n\t}\r\n\r\n\t/**\r\n\t*播放\r\n\t*@param loops 循环次数\r\n\t*@param complete 完成回调\r\n\t*\r\n\t*/\r\n\t__proto.play=function(loops,complete){\r\n\t\t(loops===void 0)&& (loops=1);\r\n\t\tif (isNaN(loops)){\r\n\t\t\tloops=1;\r\n\t\t}\r\n\t\tif (!this.url)return;\r\n\t\tthis.stop();\r\n\t\tthis._channel=SoundManager.playSound(this.url,loops,complete);\r\n\t}\r\n\r\n\t/**\r\n\t*停止播放\r\n\t*\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tif (this._channel && !this._channel.isStopped){\r\n\t\t\tthis._channel.stop();\r\n\t\t}\r\n\t\tthis._channel=null;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setPlayAction=function(tar,event,action,add){\r\n\t\t(add===void 0)&& (add=true);\r\n\t\tif (!this[action])return;\r\n\t\tif (!tar)return;\r\n\t\tif (add){\r\n\t\t\ttar.on(event,this,this[action]);\r\n\t\t\t}else {\r\n\t\t\ttar.off(event,this,this[action]);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setPlayActions=function(tar,events,action,add){\r\n\t\t(add===void 0)&& (add=true);\r\n\t\tif (!tar)return;\r\n\t\tif (!events)return;\r\n\t\tvar eventArr=events.split(\",\");\r\n\t\tvar i=0,len=0;\r\n\t\tlen=eventArr.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tthis._setPlayAction(tar,eventArr[i],action,add);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*设置触发播放的事件\r\n\t*@param events\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'playEvent',null,function(events){\r\n\t\tthis._playEvents=events;\r\n\t\tif (!events)return;\r\n\t\tif (this._tar){\r\n\t\t\tthis._setPlayActions(this._tar,events,\"play\");\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*设置控制播放的对象\r\n\t*@param tar\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'target',null,function(tar){\r\n\t\tif (this._tar){\r\n\t\t\tthis._setPlayActions(this._tar,this._playEvents,\"play\",false);\r\n\t\t\tthis._setPlayActions(this._tar,this._stopEvents,\"stop\",false);\r\n\t\t}\r\n\t\tthis._tar=tar;\r\n\t\tif (this._tar){\r\n\t\t\tthis._setPlayActions(this._tar,this._playEvents,\"play\",true);\r\n\t\t\tthis._setPlayActions(this._tar,this._stopEvents,\"stop\",true);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*设置触发停止的事件\r\n\t*@param events\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'stopEvent',null,function(events){\r\n\t\tthis._stopEvents=events;\r\n\t\tif (!events)return;\r\n\t\tif (this._tar){\r\n\t\t\tthis._setPlayActions(this._tar,events,\"stop\");\r\n\t\t}\r\n\t});\r\n\r\n\treturn SoundNode;\r\n})(Sprite)\r\n\r\n\r\n/**\r\n*@private\r\n*<code>FileBitmap</code> 是图片文件资源类。\r\n*/\r\n//class laya.resource.FileBitmap extends laya.resource.Bitmap\r\nvar FileBitmap=(function(_super){\r\n\tfunction FileBitmap(){\r\n\t\t/**@private 文件路径全名。*/\r\n\t\tthis._src=null;\r\n\t\t/**@private onload触发函数*/\r\n\t\tthis._onload=null;\r\n\t\t/**@private onerror触发函数*/\r\n\t\tthis._onerror=null;\r\n\t\tFileBitmap.__super.call(this);\r\n\t}\r\n\r\n\t__class(FileBitmap,'laya.resource.FileBitmap',_super);\r\n\tvar __proto=FileBitmap.prototype;\r\n\t/**\r\n\t*文件路径全名。\r\n\t*/\r\n\t__getset(0,__proto,'src',function(){\r\n\t\treturn this._src;\r\n\t\t},function(value){\r\n\t\tthis._src=value;\r\n\t});\r\n\r\n\t/**\r\n\t*载入完成处理函数。\r\n\t*/\r\n\t__getset(0,__proto,'onload',null,function(value){\r\n\t});\r\n\r\n\t/**\r\n\t*错误处理函数。\r\n\t*/\r\n\t__getset(0,__proto,'onerror',null,function(value){\r\n\t});\r\n\r\n\treturn FileBitmap;\r\n})(Bitmap)\r\n\r\n\r\n/**\r\n*<code>HTMLCanvas</code> 是 Html Canvas 的代理类，封装了 Canvas 的属性和方法。。请不要直接使用 new HTMLCanvas！\r\n*/\r\n//class laya.resource.HTMLCanvas extends laya.resource.Bitmap\r\nvar HTMLCanvas=(function(_super){\r\n\tfunction HTMLCanvas(type,canvas){\r\n\t\t//this._ctx=null;\r\n\t\tthis._is2D=false;\r\n\t\tHTMLCanvas.__super.call(this);\r\n\t\tvar _$this=this;\r\n\t\tthis._source=this;\r\n\t\tif (type===\"2D\" || (type===\"AUTO\" && !Render.isWebGL)){\r\n\t\t\tthis._is2D=true;\r\n\t\t\tthis._source=canvas || Browser.createElement(\"canvas\");\r\n\t\t\tthis._w=this._source.width;\r\n\t\t\tthis._h=this._source.height;\r\n\t\t\tvar o=this;\r\n\t\t\to.getContext=function (contextID,other){\r\n\t\t\t\tif (_$this._ctx)return _$this._ctx;\r\n\t\t\t\tvar ctx=_$this._ctx=_$this._source.getContext(contextID,other);\r\n\t\t\t\tif (ctx){\r\n\t\t\t\t\tctx._canvas=o;\r\n\t\t\t\t\tif(!Render.isFlash&&!Browser.onLimixiu)ctx.size=function (w,h){\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn ctx;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.lock=true;\r\n\t}\r\n\r\n\t__class(HTMLCanvas,'laya.resource.HTMLCanvas',_super);\r\n\tvar __proto=HTMLCanvas.prototype;\r\n\t/**\r\n\t*清空画布内容。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis._ctx && this._ctx.clear();\r\n\t}\r\n\r\n\t/**\r\n\t*销毁。\r\n\t*/\r\n\t__proto.destroy=function(){\r\n\t\tthis._ctx && this._ctx.destroy();\r\n\t\tthis._ctx=null;\r\n\t\tlaya.resource.Resource.prototype.destroy.call(this);\r\n\t}\r\n\r\n\t/**\r\n\t*释放。\r\n\t*/\r\n\t__proto.release=function(){}\r\n\t/**\r\n\t*@private\r\n\t*设置 Canvas 渲染上下文。\r\n\t*@param context Canvas 渲染上下文。\r\n\t*/\r\n\t__proto._setContext=function(context){\r\n\t\tthis._ctx=context;\r\n\t}\r\n\r\n\t/**\r\n\t*获取 Canvas 渲染上下文。\r\n\t*@param contextID 上下文ID.\r\n\t*@param other\r\n\t*@return Canvas 渲染上下文 Context 对象。\r\n\t*/\r\n\t__proto.getContext=function(contextID,other){\r\n\t\treturn this._ctx ? this._ctx :(this._ctx=HTMLCanvas._createContext(this));\r\n\t}\r\n\r\n\t/**\r\n\t*获取内存大小。\r\n\t*@return 内存大小。\r\n\t*/\r\n\t__proto.getMemSize=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t*设置宽高。\r\n\t*@param w 宽度。\r\n\t*@param h 高度。\r\n\t*/\r\n\t__proto.size=function(w,h){\r\n\t\tif (this._w !=w || this._h !=h ||(this._source && (this._source.width!=w || this._source.height!=h))){\r\n\t\t\tthis._w=w;\r\n\t\t\tthis._h=h;\r\n\t\t\tthis.memorySize=this._w *this._h *4;\r\n\t\t\tthis._ctx && this._ctx.size(w,h);\r\n\t\t\tthis._source && (this._source.height=h,this._source.width=w);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getCanvas=function(){\r\n\t\treturn this._source;\r\n\t}\r\n\r\n\t__proto.toBase64=function(type,encoderOptions,callBack){\r\n\t\tif (this._source){\r\n\t\t\tif (Render.isConchApp && this._source.toBase64){\r\n\t\t\t\tthis._source.toBase64(type,encoderOptions,callBack);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar base64Data=this._source.toDataURL(type,encoderOptions);\r\n\t\t\t\tcallBack.call(this,base64Data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*Canvas 渲染上下文。\r\n\t*/\r\n\t__getset(0,__proto,'context',function(){\r\n\t\treturn this._ctx;\r\n\t});\r\n\r\n\t/**\r\n\t*是否当作 Bitmap 对象。\r\n\t*/\r\n\t__getset(0,__proto,'asBitmap',null,function(value){\r\n\t});\r\n\r\n\tHTMLCanvas.create=function(type,canvas){\r\n\t\treturn new HTMLCanvas(type,canvas);\r\n\t}\r\n\r\n\tHTMLCanvas.TYPE2D=\"2D\";\r\n\tHTMLCanvas.TYPE3D=\"3D\";\r\n\tHTMLCanvas.TYPEAUTO=\"AUTO\";\r\n\tHTMLCanvas._createContext=null;\r\n\treturn HTMLCanvas;\r\n})(Bitmap)\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.resource.HTMLSubImage extends laya.resource.Bitmap\r\nvar HTMLSubImage=(function(_super){\r\n\t//请不要直接使用new HTMLSubImage\r\n\tfunction HTMLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas){\r\n\t\tHTMLSubImage.__super.call(this);\r\n\t\tthrow new Error(\"不允许new！\");\r\n\t}\r\n\r\n\t__class(HTMLSubImage,'laya.resource.HTMLSubImage',_super);\r\n\tHTMLSubImage.create=function(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas){\r\n\t\t(allowMerageInAtlas===void 0)&& (allowMerageInAtlas=false);\r\n\t\treturn new HTMLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas);\r\n\t}\r\n\r\n\treturn HTMLSubImage;\r\n})(Bitmap)\r\n\r\n\r\n/**\r\n*<p> <code>Animation</code> 是Graphics动画类。实现了基于Graphics的动画创建、播放、控制接口。</p>\r\n*<p>本类使用了动画模版缓存池，它以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>\r\n*<p>动画模版缓存池，以key-value键值对存储，key可以自定义，也可以从指定的配置文件中读取，value为对应的动画模版，是一个Graphics对象数组，每个Graphics对象对应一个帧图像，动画的播放实质就是定时切换Graphics对象。</p>\r\n*<p>使用set source、loadImages(...)、loadAtlas(...)、loadAnimation(...)方法可以创建动画模版。使用play(...)可以播放指定动画。</p>\r\n*@example <caption>以下示例代码，创建了一个 <code>Text</code> 实例。</caption>\r\n*package\r\n*{\r\n\t*import laya.display.Animation;\r\n\t*import laya.net.Loader;\r\n\t*import laya.utils.Handler;\r\n\t*public class Animation_Example\r\n\t*{\r\n\t\t*public function Animation_Example()\r\n\t\t*{\r\n\t\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t\t*init();//初始化\r\n\t\t\t*}\r\n\t\t*private function init():void\r\n\t\t*{\r\n\t\t\t*var animation:Animation=new Animation();//创建一个 Animation 类的实例对象 animation 。\r\n\t\t\t*animation.loadAtlas(\"resource/ani/fighter.json\");//加载图集并播放\r\n\t\t\t*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t\t\t*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t\t\t*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。\r\n\t\t\t*animation.play();//播放动画。\r\n\t\t\t*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。\r\n\t\t\t*}\r\n\t\t*}\r\n\t*}\r\n*\r\n*@example\r\n*Animation_Example();\r\n*function Animation_Example(){\r\n\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t*init();//初始化\r\n\t*}\r\n*function init()\r\n*{\r\n\t*var animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。\r\n\t*animation.loadAtlas(\"resource/ani/fighter.json\");//加载图集并播放\r\n\t*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。\r\n\t*animation.play();//播放动画。\r\n\t*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。\r\n\t*}\r\n*\r\n*@example\r\n*import Animation=laya.display.Animation;\r\n*class Animation_Example {\r\n\t*constructor(){\r\n\t\t*Laya.init(640,800);//设置游戏画布宽高、渲染模式。\r\n\t\t*Laya.stage.bgColor=\"#efefef\";//设置画布的背景颜色。\r\n\t\t*this.init();\r\n\t\t*}\r\n\t*private init():void {\r\n\t\t*var animation:Animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。\r\n\t\t*animation.loadAtlas(\"resource/ani/fighter.json\");//加载图集并播放\r\n\t\t*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t\t*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。\r\n\t\t*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。\r\n\t\t*animation.play();//播放动画。\r\n\t\t*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。\r\n\t\t*}\r\n\t*}\r\n*new Animation_Example();\r\n*/\r\n//class laya.display.Animation extends laya.display.AnimationPlayerBase\r\nvar Animation=(function(_super){\r\n\tfunction Animation(){\r\n\t\t/**@private */\r\n\t\tthis._frames=null;\r\n\t\t/**@private */\r\n\t\tthis._url=null;\r\n\t\tAnimation.__super.call(this);\r\n\t\tthis._setControlNode(this);\r\n\t}\r\n\r\n\t__class(Animation,'laya.display.Animation',_super);\r\n\tvar __proto=Animation.prototype;\r\n\t/**@inheritDoc */\r\n\t__proto.destroy=function(destroyChild){\r\n\t\t(destroyChild===void 0)&& (destroyChild=true);\r\n\t\tthis.stop();\r\n\t\tlaya.display.Sprite.prototype.destroy.call(this,destroyChild);\r\n\t\tthis._frames=null;\r\n\t\tthis._labels=null;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>开始播放动画。会在动画模版缓存池中查找key值为name的动画模版，存在则用此动画模版初始化当前序列帧， 如果不存在，则使用当前序列帧。</p>\r\n\t*<p>play(...)方法被设计为在创建实例后的任何时候都可以被调用，调用后就处于播放状态，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否处于播放状态，如果是，则开始播放。</p>\r\n\t*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>\r\n\t*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。\r\n\t*@param loop （可选）是否循环播放。\r\n\t*@param name （可选）动画模板在动画模版缓存池中的key，也可认为是动画名称。如果name为空，则播放当前动画序列帧；如果不为空，则在动画模版缓存池中寻找key值为name的动画模版，如果存在则用此动画模版初始化当前序列帧并播放，如果不存在，则仍然播放当前动画序列帧；如果没有当前动画的帧数据，则不播放，但该实例仍然处于播放状态。\r\n\t*@param showWarn（可选）是否动画不存在时打印警告\r\n\t*/\r\n\t__proto.play=function(start,loop,name,showWarn){\r\n\t\t(start===void 0)&& (start=0);\r\n\t\t(loop===void 0)&& (loop=true);\r\n\t\t(name===void 0)&& (name=\"\");\r\n\t\t(showWarn===void 0)&& (showWarn=true);\r\n\t\tif (name)this._setFramesFromCache(name,showWarn);\r\n\t\tthis._isPlaying=true;\r\n\t\tthis.index=((typeof start=='string'))? this._getFrameByLabel(start):start;\r\n\t\tthis.loop=loop;\r\n\t\tthis._actionName=name;\r\n\t\tthis._isReverse=this.wrapMode==1;\r\n\t\tif (this._frames && this.interval > 0){\r\n\t\t\tthis.timerLoop(this.interval,this,this._frameLoop,null,true,true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._setFramesFromCache=function(name,showWarn){\r\n\t\t(showWarn===void 0)&& (showWarn=false);\r\n\t\tif (this._url)name=this._url+\"#\"+name;\r\n\t\tif (name && Animation.framesMap[name]){\r\n\t\t\tvar tAniO;\r\n\t\t\ttAniO=Animation.framesMap[name];\r\n\t\t\tif ((tAniO instanceof Array)){\r\n\t\t\t\tthis._frames=Animation.framesMap[name];\r\n\t\t\t\tthis._count=this._frames.length;\r\n\t\t\t\t}else {\r\n\t\t\t\tif (tAniO.nodeRoot){\r\n\t\t\t\t\tAnimation.framesMap[name]=this._parseGraphicAnimationByData(tAniO);\r\n\t\t\t\t\ttAniO=Animation.framesMap[name];\r\n\t\t\t\t}\r\n\t\t\t\tthis._frames=tAniO.frames;\r\n\t\t\t\tthis._count=this._frames.length;\r\n\t\t\t\tif (!this._frameRateChanged)this._interval=tAniO.interval;\r\n\t\t\t\tthis._labels=this._copyLabels(tAniO.labels);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\tif (showWarn)console.log(\"ani not found:\",name);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._copyLabels=function(labels){\r\n\t\tif (!labels)return null;\r\n\t\tvar rst;\r\n\t\trst={};\r\n\t\tvar key;\r\n\t\tfor (key in labels){\r\n\t\t\trst[key]=Utils.copyArray([],labels[key]);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._frameLoop=function(){\r\n\t\tif (this._style.visible && this._style.alpha > 0.01){\r\n\t\t\t_super.prototype._frameLoop.call(this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._displayToIndex=function(value){\r\n\t\tif (this._frames)this.graphics=this._frames[value];\r\n\t}\r\n\r\n\t/**\r\n\t*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。\r\n\t*/\r\n\t__proto.clear=function(){\r\n\t\tthis.stop();\r\n\t\tthis.graphics=null;\r\n\t\tthis._frames=null;\r\n\t\tthis._labels=null;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图片集合并创建动画模版。注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>\r\n\t*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>\r\n\t*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadImages(...).loadImages(...).play(...);。</p>\r\n\t*@param urls 图片路径集合。需要创建动画模版时，会以此为数据源。参数形如：[url1,url2,url3,...]。\r\n\t*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。\r\n\t*@return 返回Animation对象本身。\r\n\t*/\r\n\t__proto.loadImages=function(urls,cacheName){\r\n\t\t(cacheName===void 0)&& (cacheName=\"\");\r\n\t\tthis._url=\"\";\r\n\t\tif (!this._setFramesFromCache(cacheName)){\r\n\t\t\tthis.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(urls,cacheName);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图集并创建动画模版。</p>\r\n\t*<p>注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>\r\n\t*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>\r\n\t*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadAtlas(...).loadAtlas(...).play(...);。</p>\r\n\t*@param url 图集路径。需要创建动画模版时，会以此为数据源。\r\n\t*@param loaded （可选）使用指定图集初始化动画完毕的回调。\r\n\t*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。\r\n\t*@return 返回动画本身。\r\n\t*/\r\n\t__proto.loadAtlas=function(url,loaded,cacheName){\r\n\t\t(cacheName===void 0)&& (cacheName=\"\");\r\n\t\tthis._url=\"\";\r\n\t\tvar _this_=this;\r\n\t\tfunction onLoaded (loadUrl){\r\n\t\t\tif (url===loadUrl){\r\n\t\t\t\t_this_.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(url,cacheName);\r\n\t\t\t\tif (loaded)loaded.run();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!_this_._setFramesFromCache(cacheName)){\r\n\t\t\tif (Loader.getAtlas(url))onLoaded(url);\r\n\t\t\telse Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,/*laya.net.Loader.ATLAS*/\"atlas\");\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*<p>加载并解析由LayaAir IDE制作的动画文件，此文件中可能包含多个动画。默认帧率为在IDE中设计的帧率，如果调用过set interval，则使用此帧间隔对应的帧率。加载后创建动画模版，并缓存到动画模版缓存池，key \"url#动画名称\" 对应相应动画名称的动画模板，key \"url#\" 对应动画模版集合的默认动画模版。</p>\r\n\t*<p>注意：如果调用本方法前，还没有预加载动画使用的图集，请将atlas参数指定为对应的图集路径，否则会导致动画创建失败。</p>\r\n\t*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>\r\n\t*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadAnimation(...).loadAnimation(...).play(...);。</p>\r\n\t*@param url 动画文件路径。可由LayaAir IDE创建并发布。\r\n\t*@param loaded （可选）使用指定动画资源初始化动画完毕的回调。\r\n\t*@param atlas （可选）动画用到的图集地址（可选）。\r\n\t*@return 返回动画本身。\r\n\t*/\r\n\t__proto.loadAnimation=function(url,loaded,atlas){\r\n\t\tthis._url=url;\r\n\t\tvar _this_=this;\r\n\t\tif (!this._actionName)this._actionName=\"\";\r\n\t\tif (!_this_._setFramesFromCache(\"\")){\r\n\t\t\tif (!atlas || Loader.getAtlas(atlas)){\r\n\t\t\t\tthis._loadAnimationData(url,loaded,atlas);\r\n\t\t\t\t}else {\r\n\t\t\t\tLaya.loader.load(atlas,Handler.create(this,this._loadAnimationData,[url,loaded,atlas]),null,/*laya.net.Loader.ATLAS*/\"atlas\")\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t_this_._setFramesFromCache(this._actionName,true);\r\n\t\t\tthis.index=0;\r\n\t\t\tif (loaded)loaded.run();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._loadAnimationData=function(url,loaded,atlas){\r\n\t\tvar _$this=this;\r\n\t\tif (atlas && !Loader.getAtlas(atlas)){\r\n\t\t\tconsole.warn(\"atlas load fail:\"+atlas);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar _this_=this;\r\n\t\tfunction onLoaded (loadUrl){\r\n\t\t\tif (!Loader.getRes(loadUrl))return;\r\n\t\t\tif (url===loadUrl){\r\n\t\t\t\tvar tAniO;\r\n\t\t\t\tif (!Animation.framesMap[url+\"#\"]){\r\n\t\t\t\t\tvar aniData=_this_._parseGraphicAnimation(Loader.getRes(url));\r\n\t\t\t\t\tif (!aniData)return;\r\n\t\t\t\t\tvar aniList=aniData.animationList;\r\n\t\t\t\t\tvar i=0,len=aniList.length;\r\n\t\t\t\t\tvar defaultO;\r\n\t\t\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\t\t\ttAniO=aniList[i];\r\n\t\t\t\t\t\tAnimation.framesMap[url+\"#\"+tAniO.name]=tAniO;\r\n\t\t\t\t\t\tif (!defaultO)defaultO=tAniO;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (defaultO){\r\n\t\t\t\t\t\tAnimation.framesMap[url+\"#\"]=defaultO;\r\n\t\t\t\t\t\t_this_._setFramesFromCache(_$this._actionName,true);\r\n\t\t\t\t\t\t_$this.index=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_$this._checkResumePlaying();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t_this_._setFramesFromCache(_$this._actionName,true);\r\n\t\t\t\t\t_$this.index=0;\r\n\t\t\t\t\t_$this._checkResumePlaying();\r\n\t\t\t\t}\r\n\t\t\t\tif (loaded)loaded.run();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Loader.getRes(url))onLoaded(url);\r\n\t\telse Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,/*laya.net.Loader.JSON*/\"json\");\r\n\t\tLoader.clearRes(url);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._parseGraphicAnimation=function(animationData){\r\n\t\treturn GraphicAnimation.parseAnimationData(animationData);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._parseGraphicAnimationByData=function(animationObject){\r\n\t\treturn GraphicAnimation.parseAnimationByData(animationObject);\r\n\t}\r\n\r\n\t/**\r\n\t*当前动画的帧图像数组。本类中，每个帧图像是一个Graphics对象，而动画播放就是定时切换Graphics对象的过程。\r\n\t*/\r\n\t__getset(0,__proto,'frames',function(){\r\n\t\treturn this._frames;\r\n\t\t},function(value){\r\n\t\tthis._frames=value;\r\n\t\tif (value){\r\n\t\t\tthis._count=value.length;\r\n\t\t\tif (this._isPlaying)this.play(this._index,this.loop,this._actionName);\r\n\t\t\telse this.index=this._index;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*是否自动播放，默认为false。如果设置为true，则动画被创建并添加到舞台后自动播放。\r\n\t*/\r\n\t__getset(0,__proto,'autoPlay',null,function(value){\r\n\t\tif (value)this.play();\r\n\t\telse this.stop();\r\n\t});\r\n\r\n\t/**\r\n\t*<p>动画数据源。</p>\r\n\t*<p>类型如下：<br/>\r\n\t*1. LayaAir IDE动画文件路径：使用此类型需要预加载所需的图集资源，否则会创建失败，如果不想预加载或者需要创建完毕的回调，请使用loadAnimation(...)方法；<br/>\r\n\t*2. 图集路径：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存或者创建完毕的回调，请使用loadAtlas(...)方法；<br/>\r\n\t*3. 图片路径集合：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存，请使用loadImages(...)方法。</p>\r\n\t*@param value 数据源。比如：图集：\"xx/a1.atlas\"；图片集合：\"a1.png,a2.png,a3.png\"；LayaAir IDE动画\"xx/a1.ani\"。\r\n\t*/\r\n\t__getset(0,__proto,'source',null,function(value){\r\n\t\tif (value.indexOf(\".ani\")>-1)this.loadAnimation(value);\r\n\t\telse if (value.indexOf(\".json\")>-1 || value.indexOf(\"als\")>-1 || value.indexOf(\"atlas\")>-1)this.loadAtlas(value);\r\n\t\telse this.loadImages(value.split(\",\"));\r\n\t});\r\n\r\n\t/**\r\n\t*设置自动播放的动画名称，在LayaAir IDE中可以创建的多个动画组成的动画集合，选择其中一个动画名称进行播放。\r\n\t*/\r\n\t__getset(0,__proto,'autoAnimation',null,function(value){\r\n\t\tthis.play(0,true,value,false);\r\n\t});\r\n\r\n\tAnimation.createFrames=function(url,name){\r\n\t\tvar arr,i=0,n=0,g;\r\n\t\tif ((typeof url=='string')){\r\n\t\t\tvar atlas=Loader.getAtlas(url);\r\n\t\t\tif (atlas && atlas.length){\r\n\t\t\t\tarr=[];\r\n\t\t\t\tfor (i=0,n=atlas.length;i < n;i++){\r\n\t\t\t\t\tg=new RunDriver.createGraphics();\r\n\t\t\t\t\tg.drawTexture(Loader.getRes(atlas[i]),0,0);\r\n\t\t\t\t\tarr.push(g);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else if ((url instanceof Array)){\r\n\t\t\tarr=[];\r\n\t\t\tfor (i=0,n=url.length;i < n;i++){\r\n\t\t\t\tg=new RunDriver.createGraphics();\r\n\t\t\t\tg.loadImage(url[i],0,0);\r\n\t\t\t\tarr.push(g);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (name)Animation.framesMap[name]=arr;\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tAnimation.clearCache=function(key){\r\n\t\tvar cache=Animation.framesMap;\r\n\t\tvar val;\r\n\t\tvar key2=key+\"#\";\r\n\t\tfor (val in cache){\r\n\t\t\tif (val===key || val.indexOf(key2)==0){\r\n\t\t\t\tdelete Animation.framesMap[val];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tAnimation.framesMap={};\r\n\treturn Animation;\r\n})(AnimationPlayerBase)\r\n\r\n\r\n/**\r\n*关键帧动画播放类。\r\n*/\r\n//class laya.display.FrameAnimation extends laya.display.AnimationPlayerBase\r\nvar FrameAnimation=(function(_super){\r\n\tfunction FrameAnimation(){\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*id对象表\r\n\t\t*/\r\n\t\tthis._targetDic=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*动画数据\r\n\t\t*/\r\n\t\tthis._animationData=null;\r\n\t\t/**@private */\r\n\t\tthis._animationNewFrames=null;\r\n\t\tFrameAnimation.__super.call(this);\r\n\t\tif (FrameAnimation._sortIndexFun==null){\r\n\t\t\tFrameAnimation._sortIndexFun=MathUtil.sortByKey(\"index\",false,true);\r\n\t\t}\r\n\t}\r\n\r\n\t__class(FrameAnimation,'laya.display.FrameAnimation',_super);\r\n\tvar __proto=FrameAnimation.prototype;\r\n\t/**\r\n\t*@private\r\n\t*初始化动画数据\r\n\t*@param targetDic 对象表\r\n\t*@param animationData 动画数据\r\n\t*\r\n\t*/\r\n\t__proto._setUp=function(targetDic,animationData){\r\n\t\tthis._labels=null;\r\n\t\tthis._animationNewFrames=null;\r\n\t\tthis._targetDic=targetDic;\r\n\t\tthis._animationData=animationData;\r\n\t\tthis.interval=1000 / animationData.frameRate;\r\n\t\tif (animationData.parsed){\r\n\t\t\tthis._count=animationData.count;\r\n\t\t\tthis._labels=animationData.labels;\r\n\t\t\tthis._animationNewFrames=animationData.animationNewFrames;\r\n\t\t\t}else {\r\n\t\t\tthis._animationNewFrames=[];\r\n\t\t\tthis._calculateDatas();\r\n\t\t}\r\n\t\tanimationData.parsed=true;\r\n\t\tanimationData.labels=this._labels;\r\n\t\tanimationData.count=this._count;\r\n\t\tanimationData.animationNewFrames=this._animationNewFrames;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto.clear=function(){\r\n\t\t_super.prototype.clear.call(this);\r\n\t\tthis._targetDic=null;\r\n\t\tthis._animationData=null;\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__proto._displayToIndex=function(value){\r\n\t\tif (!this._animationData)return;\r\n\t\tif (value < 0)value=0;\r\n\t\tif (value > this._count)value=this._count;\r\n\t\tvar nodes=this._animationData.nodes,i=0,len=nodes.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tthis._displayNodeToFrame(nodes[i],value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*将节点设置到某一帧的状态\r\n\t*@param node 节点ID\r\n\t*@param frame\r\n\t*@param targetDic 节点表\r\n\t*\r\n\t*/\r\n\t__proto._displayNodeToFrame=function(node,frame,targetDic){\r\n\t\tif (!targetDic)targetDic=this._targetDic;\r\n\t\tvar target=targetDic[node.target];\r\n\t\tif (!target){\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar frames=node.frames,key,propFrames,value;\r\n\t\tvar keys=node.keys,i=0,len=keys.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tkey=keys[i];\r\n\t\t\tpropFrames=frames[key];\r\n\t\t\tif (propFrames.length > frame){\r\n\t\t\t\tvalue=propFrames[frame];\r\n\t\t\t\t}else {\r\n\t\t\t\tvalue=propFrames[propFrames.length-1];\r\n\t\t\t}\r\n\t\t\ttarget[key]=value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*计算帧数据\r\n\t*\r\n\t*/\r\n\t__proto._calculateDatas=function(){\r\n\t\tif (!this._animationData)return;\r\n\t\tvar nodes=this._animationData.nodes,i=0,len=nodes.length,tNode;\r\n\t\tthis._count=0;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttNode=nodes[i];\r\n\t\t\tthis._calculateNodeKeyFrames(tNode);\r\n\t\t}\r\n\t\tthis._count+=1;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*计算某个节点的帧数据\r\n\t*@param node\r\n\t*\r\n\t*/\r\n\t__proto._calculateNodeKeyFrames=function(node){\r\n\t\tvar keyFrames=node.keyframes,key,tKeyFrames,target=node.target;\r\n\t\tif (!node.frames){\r\n\t\t\tnode.frames={};\r\n\t\t}\r\n\t\tif (!node.keys){\r\n\t\t\tnode.keys=[];\r\n\t\t\t}else {\r\n\t\t\tnode.keys.length=0;\r\n\t\t}\r\n\t\tif (!node.initValues){\r\n\t\t\tnode.initValues={};\r\n\t\t}\r\n\t\tfor (key in keyFrames){\r\n\t\t\ttKeyFrames=keyFrames[key];\r\n\t\t\tif (!node.frames[key]){\r\n\t\t\t\tnode.frames[key]=[];\r\n\t\t\t}\r\n\t\t\tif (this._targetDic && this._targetDic[target]){\r\n\t\t\t\tnode.initValues[key]=this._targetDic[target][key];\r\n\t\t\t}\r\n\t\t\ttKeyFrames.sort(FrameAnimation._sortIndexFun);\r\n\t\t\tnode.keys.push(key);\r\n\t\t\tthis._calculateNodePropFrames(tKeyFrames,node.frames[key],key,target);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*将动画控制对象还原到动画控制之前的状态\r\n\t*/\r\n\t__proto.resetToInitState=function(){\r\n\t\tif (!this._targetDic)return;\r\n\t\tif (!this._animationData)return;\r\n\t\tvar nodes=this._animationData.nodes,i=0,len=nodes.length;\r\n\t\tvar tNode;\r\n\t\tvar initValues;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\ttNode=nodes[i];\r\n\t\t\tinitValues=tNode.initValues;\r\n\t\t\tif (!initValues)continue ;\r\n\t\t\tvar target=this._targetDic[tNode.target];\r\n\t\t\tif (!target)continue ;\r\n\t\t\tvar key;\r\n\t\t\tfor (key in initValues){\r\n\t\t\t\ttarget[key]=initValues[key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*计算节点某个属性的帧数据\r\n\t*@param keyframes\r\n\t*@param frames\r\n\t*@param key\r\n\t*@param target\r\n\t*\r\n\t*/\r\n\t__proto._calculateNodePropFrames=function(keyframes,frames,key,target){\r\n\t\tvar i=0,len=keyframes.length-1;\r\n\t\tframes.length=keyframes[len].index+1;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tthis._dealKeyFrame(keyframes[i]);\r\n\t\t\tthis._calculateFrameValues(keyframes[i],keyframes[i+1],frames);\r\n\t\t}\r\n\t\tif (len==0){\r\n\t\t\tframes[0]=keyframes[0].value;\r\n\t\t\tif (this._animationNewFrames)\r\n\t\t\t\tthis._animationNewFrames[keyframes[0].index]=true;\r\n\t\t}\r\n\t\tthis._dealKeyFrame(keyframes[i]);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*\r\n\t*/\r\n\t__proto._dealKeyFrame=function(keyFrame){\r\n\t\tif (keyFrame.label && keyFrame.label !=\"\")this.addLabel(keyFrame.label,keyFrame.index);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*计算两个关键帧直接的帧数据\r\n\t*@param startFrame\r\n\t*@param endFrame\r\n\t*@param result\r\n\t*\r\n\t*/\r\n\t__proto._calculateFrameValues=function(startFrame,endFrame,result){\r\n\t\tvar i=0,easeFun;\r\n\t\tvar start=startFrame.index,end=endFrame.index;\r\n\t\tvar startValue=startFrame.value;\r\n\t\tvar dValue=endFrame.value-startFrame.value;\r\n\t\tvar dLen=end-start;\r\n\t\tif (end > this._count)this._count=end;\r\n\t\tif (startFrame.tween){\r\n\t\t\teaseFun=Ease[startFrame.tweenMethod];\r\n\t\t\tif (easeFun==null){\r\n\t\t\t\teaseFun=Ease.linearNone;\r\n\t\t\t}\r\n\t\t\tfor (i=start;i < end;i++){\r\n\t\t\t\tresult[i]=easeFun(i-start,startValue,dValue,dLen);\r\n\t\t\t\tif (this._animationNewFrames){\r\n\t\t\t\t\tthis._animationNewFrames[i]=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (i=start;i < end;i++){\r\n\t\t\t\tresult[i]=startValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._animationNewFrames){\r\n\t\t\tthis._animationNewFrames[startFrame.index]=true;\r\n\t\t\tthis._animationNewFrames[endFrame.index]=true;\r\n\t\t}\r\n\t\tresult[endFrame.index]=endFrame.value;\r\n\t}\r\n\r\n\tFrameAnimation._sortIndexFun=null;\r\n\treturn FrameAnimation;\r\n})(AnimationPlayerBase)\r\n\r\n\r\n/**\r\n*<p><code>Input</code> 类用于创建显示对象以显示和输入文本。</p>\r\n*<p>Input 类封装了原生的文本输入框，由于不同浏览器的差异，会导致此对象的默认文本的位置与用户点击输入时的文本的位置有少许的偏差。</p>\r\n*/\r\n//class laya.display.Input extends laya.display.Text\r\nvar Input=(function(_super){\r\n\tfunction Input(){\r\n\t\t/**@private */\r\n\t\tthis._focus=false;\r\n\t\t/**@private */\r\n\t\tthis._multiline=false;\r\n\t\t/**@private */\r\n\t\tthis._editable=true;\r\n\t\t/**@private */\r\n\t\tthis._restrictPattern=null;\r\n\t\tthis._type=\"text\";\r\n\t\t/**输入提示符。*/\r\n\t\tthis._prompt='';\r\n\t\t/**输入提示符颜色。*/\r\n\t\tthis._promptColor=\"#A9A9A9\";\r\n\t\tthis._originColor=\"#000000\";\r\n\t\tthis._content='';\r\n\t\tInput.__super.call(this);\r\n\t\tthis._maxChars=1E5;\r\n\t\tthis._width=100;\r\n\t\tthis._height=20;\r\n\t\tthis.multiline=false;\r\n\t\tthis.overflow=Text.SCROLL;\r\n\t\tthis.on(/*laya.events.Event.MOUSE_DOWN*/\"mousedown\",this,this._onMouseDown);\r\n\t\tthis.on(/*laya.events.Event.UNDISPLAY*/\"undisplay\",this,this._onUnDisplay);\r\n\t}\r\n\r\n\t__class(Input,'laya.display.Input',_super);\r\n\tvar __proto=Input.prototype;\r\n\t/**\r\n\t*设置光标位置和选取字符。\r\n\t*@param startIndex 光标起始位置。\r\n\t*@param endIndex 光标结束位置。\r\n\t*/\r\n\t__proto.setSelection=function(startIndex,endIndex){\r\n\t\tthis.focus=true;\r\n\t\tlaya.display.Input.inputElement.selectionStart=startIndex;\r\n\t\tlaya.display.Input.inputElement.selectionEnd=endIndex;\r\n\t}\r\n\r\n\t__proto._onUnDisplay=function(e){\r\n\t\tthis.focus=false;\r\n\t}\r\n\r\n\t__proto._onMouseDown=function(e){\r\n\t\tthis.focus=true;\r\n\t}\r\n\r\n\t/**\r\n\t*在输入期间，如果 Input 实例的位置改变，调用_syncInputTransform同步输入框的位置。\r\n\t*/\r\n\t__proto._syncInputTransform=function(){\r\n\t\tvar inputElement=this.nativeInput;\r\n\t\tvar transform=Utils.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]);\r\n\t\tvar inputWid=this._width-this.padding[1]-this.padding[3];\r\n\t\tvar inputHei=this._height-this.padding[0]-this.padding[2];\r\n\t\tif (Render.isConchApp){\r\n\t\t\tinputElement.setScale(transform.scaleX,transform.scaleY);\r\n\t\t\tinputElement.setSize(inputWid,inputHei);\r\n\t\t\tinputElement.setPos(transform.x,transform.y);\r\n\t\t\t}else {\r\n\t\t\tInput.inputContainer.style.transform=Input.inputContainer.style.webkitTransform=\"scale(\"+transform.scaleX+\",\"+transform.scaleY+\") rotate(\"+(Laya.stage.canvasDegree)+\"deg)\";\r\n\t\t\tinputElement.style.width=inputWid+'px';\r\n\t\t\tinputElement.style.height=inputHei+'px';\r\n\t\t\tInput.inputContainer.style.left=transform.x+'px';\r\n\t\t\tInput.inputContainer.style.top=transform.y+'px';\r\n\t\t}\r\n\t}\r\n\r\n\t/**选中当前实例的所有文本。*/\r\n\t__proto.select=function(){\r\n\t\tthis.nativeInput.select();\r\n\t}\r\n\r\n\t__proto._setInputMethod=function(){\r\n\t\tInput.input.parentElement && (Input.inputContainer.removeChild(Input.input));\r\n\t\tInput.area.parentElement && (Input.inputContainer.removeChild(Input.area));\r\n\t\tInput.inputElement=(this._multiline ? Input.area :Input.input);\r\n\t\tInput.inputContainer.appendChild(Input.inputElement);\r\n\t\tif (Text.RightToLeft){\r\n\t\t\tInput.inputElement.style.direction=\"rtl\";\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._focusIn=function(){\r\n\t\tlaya.display.Input.isInputting=true;\r\n\t\tvar input=this.nativeInput;\r\n\t\tthis._focus=true;\r\n\t\tvar cssStyle=input.style;\r\n\t\tcssStyle.whiteSpace=(this.wordWrap ? \"pre-wrap\" :\"nowrap\");\r\n\t\tthis._setPromptColor();\r\n\t\tinput.readOnly=!this._editable;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tinput.setType(this._type);\r\n\t\t\tinput.setForbidEdit(!this._editable);\r\n\t\t}\r\n\t\tinput.maxLength=this._maxChars;\r\n\t\tvar padding=this.padding;\r\n\t\tinput.type=this._type;\r\n\t\tinput.value=this._content;\r\n\t\tinput.placeholder=this._prompt;\r\n\t\tLaya.stage.off(/*laya.events.Event.KEY_DOWN*/\"keydown\",this,this._onKeyDown);\r\n\t\tLaya.stage.on(/*laya.events.Event.KEY_DOWN*/\"keydown\",this,this._onKeyDown);\r\n\t\tLaya.stage.focus=this;\r\n\t\tthis.event(/*laya.events.Event.FOCUS*/\"focus\");\r\n\t\tif (Browser.onPC)input.focus();\r\n\t\tif(!Browser.onMiniGame){\r\n\t\t\tvar temp=this._text;\r\n\t\t\tthis._text=null;\r\n\t\t}\r\n\t\tthis.typeset();\r\n\t\tinput.setColor(this._originColor);\r\n\t\tinput.setFontSize(this.fontSize);\r\n\t\tinput.setFontFace(Browser.onIPhone ? (Text._fontFamilyMap[this.font] || this.font):this.font);\r\n\t\tif (Render.isConchApp){\r\n\t\t\tinput.setMultiAble && input.setMultiAble(this._multiline);\r\n\t\t}\r\n\t\tcssStyle.lineHeight=(this.leading+this.fontSize)+\"px\";\r\n\t\tcssStyle.fontStyle=(this.italic ? \"italic\" :\"normal\");\r\n\t\tcssStyle.fontWeight=(this.bold ? \"bold\" :\"normal\");\r\n\t\tcssStyle.textAlign=this.align;\r\n\t\tcssStyle.padding=\"0 0\";\r\n\t\tthis._syncInputTransform();\r\n\t\tif (!Render.isConchApp && Browser.onPC)\r\n\t\t\tLaya.timer.frameLoop(1,this,this._syncInputTransform);\r\n\t}\r\n\r\n\t// 设置DOM输入框提示符颜色。\r\n\t__proto._setPromptColor=function(){\r\n\t\tInput.promptStyleDOM=Browser.getElementById(\"promptStyle\");\r\n\t\tif (!Input.promptStyleDOM){\r\n\t\t\tInput.promptStyleDOM=Browser.createElement(\"style\");\r\n\t\t\tInput.promptStyleDOM.setAttribute(\"id\",\"promptStyle\");\r\n\t\t\tBrowser.document.head.appendChild(Input.promptStyleDOM);\r\n\t\t}\r\n\t\tInput.promptStyleDOM.innerText=\"input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {\"+\"color:\"+this._promptColor+\"}\"+\"input:-moz-placeholder, textarea:-moz-placeholder {\"+\"color:\"+this._promptColor+\"}\"+\"input::-moz-placeholder, textarea::-moz-placeholder {\"+\"color:\"+this._promptColor+\"}\"+\"input:-ms-input-placeholder, textarea:-ms-input-placeholder {\"+\"color:\"+this._promptColor+\"}\";\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._focusOut=function(){\r\n\t\tlaya.display.Input.isInputting=false;\r\n\t\tthis._focus=false;\r\n\t\tthis._text=null;\r\n\t\tthis._content=this.nativeInput.value;\r\n\t\tif (!this._content){\r\n\t\t\tLaya.superSet(Text,this,'text',this._prompt);\r\n\t\t\tLaya.superSet(Text,this,'color',this._promptColor);\r\n\t\t\t}else {\r\n\t\t\tLaya.superSet(Text,this,'text',this._content);\r\n\t\t\tLaya.superSet(Text,this,'color',this._originColor);\r\n\t\t}\r\n\t\tLaya.stage.off(/*laya.events.Event.KEY_DOWN*/\"keydown\",this,this._onKeyDown);\r\n\t\tLaya.stage.focus=null;\r\n\t\tthis.event(/*laya.events.Event.BLUR*/\"blur\");\r\n\t\tif (Render.isConchApp)this.nativeInput.blur();\r\n\t\tBrowser.onPC && Laya.timer.clear(this,this._syncInputTransform);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._onKeyDown=function(e){\r\n\t\tif (e.keyCode===13){\r\n\t\t\tif (Browser.onMobile && !this._multiline)\r\n\t\t\t\tthis.focus=false;\r\n\t\t\tthis.event(/*laya.events.Event.ENTER*/\"enter\");\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.changeText=function(text){\r\n\t\tthis._content=text;\r\n\t\tif (this._focus){\r\n\t\t\tthis.nativeInput.value=text || '';\r\n\t\t\tthis.event(/*laya.events.Event.CHANGE*/\"change\");\r\n\t\t}else\r\n\t\t_super.prototype.changeText.call(this,text);\r\n\t}\r\n\r\n\t/**@inheritDoc */\r\n\t__getset(0,__proto,'color',_super.prototype._$get_color,function(value){\r\n\t\tif (this._focus)\r\n\t\t\tthis.nativeInput.setColor(value);\r\n\t\tLaya.superSet(Text,this,'color',this._content?value:this._promptColor);\r\n\t\tthis._originColor=value;\r\n\t});\r\n\r\n\t//[Deprecated]\r\n\t__getset(0,__proto,'inputElementYAdjuster',function(){\r\n\t\tconsole.warn(\"deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。\");\r\n\t\treturn 0;\r\n\t\t},function(value){\r\n\t\tconsole.warn(\"deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。\");\r\n\t});\r\n\r\n\t/**表示是否是多行输入框。*/\r\n\t__getset(0,__proto,'multiline',function(){\r\n\t\treturn this._multiline;\r\n\t\t},function(value){\r\n\t\tthis._multiline=value;\r\n\t\tthis.valign=value ? \"top\" :\"middle\";\r\n\t});\r\n\r\n\t/**\r\n\t*<p>字符数量限制，默认为10000。</p>\r\n\t*<p>设置字符数量限制时，小于等于0的值将会限制字符数量为10000。</p>\r\n\t*/\r\n\t__getset(0,__proto,'maxChars',function(){\r\n\t\treturn this._maxChars;\r\n\t\t},function(value){\r\n\t\tif (value <=0)\r\n\t\t\tvalue=1E5;\r\n\t\tthis._maxChars=value;\r\n\t});\r\n\r\n\t/**@inheritDoc */\r\n\t__getset(0,__proto,'text',function(){\r\n\t\tif (this._focus)\r\n\t\t\treturn this.nativeInput.value;\r\n\t\telse\r\n\t\treturn this._content || \"\";\r\n\t\t},function(value){\r\n\t\tLaya.superSet(Text,this,'color',this._originColor);\r\n\t\tvalue+='';\r\n\t\tif (this._focus){\r\n\t\t\tthis.nativeInput.value=value || '';\r\n\t\t\tthis.event(/*laya.events.Event.CHANGE*/\"change\");\r\n\t\t\t}else {\r\n\t\t\tif (!this._multiline)\r\n\t\t\t\tvalue=value.replace(/\\r?\\n/g,'');\r\n\t\t\tthis._content=value;\r\n\t\t\tif (value)\r\n\t\t\t\tLaya.superSet(Text,this,'text',value);\r\n\t\t\telse {\r\n\t\t\t\tLaya.superSet(Text,this,'text',this._prompt);\r\n\t\t\t\tLaya.superSet(Text,this,'color',this.promptColor);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*获取对输入框的引用实例。\r\n\t*/\r\n\t__getset(0,__proto,'nativeInput',function(){\r\n\t\treturn this._multiline ? Input.area :Input.input;\r\n\t});\r\n\r\n\t/**\r\n\t*设置输入提示符。\r\n\t*/\r\n\t__getset(0,__proto,'prompt',function(){\r\n\t\treturn this._prompt;\r\n\t\t},function(value){\r\n\t\tif (!this._text && value)\r\n\t\t\tLaya.superSet(Text,this,'color',this._promptColor);\r\n\t\tthis.promptColor=this._promptColor;\r\n\t\tif (this._text)\r\n\t\t\tLaya.superSet(Text,this,'text',(this._text==this._prompt)?value:this._text);\r\n\t\telse\r\n\t\tLaya.superSet(Text,this,'text',value);\r\n\t\tthis._prompt=Text.langPacks && Text.langPacks[value] ? Text.langPacks[value] :value;\r\n\t});\r\n\r\n\t// 因此 调用focus接口是无法都在移动平台立刻弹出键盘的\r\n\t/**\r\n\t*表示焦点是否在此实例上。\r\n\t*/\r\n\t__getset(0,__proto,'focus',function(){\r\n\t\treturn this._focus;\r\n\t\t},function(value){\r\n\t\tvar input=this.nativeInput;\r\n\t\tif (this._focus!==value){\r\n\t\t\tif (value){\r\n\t\t\t\tif (input.target){\r\n\t\t\t\t\tinput.target._focusOut();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tthis._setInputMethod();\r\n\t\t\t\t}\r\n\t\t\t\tinput.target=this;\r\n\t\t\t\tthis._focusIn();\r\n\t\t\t\t}else {\r\n\t\t\t\tinput.target=null;\r\n\t\t\t\tthis._focusOut();\r\n\t\t\t\tBrowser.document.body.scrollTop=0;\r\n\t\t\t\tinput.blur();\r\n\t\t\t\tif (Render.isConchApp){\r\n\t\t\t\t\tinput.setPos(-10000,-10000);\r\n\t\t\t\t}else if (Input.inputContainer.contains(input))\r\n\t\t\t\tInput.inputContainer.removeChild(input);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**限制输入的字符。*/\r\n\t__getset(0,__proto,'restrict',function(){\r\n\t\tif (this._restrictPattern){\r\n\t\t\treturn this._restrictPattern.source;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t\t},function(pattern){\r\n\t\tif (pattern){\r\n\t\t\tpattern=\"[^\"+pattern+\"]\";\r\n\t\t\tif (pattern.indexOf(\"^^\")>-1)\r\n\t\t\t\tpattern=pattern.replace(\"^^\",\"\");\r\n\t\t\tthis._restrictPattern=new RegExp(pattern,\"g\");\r\n\t\t}else\r\n\t\tthis._restrictPattern=null;\r\n\t});\r\n\r\n\t/**\r\n\t*是否可编辑。\r\n\t*/\r\n\t__getset(0,__proto,'editable',function(){\r\n\t\treturn this._editable;\r\n\t\t},function(value){\r\n\t\tthis._editable=value;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tInput.input.setForbidEdit(!value);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*设置输入提示符颜色。\r\n\t*/\r\n\t__getset(0,__proto,'promptColor',function(){\r\n\t\treturn this._promptColor;\r\n\t\t},function(value){\r\n\t\tthis._promptColor=value;\r\n\t\tif (!this._content)Laya.superSet(Text,this,'color',value);\r\n\t});\r\n\r\n\t/**\r\n\t*<p>输入框类型为Input静态常量之一。</p>\r\n\t*<ul>\r\n\t*<li>TYPE_TEXT</li>\r\n\t*<li>TYPE_PASSWORD</li>\r\n\t*<li>TYPE_EMAIL</li>\r\n\t*<li>TYPE_URL</li>\r\n\t*<li>TYPE_NUMBER</li>\r\n\t*<li>TYPE_RANGE</li>\r\n\t*<li>TYPE_DATE</li>\r\n\t*<li>TYPE_MONTH</li>\r\n\t*<li>TYPE_WEEK</li>\r\n\t*<li>TYPE_TIME</li>\r\n\t*<li>TYPE_DATE_TIME</li>\r\n\t*<li>TYPE_DATE_TIME_LOCAL</li>\r\n\t*</ul>\r\n\t*<p>平台兼容性参见http://www.w3school.com.cn/html5/html_5_form_input_types.asp。</p>\r\n\t*/\r\n\t__getset(0,__proto,'type',function(){\r\n\t\treturn this._type;\r\n\t\t},function(value){\r\n\t\tif (value==\"password\")\r\n\t\t\tthis._getCSSStyle().password=true;\r\n\t\telse\r\n\t\tthis._getCSSStyle().password=false;\r\n\t\tthis._type=value;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tthis.nativeInput.setType(value);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*<p>原生输入框 X 轴调整值，用来调整输入框坐标。</p>\r\n\t*<p>由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。</p>\r\n\t*@deprecated\r\n\t*/\r\n\t__getset(0,__proto,'inputElementXAdjuster',function(){\r\n\t\tconsole.warn(\"deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。\");\r\n\t\treturn 0;\r\n\t\t},function(value){\r\n\t\tconsole.warn(\"deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。\");\r\n\t});\r\n\r\n\t//[Deprecated(replacement=\"Input.type\")]\r\n\t__getset(0,__proto,'asPassword',function(){\r\n\t\treturn this._getCSSStyle().password;\r\n\t\t},function(value){\r\n\t\tthis._getCSSStyle().password=value;\r\n\t\tthis._type=/*CLASS CONST:laya.display.Input.TYPE_PASSWORD*/\"password\";\r\n\t\tconsole.warn(\"deprecated: 使用type=\\\"password\\\"替代设置asPassword, asPassword将在下次重大更新时删去\");\r\n\t\tthis.isChanged=true;\r\n\t});\r\n\r\n\tInput.__init__=function(){\r\n\t\tInput._createInputElement();\r\n\t\tif (Browser.onMobile)\r\n\t\t\tRender.canvas.addEventListener(Input.IOS_IFRAME ?(Browser.onMiniGame ? \"touchend\" :\"click\"):\"touchend\",Input._popupInputMethod);\r\n\t}\r\n\r\n\tInput._popupInputMethod=function(e){\r\n\t\tif (!laya.display.Input.isInputting)return;\r\n\t\tvar input=laya.display.Input.inputElement;\r\n\t\tinput.focus();\r\n\t}\r\n\r\n\tInput._createInputElement=function(){\r\n\t\tInput._initInput(Input.area=Browser.createElement(\"textarea\"));\r\n\t\tInput._initInput(Input.input=Browser.createElement(\"input\"));\r\n\t\tInput.inputContainer=Browser.createElement(\"div\");\r\n\t\tInput.inputContainer.style.position=\"absolute\";\r\n\t\tInput.inputContainer.style.zIndex=1E5;\r\n\t\tBrowser.container.appendChild(Input.inputContainer);\r\n\t\tInput.inputContainer.setPos=function (x,y){Input.inputContainer.style.left=x+'px';Input.inputContainer.style.top=y+'px';};\r\n\t}\r\n\r\n\tInput._initInput=function(input){\r\n\t\tvar style=input.style;\r\n\t\tstyle.cssText=\"position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;\";\r\n\t\tstyle.resize='none';\r\n\t\tstyle.backgroundColor='transparent';\r\n\t\tstyle.border='none';\r\n\t\tstyle.outline='none';\r\n\t\tstyle.zIndex=1;\r\n\t\tinput.addEventListener('input',Input._processInputting);\r\n\t\tinput.addEventListener('mousemove',Input._stopEvent);\r\n\t\tinput.addEventListener('mousedown',Input._stopEvent);\r\n\t\tinput.addEventListener('touchmove',Input._stopEvent);\r\n\t\tinput.setFontFace=function (fontFace){input.style.fontFamily=fontFace;};\r\n\t\tif(!Render.isConchApp){\r\n\t\t\tinput.setColor=function (color){input.style.color=color;};\r\n\t\t\tinput.setFontSize=function (fontSize){input.style.fontSize=fontSize+'px';};\r\n\t\t}\r\n\t}\r\n\r\n\tInput._processInputting=function(e){\r\n\t\tvar input=laya.display.Input.inputElement.target;\r\n\t\tif (!input)return;\r\n\t\tvar value=laya.display.Input.inputElement.value;\r\n\t\tif (input._restrictPattern){\r\n\t\t\tvalue=value.replace(/\\u2006|\\x27/g,\"\");\r\n\t\t\tif (input._restrictPattern.test(value)){\r\n\t\t\t\tvalue=value.replace(input._restrictPattern,\"\");\r\n\t\t\t\tlaya.display.Input.inputElement.value=value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput._text=value;\r\n\t\tinput.event(/*laya.events.Event.INPUT*/\"input\");\r\n\t}\r\n\r\n\tInput._stopEvent=function(e){\r\n\t\tif (e.type=='touchmove')\r\n\t\t\te.preventDefault();\r\n\t\te.stopPropagation && e.stopPropagation();\r\n\t}\r\n\r\n\tInput.TYPE_TEXT=\"text\";\r\n\tInput.TYPE_PASSWORD=\"password\";\r\n\tInput.TYPE_EMAIL=\"email\";\r\n\tInput.TYPE_URL=\"url\";\r\n\tInput.TYPE_NUMBER=\"number\";\r\n\tInput.TYPE_RANGE=\"range\";\r\n\tInput.TYPE_DATE=\"date\";\r\n\tInput.TYPE_MONTH=\"month\";\r\n\tInput.TYPE_WEEK=\"week\";\r\n\tInput.TYPE_TIME=\"time\";\r\n\tInput.TYPE_DATE_TIME=\"datetime\";\r\n\tInput.TYPE_DATE_TIME_LOCAL=\"datetime-local\";\r\n\tInput.TYPE_SEARCH=\"search\";\r\n\tInput.input=null;\r\n\tInput.area=null;\r\n\tInput.inputElement=null;\r\n\tInput.inputContainer=null;\r\n\tInput.confirmButton=null;\r\n\tInput.promptStyleDOM=null;\r\n\tInput.inputHeight=45;\r\n\tInput.isInputting=false;\r\n\tInput.stageMatrix=null;\r\n\t__static(Input,\r\n\t['IOS_IFRAME',function(){return this.IOS_IFRAME=(Browser.onIOS && Browser.window.top !=Browser.window.self);}\r\n\t]);\r\n\treturn Input;\r\n})(Text)\r\n\r\n\r\n/**\r\n*@private\r\n*<p> <code>HTMLImage</code> 用于创建 HTML Image 元素。</p>\r\n*<p>请使用 <code>HTMLImage.create()<code>获取新实例，不要直接使用 <code>new HTMLImage<code> 。</p>\r\n*/\r\n//class laya.resource.HTMLImage extends laya.resource.FileBitmap\r\nvar HTMLImage=(function(_super){\r\n\tfunction HTMLImage(src,def){\r\n\t\t/**异步加载锁*/\r\n\t\tthis._recreateLock=false;\r\n\t\t/**异步加载完成后是否需要释放（有可能在恢复过程中,再次被释放，用此变量做标记）*/\r\n\t\tthis._needReleaseAgain=false;\r\n\t\tthis._enableMerageInAtlas=true;\r\n\t\tHTMLImage.__super.call(this);\r\n\t\tthis._init_(src,def);\r\n\t}\r\n\r\n\t__class(HTMLImage,'laya.resource.HTMLImage',_super);\r\n\tvar __proto=HTMLImage.prototype;\r\n\t__proto._init_=function(src,def){\r\n\t\tthis._src=src;\r\n\t\tthis._source=new Browser.window.Image();\r\n\t\tif (def){\r\n\t\t\tdef.onload && (this.onload=def.onload);\r\n\t\t\tdef.onerror && (this.onerror=def.onerror);\r\n\t\t\tdef.onCreate && def.onCreate(this);\r\n\t\t}\r\n\t\tif (src.indexOf(\"data:image\")!=0)this._source.crossOrigin=\"\";\r\n\t\t(src)&& (this._source.src=src);\r\n\t}\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__proto.recreateResource=function(){\r\n\t\tvar _$this=this;\r\n\t\tif (this._src===\"\")\r\n\t\t\tthrow new Error(\"src no null！\");\r\n\t\tthis._needReleaseAgain=false;\r\n\t\tif (!this._source){\r\n\t\t\tthis._recreateLock=true;\r\n\t\t\tvar _this=this;\r\n\t\t\tthis._source=new Browser.window.Image();\r\n\t\t\tthis._source.crossOrigin=\"\";\r\n\t\t\tthis._source.onload=function (){\r\n\t\t\t\tif (_this._needReleaseAgain){\r\n\t\t\t\t\t_this._needReleaseAgain=false;\r\n\t\t\t\t\t_this._source.onload=null;\r\n\t\t\t\t\t_this._source=null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t_this._source.onload=null;\r\n\t\t\t\t_this.memorySize=_$this._w *_$this._h *4;\r\n\t\t\t\t_this._recreateLock=false;\r\n\t\t\t\t_this.completeCreate();\r\n\t\t\t};\r\n\t\t\tthis._source.src=this._src;\r\n\t\t\t}else {\r\n\t\t\tif (this._recreateLock)\r\n\t\t\t\treturn;\r\n\t\t\tthis.memorySize=this._w *this._h *4;\r\n\t\t\tthis._recreateLock=false;\r\n\t\t\tthis.completeCreate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__proto.disposeResource=function(){\r\n\t\tif (this._recreateLock)\r\n\t\t\tthis._needReleaseAgain=true;\r\n\t\t(this._source)&& (this._source=null,this.memorySize=0);\r\n\t}\r\n\r\n\t/***调整尺寸。*/\r\n\t__proto.onresize=function(){\r\n\t\tthis._w=this._source.width;\r\n\t\tthis._h=this._source.height;\r\n\t}\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__getset(0,__proto,'onload',null,function(value){\r\n\t\tvar _$this=this;\r\n\t\tthis._onload=value;\r\n\t\tthis._source && (this._source.onload=this._onload !=null ? (function(){\r\n\t\t\t_$this.onresize();\r\n\t\t\t_$this._onload();\r\n\t\t}):null);\r\n\t});\r\n\r\n\t/**\r\n\t*@inheritDoc\r\n\t*/\r\n\t__getset(0,__proto,'onerror',null,function(value){\r\n\t\tvar _$this=this;\r\n\t\tthis._onerror=value;\r\n\t\tthis._source && (this._source.onerror=this._onerror !=null ? (function(){\r\n\t\t\t_$this._onerror()\r\n\t\t}):null);\r\n\t});\r\n\r\n\t__getset(0,__proto,'enableMerageInAtlas',function(){\r\n\t\treturn this._enableMerageInAtlas;\r\n\t\t},function(value){\r\n\t\tthis._enableMerageInAtlas=value;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tif (this._source)this._source.enableMerageInAtlas=value;\r\n\t\t}\r\n\t});\r\n\r\n\tHTMLImage.create=function(src,def){\r\n\t\treturn new HTMLImage(src,def);\r\n\t}\r\n\r\n\treturn HTMLImage;\r\n})(FileBitmap)\r\n\r\n\r\n/**\r\n*<p> 动效模板。用于为指定目标对象添加动画效果。每个动效有唯一的目标对象，而同一个对象可以添加多个动效。 当一个动效开始播放时，其他动效会自动停止播放。</p>\r\n*<p> 可以通过LayaAir IDE创建。 </p>\r\n*/\r\n//class laya.display.EffectAnimation extends laya.display.FrameAnimation\r\nvar EffectAnimation=(function(_super){\r\n\tfunction EffectAnimation(){\r\n\t\t/**@private */\r\n\t\tthis._target=null;\r\n\t\t/**@private */\r\n\t\tthis._playEvents=null;\r\n\t\t/**@private */\r\n\t\tthis._initData={};\r\n\t\t/**@private */\r\n\t\tthis._aniKeys=null;\r\n\t\t/**@private */\r\n\t\tthis._effectClass=null;\r\n\t\tEffectAnimation.__super.call(this);\r\n\t}\r\n\r\n\t__class(EffectAnimation,'laya.display.EffectAnimation',_super);\r\n\tvar __proto=EffectAnimation.prototype;\r\n\t/**@private */\r\n\t__proto._onOtherBegin=function(effect){\r\n\t\tif (effect==this)\r\n\t\t\treturn;\r\n\t\tthis.stop();\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto.addEvent=function(){\r\n\t\tif (!this._target || !this._playEvents)\r\n\t\t\treturn;\r\n\t\tthis._setControlNode(this._target);\r\n\t\tthis._target.on(this._playEvents,this,this._onPlayAction);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._onPlayAction=function(){\r\n\t\tthis.play(0,false);\r\n\t}\r\n\r\n\t__proto.play=function(start,loop,name,showWarn){\r\n\t\t(start===void 0)&& (start=0);\r\n\t\t(loop===void 0)&& (loop=true);\r\n\t\t(name===void 0)&& (name=\"\");\r\n\t\t(showWarn===void 0)&& (showWarn=true);\r\n\t\tif (!this._target)\r\n\t\t\treturn;\r\n\t\tthis._target.event(\"effectanimationbegin\",[this]);\r\n\t\tthis._recordInitData();\r\n\t\tlaya.display.AnimationPlayerBase.prototype.play.call(this,start,loop,name,showWarn);\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._recordInitData=function(){\r\n\t\tif (!this._aniKeys)\r\n\t\t\treturn;\r\n\t\tvar i=0,len=0;\r\n\t\tlen=this._aniKeys.length;\r\n\t\tvar key;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tkey=this._aniKeys[i];\r\n\t\t\tthis._initData[key]=this._target[key];\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._displayToIndex=function(value){\r\n\t\tif (!this._animationData)\r\n\t\t\treturn;\r\n\t\tif (value < 0)\r\n\t\t\tvalue=0;\r\n\t\tif (value > this._count)\r\n\t\t\tvalue=this._count;\r\n\t\tvar nodes=this._animationData.nodes,i=0,len=nodes.length;\r\n\t\tlen=len > 1 ? 1 :len;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tthis._displayNodeToFrame(nodes[i],value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._displayNodeToFrame=function(node,frame,targetDic){\r\n\t\tif (!this._target)\r\n\t\t\treturn;\r\n\t\tvar target;\r\n\t\ttarget=this._target;\r\n\t\tvar frames=node.frames,key,propFrames,value;\r\n\t\tvar keys=node.keys,i=0,len=keys.length;\r\n\t\tvar secondFrames;\r\n\t\tsecondFrames=node.secondFrames;\r\n\t\tvar tSecondFrame=0;\r\n\t\tvar easeFun;\r\n\t\tvar tKeyFrames;\r\n\t\tvar startFrame;\r\n\t\tvar endFrame;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tkey=keys[i];\r\n\t\t\tpropFrames=frames[key];\r\n\t\t\ttSecondFrame=secondFrames[key];\r\n\t\t\tif (tSecondFrame==-1){\r\n\t\t\t\tvalue=this._initData[key];\r\n\t\t\t\t}else {\r\n\t\t\t\tif (frame < tSecondFrame){\r\n\t\t\t\t\ttKeyFrames=node.keyframes[key];\r\n\t\t\t\t\tstartFrame=tKeyFrames[0];\r\n\t\t\t\t\tif (startFrame.tween){\r\n\t\t\t\t\t\teaseFun=Ease[startFrame.tweenMethod];\r\n\t\t\t\t\t\tif (easeFun==null){\r\n\t\t\t\t\t\t\teaseFun=Ease.linearNone;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tendFrame=tKeyFrames[1];\r\n\t\t\t\t\t\tvalue=easeFun(frame,this._initData[key],endFrame.value-this._initData[key],endFrame.index);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tvalue=this._initData[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tif (propFrames.length > frame){\r\n\t\t\t\t\t\tvalue=propFrames[frame];\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\tvalue=propFrames[propFrames.length-1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttarget[key]=value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private */\r\n\t__proto._calculateNodeKeyFrames=function(node){\r\n\t\t_super.prototype._calculateNodeKeyFrames.call(this,node);\r\n\t\tvar keyFrames=node.keyframes,key,tKeyFrames,target=node.target;\r\n\t\tvar secondFrames;\r\n\t\tsecondFrames={};\r\n\t\tnode.secondFrames=secondFrames;\r\n\t\tfor (key in keyFrames){\r\n\t\t\ttKeyFrames=keyFrames[key];\r\n\t\t\tif (tKeyFrames.length <=1){\r\n\t\t\t\tsecondFrames[key]=-1;\r\n\t\t\t\t}else {\r\n\t\t\t\tsecondFrames[key]=tKeyFrames[1].index;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*本实例的目标对象。通过本实例控制目标对象的属性变化。\r\n\t*@param v 指定的目标对象。\r\n\t*/\r\n\t__getset(0,__proto,'target',function(){\r\n\t\treturn this._target;\r\n\t\t},function(v){\r\n\t\tif (this._target){\r\n\t\t\tthis._target.off(\"effectanimationbegin\",this,this._onOtherBegin);\r\n\t\t}\r\n\t\tthis._target=v;\r\n\t\tif (this._target){\r\n\t\t\tthis._target.on(\"effectanimationbegin\",this,this._onOtherBegin);\r\n\t\t}\r\n\t\tthis.addEvent();\r\n\t});\r\n\r\n\t/**\r\n\t*设置开始播放的事件。本实例会侦听目标对象的指定事件，触发后播放相应动画效果。\r\n\t*@param event\r\n\t*/\r\n\t__getset(0,__proto,'playEvent',null,function(event){\r\n\t\tthis._playEvents=event;\r\n\t\tif (!event)\r\n\t\t\treturn;\r\n\t\tthis.addEvent();\r\n\t});\r\n\r\n\t/**\r\n\t*设置动画数据。\r\n\t*@param uiData\r\n\t*/\r\n\t__getset(0,__proto,'effectData',null,function(uiData){\r\n\t\tif (uiData){\r\n\t\t\tvar aniData;\r\n\t\t\taniData=uiData[\"animations\"];\r\n\t\t\tif (aniData && aniData[0]){\r\n\t\t\t\tthis._setUp({},aniData[0]);\r\n\t\t\t\tif (aniData[0].nodes && aniData[0].nodes[0]){\r\n\t\t\t\t\tthis._aniKeys=aniData[0].nodes[0].keys;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t*设置提供数据的类。\r\n\t*@param classStr 类路径\r\n\t*/\r\n\t__getset(0,__proto,'effectClass',null,function(classStr){\r\n\t\tthis._effectClass=ClassUtils.getClass(classStr);\r\n\t\tif (this._effectClass){\r\n\t\t\tvar uiData;\r\n\t\t\tuiData=this._effectClass[\"uiView\"];\r\n\t\t\tif (uiData){\r\n\t\t\t\tvar aniData;\r\n\t\t\t\taniData=uiData[\"animations\"];\r\n\t\t\t\tif (aniData && aniData[0]){\r\n\t\t\t\t\tthis._setUp({},aniData[0]);\r\n\t\t\t\t\tif (aniData[0].nodes && aniData[0].nodes[0]){\r\n\t\t\t\t\t\tthis._aniKeys=aniData[0].nodes[0].keys;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tEffectAnimation.EffectAnimationBegin=\"effectanimationbegin\";\r\n\treturn EffectAnimation;\r\n})(FrameAnimation)\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.utils.GraphicAnimation extends laya.display.FrameAnimation\r\nvar GraphicAnimation=(function(_super){\r\n\tvar GraphicNode;\r\n\tfunction GraphicAnimation(){\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis.animationList=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis.animationDic=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis._nodeList=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis._nodeDefaultProps=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis._gList=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*/\r\n\t\tthis._nodeIDAniDic={};\r\n\t\tthis._rootNode=null;\r\n\t\tthis._nodeGDic=null;\r\n\t\tGraphicAnimation.__super.call(this);\r\n\t}\r\n\r\n\t__class(GraphicAnimation,'laya.utils.GraphicAnimation',_super);\r\n\tvar __proto=GraphicAnimation.prototype;\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._parseNodeList=function(uiView){\r\n\t\tif (!this._nodeList){\r\n\t\t\tthis._nodeList=[];\r\n\t\t}\r\n\t\tthis._nodeDefaultProps[uiView.compId]=uiView.props;\r\n\t\tif (uiView.compId)\r\n\t\t\tthis._nodeList.push(uiView.compId);\r\n\t\tvar childs=uiView.child;\r\n\t\tif (childs){\r\n\t\t\tvar i=0,len=childs.length;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\tthis._parseNodeList(childs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._calGraphicData=function(aniData){\r\n\t\tthis._setUp(null,aniData);\r\n\t\tthis._createGraphicData();\r\n\t\tif (this._nodeIDAniDic){\r\n\t\t\tvar key;\r\n\t\t\tfor (key in this._nodeIDAniDic){\r\n\t\t\t\tthis._nodeIDAniDic[key]=null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._createGraphicData=function(){\r\n\t\tvar gList=[];\r\n\t\tvar i=0,len=this.count;\r\n\t\tvar animationDataNew=this._animationNewFrames;\r\n\t\tif (!animationDataNew)animationDataNew=[];\r\n\t\tvar preGraphic;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tif (animationDataNew[i] || !preGraphic){\r\n\t\t\t\tpreGraphic=this._createFrameGraphic(i);\r\n\t\t\t}\r\n\t\t\tgList.push(preGraphic);\r\n\t\t}\r\n\t\tthis._gList=gList;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._createFrameGraphic=function(frame){\r\n\t\tvar g=RunDriver.createGraphics();\r\n\t\tif (!GraphicAnimation._rootMatrix)\r\n\t\t\tGraphicAnimation._rootMatrix=new Matrix();\r\n\t\tthis._updateNodeGraphic(this._rootNode,frame,GraphicAnimation._rootMatrix,g);\r\n\t\treturn g;\r\n\t}\r\n\r\n\t__proto._updateNodeGraphic=function(node,frame,parentTransfrom,g,alpha){\r\n\t\t(alpha===void 0)&& (alpha=1);\r\n\t\tvar tNodeG;\r\n\t\ttNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);\r\n\t\tvar tGraphicAlpha=tNodeG.alpha *alpha;\r\n\t\tif (tGraphicAlpha < 0.01)return;\r\n\t\tif (!tNodeG.resultTransform){\r\n\t\t\ttNodeG.resultTransform=Matrix.create();\r\n\t\t};\r\n\t\tvar tResultTransform;\r\n\t\ttResultTransform=tNodeG.resultTransform;\r\n\t\tMatrix.mul(tNodeG.transform,parentTransfrom,tResultTransform);\r\n\t\tvar tTex;\r\n\t\tif (tNodeG.skin){\r\n\t\t\ttTex=this._getTextureByUrl(tNodeG.skin);\r\n\t\t\tif (tTex){\r\n\t\t\t\tif (tResultTransform._checkTransform()){\r\n\t\t\t\t\tg.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tResultTransform,tGraphicAlpha);\r\n\t\t\t\t\ttNodeG.resultTransform=null;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tg.drawTexture(tTex,tResultTransform.tx,tResultTransform.ty,tNodeG.width,tNodeG.height,null,tGraphicAlpha);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar childs;\r\n\t\tchilds=node.child;\r\n\t\tif (!childs)\r\n\t\t\treturn;\r\n\t\tvar i=0,len=0;\r\n\t\tlen=childs.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\tthis._updateNodeGraphic(childs[i],frame,tResultTransform,g,tGraphicAlpha);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._updateNoChilds=function(tNodeG,g){\r\n\t\tif (!tNodeG.skin)\r\n\t\t\treturn;\r\n\t\tvar tTex=this._getTextureByUrl(tNodeG.skin);\r\n\t\tif (!tTex)\r\n\t\t\treturn;\r\n\t\tvar tTransform=tNodeG.transform;\r\n\t\ttTransform._checkTransform();\r\n\t\tvar onlyTranslate=false;\r\n\t\tonlyTranslate=!tTransform.bTransform;\r\n\t\tif (!onlyTranslate){\r\n\t\t\tg.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tTransform.clone(),tNodeG.alpha);\r\n\t\t\t}else {\r\n\t\t\tg.drawTexture(tTex,tTransform.tx,tTransform.ty,tNodeG.width,tNodeG.height,null,tNodeG.alpha);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._updateNodeGraphic2=function(node,frame,g){\r\n\t\tvar tNodeG;\r\n\t\ttNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);\r\n\t\tif (!node.child){\r\n\t\t\tthis._updateNoChilds(tNodeG,g);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar tTransform=tNodeG.transform;\r\n\t\ttTransform._checkTransform();\r\n\t\tvar onlyTranslate=false;\r\n\t\tonlyTranslate=!tTransform.bTransform;\r\n\t\tvar hasTrans=false;\r\n\t\thasTrans=onlyTranslate && (tTransform.tx !=0 || tTransform.ty !=0);\r\n\t\tvar ifSave=false;\r\n\t\tifSave=(tTransform.bTransform)|| tNodeG.alpha !=1;\r\n\t\tif (ifSave){\r\n\t\t\tg.save();\r\n\t\t}\r\n\t\tif (tNodeG.alpha !=1){\r\n\t\t\tg.alpha(tNodeG.alpha);\r\n\t\t}\r\n\t\tif (!onlyTranslate){\r\n\t\t\tg.transform(tTransform.clone());\r\n\t\t\t}else if (hasTrans){\r\n\t\t\tg.translate(tTransform.tx,tTransform.ty);\r\n\t\t};\r\n\t\tvar childs;\r\n\t\tchilds=node.child;\r\n\t\tvar tTex;\r\n\t\tif (tNodeG.skin){\r\n\t\t\ttTex=this._getTextureByUrl(tNodeG.skin);\r\n\t\t\tif (tTex){\r\n\t\t\t\tg.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (childs){\r\n\t\t\tvar i=0,len=0;\r\n\t\t\tlen=childs.length;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\tthis._updateNodeGraphic2(childs[i],frame,g);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ifSave){\r\n\t\t\tg.restore();\r\n\t\t\t}else {\r\n\t\t\tif (!onlyTranslate){\r\n\t\t\t\tg.transform(tTransform.clone().invert());\r\n\t\t\t\t}else if (hasTrans){\r\n\t\t\t\tg.translate(-tTransform.tx,-tTransform.ty);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._calculateNodeKeyFrames=function(node){\r\n\t\t_super.prototype._calculateNodeKeyFrames.call(this,node);\r\n\t\tthis._nodeIDAniDic[node.target]=node;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.getNodeDataByID=function(nodeID){\r\n\t\treturn this._nodeIDAniDic[nodeID];\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._getParams=function(obj,params,frame,obj2){\r\n\t\tvar rst=GraphicAnimation._temParam;\r\n\t\trst.length=params.length;\r\n\t\tvar i=0,len=params.length;\r\n\t\tfor (i=0;i < len;i++){\r\n\t\t\trst[i]=this._getObjVar(obj,params[i][0],frame,params[i][1],obj2);\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._getObjVar=function(obj,key,frame,noValue,obj2){\r\n\t\tif (obj.hasOwnProperty(key)){\r\n\t\t\tvar vArr=obj[key];\r\n\t\t\tif (frame >=vArr.length)\r\n\t\t\t\tframe=vArr.length-1;\r\n\t\t\treturn obj[key][frame];\r\n\t\t}\r\n\t\tif (obj2.hasOwnProperty(key)){\r\n\t\t\treturn obj2[key];\r\n\t\t}\r\n\t\treturn noValue;\r\n\t}\r\n\r\n\t__proto._getNodeGraphicData=function(nodeID,frame,rst){\r\n\t\tif (!rst)\r\n\t\t\trst=GraphicNode.create();\r\n\t\tif (!rst.transform){\r\n\t\t\trst.transform=Matrix.create();\r\n\t\t\t}else{\r\n\t\t\trst.transform.identity();\r\n\t\t};\r\n\t\tvar node=this.getNodeDataByID(nodeID);\r\n\t\tif (!node)\r\n\t\t\treturn rst;\r\n\t\tvar frameData=node.frames;\r\n\t\tvar params=this._getParams(frameData,GraphicAnimation._drawTextureCmd,frame,this._nodeDefaultProps[nodeID]);\r\n\t\tvar url=params[0];\r\n\t\tvar width=NaN,height=NaN;\r\n\t\tvar px=params[5],py=params[6];\r\n\t\tvar aX=params[13],aY=params[14];\r\n\t\tvar sx=params[7],sy=params[8];\r\n\t\tvar rotate=params[9];\r\n\t\tvar skewX=params[11],skewY=params[12]\r\n\t\twidth=params[3];\r\n\t\theight=params[4];\r\n\t\tif (width==0 || height==0)url=null;\r\n\t\tif (width==-1)width=0;\r\n\t\tif (height==-1)height=0;\r\n\t\tvar tex;\r\n\t\trst.skin=url;\r\n\t\trst.width=width;\r\n\t\trst.height=height;\r\n\t\tif (url){\r\n\t\t\ttex=this._getTextureByUrl(url);\r\n\t\t\tif (tex){\r\n\t\t\t\tif (!width)\r\n\t\t\t\t\twidth=tex.sourceWidth;\r\n\t\t\t\tif (!height)\r\n\t\t\t\t\theight=tex.sourceHeight;\r\n\t\t\t\t}else {\r\n\t\t\t\tconsole.warn(\"lost skin:\",url,\",you may load pics first\");\r\n\t\t\t}\r\n\t\t}\r\n\t\trst.alpha=params[10];\r\n\t\tvar m;\r\n\t\tm=rst.transform;\r\n\t\tif (aX !=0){\r\n\t\t\tpx=aX *width;\r\n\t\t}\r\n\t\tif (aY !=0){\r\n\t\t\tpy=aY *height;\r\n\t\t}\r\n\t\tif (px !=0 || py !=0){\r\n\t\t\tm.translate(-px,-py);\r\n\t\t};\r\n\t\tvar tm=null;\r\n\t\tif (rotate || sx!==1 || sy!==1 || skewX || skewY){\r\n\t\t\ttm=GraphicAnimation._tempMt;\r\n\t\t\ttm.identity();\r\n\t\t\ttm.bTransform=true;\r\n\t\t\tvar skx=(rotate-skewX)*0.0174532922222222;\r\n\t\t\tvar sky=(rotate+skewY)*0.0174532922222222;\r\n\t\t\tvar cx=Math.cos(sky);\r\n\t\t\tvar ssx=Math.sin(sky);\r\n\t\t\tvar cy=Math.sin(skx);\r\n\t\t\tvar ssy=Math.cos(skx);\r\n\t\t\ttm.a=sx *cx;\r\n\t\t\ttm.b=sx *ssx;\r\n\t\t\ttm.c=-sy *cy;\r\n\t\t\ttm.d=sy *ssy;\r\n\t\t\ttm.tx=tm.ty=0;\r\n\t\t}\r\n\t\tif (tm){\r\n\t\t\tm=Matrix.mul(m,tm,m);\r\n\t\t}\r\n\t\tm.translate(params[1],params[2]);\r\n\t\treturn rst;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._getTextureByUrl=function(url){\r\n\t\treturn Loader.getRes(url);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.setAniData=function(uiView,aniName){\r\n\t\tif (uiView.animations){\r\n\t\t\tthis._nodeDefaultProps={};\r\n\t\t\tthis._nodeGDic={};\r\n\t\t\tif (this._nodeList)\r\n\t\t\t\tthis._nodeList.length=0;\r\n\t\t\tthis._rootNode=uiView;\r\n\t\t\tthis._parseNodeList(uiView);\r\n\t\t\tvar aniDic={};\r\n\t\t\tvar anilist=[];\r\n\t\t\tvar animations=uiView.animations;\r\n\t\t\tvar i=0,len=animations.length;\r\n\t\t\tvar tAniO;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\ttAniO=animations[i];\r\n\t\t\t\tthis._labels=null;\r\n\t\t\t\tif (aniName && aniName !=tAniO.name){\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tif (!tAniO)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis._calGraphicData(tAniO);\r\n\t\t\t\t\t}catch (e){\r\n\t\t\t\t\tconsole.warn(\"parse animation fail:\"+tAniO.name+\",empty animation created\");\r\n\t\t\t\t\tthis._gList=[];\r\n\t\t\t\t};\r\n\t\t\t\tvar frameO={};\r\n\t\t\t\tframeO.interval=1000 / tAniO[\"frameRate\"];\r\n\t\t\t\tframeO.frames=this._gList;\r\n\t\t\t\tframeO.labels=this._labels;\r\n\t\t\t\tframeO.name=tAniO.name;\r\n\t\t\t\tanilist.push(frameO);\r\n\t\t\t\taniDic[tAniO.name]=frameO;\r\n\t\t\t}\r\n\t\t\tthis.animationList=anilist;\r\n\t\t\tthis.animationDic=aniDic;\r\n\t\t}\r\n\t\tGraphicAnimation._temParam.length=0;\r\n\t}\r\n\r\n\t__proto.parseByData=function(aniData){\r\n\t\tvar rootNode,aniO;\r\n\t\trootNode=aniData.nodeRoot;\r\n\t\taniO=aniData.aniO;\r\n\t\tdelete aniData.nodeRoot;\r\n\t\tdelete aniData.aniO;\r\n\t\tthis._nodeDefaultProps={};\r\n\t\tthis._nodeGDic={};\r\n\t\tif (this._nodeList)\r\n\t\t\tthis._nodeList.length=0;\r\n\t\tthis._rootNode=rootNode;\r\n\t\tthis._parseNodeList(rootNode);\r\n\t\tthis._labels=null;\r\n\t\ttry {\r\n\t\t\tthis._calGraphicData(aniO);\r\n\t\t\t}catch (e){\r\n\t\t\tconsole.warn(\"parse animation fail:\"+aniO.name+\",empty animation created\");\r\n\t\t\tthis._gList=[];\r\n\t\t};\r\n\t\tvar frameO=aniData;\r\n\t\tframeO.interval=1000 / aniO[\"frameRate\"];\r\n\t\tframeO.frames=this._gList;\r\n\t\tframeO.labels=this._labels;\r\n\t\tframeO.name=aniO.name;\r\n\t\treturn frameO;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto.setUpAniData=function(uiView){\r\n\t\tif (uiView.animations){\r\n\t\t\tvar aniDic={};\r\n\t\t\tvar anilist=[];\r\n\t\t\tvar animations=uiView.animations;\r\n\t\t\tvar i=0,len=animations.length;\r\n\t\t\tvar tAniO;\r\n\t\t\tfor (i=0;i < len;i++){\r\n\t\t\t\ttAniO=animations[i];\r\n\t\t\t\tif (!tAniO)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar frameO={};\r\n\t\t\t\tframeO.name=tAniO.name;\r\n\t\t\t\tframeO.aniO=tAniO;\r\n\t\t\t\tframeO.nodeRoot=uiView;\r\n\t\t\t\tanilist.push(frameO);\r\n\t\t\t\taniDic[tAniO.name]=frameO;\r\n\t\t\t}\r\n\t\t\tthis.animationList=anilist;\r\n\t\t\tthis.animationDic=aniDic;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*/\r\n\t__proto._clear=function(){\r\n\t\tthis.animationList=null;\r\n\t\tthis.animationDic=null;\r\n\t\tthis._gList=null;\r\n\t\tif (this._nodeGDic){\r\n\t\t\tvar key;\r\n\t\t\tvar tGNode;\r\n\t\t\tfor (key in this._nodeGDic){\r\n\t\t\t\ttGNode=this._nodeGDic[key];\r\n\t\t\t\tif (tGNode)tGNode.recover();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._nodeGDic=null;\r\n\t}\r\n\r\n\tGraphicAnimation.parseAnimationByData=function(animationObject){\r\n\t\tif (!GraphicAnimation._I)\r\n\t\t\tGraphicAnimation._I=new GraphicAnimation();\r\n\t\tvar rst;\r\n\t\trst=GraphicAnimation._I.parseByData(animationObject);\r\n\t\tGraphicAnimation._I._clear();\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGraphicAnimation.parseAnimationData=function(aniData){\r\n\t\tif (!GraphicAnimation._I)\r\n\t\t\tGraphicAnimation._I=new GraphicAnimation();\r\n\t\tGraphicAnimation._I.setUpAniData(aniData);\r\n\t\tvar rst;\r\n\t\trst={};\r\n\t\trst.animationList=GraphicAnimation._I.animationList;\r\n\t\trst.animationDic=GraphicAnimation._I.animationDic;\r\n\t\tGraphicAnimation._I._clear();\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tGraphicAnimation._drawTextureCmd=[[\"skin\",null],[\"x\",0],[\"y\",0],[\"width\",-1],[\"height\",-1],[\"pivotX\",0],[\"pivotY\",0],[\"scaleX\",1],[\"scaleY\",1],[\"rotation\",0],[\"alpha\",1],[\"skewX\",0],[\"skewY\",0],[\"anchorX\",0],[\"anchorY\",0]];\r\n\tGraphicAnimation._temParam=[];\r\n\tGraphicAnimation._I=null;\r\n\tGraphicAnimation._rootMatrix=null;\r\n\t__static(GraphicAnimation,\r\n\t['_tempMt',function(){return this._tempMt=new Matrix();}\r\n\t]);\r\n\tGraphicAnimation.__init$=function(){\r\n\t\t//class GraphicNode\r\n\t\tGraphicNode=(function(){\r\n\t\t\tfunction GraphicNode(){\r\n\t\t\t\tthis.skin=null;\r\n\t\t\t\tthis.transform=null;\r\n\t\t\t\tthis.resultTransform=null;\r\n\t\t\t\tthis.width=NaN;\r\n\t\t\t\tthis.height=NaN;\r\n\t\t\t\tthis.alpha=1;\r\n\t\t\t}\r\n\t\t\t__class(GraphicNode,'');\r\n\t\t\tvar __proto=GraphicNode.prototype;\r\n\t\t\t__proto.recover=function(){\r\n\t\t\t\tthis.skin=null;\r\n\t\t\t\tthis.width=0;\r\n\t\t\t\tthis.height=0;\r\n\t\t\t\tthis.alpha=1;\r\n\t\t\t\tif (this.transform){\r\n\t\t\t\t\tthis.transform.destroy();\r\n\t\t\t\t\tthis.transform=null;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.resultTransform){\r\n\t\t\t\t\tthis.resultTransform.destroy();\r\n\t\t\t\t\tthis.resultTransform=null;\r\n\t\t\t\t}\r\n\t\t\t\tPool.recover(\"GraphicNode\",this);\r\n\t\t\t}\r\n\t\t\tGraphicNode.create=function(){\r\n\t\t\t\treturn Pool.getItemByClass(\"GraphicNode\",GraphicNode);\r\n\t\t\t}\r\n\t\t\treturn GraphicNode;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn GraphicAnimation;\r\n})(FrameAnimation)\r\n\r\n\r\n\tLaya.__init([EventDispatcher,LoaderManager,Render,Browser,Timer,LocalStorage,TimeLine,GraphicAnimation]);\r\n})(window,document,Laya);\r\n\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\n//class LayaMain\r\nvar LayaMain=(function(){\r\n\t/*[COMPILER OPTIONS:normal]*/\r\n\tfunction LayaMain(){}\r\n\t__class(LayaMain,'LayaMain');\r\n\treturn LayaMain;\r\n})()\r\n\r\n\r\n\r\n\t/**LayaGameStart**/\r\n\tnew LayaMain();\r\n\r\n})(window,document,Laya);\r\n\r\nif (typeof define === 'function' && define.amd){\r\n\tdefine('laya.core', ['require', \"exports\"], function(require, exports) {\r\n        'use strict';\r\n        Object.defineProperty(exports, '__esModule', { value: true });\r\n        for (var i in Laya) {\r\n\t\t\tvar o = Laya[i];\r\n            o && o.__isclass && (exports[i] = o);\r\n        }\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/laya.core.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = D2L2\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_4.png\n// module id = DlT6\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/bg-game.873c9cf.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/bg-game.png\n// module id = EKcJ\n// module chunks = 0","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = EqjI\n// module chunks = 0","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = FeBl\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAA1CAMAAAC5iQ9vAAAA21BMVEUAAAAiQnYgPGggPWohQnYeLkceLkceLkcgQ3ohRH0eLkceLkcdOW4eLkcgPnQgP3ceLkcgQXkeLkceLkceLkceOG0eOW8YMVkgO3IeLkceLkceLkcfPHIZNF4eLkceLkcfPXQeLkceLkceLkceLkceLkcdPG0gQXkePnAeLkceLkceLkceLkceLkcYMlwYMFgcOmwZNF4cOmoaNF8bOGUcO2s6abQfOG8eLkcdOG0bN2cZNWIYM14WLVMcOGoXMVkXL1YVK04VKkwUKUocOGkaNmUYMlsWLFEUKEnIXFhlAAAAN3RSTlMAAgceEPv25UUvFu/h25eEcnBgUyT88e/Qzse/vr23raulnJOGfWtaV0Y8NC0L+9/Qz6qoloIeLXGAQwAAAWhJREFUWMO92VlSwlAQheHcJECikTgCDjgrOM/SzuK8/xX5JhbpPk99+DfwPZ3qqnsj2GJtwGouwm3IgFWC5QOh0Z0A5bDMo8sINi88Oody2uDRRYD0rvDoJh5WnUhneFjCo1sxkg+FSG/iYTHpHh4WkV5KgXzSYNJreFiApp6OpE6lE0BvCZPuBDQsKl2CYa1w6RwNi0oXAQwL0NzTsSf/uvMvA8Pi0q0YDItL26fjSMh0Dw9r1LN39ulYEDJtno64MUZ/ePd3Om71YY269y4ymqqz6XOL3hY2XZrDqvTpXG7Qq1X6wbcigGFx6aYxrBk+nen0rCg9utaO9WFN8+lLMCwy3Vfl45pKf3l2mhrDUnvxrAuGRab3jWHpvXqWgGFx6QswLKUnx240ekcmQedgWFz6LCj0uph9+3WtPoXaDf3KwLC4dDvWhgV6c+sKDItM97Vhod69GqbKH8Nk6K42LNiPV9XT8Qv1TJ/CSCAHsAAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit4-1.png\n// module id = H3ZE\n// module chunks = 0","// if (process.env.NODE_ENV !== 'development') {\n//     __webpack_public_path__ = window[\"__webpack_public_path__\"];\n// }\nrequire('../../libs/laya.core');\nrequire('../../libs/laya.wxmini');\nrequire('../../libs/laya.webgl');\n\n\nlet { Browser, WebGL, Stage, Sprite, Handler, Stat, Tween, Ease, Util } = Laya\nLaya.MiniAdpter.init();\n\nconst Bwidth = Browser.clientWidth * Browser.pixelRatio\nconst Bheight = Browser.clientHeight * Browser.pixelRatio\n/**\n * 计算出宽度与设计稿的缩放值\n * @param num \n */\nconst SW = (num) => {\n    return num * Bwidth / 750\n}\n/**\n * 计算出高度与设计稿的缩放值\n * @param num \n */\nconst SH = (num) => {\n    return num * Bheight / 1206\n}\nclass Game {\n    r = Bwidth / 750\n    rh = Bheight / 1206\n    distanceGap: number = 0\n    stage\n    road\n    bgImage: string = require('../../images/bg-game.png')\n    roadImage: string = require('../../images/road.png')\n    /**豆娃四条道路的位置*/\n    carPos: Array<{ beginPos: point, endPos: point }> = []\n    /**计分板文字 */\n    distanceText: Laya.Text;\n    /**道路对象 */\n    routes: Array<{\n        equation: Function,\n        radio: number\n    }> = []\n    /**车 */\n    car: Laya.Animation = null\n    /**障碍物随机数池 */\n    randomHitArr: Array<number> = [0, 1, 2, 3]\n\n    /**车的关键帧 */\n    carArr: Array<string> = [\n        require('./../../images/back_1.png'),\n        require('./../../images/back_2.png'),\n        require('./../../images/back_3.png'),\n        require('./../../images/back_4.png'),\n        require('./../../images/back_5.png'),\n        require('./../../images/back_6.png'),\n    ]\n    /**障碍物图片 */\n    viewsArr: Array<string> = [\n        require('../../images/view_1.png'),\n        require('../../images/view_2.png'),\n        require('../../images/view_3.png'),\n        require('../../images/view_4.png'),\n        require('../../images/view_5.png'),\n        require('../../images/view_6.png'),\n    ]\n    /**当前分数 */\n    distance: number = 0\n    /**障碍物图片 */\n    hitArr: Array<{\n        path: string,\n        begin: number,\n        beginPosRadio: number\n    } | Array<{\n        path: string,\n        begin: number,\n        beginPosRadio: number\n    }>> = [\n            { path: require('./../../images/hit1.png'), begin: 1, beginPosRadio: 1 / 6 },\n            { path: require('./../../images/hit2.png'), begin: 0, beginPosRadio: 1 / 6 },\n            [\n                { path: require('./../../images/hit3-1.png'), begin: 0, beginPosRadio: 1.04 / 4 },\n                { path: require('./../../images/hit3-2.png'), begin: 3, beginPosRadio: 0.94 / 2 },\n            ],\n            [\n                { path: require('./../../images/hit4-1.png'), begin: 0, beginPosRadio: 0.98 / 2 },\n                { path: require('./../../images/hit4-2.png'), begin: 2, beginPosRadio: 0.94 / 4 },\n            ]\n        ]\n    /**当前车处于哪条轨道 */\n    curCarPos: number = 2\n    /**当前景物的zOrder */\n    zOrder: number = 50000;\n\n    /**当前处于跑道中的障碍物 */\n    curMoveArr: Array<Laya.Sprite> = []\n\n    /**渲染间隔 */\n    standerGap: number = 10\n    /**当前速度 */\n    speed: number = 1\n    /**初始速度 */\n    initialSpeed: number = 1\n    /**距离与对应速度 */\n    mapDistanceToSpeed: object = {\n        '0,300': this.speedRate(1),\n        '300,500': this.speedRate(1.2),\n        '500,800': this.speedRate(1.4),\n        '800,1100': this.speedRate(1.6),\n        '1100,1400': this.speedRate(1.8),\n        '1400,1700': this.speedRate(2),\n        '1700,2000': this.speedRate(2.2),\n        '2000,2300': this.speedRate(2.4),\n        '2300,2600': this.speedRate(2.6),\n        '2600,2900': this.speedRate(2.8),\n        '2900,3200': this.speedRate(3),\n        '3200,3600': this.speedRate(3.2),\n        '3600,3900': this.speedRate(6.4),\n    }\n    gap: number = 13000\n    initialGap = 13000\n    mapDisntanceToGap: object = {\n        '0,300': this.gapRate(1.5),\n        '300,500': this.gapRate(1.4),\n        '500,800': this.gapRate(1.3),\n        '800,1100': this.gapRate(1.2),\n        '1100,1400': this.gapRate(1.1),\n        '1400,1700': this.gapRate(1),\n        '1700,2000': this.gapRate(1),\n        '2000,2300': this.gapRate(.9),\n        '2300,2600': this.gapRate(.9),\n        '2600,2900': this.gapRate(.8),\n        '2900,3200': this.gapRate(.8),\n        '3200,3600': this.gapRate(.7),\n        '3600,3900': this.gapRate(.6),\n    }\n    /**上次随机出的随机数 */\n    curRandomHitArr: Array<number> = [0, 1, 2, 3]\n    isGameOver = false\n    /**距离计分板背景图 */\n    distanceImage: string = require('../../images/bg-distance.png')\n    constructor() {\n        this.init()\n    }\n    async init() {\n        //初始化微信小游戏\n        this.initStage();\n        await this.loadImage()\n        this.drawBg()\n        this.drawRoad()\n        this.getRoute()\n        this.drawDistance()\n        this.gameBegin()\n\n        this.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown)\n        this.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown)\n        Stat.show();\n    }\n    initStage() {\n        Config.isAlpha = true;\n        Laya.init(Bwidth, Bheight, WebGL);\n        Laya.stage.alignV = Stage.ALIGN_MIDDLE;\n        Laya.stage.alignH = Stage.ALIGN_CENTER;\n        Laya.stage.scaleMode = \"fixedwidth\";\n        Laya.stage.bgColor = '';\n        Laya.stage.alpha = 1\n        this.stage = Laya.stage\n    }\n\n    /**监听用户手势 */\n    mouseDown() {\n        let originMouse = this.stage.mouseX\n\n        let mouseUp = () => {\n            if (this.isGameOver) return\n            this.stage.off(Laya.Event.MOUSE_UP, this, mouseUp)\n\n            let curMouse = this.stage.mouseX;\n            let lastPos = this.curCarPos;\n            if (curMouse - originMouse > SW(20)) {\n                // 向右滑\n                this.curCarPos < (this.carPos.length - 1) && this.curCarPos++\n                console.log(this.curCarPos)\n            } else if (curMouse - originMouse < SW(20)) {\n                // 向左滑\n                this.curCarPos > 0 && this.curCarPos--\n            } else {\n                return\n            }\n            this.turnCarPos(this.curCarPos)\n        }\n        this.stage.on(Laya.Event.MOUSE_UP, this, mouseUp)\n    }\n    turnCarPos(dest) {\n        let curX = this.carPos[dest].endPos.x\n        this.car.pos(curX, this.car.y)\n    }\n    gameBegin() {\n        this.drawCar();\n        this.setCarPos();\n        this.createViews();\n        this.gameRun()\n    }\n    gameRun() {\n        let init = 0\n        let initTime = 0\n        let initAdTime = 0\n        let initHitTime = 0\n        let initViewTime = 0\n        let lastHitGap = 0;\n        let lastViewGap = 0;\n        let lastAdGap = 0;\n        let point2Y = SH(1206 - 324);\n        /**游戏主循环体 */\n        const move = (time) => {\n\n            if (!initTime) {\n                init = time;\n                initTime = time\n                initAdTime = time\n                initHitTime = time\n                initViewTime = time\n            }\n            let gap = time - initTime\n            let adGap = time - initAdTime\n            let hitGap = time - initHitTime\n            let viewGap = time - initViewTime\n            if (gap > this.standerGap) {\n                let curTime = time - init;\n                let speedRate = 1 / this.standerGap * gap\n                for (let n in this.curMoveArr) {\n                    let cur = this.curMoveArr[n]\n                    initTime = time;\n                    let speed = cur.speed * this.speed\n                    cur.y += (speedRate * speed);\n                    cur.scaleX += (cur.radio * this.r * speedRate) * speed\n                    cur.scaleY += (cur.radio * this.rh * speedRate) * speed\n                    if (cur.equation) {\n                        cur.x = cur.equation(cur.y)\n                    } else {\n                        cur.x = this.routes[cur.routeIndex].equation(cur.y)\n                    }\n                    if (cur.y >= point2Y) {\n                        cur.speed += 0.1 * speedRate * this.rh\n                    } else {\n                        cur.speed += 0.02 * speedRate * this.rh\n                    }\n\n                    /* 广告图提前消失 */\n                    if (cur.type == 'ads') {\n                        if (cur.y > Bheight * .65) {\n                            cur.visible = false;\n                        }\n                    }\n                    /* 移除元素 */\n                    if (cur.y > Bheight + (1000 * this.rh)) {\n                        this.curMoveArr.splice(Number(n), 1)\n                        cur.removeSelf()\n                        continue\n                    }\n                    let curPos = cur.getBounds();\n                    let carPos = this.car.getBounds();\n\n                    const isHit = (curPos, carPos, ignore?) => {\n                        return cur.type == 'hit' && !ignore && (curPos.y) < (carPos.y + carPos.height) && curPos.intersects(carPos)\n                    }\n                    // if (isHit(curPos, carPos, cur.ignore)) {\n                    //     this.isGameOver = true;\n                    // }\n\n                    this.setDistance(speedRate)\n                }\n            }\n\n            if (!lastViewGap) {\n                lastViewGap = (6000 + this.getRandomTime(5000)) / this.speed / SH(10) * this.rh;\n            }\n            if (viewGap > lastViewGap) {\n                initViewTime = time;\n                lastViewGap = (5000 + this.getRandomTime(5000)) / this.speed / SH(10) * this.rh;\n                this.appendViews(0);\n                this.appendViews(1);\n                setTimeout(e => {\n                    this.appendViews(0);\n                    this.appendViews(1);\n                }, 300)\n            }\n\n            if (!lastHitGap) {\n                lastHitGap = (this.gap + this.getRandomTime(3000)) / SH(10) * this.rh;\n            }\n            if (hitGap > lastHitGap) {\n                lastHitGap = (this.gap + this.getRandomTime(3000)) / SH(10) * this.rh;\n                initHitTime = time;\n                this.appendHit();\n            }\n\n            if (!lastAdGap) {\n                lastAdGap = (15000 + this.getRandomTime(30000)) / this.speed / SH(10) * this.rh;\n            }\n            // if (adGap > lastAdGap) {\n            //     lastAdGap = (15000 + this.getRandomTime(10000)) / this.speed / SH(10) * this.rh;\n            //     initAdTime = time;\n            //     this.appendAd();\n            // }\n            if (!this.isGameOver) {\n                requestAnimationFrame(move)\n            }\n        }\n        requestAnimationFrame(move)\n    }\n    /**生成景物 */\n    createViews() {\n        this.appendViews(0)\n        this.appendViews(1)\n    }\n    /**渲染分数 */\n    setDistance(rate) {\n        //TODO:100米出现一次logo \n        this.distance += (0.01 * rate * this.speed)\n        this.distanceText.text = `${Math.floor(this.distance)}m`\n        for (let n in this.mapDistanceToSpeed) {\n            let begin = parseFloat(n.split(',')[0])\n            let end = parseFloat(n.split(',')[1])\n            if (end) {\n                /* 有区间 */\n                if (this.distance >= begin && this.distance < end) {\n                    this.speed = this.mapDistanceToSpeed[n]\n                    this.gap = this.mapDisntanceToGap[n]\n                    break\n                }\n            } else {\n                /* 没有区间只有最小值 */\n                if (this.distance > begin) {\n                    this.speed = this.mapDistanceToSpeed[n]\n                    this.gap = this.mapDisntanceToGap[n]\n                    break\n                }\n            }\n        }\n    }\n    /**初始化计分板 */\n    drawDistance() {\n        let d = new Sprite()\n        let t = Laya.loader.getRes(this.distanceImage)\n        d.graphics.drawTexture(t, 0, 0)\n        d.scale(this.r, this.rh)\n        d.pos(SW(242), SH(11));\n        d.cacheAsBitmap = true\n        d.zOrder = 150000;\n        this.stage.addChild(d)\n\n        let text: Laya.Text = new Laya.Text()\n\n        text.color = '#ffffff'\n        text.align = 'center'\n        text.fontSize = SW(32)\n        text.width = SW(170)\n        text.pos(SW(338), SH(41))\n        text.zOrder = 150001;\n        this.stage.addChild(text)\n        text.text = '0m'\n        this.distanceText = text\n    }\n    /**增加两边树木石头 */\n    appendViews(isLeft) {\n        --this.zOrder;\n        let randomIndex = this.getRandomTime(this.viewsArr.length / 2);\n        let index = isLeft ? randomIndex : randomIndex + this.viewsArr.length / 2;\n        // let view = this.pool.view[index].pop();\n        let view = this.viewFactory(index, isLeft);\n        view.visible = true;\n        view.zOrder = this.zOrder;\n        this.curMoveArr.push(view)\n    }\n    /**景物精灵工厂 */\n    viewFactory(index, isLeft) {\n        let left;\n        if (isLeft) {\n            left = (Math.random() * SW(300 - 119)) + SW(119)\n        } else {\n            left = (Math.random() * SW(587 - 454)) + SW(454)\n        }\n\n        let viewImg: string = this.viewsArr[index];\n\n        let view = new Sprite();\n        let curZorder = this.zOrder;\n        view.zOrder = curZorder;\n        this.zOrder--;\n        let t = Laya.loader.getRes(viewImg)\n        view.graphics.drawTexture(t, 0, 0)\n        view.pivot(0, view.getBounds().height)\n        this.stage.addChild(view)\n        view.scale(this.r, this.rh)\n\n        let beginPos: point = { x: left, y: SH(1206 - 888) }\n        // let endPos: point = { x: isLeft ? left - SW(165) : left + SW(165), y: SH(1206 - 731) }\n        let endPos: point = { x: isLeft ? left - SW(265) : left + SW(265), y: SH(1206 - 731) }\n        //begin\n        view.scale(.1 * this.r, .1 * this.rh)\n        view.pos(beginPos.x, beginPos.y)\n        //end\n        // view.scale(.6 * this.r, .6 * this.rh)\n        // view.pos(left - SW(160), SH(1206 - 731))\n\n        view.routeIndex = 0\n        view.speed = 1\n        view.radio = this.getScaleR(\n            .4,\n            beginPos,\n            endPos\n        )\n        view.equation = this.routeFactory(beginPos, endPos)\n        view.isLeft = isLeft;\n        view.type = 'view'\n        view.index = index;\n        view.originPos = beginPos\n        view.originScale = { x: view.scaleX, y: view.scaleY }\n        view.originSpeed = view.speed\n        view.cacheAsBitmap = true;\n        view.visible = false\n        return view;\n    }\n    /**增加障碍 */\n    appendHit(index?) {\n        let randomIndex = this.getRandomHit()\n        let cur = this.hitFactory(randomIndex)\n        for (let n in cur) {\n            cur[n].visible = true;\n            this.curMoveArr.push(cur[n])\n        }\n    }\n    hitFactory(index, flag?) {\n        let hitData: Array<object> | Object = this.hitArr[index];\n        let res = []\n        if (!Array.isArray(this.hitArr[index])) {\n            hitData = [hitData]\n            flag = null\n        }\n        for (let n in hitData) {\n            let hit = new Sprite();\n\n            let cur = hitData[n]\n            let t = Laya.loader.getRes(cur.path)\n            let carPosIndex = cur.begin\n            hit.graphics.drawTexture(t, 0, 0)\n            this.stage.addChild(hit)\n            hit.pivot(hit.getBounds().width * cur.beginPosRadio, 0)\n            hit.scale(this.r, this.rh)\n\n            //begin\n            hit.scale(.1 * this.r, .1 * this.rh)\n            hit.pos(this.carPos[carPosIndex].beginPos.x, this.carPos[carPosIndex].beginPos.y)\n            //end\n            // hit.scale(1.75 * this.r, 1.75 * this.rh)\n            // hit.pos(this.carPos[carPosIndex].endPos.x, this.carPos[carPosIndex].endPos.y)\n\n            hit.routeIndex = carPosIndex\n            hit.speed = 1\n            hit.radio = this.getScaleR(\n                1.75 - 0.1,\n                this.carPos[carPosIndex].beginPos,\n                this.carPos[carPosIndex].endPos\n            )\n            hit.originPos = this.carPos[carPosIndex].beginPos\n            hit.originScale = { x: .1 * this.r, y: .1 * this.rh }\n            hit.originSpeed = hit.speed\n            hit.type = 'hit'\n            hit.index = index;\n            hit.flag = flag;\n            hit.cacheAsBitmap = true;\n            hit.visible = false;\n            hit.safe = index == 0 ? 0 : index == 1 ? 3 : index == 2 ? 2 : index == 3 ? 1 : 0\n            res.push(hit);\n            // hit.visible = false\n        }\n        return res;\n    }\n    /**获取不重复的随机值 */\n    getRandomHit() {\n        if (this.curRandomHitArr.length <= 0) {\n            this.curRandomHitArr = [...this.randomHitArr]\n        }\n        let index = Math.round(Math.random() * (this.curRandomHitArr.length - 1))\n        return this.curRandomHitArr.splice(index, 1)[0]\n    }\n    drawCar() {\n        if (this.car) {\n            this.stage.removeChild(this.car);\n            this.car = null;\n        }\n        let ani = this.setCarAnimation(0);\n        let curBounds = ani.getBounds();\n        // 设置碰撞区域\n        let bounds = new Sprite()\n        bounds.graphics.drawRect(0, 0, curBounds.width * 0.1, curBounds.height / 3 * 0.8, \"#000000\")\n        bounds.pos(curBounds.width * 0.4, curBounds.height / 3 * 1.93)\n\n        bounds.zOrder = 11;\n\n        ani.setBounds(bounds.getBounds())\n\n        ani.pivot(curBounds.width / 2, curBounds.height / 1.6);\n        ani.scale(this.r, this.r);\n\n        this.car = ani\n\n        ani.zOrder = 10\n        this.stage.addChild(ani)\n    }\n    /**设置车当前的动画状态 */\n    setCarAnimation(direc): Laya.Animation {\n        let ani = this.car;\n        if (!ani) {\n            ani = new Laya.Animation()\n        }\n        ani.interval = 150;\n        let frames = this.carArr;\n        ani.loadImages(frames);\n        ani.play(0, true);\n        return ani;\n    }\n    /**渲染车的位置 */\n    setCarPos() {\n        this.curCarPos = this.getRandomTime(3);\n        this.car.pos(\n            this.carPos[this.curCarPos].endPos.x,\n            this.carPos[this.curCarPos].endPos.y\n        )\n    }\n    loadImage() {\n        let hitPathArr: Array<string> = [];\n        for (let n in this.hitArr) {\n            let el = this.hitArr[n]\n            if (!Array.isArray(el)) {\n                hitPathArr.push(el.path)\n            } else {\n                let i = el.map(el2 => {\n                    return el2.path\n                })\n                hitPathArr.push(...i)\n            }\n        }\n        return new Promise(res => {\n            Laya.loader.load([this.bgImage, this.roadImage]\n                .concat(this.carArr)\n                .concat(this.viewsArr)\n                .concat(hitPathArr)\n                .concat(this.distanceImage)\n                , Handler.create(this, res))\n        })\n    }\n    gapRate(rate) {\n        return this.initialGap * rate;\n    }\n    /**初始化背景图 */\n    drawBg() {\n        let bg = new Sprite();\n        let t = Laya.loader.getRes(this.bgImage)\n        bg.graphics.drawTexture(t, 0, 0)\n        bg.scale(Bwidth / bg.getBounds().width, Bheight / bg.getBounds().height)\n        bg.cacheAsBitmap = true;\n        this.stage.addChild(bg)\n    }\n    drawRoad() {\n        let road = new Sprite();\n        let t = Laya.loader.getRes(this.roadImage)\n        road.graphics.drawTexture(t, 0, 0)\n        road.pivot(road.getBounds().width / 2, road.getBounds().height)\n        road.scale(this.r, this.rh)\n        road.pos(Bwidth / 2, Bheight)\n        this.road = road\n        this.stage.addChild(road)\n    }\n\n    getRoute() {\n        let point1Y = this.road.getBounds().y;\n        let point2Y = SH(1206 - 324);\n        const route = [\n            {\n                start: {\n                    x: SW(352),\n                    y: point1Y\n                },\n                end: {\n                    x: SW(70),\n                    y: point2Y\n                }\n            },\n            {\n                start: {\n                    x: SW(364),\n                    y: point1Y\n                },\n                end: {\n                    x: SW(270),\n                    y: point2Y\n                }\n            },\n            {\n                start: {\n                    x: SW(378),\n                    y: point1Y\n                },\n                end: {\n                    x: SW(478),\n                    y: point2Y\n                }\n            },\n            {\n                start: {\n                    x: SW(390),\n                    y: point1Y\n                },\n                end: {\n                    x: SW(680),\n                    y: point2Y\n                }\n            }\n        ]\n        route.map(el => {\n            let dot1 = new Sprite();\n            dot1.graphics.drawCircle(0, 0, 0, \"#000000\");\n            dot1.pos(el.start.x, el.start.y)\n\n            let dot2 = new Sprite();\n            dot2.graphics.drawCircle(0, 0, 0, \"#000000\");\n            dot2.pos(el.end.x, el.end.y)\n\n            this.stage.addChild(dot1)\n            this.stage.addChild(dot2)\n\n            let curPos = {\n                beginPos: { x: el.start.x, y: el.start.y },\n                endPos: { x: el.end.x, y: el.end.y }\n            }\n\n            this.carPos.push(curPos)\n\n            let route = this.routeFactory(\n                curPos.beginPos,\n                curPos.endPos\n            )\n            let radio = this.getScaleR(\n                0.9,\n                curPos.beginPos,\n                curPos.endPos\n            )\n            this.routes.push({ equation: route, radio })\n        })\n\n    }\n\n    /**道路对象构造函数 */\n    routeFactory(point1: point, point2: point) {\n        return y => {\n            return (y * (point1.x - point2.x) - point2.y * point1.x + point2.x * point1.y) / (point1.y - point2.y)\n        }\n    }\n    /**获得两点间缩放比例 */\n    getScaleR(scaleFix: number, beginPos: point, endPos: point) {\n        // return scaleFix / Math.sqrt(Math.pow(beginPos.x - endPos.x, 2) + Math.pow(beginPos.y - endPos.y, 2))\n        return scaleFix / Math.abs(beginPos.y - endPos.y)\n    }\n\n    /**随机一个[0-num]的值 */\n    getRandomTime(num) {\n        let time = Math.floor(Math.random() * (num));\n        return time;\n    }\n\n    /**根据比率计算速度 */\n    speedRate(rate) {\n        return this.initialSpeed * rate;\n    }\n}\nexport default new Game();\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = Ibhu\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_3.png\n// module id = JNwH\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_3.34304e9.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_3.png\n// module id = K5HB\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\n// module id = K6ED\n// module chunks = 0","\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\n\r\n\tvar Browser=laya.utils.Browser,Event=laya.events.Event,EventDispatcher=laya.events.EventDispatcher;\r\n\tvar HTMLImage=laya.resource.HTMLImage,Handler=laya.utils.Handler,Input=laya.display.Input,Loader=laya.net.Loader;\r\n\tvar LocalStorage=laya.net.LocalStorage,Matrix=laya.maths.Matrix,Render=laya.renders.Render,RunDriver=laya.utils.RunDriver;\r\n\tvar SoundChannel=laya.media.SoundChannel,SoundManager=laya.media.SoundManager,URL=laya.net.URL,Utils=laya.utils.Utils;\r\n//class laya.wx.mini.MiniAdpter\r\nvar MiniAdpter=(function(){\r\n\tfunction MiniAdpter(){}\r\n\t__class(MiniAdpter,'laya.wx.mini.MiniAdpter');\r\n\tMiniAdpter.getJson=function(data){\r\n\t\treturn JSON.parse(data);\r\n\t}\r\n\r\n\tMiniAdpter.init=function(isPosMsg,isSon){\r\n\t\t(isPosMsg===void 0)&& (isPosMsg=false);\r\n\t\t(isSon===void 0)&& (isSon=false);\r\n\t\tif (MiniAdpter._inited)return;\r\n\t\tMiniAdpter._inited=true;\r\n\t\tMiniAdpter.window=/*__JS__ */window;\r\n\t\tif(MiniAdpter.window.navigator.userAgent.indexOf('MiniGame')<0)return;\r\n\t\tMiniAdpter.isZiYu=isSon;\r\n\t\tMiniAdpter.isPosMsgYu=isPosMsg;\r\n\t\tMiniAdpter.EnvConfig={};\r\n\t\ttry{\r\n\t\t\t/*__JS__ */laya.webgl.resource.WebGLCanvas.premulAlpha=true;\r\n\t\t\t}catch(e){\r\n\t\t}\r\n\t\tif(!MiniAdpter.isZiYu){\r\n\t\t\tMiniFileMgr.setNativeFileDir(\"/layaairGame\");\r\n\t\t\tMiniFileMgr.existDir(MiniFileMgr.fileNativeDir,Handler.create(MiniAdpter,MiniAdpter.onMkdirCallBack));\r\n\t\t}\r\n\t\tMiniAdpter.systemInfo=/*__JS__ */wx.getSystemInfoSync();\r\n\t\tMiniAdpter.window.focus=function (){\r\n\t\t};\r\n\t\tLaya['getUrlPath']=function (){\r\n\t\t};\r\n\t\tMiniAdpter.window.logtime=function (str){\r\n\t\t};\r\n\t\tMiniAdpter.window.alertTimeLog=function (str){\r\n\t\t};\r\n\t\tMiniAdpter.window.resetShareInfo=function (){\r\n\t\t};\r\n\t\tMiniAdpter.window.CanvasRenderingContext2D=function (){\r\n\t\t};\r\n\t\tMiniAdpter.window.CanvasRenderingContext2D.prototype=MiniAdpter.window.wx.createCanvas().getContext('2d').__proto__;\r\n\t\tMiniAdpter.window.document.body.appendChild=function (){\r\n\t\t};\r\n\t\tMiniAdpter.EnvConfig.pixelRatioInt=0;\r\n\t\tRunDriver.getPixelRatio=MiniAdpter.pixelRatio;\r\n\t\tMiniAdpter._preCreateElement=Browser.createElement;\r\n\t\tBrowser[\"createElement\"]=MiniAdpter.createElement;\r\n\t\tRunDriver.createShaderCondition=MiniAdpter.createShaderCondition;\r\n\t\tUtils['parseXMLFromString']=MiniAdpter.parseXMLFromString;\r\n\t\tInput['_createInputElement']=MiniInput['_createInputElement'];\r\n\t\tMiniAdpter.EnvConfig.load=Loader.prototype.load;\r\n\t\tLoader.prototype.load=MiniLoader.prototype.load;\r\n\t\tLoader.prototype._loadImage=MiniImage.prototype._loadImage;\r\n\t\tMiniLocalStorage.__init__();\r\n\t\tLocalStorage._baseClass=MiniLocalStorage;\r\n\t}\r\n\r\n\tMiniAdpter.getUrlEncode=function(url,type){\r\n\t\tif(url.indexOf(\".fnt\")!=-1)\r\n\t\t\treturn \"utf8\";\r\n\t\telse if(type==\"arraybuffer\")\r\n\t\treturn \"\";\r\n\t\treturn \"ascii\";\r\n\t}\r\n\r\n\tMiniAdpter.downLoadFile=function(fileUrl,fileType,callBack,encoding){\r\n\t\t(fileType===void 0)&& (fileType=\"\");\r\n\t\t(encoding===void 0)&& (encoding=\"ascii\");\r\n\t\tvar fileObj=MiniFileMgr.getFileInfo(fileUrl);\r\n\t\tif(!fileObj)\r\n\t\t\tMiniFileMgr.downLoadFile(fileUrl,fileType,callBack,encoding);\r\n\t\telse{\r\n\t\t\tcallBack !=null && callBack.runWith([0]);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniAdpter.remove=function(fileUrl,callBack){\r\n\t\tMiniFileMgr.deleteFile(\"\",fileUrl,callBack,\"\",0);\r\n\t}\r\n\r\n\tMiniAdpter.removeAll=function(){\r\n\t\tMiniFileMgr.deleteAll();\r\n\t}\r\n\r\n\tMiniAdpter.hasNativeFile=function(fileUrl){\r\n\t\treturn MiniFileMgr.isLocalNativeFile(fileUrl);\r\n\t}\r\n\r\n\tMiniAdpter.getFileInfo=function(fileUrl){\r\n\t\treturn MiniFileMgr.getFileInfo(fileUrl);\r\n\t}\r\n\r\n\tMiniAdpter.getFileList=function(){\r\n\t\treturn MiniFileMgr.filesListObj;\r\n\t}\r\n\r\n\tMiniAdpter.exitMiniProgram=function(){\r\n\t\tMiniAdpter.window[\"wx\"].exitMiniProgram();\r\n\t}\r\n\r\n\tMiniAdpter.onMkdirCallBack=function(errorCode,data){\r\n\t\tif (!errorCode)\r\n\t\t\tMiniFileMgr.filesListObj=JSON.parse(data.data);\r\n\t}\r\n\r\n\tMiniAdpter.pixelRatio=function(){\r\n\t\tif (!MiniAdpter.EnvConfig.pixelRatioInt){\r\n\t\t\ttry {\r\n\t\t\t\tMiniAdpter.EnvConfig.pixelRatioInt=MiniAdpter.systemInfo.pixelRatio;\r\n\t\t\t\treturn MiniAdpter.systemInfo.pixelRatio;\r\n\t\t\t}catch (error){}\r\n\t\t}\r\n\t\treturn MiniAdpter.EnvConfig.pixelRatioInt;\r\n\t}\r\n\r\n\tMiniAdpter.createElement=function(type){\r\n\t\tif (type==\"canvas\"){\r\n\t\t\tvar _source;\r\n\t\t\tif (MiniAdpter.idx==1){\r\n\t\t\t\tif(MiniAdpter.isZiYu){\r\n\t\t\t\t\t_source=/*__JS__ */sharedCanvas;\r\n\t\t\t\t\t_source.style={};\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t_source=/*__JS__ */window.canvas;\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\t_source=/*__JS__ */window.wx.createCanvas();\r\n\t\t\t}\r\n\t\t\tMiniAdpter.idx++;\r\n\t\t\treturn _source;\r\n\t\t\t}else if (type==\"textarea\" || type==\"input\"){\r\n\t\t\treturn MiniAdpter.onCreateInput(type);\r\n\t\t\t}else if (type==\"div\"){\r\n\t\t\tvar node=MiniAdpter._preCreateElement(type);\r\n\t\t\tnode.contains=function (value){\r\n\t\t\t\treturn null\r\n\t\t\t};\r\n\t\t\tnode.removeChild=function (value){\r\n\t\t\t};\r\n\t\t\treturn node;\r\n\t\t\t}else {\r\n\t\t\treturn MiniAdpter._preCreateElement(type);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniAdpter.onCreateInput=function(type){\r\n\t\tvar node=MiniAdpter._preCreateElement(type);\r\n\t\tnode.focus=MiniInput.wxinputFocus;\r\n\t\tnode.blur=MiniInput.wxinputblur;\r\n\t\tnode.style={};\r\n\t\tnode.value=0;\r\n\t\tnode.parentElement={};\r\n\t\tnode.placeholder={};\r\n\t\tnode.type={};\r\n\t\tnode.setColor=function (value){\r\n\t\t};\r\n\t\tnode.setType=function (value){\r\n\t\t};\r\n\t\tnode.setFontFace=function (value){\r\n\t\t};\r\n\t\tnode.addEventListener=function (value){\r\n\t\t};\r\n\t\tnode.contains=function (value){\r\n\t\t\treturn null\r\n\t\t};\r\n\t\tnode.removeChild=function (value){\r\n\t\t};\r\n\t\treturn node;\r\n\t}\r\n\r\n\tMiniAdpter.createShaderCondition=function(conditionScript){\r\n\t\tvar _$this=this;\r\n\t\tvar func=function (){\r\n\t\t\tvar abc=conditionScript;\r\n\t\t\treturn _$this[conditionScript.replace(\"this.\",\"\")];\r\n\t\t}\r\n\t\treturn func;\r\n\t}\r\n\r\n\tMiniAdpter.EnvConfig=null;\r\n\tMiniAdpter.window=null;\r\n\tMiniAdpter._preCreateElement=null;\r\n\tMiniAdpter._inited=false;\r\n\tMiniAdpter.systemInfo=null;\r\n\tMiniAdpter.isZiYu=false;\r\n\tMiniAdpter.isPosMsgYu=false;\r\n\tMiniAdpter.autoCacheFile=true;\r\n\tMiniAdpter.minClearSize=(5 *1024 *1024);\r\n\tMiniAdpter.parseXMLFromString=function(value){\r\n\t\tvar rst;\r\n\t\tvar Parser;\r\n\t\tvalue=value.replace(/>\\s+</g,'><');\r\n\t\ttry {\r\n\t\t\t/*__JS__ */rst=(new window.Parser.DOMParser()).parseFromString(value,'text/xml');\r\n\t\t\t}catch (error){\r\n\t\t\tthrow \"需要引入xml解析库文件\";\r\n\t\t}\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tMiniAdpter.idx=1;\r\n\t__static(MiniAdpter,\r\n\t['nativefiles',function(){return this.nativefiles=[\"layaNativeDir\",\"wxlocal\"];}\r\n\t]);\r\n\treturn MiniAdpter;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniFileMgr\r\nvar MiniFileMgr=(function(){\r\n\tfunction MiniFileMgr(){}\r\n\t__class(MiniFileMgr,'laya.wx.mini.MiniFileMgr');\r\n\tMiniFileMgr.isLocalNativeFile=function(url){\r\n\t\tfor(var i=0,sz=MiniAdpter.nativefiles.length;i<sz;i++){\r\n\t\t\tif(url.indexOf(MiniAdpter.nativefiles[i])!=-1)\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tMiniFileMgr.getFileInfo=function(fileUrl){\r\n\t\tvar fileNativePath=fileUrl.split(\"?\")[0];\r\n\t\tvar fileObj=MiniFileMgr.filesListObj[fileNativePath];\r\n\t\tif (fileObj==null)\r\n\t\t\treturn null;\r\n\t\telse\r\n\t\treturn fileObj;\r\n\t\treturn null;\r\n\t}\r\n\r\n\tMiniFileMgr.read=function(filePath,encoding,callBack,readyUrl,isSaveFile,fileType){\r\n\t\t(encoding===void 0)&& (encoding=\"ascill\");\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\t(isSaveFile===void 0)&& (isSaveFile=false);\r\n\t\t(fileType===void 0)&& (fileType=\"\");\r\n\t\tvar fileUrl;\r\n\t\tif(readyUrl!=\"\" && (readyUrl.indexOf(\"http://\")!=-1 || readyUrl.indexOf(\"https://\")!=-1)){\r\n\t\t\tfileUrl=MiniFileMgr.getFileNativePath(filePath)\r\n\t\t\t}else{\r\n\t\t\tfileUrl=filePath;\r\n\t\t}\r\n\t\tMiniFileMgr.fs.readFile({filePath:fileUrl,encoding:encoding,success:function (data){\r\n\t\t\t\tcallBack !=null && callBack.runWith([0,data]);\r\n\t\t\t\t},fail:function (data){\r\n\t\t\t\tif (data && readyUrl !=\"\")\r\n\t\t\t\t\tMiniFileMgr.downFiles(readyUrl,encoding,callBack,readyUrl,isSaveFile,fileType);\r\n\t\t\t\telse\r\n\t\t\t\tcallBack !=null && callBack.runWith([1]);\r\n\t\t}});\r\n\t}\r\n\r\n\tMiniFileMgr.downFiles=function(fileUrl,encoding,callBack,readyUrl,isSaveFile,fileType){\r\n\t\t(encoding===void 0)&& (encoding=\"ascii\");\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\t(isSaveFile===void 0)&& (isSaveFile=false);\r\n\t\t(fileType===void 0)&& (fileType=\"\");\r\n\t\tvar downloadTask=MiniFileMgr.wxdown({url:fileUrl,success:function (data){\r\n\t\t\t\tif (data.statusCode===200)\r\n\t\t\t\t\tMiniFileMgr.readFile(data.tempFilePath,encoding,callBack,readyUrl,isSaveFile,fileType);\r\n\t\t\t\t},fail:function (data){\r\n\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t}});\r\n\t\tdownloadTask.onProgressUpdate(function(data){\r\n\t\t\tcallBack !=null && callBack.runWith([2,data.progress]);\r\n\t\t});\r\n\t}\r\n\r\n\tMiniFileMgr.readFile=function(filePath,encoding,callBack,readyUrl,isSaveFile,fileType){\r\n\t\t(encoding===void 0)&& (encoding=\"ascill\");\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\t(isSaveFile===void 0)&& (isSaveFile=false);\r\n\t\t(fileType===void 0)&& (fileType=\"\");\r\n\t\tMiniFileMgr.fs.readFile({filePath:filePath,encoding:encoding,success:function (data){\r\n\t\t\t\tif (filePath.indexOf(\"http://\")!=-1 || filePath.indexOf(\"https://\")!=-1){\r\n\t\t\t\t\tif(MiniAdpter.autoCacheFile || isSaveFile){\r\n\t\t\t\t\t\tMiniFileMgr.copyFile(filePath,readyUrl,callBack,encoding);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tcallBack !=null && callBack.runWith([0,data]);\r\n\t\t\t\t},fail:function (data){\r\n\t\t\t\tif (data)\r\n\t\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t}});\r\n\t}\r\n\r\n\tMiniFileMgr.downOtherFiles=function(fileUrl,callBack,readyUrl,isSaveFile){\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\t(isSaveFile===void 0)&& (isSaveFile=false);\r\n\t\tMiniFileMgr.wxdown({url:fileUrl,success:function (data){\r\n\t\t\t\tif (data.statusCode===200){\r\n\t\t\t\t\tif((MiniAdpter.autoCacheFile || isSaveFile)&& readyUrl.indexOf(\"wx.qlogo.cn\")==-1)\r\n\t\t\t\t\t\tMiniFileMgr.copyFile(data.tempFilePath,readyUrl,callBack);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tcallBack !=null && callBack.runWith([0,data.tempFilePath]);\r\n\t\t\t\t}\r\n\t\t\t\t},fail:function (data){\r\n\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t}});\r\n\t}\r\n\r\n\tMiniFileMgr.downLoadFile=function(fileUrl,fileType,callBack,encoding){\r\n\t\t(fileType===void 0)&& (fileType=\"\");\r\n\t\t(encoding===void 0)&& (encoding=\"ascii\");\r\n\t\tif(fileType==/*laya.net.Loader.IMAGE*/\"image\" || fileType==/*laya.net.Loader.SOUND*/\"sound\")\r\n\t\t\tMiniFileMgr.downOtherFiles(fileUrl,callBack,fileUrl,true);\r\n\t\telse\r\n\t\tMiniFileMgr.downFiles(fileUrl,encoding,callBack,fileUrl,true,fileType);\r\n\t}\r\n\r\n\tMiniFileMgr.copyFile=function(tempFilePath,readyUrl,callBack,encoding){\r\n\t\t(encoding===void 0)&& (encoding=\"\");\r\n\t\tvar temp=tempFilePath.split(\"/\");\r\n\t\tvar tempFileName=temp[temp.length-1];\r\n\t\tvar fileurlkey=readyUrl.split(\"?\")[0];\r\n\t\tvar fileObj=MiniFileMgr.getFileInfo(readyUrl);\r\n\t\tvar saveFilePath=MiniFileMgr.getFileNativePath(tempFileName);\r\n\t\tvar totalSize=50 *1024 *1024;\r\n\t\tvar chaSize=4 *1024 *1024;\r\n\t\tvar fileUseSize=MiniFileMgr.getCacheUseSize();\r\n\t\tif (fileObj){\r\n\t\t\tif (fileObj.readyUrl !=readyUrl){\r\n\t\t\t\tMiniFileMgr.fs.getFileInfo({\r\n\t\t\t\t\tfilePath:tempFilePath,\r\n\t\t\t\t\tsuccess:function (data){\r\n\t\t\t\t\t\tif((fileUseSize+chaSize+data.size)>=totalSize){\r\n\t\t\t\t\t\t\tif(data.size > MiniAdpter.minClearSize)\r\n\t\t\t\t\t\t\t\tMiniAdpter.minClearSize=data.size;\r\n\t\t\t\t\t\t\tMiniFileMgr.onClearCacheRes();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tMiniFileMgr.deleteFile(tempFileName,readyUrl,callBack,encoding,data.size);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function (data){\r\n\t\t\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tcallBack !=null && callBack.runWith([0]);\r\n\t\t\t}else{\r\n\t\t\tMiniFileMgr.fs.getFileInfo({\r\n\t\t\t\tfilePath:tempFilePath,\r\n\t\t\t\tsuccess:function (data){\r\n\t\t\t\t\tif((fileUseSize+chaSize+data.size)>=totalSize){\r\n\t\t\t\t\t\tif(data.size > MiniAdpter.minClearSize)\r\n\t\t\t\t\t\t\tMiniAdpter.minClearSize=data.size;\r\n\t\t\t\t\t\tMiniFileMgr.onClearCacheRes();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tMiniFileMgr.fs.copyFile({srcPath:tempFilePath,destPath:saveFilePath,success:function (data2){\r\n\t\t\t\t\t\t\tMiniFileMgr.onSaveFile(readyUrl,tempFileName,true,encoding,callBack,data.size);\r\n\t\t\t\t\t\t\t},fail:function (data){\r\n\t\t\t\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t\t\t\t}});\r\n\t\t\t\t},\r\n\t\t\t\tfail:function (data){\r\n\t\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.onClearCacheRes=function(){\r\n\t\tvar memSize=MiniAdpter.minClearSize;\r\n\t\tvar tempFileListArr=[];\r\n\t\tfor(var key in MiniFileMgr.filesListObj){\r\n\t\t\ttempFileListArr.push(MiniFileMgr.filesListObj[key]);\r\n\t\t}\r\n\t\tMiniFileMgr.sortOn(tempFileListArr,\"time\",16);\r\n\t\tvar clearSize=0;\r\n\t\tfor(var i=1,sz=tempFileListArr.length;i<sz;i++){\r\n\t\t\tvar fileObj=tempFileListArr[i];\r\n\t\t\tif(clearSize >=memSize)\r\n\t\t\t\tbreak ;\r\n\t\t\tclearSize+=fileObj.size;\r\n\t\t\tMiniFileMgr.deleteFile(\"\",fileObj.readyUrl);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.sortOn=function(array,name,options){\r\n\t\t(options===void 0)&& (options=0);\r\n\t\tif (options==16)return array.sort(function(a,b){return a[name]-b[name];});\r\n\t\tif (options==(16 | 2))return array.sort(function(a,b){return b[name]-a[name];});\r\n\t\treturn array.sort(function(a,b){return a[name]-b[name] });\r\n\t}\r\n\r\n\tMiniFileMgr.getFileNativePath=function(fileName){\r\n\t\treturn laya.wx.mini.MiniFileMgr.fileNativeDir+\"/\"+fileName;\r\n\t}\r\n\r\n\tMiniFileMgr.deleteFile=function(tempFileName,readyUrl,callBack,encoding,fileSize){\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\t(encoding===void 0)&& (encoding=\"\");\r\n\t\t(fileSize===void 0)&& (fileSize=0);\r\n\t\tvar fileObj=MiniFileMgr.getFileInfo(readyUrl);\r\n\t\tvar deleteFileUrl=MiniFileMgr.getFileNativePath(fileObj.md5);\r\n\t\tMiniFileMgr.fs.unlink({filePath:deleteFileUrl,success:function (data){\r\n\t\t\t\tvar isAdd=tempFileName !=\"\" ? true :false;\r\n\t\t\t\tif(tempFileName !=\"\"){\r\n\t\t\t\t\tvar saveFilePath=MiniFileMgr.getFileNativePath(tempFileName);\r\n\t\t\t\t\tMiniFileMgr.fs.copyFile({srcPath:tempFileName,destPath:saveFilePath,success:function (data){\r\n\t\t\t\t\t\t\tMiniFileMgr.onSaveFile(readyUrl,tempFileName,isAdd,encoding,callBack,data.size);\r\n\t\t\t\t\t\t\t},fail:function (data){\r\n\t\t\t\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t\t\t\t}});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tMiniFileMgr.onSaveFile(readyUrl,tempFileName,isAdd,encoding,callBack,fileSize);\r\n\t\t\t\t}\r\n\t\t\t\t},fail:function (data){\r\n\t\t}});\r\n\t}\r\n\r\n\tMiniFileMgr.deleteAll=function(){\r\n\t\tvar tempFileListArr=[];\r\n\t\tfor(var key in MiniFileMgr.filesListObj){\r\n\t\t\ttempFileListArr.push(MiniFileMgr.filesListObj[key]);\r\n\t\t}\r\n\t\tfor(var i=1,sz=tempFileListArr.length;i<sz;i++){\r\n\t\t\tvar fileObj=tempFileListArr[i];\r\n\t\t\tMiniFileMgr.deleteFile(\"\",fileObj.readyUrl);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.onSaveFile=function(readyUrl,md5Name,isAdd,encoding,callBack,fileSize){\r\n\t\t(isAdd===void 0)&& (isAdd=true);\r\n\t\t(encoding===void 0)&& (encoding=\"\");\r\n\t\t(fileSize===void 0)&& (fileSize=0);\r\n\t\tvar fileurlkey=readyUrl.split(\"?\")[0];\r\n\t\tif(MiniFileMgr.filesListObj['fileUsedSize']==null)\r\n\t\t\tMiniFileMgr.filesListObj['fileUsedSize']=0;\r\n\t\tif(isAdd){\r\n\t\t\tvar fileNativeName=MiniFileMgr.getFileNativePath(md5Name);\r\n\t\t\tMiniFileMgr.filesListObj[fileurlkey]={md5:md5Name,readyUrl:readyUrl,size:fileSize,times:Browser.now(),encoding:encoding};\r\n\t\t\tMiniFileMgr.filesListObj['fileUsedSize']=parseInt(MiniFileMgr.filesListObj['fileUsedSize'])+fileSize;\r\n\t\t\tMiniFileMgr.writeFilesList(fileurlkey,JSON.stringify(MiniFileMgr.filesListObj),true);\r\n\t\t\tcallBack !=null && callBack.runWith([0]);\r\n\t\t\t}else{\r\n\t\t\tif(MiniFileMgr.filesListObj[fileurlkey]){\r\n\t\t\t\tvar deletefileSize=parseInt(MiniFileMgr.filesListObj[fileurlkey].size);\r\n\t\t\t\tMiniFileMgr.filesListObj['fileUsedSize']=parseInt(MiniFileMgr.filesListObj['fileUsedSize'])-deletefileSize;\r\n\t\t\t\tdelete MiniFileMgr.filesListObj[fileurlkey];\r\n\t\t\t\tMiniFileMgr.writeFilesList(fileurlkey,JSON.stringify(MiniFileMgr.filesListObj),false);\r\n\t\t\t\tcallBack !=null && callBack.runWith([0]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.writeFilesList=function(fileurlkey,filesListStr,isAdd){\r\n\t\tvar listFilesPath=MiniFileMgr.fileNativeDir+\"/\"+MiniFileMgr.fileListName;\r\n\t\tMiniFileMgr.fs.writeFile({filePath:listFilesPath,encoding:'utf8',data:filesListStr,success:function (data){\r\n\t\t\t\t},fail:function (data){\r\n\t\t}});\r\n\t\tif(!MiniAdpter.isZiYu &&MiniAdpter.isPosMsgYu){\r\n\t\t\t/*__JS__ */wx.postMessage({url:fileurlkey,data:MiniFileMgr.filesListObj[fileurlkey],isLoad:\"filenative\",isAdd:isAdd});\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.getCacheUseSize=function(){\r\n\t\tif(MiniFileMgr.filesListObj && MiniFileMgr.filesListObj['fileUsedSize'])\r\n\t\t\treturn MiniFileMgr.filesListObj['fileUsedSize'];\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tMiniFileMgr.existDir=function(dirPath,callBack){\r\n\t\tMiniFileMgr.fs.mkdir({dirPath:dirPath,success:function (data){\r\n\t\t\t\tcallBack !=null && callBack.runWith([0,{data:JSON.stringify({})}]);\r\n\t\t\t\t},fail:function (data){\r\n\t\t\t\tif (data.errMsg.indexOf(\"file already exists\")!=-1)\r\n\t\t\t\t\tMiniFileMgr.readSync(MiniFileMgr.fileListName,\"utf8\",callBack);\r\n\t\t\t\telse\r\n\t\t\t\tcallBack !=null && callBack.runWith([1,data]);\r\n\t\t}});\r\n\t}\r\n\r\n\tMiniFileMgr.readSync=function(filePath,encoding,callBack,readyUrl){\r\n\t\t(encoding===void 0)&& (encoding=\"ascill\");\r\n\t\t(readyUrl===void 0)&& (readyUrl=\"\");\r\n\t\tvar fileUrl=MiniFileMgr.getFileNativePath(filePath);\r\n\t\tvar filesListStr\r\n\t\ttry{\r\n\t\t\tfilesListStr=MiniFileMgr.fs.readFileSync(fileUrl,encoding);\r\n\t\t\tcallBack !=null && callBack.runWith([0,{data:filesListStr}]);\r\n\t\t}\r\n\t\tcatch(error){\r\n\t\t\tcallBack !=null && callBack.runWith([1]);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniFileMgr.setNativeFileDir=function(value){\r\n\t\tMiniFileMgr.fileNativeDir=/*__JS__ */wx.env.USER_DATA_PATH+value;\r\n\t}\r\n\r\n\tMiniFileMgr.filesListObj={};\r\n\tMiniFileMgr.fileNativeDir=null;\r\n\tMiniFileMgr.fileListName=\"layaairfiles.txt\";\r\n\tMiniFileMgr.ziyuFileData={};\r\n\tMiniFileMgr.loadPath=\"\";\r\n\tMiniFileMgr.DESCENDING=2;\r\n\tMiniFileMgr.NUMERIC=16;\r\n\t__static(MiniFileMgr,\r\n\t['fs',function(){return this.fs=/*__JS__ */wx.getFileSystemManager();},'wxdown',function(){return this.wxdown=/*__JS__ */wx.downloadFile;}\r\n\t]);\r\n\treturn MiniFileMgr;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniImage\r\nvar MiniImage=(function(){\r\n\tfunction MiniImage(){}\r\n\t__class(MiniImage,'laya.wx.mini.MiniImage');\r\n\tvar __proto=MiniImage.prototype;\r\n\t/**@private **/\r\n\t__proto._loadImage=function(url){\r\n\t\tvar thisLoader=this;\r\n\t\tif (MiniAdpter.isZiYu){\r\n\t\t\tMiniImage.onCreateImage(url,thisLoader,true);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar isTransformUrl=false;\r\n\t\tif (!MiniFileMgr.isLocalNativeFile(url)){\r\n\t\t\tisTransformUrl=true;\r\n\t\t\turl=URL.formatURL(url);\r\n\t\t\t}else{\r\n\t\t\tif (url.indexOf(\"http://\")!=-1 || url.indexOf(\"https://\")!=-1){\r\n\t\t\t\tif(MiniFileMgr.loadPath !=\"\"){\r\n\t\t\t\t\turl=url.split(MiniFileMgr.loadPath)[1];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tvar tempStr=URL.rootPath !=\"\" ? URL.rootPath :URL.basePath;\r\n\t\t\t\t\tif(tempStr !=\"\")\r\n\t\t\t\t\t\turl=url.split(tempStr)[1];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!MiniFileMgr.getFileInfo(url)){\r\n\t\t\tif (url.indexOf(\"http://\")!=-1 || url.indexOf(\"https://\")!=-1){\r\n\t\t\t\tif(MiniAdpter.isZiYu){\r\n\t\t\t\t\tMiniImage.onCreateImage(url,thisLoader,true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tMiniFileMgr.downOtherFiles(url,new Handler(MiniImage,MiniImage.onDownImgCallBack,[url,thisLoader]),url);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tMiniImage.onCreateImage(url,thisLoader,true);\r\n\t\t\t}else {\r\n\t\t\tMiniImage.onCreateImage(url,thisLoader,!isTransformUrl);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniImage.onDownImgCallBack=function(sourceUrl,thisLoader,errorCode,tempFilePath){\r\n\t\t(tempFilePath===void 0)&& (tempFilePath=\"\");\r\n\t\tif (!errorCode)\r\n\t\t\tMiniImage.onCreateImage(sourceUrl,thisLoader,false,tempFilePath);\r\n\t\telse {\r\n\t\t\tthisLoader.onError(null);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniImage.onCreateImage=function(sourceUrl,thisLoader,isLocal,tempFilePath){\r\n\t\t(isLocal===void 0)&& (isLocal=false);\r\n\t\t(tempFilePath===void 0)&& (tempFilePath=\"\");\r\n\t\tvar fileNativeUrl;\r\n\t\tif(MiniAdpter.autoCacheFile){\r\n\t\t\tif (!isLocal){\r\n\t\t\t\tif(tempFilePath !=\"\"){\r\n\t\t\t\t\tfileNativeUrl=tempFilePath;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\tvar fileObj=MiniFileMgr.getFileInfo(sourceUrl);\r\n\t\t\t\t\tvar fileMd5Name=fileObj.md5;\r\n\t\t\t\t\tfileNativeUrl=MiniFileMgr.getFileNativePath(fileMd5Name);\r\n\t\t\t\t}\r\n\t\t\t}else\r\n\t\t\tfileNativeUrl=sourceUrl;\r\n\t\t\t}else{\r\n\t\t\tif(!isLocal)\r\n\t\t\t\tfileNativeUrl=tempFilePath;\r\n\t\t\telse\r\n\t\t\tfileNativeUrl=sourceUrl;\r\n\t\t}\r\n\t\tif (thisLoader.imgCache==null)\r\n\t\t\tthisLoader.imgCache={};\r\n\t\tvar image;\r\n\t\tfunction clear (){\r\n\t\t\timage.onload=null;\r\n\t\t\timage.onerror=null;\r\n\t\t\tdelete thisLoader.imgCache[sourceUrl]\r\n\t\t};\r\n\t\tvar onload=function (){\r\n\t\t\tclear();\r\n\t\t\tthisLoader._url=URL.formatURL(thisLoader._url);\r\n\t\t\tthisLoader.onLoaded(image);\r\n\t\t};\r\n\t\tvar onerror=function (){\r\n\t\t\tclear();\r\n\t\t\tthisLoader.event(/*laya.events.Event.ERROR*/\"error\",\"Load image failed\");\r\n\t\t}\r\n\t\tif (thisLoader._type==\"nativeimage\"){\r\n\t\t\timage=new Browser.window.Image();\r\n\t\t\timage.crossOrigin=\"\";\r\n\t\t\timage.onload=onload;\r\n\t\t\timage.onerror=onerror;\r\n\t\t\timage.src=fileNativeUrl;\r\n\t\t\tthisLoader.imgCache[sourceUrl]=image;\r\n\t\t\t}else {\r\n\t\t\tnew HTMLImage.create(fileNativeUrl,{onload:onload,onerror:onerror,onCreate:function (img){\r\n\t\t\t\t\timage=img;\r\n\t\t\t\t\tthisLoader.imgCache[sourceUrl]=img;\r\n\t\t\t}});\r\n\t\t}\r\n\t}\r\n\r\n\treturn MiniImage;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniInput\r\nvar MiniInput=(function(){\r\n\tfunction MiniInput(){}\r\n\t__class(MiniInput,'laya.wx.mini.MiniInput');\r\n\tMiniInput._createInputElement=function(){\r\n\t\tInput['_initInput'](Input['area']=Browser.createElement(\"textarea\"));\r\n\t\tInput['_initInput'](Input['input']=Browser.createElement(\"input\"));\r\n\t\tInput['inputContainer']=Browser.createElement(\"div\");\r\n\t\tInput['inputContainer'].style.position=\"absolute\";\r\n\t\tInput['inputContainer'].style.zIndex=1E5;\r\n\t\tBrowser.container.appendChild(Input['inputContainer']);\r\n\t\tInput['inputContainer'].setPos=function (x,y){Input['inputContainer'].style.left=x+'px';Input['inputContainer'].style.top=y+'px';};\r\n\t\tLaya.stage.on(\"resize\",null,MiniInput._onStageResize);\r\n\t\t/*__JS__ */wx.onWindowResize && /*__JS__ */wx.onWindowResize(function(res){\r\n\t\t\t/*__JS__ */window.dispatchEvent && /*__JS__ */window.dispatchEvent(\"resize\");\r\n\t\t});\r\n\t\tSoundManager._soundClass=MiniSound;\r\n\t\tSoundManager._musicClass=MiniSound;\r\n\t\tvar model=MiniAdpter.systemInfo.model;\r\n\t\tvar system=MiniAdpter.systemInfo.system;\r\n\t\tif(model.indexOf(\"iPhone\")!=-1){\r\n\t\t\tBrowser.onIPhone=true;\r\n\t\t\tBrowser.onIOS=true;\r\n\t\t\tBrowser.onIPad=true;\r\n\t\t\tBrowser.onAndroid=false;\r\n\t\t}\r\n\t\tif(system.indexOf(\"Android\")!=-1 || system.indexOf(\"Adr\")!=-1){\r\n\t\t\tBrowser.onAndroid=true;\r\n\t\t\tBrowser.onIPhone=false;\r\n\t\t\tBrowser.onIOS=false;\r\n\t\t\tBrowser.onIPad=false;\r\n\t\t}\r\n\t}\r\n\r\n\tMiniInput._onStageResize=function(){\r\n\t\tvar ts=Laya.stage._canvasTransform.identity();\r\n\t\tts.scale((Browser.width / Render.canvas.width / RunDriver.getPixelRatio()),Browser.height / Render.canvas.height / RunDriver.getPixelRatio());\r\n\t}\r\n\r\n\tMiniInput.wxinputFocus=function(e){\r\n\t\tvar _inputTarget=Input['inputElement'].target;\r\n\t\tif (_inputTarget && !_inputTarget.editable){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tMiniAdpter.window.wx.offKeyboardConfirm();\r\n\t\tMiniAdpter.window.wx.offKeyboardInput();\r\n\t\tMiniAdpter.window.wx.showKeyboard({defaultValue:_inputTarget.text,maxLength:_inputTarget.maxChars,multiple:_inputTarget.multiline,confirmHold:true,confirmType:'done',success:function (res){\r\n\t\t\t\t},fail:function (res){\r\n\t\t}});\r\n\t\tMiniAdpter.window.wx.onKeyboardConfirm(function(res){\r\n\t\t\tvar str=res ? res.value :\"\";\r\n\t\t\t_inputTarget.text=str;\r\n\t\t\t_inputTarget.event(/*laya.events.Event.INPUT*/\"input\");\r\n\t\t\tlaya.wx.mini.MiniInput.inputEnter();\r\n\t\t})\r\n\t\tMiniAdpter.window.wx.onKeyboardInput(function(res){\r\n\t\t\tvar str=res ? res.value :\"\";\r\n\t\t\tif (!_inputTarget.multiline){\r\n\t\t\t\tif (str.indexOf(\"\\n\")!=-1){\r\n\t\t\t\t\tlaya.wx.mini.MiniInput.inputEnter();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_inputTarget.text=str;\r\n\t\t\t_inputTarget.event(/*laya.events.Event.INPUT*/\"input\");\r\n\t\t});\r\n\t}\r\n\r\n\tMiniInput.inputEnter=function(){\r\n\t\tInput['inputElement'].target.focus=false;\r\n\t}\r\n\r\n\tMiniInput.wxinputblur=function(){\r\n\t\tMiniInput.hideKeyboard();\r\n\t}\r\n\r\n\tMiniInput.hideKeyboard=function(){\r\n\t\tMiniAdpter.window.wx.offKeyboardConfirm();\r\n\t\tMiniAdpter.window.wx.offKeyboardInput();\r\n\t\tMiniAdpter.window.wx.hideKeyboard({success:function (res){\r\n\t\t\t\tconsole.log('隐藏键盘')\r\n\t\t\t\t},fail:function (res){\r\n\t\t\t\tconsole.log(\"隐藏键盘出错:\"+(res ? res.errMsg :\"\"));\r\n\t\t}});\r\n\t}\r\n\r\n\treturn MiniInput;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniLocalStorage\r\nvar MiniLocalStorage=(function(){\r\n\tfunction MiniLocalStorage(){}\r\n\t__class(MiniLocalStorage,'laya.wx.mini.MiniLocalStorage');\r\n\tMiniLocalStorage.__init__=function(){\r\n\t\tMiniLocalStorage.items=MiniLocalStorage;\r\n\t}\r\n\r\n\tMiniLocalStorage.setItem=function(key,value){\r\n\t\t/*__JS__ */wx.setStorageSync(key,value);\r\n\t}\r\n\r\n\tMiniLocalStorage.getItem=function(key){\r\n\t\treturn /*__JS__ */wx.getStorageSync(key);\r\n\t}\r\n\r\n\tMiniLocalStorage.setJSON=function(key,value){\r\n\t\tMiniLocalStorage.setItem(key,value);\r\n\t}\r\n\r\n\tMiniLocalStorage.getJSON=function(key){\r\n\t\treturn MiniLocalStorage.getItem(key);\r\n\t}\r\n\r\n\tMiniLocalStorage.removeItem=function(key){\r\n\t\t/*__JS__ */wx.removeStorageSync(key);\r\n\t}\r\n\r\n\tMiniLocalStorage.clear=function(){\r\n\t\t/*__JS__ */wx.clearStorageSync();\r\n\t}\r\n\r\n\tMiniLocalStorage.getStorageInfoSync=function(){\r\n\t\ttry {\r\n\t\t\tvar res=/*__JS__ */wx.getStorageInfoSync()\r\n\t\t\tconsole.log(res.keys)\r\n\t\t\tconsole.log(res.currentSize)\r\n\t\t\tconsole.log(res.limitSize)\r\n\t\t\treturn res;\r\n\t\t}catch (e){}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tMiniLocalStorage.support=true;\r\n\tMiniLocalStorage.items=null;\r\n\treturn MiniLocalStorage;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniLocation\r\nvar MiniLocation=(function(){\r\n\tfunction MiniLocation(){}\r\n\t__class(MiniLocation,'laya.wx.mini.MiniLocation');\r\n\tMiniLocation.__init__=function(){\r\n\t\tMiniAdpter.window.navigator.geolocation.getCurrentPosition=MiniLocation.getCurrentPosition;\r\n\t\tMiniAdpter.window.navigator.geolocation.watchPosition=MiniLocation.watchPosition;\r\n\t\tMiniAdpter.window.navigator.geolocation.clearWatch=MiniLocation.clearWatch;\r\n\t}\r\n\r\n\tMiniLocation.getCurrentPosition=function(success,error,options){\r\n\t\tvar paramO;\r\n\t\tparamO={};\r\n\t\tparamO.success=getSuccess;\r\n\t\tparamO.fail=error;\r\n\t\tMiniAdpter.window.wx.getLocation(paramO);\r\n\t\tfunction getSuccess (res){\r\n\t\t\tif (success !=null){\r\n\t\t\t\tsuccess(res);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMiniLocation.watchPosition=function(success,error,options){\r\n\t\tMiniLocation._curID++;\r\n\t\tvar curWatchO;\r\n\t\tcurWatchO={};\r\n\t\tcurWatchO.success=success;\r\n\t\tcurWatchO.error=error;\r\n\t\tMiniLocation._watchDic[MiniLocation._curID]=curWatchO;\r\n\t\tLaya.timer.loop(1000,null,MiniLocation._myLoop);\r\n\t\treturn MiniLocation._curID;\r\n\t}\r\n\r\n\tMiniLocation.clearWatch=function(id){\r\n\t\tdelete MiniLocation._watchDic[id];\r\n\t\tif (!MiniLocation._hasWatch()){\r\n\t\t\tLaya.timer.clear(null,MiniLocation._myLoop);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniLocation._hasWatch=function(){\r\n\t\tvar key;\r\n\t\tfor (key in MiniLocation._watchDic){\r\n\t\t\tif (MiniLocation._watchDic[key])return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tMiniLocation._myLoop=function(){\r\n\t\tMiniLocation.getCurrentPosition(MiniLocation._mySuccess,MiniLocation._myError);\r\n\t}\r\n\r\n\tMiniLocation._mySuccess=function(res){\r\n\t\tvar rst={};\r\n\t\trst.coords=res;\r\n\t\trst.timestamp=Browser.now();\r\n\t\tvar key;\r\n\t\tfor (key in MiniLocation._watchDic){\r\n\t\t\tif (MiniLocation._watchDic[key].success){\r\n\t\t\t\tMiniLocation._watchDic[key].success(rst);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMiniLocation._myError=function(res){\r\n\t\tvar key;\r\n\t\tfor (key in MiniLocation._watchDic){\r\n\t\t\tif (MiniLocation._watchDic[key].error){\r\n\t\t\t\tMiniLocation._watchDic[key].error(res);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMiniLocation._watchDic={};\r\n\tMiniLocation._curID=0;\r\n\treturn MiniLocation;\r\n})()\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniAccelerator extends laya.events.EventDispatcher\r\nvar MiniAccelerator=(function(_super){\r\n\tfunction MiniAccelerator(){\r\n\t\tMiniAccelerator.__super.call(this);\r\n\t}\r\n\r\n\t__class(MiniAccelerator,'laya.wx.mini.MiniAccelerator',_super);\r\n\tvar __proto=MiniAccelerator.prototype;\r\n\t/**\r\n\t*侦听加速器运动。\r\n\t*@param observer 回调函数接受4个参数，见类说明。\r\n\t*/\r\n\t__proto.on=function(type,caller,listener,args){\r\n\t\t_super.prototype.on.call(this,type,caller,listener,args);\r\n\t\tMiniAccelerator.startListen(this[\"onDeviceOrientationChange\"]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t*取消侦听加速器。\r\n\t*@param handle 侦听加速器所用处理器。\r\n\t*/\r\n\t__proto.off=function(type,caller,listener,onceOnly){\r\n\t\t(onceOnly===void 0)&& (onceOnly=false);\r\n\t\tif (!this.hasListener(type))\r\n\t\t\tMiniAccelerator.stopListen();\r\n\t\treturn _super.prototype.off.call(this,type,caller,listener,onceOnly);\r\n\t}\r\n\r\n\tMiniAccelerator.__init__=function(){\r\n\t\ttry{\r\n\t\t\tvar Acc;\r\n\t\t\tAcc=/*__JS__ */laya.device.motion.Accelerator;\r\n\t\t\tif (!Acc)return;\r\n\t\t\tAcc[\"prototype\"][\"on\"]=MiniAccelerator[\"prototype\"][\"on\"];\r\n\t\t\tAcc[\"prototype\"][\"off\"]=MiniAccelerator[\"prototype\"][\"off\"];\r\n\t\t\t}catch (e){\r\n\t\t}\r\n\t}\r\n\r\n\tMiniAccelerator.startListen=function(callBack){\r\n\t\tMiniAccelerator._callBack=callBack;\r\n\t\tif (MiniAccelerator._isListening)return;\r\n\t\tMiniAccelerator._isListening=true;\r\n\t\ttry{\r\n\t\t\t/*__JS__ */wx.onAccelerometerChange(MiniAccelerator.onAccelerometerChange);\r\n\t\t}catch(e){}\r\n\t}\r\n\r\n\tMiniAccelerator.stopListen=function(){\r\n\t\tMiniAccelerator._isListening=false;\r\n\t\ttry{\r\n\t\t\t/*__JS__ */wx.stopAccelerometer({});\r\n\t\t}catch(e){}\r\n\t}\r\n\r\n\tMiniAccelerator.onAccelerometerChange=function(res){\r\n\t\tvar e;\r\n\t\te={};\r\n\t\te.acceleration=res;\r\n\t\te.accelerationIncludingGravity=res;\r\n\t\te.rotationRate={};\r\n\t\tif (MiniAccelerator._callBack !=null){\r\n\t\t\tMiniAccelerator._callBack(e);\r\n\t\t}\r\n\t}\r\n\r\n\tMiniAccelerator._isListening=false;\r\n\tMiniAccelerator._callBack=null;\r\n\treturn MiniAccelerator;\r\n})(EventDispatcher)\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniLoader extends laya.events.EventDispatcher\r\nvar MiniLoader=(function(_super){\r\n\tfunction MiniLoader(){\r\n\t\tMiniLoader.__super.call(this);\r\n\t}\r\n\r\n\t__class(MiniLoader,'laya.wx.mini.MiniLoader',_super);\r\n\tvar __proto=MiniLoader.prototype;\r\n\t/**\r\n\t*@private\r\n\t*@param url\r\n\t*@param type\r\n\t*@param cache\r\n\t*@param group\r\n\t*@param ignoreCache\r\n\t*/\r\n\t__proto.load=function(url,type,cache,group,ignoreCache){\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\t(ignoreCache===void 0)&& (ignoreCache=false);\r\n\t\tvar thisLoader=this;\r\n\t\tthisLoader._url=url;\r\n\t\tif (url.indexOf(\"data:image\")===0)thisLoader._type=type=/*laya.net.Loader.IMAGE*/\"image\";\r\n\t\telse {\r\n\t\t\tthisLoader._type=type || (type=thisLoader.getTypeFromUrl(url));\r\n\t\t}\r\n\t\tthisLoader._cache=cache;\r\n\t\tthisLoader._data=null;\r\n\t\tif (!ignoreCache && Loader.loadedMap[URL.formatURL(url)]){\r\n\t\t\tthisLoader._data=Loader.loadedMap[URL.formatURL(url)];\r\n\t\t\tthis.event(/*laya.events.Event.PROGRESS*/\"progress\",1);\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\",thisLoader._data);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (Loader.parserMap[type] !=null){\r\n\t\t\tthisLoader._customParse=true;\r\n\t\t\tif (((Loader.parserMap[type])instanceof laya.utils.Handler ))Loader.parserMap[type].runWith(this);\r\n\t\t\telse Loader.parserMap[type].call(null,this);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar encoding=MiniAdpter.getUrlEncode(url,type);\r\n\t\tvar urlType=Utils.getFileExtension(url);\r\n\t\tif ((MiniLoader._fileTypeArr.indexOf(urlType)!=-1)){\r\n\t\t\tMiniAdpter.EnvConfig.load.call(this,url,type,cache,group,ignoreCache);\r\n\t\t\t}else {\r\n\t\t\tif(MiniAdpter.isZiYu && MiniFileMgr.ziyuFileData[url]){\r\n\t\t\t\tvar tempData=MiniFileMgr.ziyuFileData[url];\r\n\t\t\t\tthisLoader.onLoaded(tempData);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!MiniFileMgr.getFileInfo(url)){\r\n\t\t\t\tif (MiniFileMgr.isLocalNativeFile(url)){\r\n\t\t\t\t\tMiniFileMgr.read(url,encoding,new Handler(MiniLoader,MiniLoader.onReadNativeCallBack,[encoding,url,type,cache,group,ignoreCache,thisLoader]));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tvar tempUrl=url;\r\n\t\t\t\turl=URL.formatURL(url);\r\n\t\t\t\tif (url.indexOf(\"http://\")!=-1 || url.indexOf(\"https://\")!=-1){\r\n\t\t\t\t\tMiniAdpter.EnvConfig.load.call(thisLoader,tempUrl,type,cache,group,ignoreCache);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tMiniFileMgr.readFile(url,encoding,new Handler(MiniLoader,MiniLoader.onReadNativeCallBack,[encoding,url,type,cache,group,ignoreCache,thisLoader]),url);\r\n\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tvar fileObj=MiniFileMgr.getFileInfo(url);\r\n\t\t\t\tfileObj.encoding=fileObj.encoding==null ? \"ascii\" :fileObj.encoding;\r\n\t\t\t\tMiniFileMgr.readFile(url,fileObj.encoding,new Handler(MiniLoader,MiniLoader.onReadNativeCallBack,[encoding,url,type,cache,group,ignoreCache,thisLoader]),url);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMiniLoader.onReadNativeCallBack=function(encoding,url,type,cache,group,ignoreCache,thisLoader,errorCode,data){\r\n\t\t(cache===void 0)&& (cache=true);\r\n\t\t(ignoreCache===void 0)&& (ignoreCache=false);\r\n\t\t(errorCode===void 0)&& (errorCode=0);\r\n\t\tif (!errorCode){\r\n\t\t\tvar tempData;\r\n\t\t\tif (type==/*laya.net.Loader.JSON*/\"json\" || type==/*laya.net.Loader.ATLAS*/\"atlas\"){\r\n\t\t\t\ttempData=MiniAdpter.getJson(data.data);\r\n\t\t\t\t}else if (type==/*laya.net.Loader.XML*/\"xml\"){\r\n\t\t\t\ttempData=Utils.parseXMLFromString(data.data);\r\n\t\t\t\t}else {\r\n\t\t\t\ttempData=data.data;\r\n\t\t\t}\r\n\t\t\tif(!MiniAdpter.isZiYu &&MiniAdpter.isPosMsgYu && type !=/*laya.net.Loader.BUFFER*/\"arraybuffer\"){\r\n\t\t\t\t/*__JS__ */wx.postMessage({url:url,data:tempData,isLoad:\"filedata\"});\r\n\t\t\t}\r\n\t\t\tthisLoader.onLoaded(tempData);\r\n\t\t\t}else if (errorCode==1){\r\n\t\t\tMiniAdpter.EnvConfig.load.call(thisLoader,url,type,cache,group,ignoreCache);\r\n\t\t}\r\n\t}\r\n\r\n\t__static(MiniLoader,\r\n\t['_fileTypeArr',function(){return this._fileTypeArr=['png','jpg','bmp','jpeg','gif'];}\r\n\t]);\r\n\treturn MiniLoader;\r\n})(EventDispatcher)\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniSound extends laya.events.EventDispatcher\r\nvar MiniSound=(function(_super){\r\n\tfunction MiniSound(){\r\n\t\t/**@private **/\r\n\t\tthis._sound=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*声音URL\r\n\t\t*/\r\n\t\tthis.url=null;\r\n\t\t/**\r\n\t\t*@private\r\n\t\t*是否已加载完成\r\n\t\t*/\r\n\t\tthis.loaded=false;\r\n\t\t/**@private **/\r\n\t\tthis.readyUrl=null;\r\n\t\tMiniSound.__super.call(this);\r\n\t}\r\n\r\n\t__class(MiniSound,'laya.wx.mini.MiniSound',_super);\r\n\tvar __proto=MiniSound.prototype;\r\n\t/**\r\n\t*@private\r\n\t*加载声音。\r\n\t*@param url 地址。\r\n\t*\r\n\t*/\r\n\t__proto.load=function(url){\r\n\t\turl=URL.formatURL(url);\r\n\t\tthis.url=url;\r\n\t\tthis.readyUrl=url;\r\n\t\tif (MiniSound._audioCache[this.readyUrl]){\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(MiniAdpter.autoCacheFile&&MiniFileMgr.getFileInfo(url)){\r\n\t\t\tthis.onDownLoadCallBack(url,0);\r\n\t\t\t}else{\r\n\t\t\tif(!MiniAdpter.autoCacheFile){\r\n\t\t\t\tthis.onDownLoadCallBack(url,0);\r\n\t\t\t\t}else{\r\n\t\t\t\tMiniFileMgr.downOtherFiles(url,Handler.create(this,this.onDownLoadCallBack,[url]),url);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private **/\r\n\t__proto.onDownLoadCallBack=function(sourceUrl,errorCode){\r\n\t\tif (!errorCode){\r\n\t\t\tvar fileNativeUrl;\r\n\t\t\tif(MiniAdpter.autoCacheFile){\r\n\t\t\t\tvar fileObj=MiniFileMgr.getFileInfo(sourceUrl);\r\n\t\t\t\tvar fileMd5Name=fileObj.md5;\r\n\t\t\t\tfileNativeUrl=MiniFileMgr.getFileNativePath(fileMd5Name);\r\n\t\t\t\tthis._sound=MiniSound._createSound();\r\n\t\t\t\tthis._sound.src=this.url=fileNativeUrl;\r\n\t\t\t\t}else{\r\n\t\t\t\tthis._sound=MiniSound._createSound();\r\n\t\t\t\tthis._sound.src=sourceUrl;\r\n\t\t\t}\r\n\t\t\tthis._sound.onCanplay(MiniSound.bindToThis(this.onCanPlay,this));\r\n\t\t\tthis._sound.onError(MiniSound.bindToThis(this.onError,this));\r\n\t\t\t}else{\r\n\t\t\tthis.event(/*laya.events.Event.ERROR*/\"error\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**@private **/\r\n\t__proto.onError=function(error){\r\n\t\ttry{\r\n\t\t\tconsole.log(\"-----1---------------minisound-----id:\"+MiniSound._id);\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t\tcatch(error){\r\n\t\t\tconsole.log(\"-----2---------------minisound-----id:\"+MiniSound._id);\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t\tthis.event(/*laya.events.Event.ERROR*/\"error\");\r\n\t\tthis._sound.offError(null);\r\n\t}\r\n\r\n\t/**@private **/\r\n\t__proto.onCanPlay=function(){\r\n\t\tthis.loaded=true;\r\n\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\tMiniSound._audioCache[this.readyUrl]=this;\r\n\t\tthis._sound.offCanplay(null);\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*播放声音。\r\n\t*@param startTime 开始时间,单位秒\r\n\t*@param loops 循环次数,0表示一直循环\r\n\t*@return 声道 SoundChannel 对象。\r\n\t*\r\n\t*/\r\n\t__proto.play=function(startTime,loops){\r\n\t\t(startTime===void 0)&& (startTime=0);\r\n\t\t(loops===void 0)&& (loops=0);\r\n\t\tvar tSound;\r\n\t\tif (this.url==SoundManager._tMusic){\r\n\t\t\tif (!MiniSound._musicAudio)MiniSound._musicAudio=MiniSound._createSound();\r\n\t\t\ttSound=MiniSound._musicAudio;\r\n\t\t\t}else {\r\n\t\t\tif(MiniSound._audioCache[this.readyUrl]){\r\n\t\t\t\ttSound=MiniSound._audioCache[this.readyUrl]._sound;\r\n\t\t\t\t}else{\r\n\t\t\t\ttSound=MiniSound._createSound();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(MiniAdpter.autoCacheFile&&MiniFileMgr.getFileInfo(this.url)){\r\n\t\t\tvar fileNativeUrl;\r\n\t\t\tvar fileObj=MiniFileMgr.getFileInfo(this.url);\r\n\t\t\tvar fileMd5Name=fileObj.md5;\r\n\t\t\ttSound.src=this.url=MiniFileMgr.getFileNativePath(fileMd5Name);\r\n\t\t\t}else{\r\n\t\t\ttSound.src=this.url;\r\n\t\t};\r\n\t\tvar channel=new MiniSoundChannel(tSound,this);\r\n\t\tchannel.url=this.url;\r\n\t\tchannel.loops=loops;\r\n\t\tchannel.loop=(loops===0 ? true :false);\r\n\t\tchannel.startTime=startTime;\r\n\t\tchannel.play();\r\n\t\tSoundManager.addChannel(channel);\r\n\t\treturn channel;\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*释放声音资源。\r\n\t*\r\n\t*/\r\n\t__proto.dispose=function(){\r\n\t\tvar ad=MiniSound._audioCache[this.readyUrl];\r\n\t\tif (ad){\r\n\t\t\tad.src=\"\";\r\n\t\t\tif(ad._sound){\r\n\t\t\t\tad._sound.destroy();\r\n\t\t\t\tad._sound=null;\r\n\t\t\t\tad=null;\r\n\t\t\t}\r\n\t\t\tdelete MiniSound._audioCache[this.readyUrl];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\treturn this._sound.duration;\r\n\t});\r\n\r\n\tMiniSound._createSound=function(){\r\n\t\tMiniSound._id++;\r\n\t\treturn MiniAdpter.window.wx.createInnerAudioContext();\r\n\t}\r\n\r\n\tMiniSound.bindToThis=function(fun,scope){\r\n\t\tvar rst=fun;\r\n\t\t/*__JS__ */rst=fun.bind(scope);;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tMiniSound._musicAudio=null;\r\n\tMiniSound._id=0;\r\n\tMiniSound._audioCache={};\r\n\treturn MiniSound;\r\n})(EventDispatcher)\r\n\r\n\r\n/**@private **/\r\n//class laya.wx.mini.MiniSoundChannel extends laya.media.SoundChannel\r\nvar MiniSoundChannel=(function(_super){\r\n\tfunction MiniSoundChannel(audio,miniSound){\r\n\t\t/**@private **/\r\n\t\tthis._audio=null;\r\n\t\t/**@private **/\r\n\t\tthis._onEnd=null;\r\n\t\t/**@private **/\r\n\t\tthis._miniSound=null;\r\n\t\tMiniSoundChannel.__super.call(this);\r\n\t\tthis._audio=audio;\r\n\t\tthis._miniSound=miniSound;\r\n\t\tthis._onEnd=MiniSoundChannel.bindToThis(this.__onEnd,this);\r\n\t\taudio.onEnded(this._onEnd);\r\n\t}\r\n\r\n\t__class(MiniSoundChannel,'laya.wx.mini.MiniSoundChannel',_super);\r\n\tvar __proto=MiniSoundChannel.prototype;\r\n\t/**@private **/\r\n\t__proto.__onEnd=function(){\r\n\t\tif (this.loops==1){\r\n\t\t\tif (this.completeHandler){\r\n\t\t\t\tLaya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);\r\n\t\t\t\tthis.completeHandler=null;\r\n\t\t\t}\r\n\t\t\tthis.stop();\r\n\t\t\tthis.event(/*laya.events.Event.COMPLETE*/\"complete\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.loops > 0){\r\n\t\t\tthis.loops--;\r\n\t\t}\r\n\t\tthis.startTime=0;\r\n\t\tthis.play();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*播放\r\n\t*/\r\n\t__proto.play=function(){\r\n\t\tthis.isStopped=false;\r\n\t\tSoundManager.addChannel(this);\r\n\t\tthis._audio.play();\r\n\t}\r\n\r\n\t/**\r\n\t*@private\r\n\t*停止播放\r\n\t*\r\n\t*/\r\n\t__proto.stop=function(){\r\n\t\tthis.isStopped=true;\r\n\t\tSoundManager.removeChannel(this);\r\n\t\tthis.completeHandler=null;\r\n\t\tif (!this._audio)\r\n\t\t\treturn;\r\n\t\tthis._audio.pause();\r\n\t\tthis._audio.offEnded(null);\r\n\t\tthis._audio=null;\r\n\t\tthis._miniSound=null;\r\n\t\tthis._onEnd=null;\r\n\t}\r\n\r\n\t/**@private **/\r\n\t__proto.pause=function(){\r\n\t\tthis.isStopped=true;\r\n\t\tthis._audio.pause();\r\n\t}\r\n\r\n\t/**@private **/\r\n\t__proto.resume=function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn;\r\n\t\tthis.isStopped=false;\r\n\t\tSoundManager.addChannel(this);\r\n\t\tthis._audio.play();\r\n\t}\r\n\r\n\t/**@private **/\r\n\t/**\r\n\t*@private\r\n\t*自动播放\r\n\t*@param value\r\n\t*/\r\n\t__getset(0,__proto,'autoplay',function(){\r\n\t\treturn this._audio.autoplay;\r\n\t\t},function(value){\r\n\t\tthis._audio.autoplay=value;\r\n\t});\r\n\r\n\t/**\r\n\t*@private\r\n\t*当前播放到的位置\r\n\t*@return\r\n\t*\r\n\t*/\r\n\t__getset(0,__proto,'position',function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn 0;\r\n\t\treturn this._audio.currentTime;\r\n\t});\r\n\r\n\t/**\r\n\t*@private\r\n\t*获取总时间。\r\n\t*/\r\n\t__getset(0,__proto,'duration',function(){\r\n\t\tif (!this._audio)\r\n\t\t\treturn 0;\r\n\t\treturn this._audio.duration;\r\n\t});\r\n\r\n\t/**@private **/\r\n\t/**@private **/\r\n\t__getset(0,__proto,'loop',function(){\r\n\t\treturn this._audio.loop;\r\n\t\t},function(value){\r\n\t\tthis._audio.loop=value;\r\n\t});\r\n\r\n\t/**\r\n\t*@private\r\n\t*设置音量\r\n\t*@param v\r\n\t*\r\n\t*/\r\n\t/**\r\n\t*@private\r\n\t*获取音量\r\n\t*@return\r\n\t*/\r\n\t__getset(0,__proto,'volume',function(){\r\n\t\tif (!this._audio)return 1;\r\n\t\treturn this._audio.volume;\r\n\t\t},function(v){\r\n\t\tif (!this._audio)return;\r\n\t\tthis._audio.volume=v;\r\n\t});\r\n\r\n\tMiniSoundChannel.bindToThis=function(fun,scope){\r\n\t\tvar rst=fun;\r\n\t\t/*__JS__ */rst=fun.bind(scope);;\r\n\t\treturn rst;\r\n\t}\r\n\r\n\treturn MiniSoundChannel;\r\n})(SoundChannel)\r\n\r\n\r\n\r\n})(window,document,Laya);\r\n\r\nif (typeof define === 'function' && define.amd){\r\n\tdefine('laya.core', ['require', \"exports\"], function(require, exports) {\r\n        'use strict';\r\n        Object.defineProperty(exports, '__esModule', { value: true });\r\n        for (var i in Laya) {\r\n\t\t\tvar o = Laya[i];\r\n            o && o.__isclass && (exports[i] = o);\r\n        }\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/laya.wxmini.js","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = LKZe\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = MU5D\n// module chunks = 0","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = Mhyx\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = MmMw\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = NpIQ\n// module chunks = 0","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = O4g8\n// module chunks = 0","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = ON07\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAA1CAMAAABm67c1AAAAkFBMVEUAAAAfPHQZNF8gPHMcOmodPG8eO3AeOW8aN2QfPXQgP3cgP3cgQHcgQHgYMlwePHEbOGYfPXMdOmscO2sdPG0YMVkaNGAhPnYbOWcdPXAaN2UfOG8YM14UKUoVKkwVK04WLFEWLlMYMVoZNWEaNmQbN2YcOGkeOG0UKEkXMFgXL1YYMlsbN2gdOGwdOGsdOG3CCW+eAAAAG3RSTlMA4Mfp1NTy/NS/ZTQTAuvar45GJAr5zZuAU/oNSw49AAABGklEQVRo3t3VbWLBQBgA4d2lKrSJJqp0IxIhqi3ufzu8hHywB5jnBvNrlFNoCTrKSVsCd+TAIjgj33sWwRn5ZRlckW+vlsEV6VkIR+TQUnTo+5BI+j7ONH0fEknfh0TS9yGR9H1IJH0fEknfh0TS9yGR9H08jfywLJq+j2eR3gZGP9rHBuZBZHCgaUcOdji6vY89TtDaR8Hz0tpHwdOM9P6BGpHDYg3UiAzWRPXI2QqpHtlbIXVr+8iZqpHj75ypGjmKoSqRUR5DVSK7MdU9cvaH1Vclf4l1i5wuucrI8eeWa1Lu4xfMKBFtM7BrZD8ju0SGWUp2ifRTNImcLtiM7GPBdo4cJXCnyChN4E6RkzmdUWEypzPK/8EzR89RlR6SRHfxAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit3-1.png\n// module id = PxYS\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = PzxK\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = QRG4\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_1.13b46bd.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_1.png\n// module id = Qrhy\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/bg-distance.png\n// module id = QvEO\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = R9M2\n// module chunks = 0","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = RPLV\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = RY/4\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = S82l\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = SfB7\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = TcQ7\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAAA1CAMAAABV0Kg8AAAAw1BMVEUAAAAfOnEfO3MfPnMePG8ePG8fPnUePXAePnEeOm8ePHEfPHQZM10cOWkfPXUaNmIcOmkfPXQgPnYgP3YhQHgfPnIYMVkZNV8bOGchPnchP3ccOmobOGUeO28eP3MdOmwXLlMbN2UaOGUXL1YYMVkgPHQgPHQZNF4gPXUaNmIfPnMhP3cdPW8fOG8UKEoYMVodOGweOG4VKkwWLFEWLlMYM10bN2YaNWIcOGoVK04XMFgXL1YVLE8ZNF8aNmUZNWEbN2g2A8AsAAAALXRSTlMA++wbDWVJMAXz1Mbg3bu2qaaUVhIC+fWQjX15czsi+fn16+rk4+LUy8acgygAIwfzAAABPElEQVRYw73ZR3bCUBBE0VJGYKJNMDjn1CAkksFg739V3kD31+jXXUEP3qDPKcTi3RR1nsW34AI1BuJdBzUi8e8aNULxLkSNvvj3CbdMFOwsc/GvBbeOEKRwSkXFzTIQgks4tURFzTIRCy/LRiAGYpZN0TGznIqJlmUsFEEEhxeheOM9EbZz2KIlRziELVxyDGDrLznEkWVWkDRhywsSR5adgiS3s0x3LB8w3e5IihtYWn8sdpbJhsbMsrHbsOQNGJonmj4Msy3NxsoyPm1p2jC0f3kS6CZHnnsjy+i45ulB97DmOX5B1VsQGVlmCyYjy/GCaKxn2d0z6VmmB6Z9Bs1oxXQGzfuK6gqKpKIaxcoNw0NF1YXi9Yeq0rKcfXNpWcZVyaVleVZy3SlZTuZkSpZROecqlXHjcU729A9et0kmM1s3VwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit3-2.png\n// module id = URdN\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = UuGF\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_2.a8a8b60.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_2.png\n// module id = W3UA\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_6.a2f0332.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_6.png\n// module id = W6V1\n// module chunks = 0","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = X8DO\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/view_5.fdf08d5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/view_5.png\n// module id = YUzh\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = Yobk\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_5.png\n// module id = Z0eI\n// module chunks = 0","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = ax3d\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 0","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js\n// module id = cnlX\n// module chunks = 0","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = dSzd\n// module chunks = 0","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = dY0y\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_1.png\n// module id = deiP\n// module chunks = 0","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = e6n0\n// module chunks = 0","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = e8AB\n// module chunks = 0","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = evD5\n// module chunks = 0","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = fkB2\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = h65t\n// module chunks = 0","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = hJx8\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWwAAAA1CAMAAABStyEAAAAAw1BMVEUAAAAfOG8fNlsgOmQfOXAeLkcfNlwfNl0fN14eLkceOG8eLkccLUodOW4eO28eLkceLkceLkceLkceLkceLkceLkcdMVEeLkcfPXQeLkceLkcfPXMeLkcgQHcXL1YfOXAZNWAeLkcdPW4eLkcfQHYbN2kYM1wbN2cgO3IgO3MZNF4fOG8dOG0bN2ceLkcVKk0VK04XL1YWLlMXMVkYM10ZNWEcOGoUKUsUKEkUKUoWLFEWLVIZNF8YMlsaNmMaNmUcOGmbuCKrAAAAK3RSTlMA/g0G4PUlHBX89ezivZcy2c/DtKWOgXZ1aFpRQTTt69aaZE1F+vbv0suul7zY8wAAAb1JREFUeNrt21dSwzAUhWHZMRBC6L33quRA6B32vyqGMSAwNhdxpQzjOd8S7oN/nweZopaNLVlfz7Ls4LBlawbbxs+Q7Y8kSWzdYKJhvCxY+itgznjJLP0VMDBoPKSWFMfGtPGwbElzbK9GjlpSHbudml+r3y9CHwHwaeSqJdWxfRo5Zkl1bJ9GtmwfJK9qOWpyS/9rPtYUcu2U8zE+vJnlfIwPb4Z/08hG/T6jfYV3U5yP0eHDEudjbPjQTjkfI4Mzy/kYGZzhcc7HuOCIjWx1SAWO1MhmhwIee+THRi50SAeO1MisQzpwhEY2LkkJjtDInUtSQsFi9Xx8JiUUjDRNhd0uKaFo05Qb7JIWcnIjx7qkhW8mTan9J9JCTmxk+khqyImN3LogNeTERm5ckBrKlDTynvRQZrLxbT6ekx5yUiNHz0kPOamRew+kh3Izhfl4RgGgwsrX+XhGgY4tN3KtRwGgyrxx0h5FPfbA0Kf5eEohAJAbuXFKgY4tN7J3RyGgkntovXpLQQAQG3l0QkEAEBu5dkJxj+0a2TymMABIjZw7psjHdo1sX1EYAKRGXt1QGACERi5fUyAQTL8APXRL1djK8gwAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit1.png\n// module id = heGy\n// module chunks = 0","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js\n// module id = iInB\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = kM2E\n// module chunks = 0","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = lOnJ\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = lktj\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = msXi\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 0","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = nErl\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWEAAAA1CAMAAACnSaqwAAAApVBMVEUAAAAfOGMeOGIfOmUgPWseLkcdOmwcLUgcLksePHEeLkceLkceLkccLksdOGwdOWweOG0eLkceLkceLkceLkceLkceLkceLkceLkcWLlMfOG4YM10fOG8eLkceLkcYM10VLE8bN2cdOW4fOG8dOG0UKEoWLVMYM14cOGoeLkcVLFAXMVkZNWEbN2YVK04VKk0VKkwXMFcXL1YYMlsaNmUaNmMbN2h9l2aEAAAAI3RSTlMAFCIGAvhZyXU8OPDkoZ9889q9r5WCXysM5dzEv1RM9/bhwMrzVWAAAAGDSURBVHja7ddJesIwEERhWcZmCAQSwhQyk6kzz/c/WlZ8BjUWcku9q/8Ib1VlvGyxgoYy08SYVtBQaRroEQo3dmbCtdooLJCbYFNCYYGuCTXvo7DEoQk1IRSWGJlAtkBhGRu81FBYZhi61FBY6DRwqaGw7q2bEgqLlUFLDYV1b92EUFj11tkChXVv3YBQWPXW9QiFo4xa+5YaCuveuimhsOqtm/dRWPfWTWjDLYhk3qWGwvFK71JD4Xg3vqWGwink/qVWeQSZ2lt3TiicRN2ty/sonEbdreuQ4w+ErNklOyDHKwgNa5YaCqdy7V1qlR+Qygx3TMwvSJW+pVZ5AaklX2pHKJxU7llqlQcQ67KlhsJpubfuhFA4rcvtWzejnb5BzvKlxj2D3NatuyAUTm7Blxr3CREyttS4L4hQsqXG3UOE5cZSQ2EV+XqpFSiso8uWGvMEMQbrpYbCSq5azlLj3iCKdZYa9w5ROs5S4z4gysJZatwdxMnMrEBhTaUZEwprav8DCGGbbUHTP4UAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit2.png\n// module id = oKJ9\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/back_2.png\n// module id = qdt2\n// module chunks = 0","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = qio6\n// module chunks = 0","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 0","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = sB3e\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAA1CAMAAABMW0aaAAAAvVBMVEUAAAAfOF4eLkceLkceLkceLkceLkchQHAeLkcXLlUeLkceLkceLkcXLlUgO3IZL1EgPHMgPXUeLkchP3geLkceLkchQXoeLkceLkchQ3oeLkchRHseLkceLkchRHweLkcXLlQeLkcgPnYeLkchP3chQnoWL1UeLkchPnYhQHkhQHkhQXkfOG8eLkcdOG0bN2cYM14WLVMUKEocOGoaNWIYMVoXL1YVKkwcOGkaNmUZNWEXMVkWLFEVLE8VK05P2eN6AAAALHRSTlMADgX79NG9Hhnv7efe1dLGwrKUiId2aWlaTks/PTEvKOKtpqCXW/amnHp4d9R5E1kAAAFKSURBVGje5dpHVgJBGEVhmyhJDCiIoCBirAsC5rT/ZXlOH5HQXV3z9387uJM3ejt7TgzdnWyCyfWcuWRageR9JwYKF+aSKdlLDizYgRMDUI/MJdOyl5zPWrBLJ4ZYyV4yHX/yrRMDsZp/wa6cGP607CX7F+zIiWGpZC+Zjr1k34LdOTGsHKYn3zsxrOT7qckPTgwQWLCTiRjWdewl1yJzyakLNp6IAQILNl6IYVMzmXy6EMOWdjL5TQxbqlEieSoGCCzY2VQMCX17ycXt5HcxQGDBzp/EkFTdNZfMaDP5QwxpeuvJ5UcxpCnmzCXTtpe8vmDRsxjSjewl01slf4oBQgv2IgafY3vJhf8Fu55pwetmmVyZacGvZy95uWCVLy1AaMEG31qA0IINfrSQZRgnN161kKlrLzk+azfmWoDQgjXnWshWKJtLZvgLIWbWJnO2JtsAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/hit4-2.png\n// module id = sRj2\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/img/road.49d90fb.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/road.png\n// module id = uC87\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = vFc/\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = vIB/\n// module chunks = 0","\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\n\r\n\tvar Arith=laya.maths.Arith,Bezier=laya.maths.Bezier,Bitmap=laya.resource.Bitmap,Browser=laya.utils.Browser;\r\n\tvar Byte=laya.utils.Byte,Color=laya.utils.Color,ColorFilter=laya.filters.ColorFilter,Config=Laya.Config,Context=laya.resource.Context;\r\n\tvar Event=laya.events.Event,Filter=laya.filters.Filter,Graphics=laya.display.Graphics,HTMLCanvas=laya.resource.HTMLCanvas;\r\n\tvar HTMLChar=laya.utils.HTMLChar,HTMLImage=laya.resource.HTMLImage,HTMLSubImage=laya.resource.HTMLSubImage;\r\n\tvar Handler=laya.utils.Handler,Loader=laya.net.Loader,Matrix=laya.maths.Matrix,Point=laya.maths.Point,Rectangle=laya.maths.Rectangle;\r\n\tvar Render=laya.renders.Render,RenderContext=laya.renders.RenderContext,RenderSprite=laya.renders.RenderSprite;\r\n\tvar Resource=laya.resource.Resource,ResourceManager=laya.resource.ResourceManager,RunDriver=laya.utils.RunDriver;\r\n\tvar Sprite=laya.display.Sprite,Stage=laya.display.Stage,Stat=laya.utils.Stat,StringKey=laya.utils.StringKey;\r\n\tvar Style=laya.display.css.Style,System=laya.system.System,Text=laya.display.Text,Texture=laya.resource.Texture;\r\n\tvar TransformInfo=laya.display.css.TransformInfo,URL=laya.net.URL,Utils=laya.utils.Utils,VectorGraphManager=laya.utils.VectorGraphManager;\r\n\tvar WordText=laya.utils.WordText;\r\nLaya.interface('laya.webgl.shapes.IShape');\r\nLaya.interface('laya.webgl.submit.ISubmit');\r\nLaya.interface('laya.webgl.text.ICharSegment');\r\nLaya.interface('laya.webgl.canvas.save.ISaveData');\r\nLaya.interface('laya.webgl.resource.IMergeAtlasBitmap');\r\nLaya.interface('laya.filters.IFilterActionGL','laya.filters.IFilterAction');\r\n//class laya.filters.webgl.FilterActionGL\r\nvar FilterActionGL=(function(){\r\n\tfunction FilterActionGL(){}\r\n\t__class(FilterActionGL,'laya.filters.webgl.FilterActionGL');\r\n\tvar __proto=FilterActionGL.prototype;\r\n\tLaya.imps(__proto,{\"laya.filters.IFilterActionGL\":true})\r\n\t__proto.setValue=function(shader){}\r\n\t__proto.setValueMix=function(shader){}\r\n\t__proto.apply3d=function(scope,sprite,context,x,y){return null;}\r\n\t__proto.apply=function(srcCanvas){return null;}\r\n\t__getset(0,__proto,'typeMix',function(){\r\n\t\treturn 0;\r\n\t});\r\n\r\n\treturn FilterActionGL;\r\n})()\r\n\r\n\r\n//class laya.webgl.shader.ShaderValue\r\nvar ShaderValue=(function(){\r\n\tfunction ShaderValue(){}\r\n\t__class(ShaderValue,'laya.webgl.shader.ShaderValue');\r\n\treturn ShaderValue;\r\n})()\r\n\r\n\r\n//class laya.webgl.atlas.AtlasGrid\r\nvar AtlasGrid=(function(){\r\n\tvar TexRowInfo,TexMergeTexSize;\r\n\tfunction AtlasGrid(width,height,atlasID){\r\n\t\tthis._atlasID=0;\r\n\t\tthis._width=0;\r\n\t\tthis._height=0;\r\n\t\tthis._texCount=0;\r\n\t\tthis._rowInfo=null;\r\n\t\tthis._cells=null;\r\n\t\tthis._failSize=new TexMergeTexSize();\r\n\t\t(width===void 0)&& (width=0);\r\n\t\t(height===void 0)&& (height=0);\r\n\t\t(atlasID===void 0)&& (atlasID=0);\r\n\t\tthis._cells=null;\r\n\t\tthis._rowInfo=null;\r\n\t\tthis._init(width,height);\r\n\t\tthis._atlasID=atlasID;\r\n\t}\r\n\r\n\t__class(AtlasGrid,'laya.webgl.atlas.AtlasGrid');\r\n\tvar __proto=AtlasGrid.prototype;\r\n\t//------------------------------------------------------------------------------\r\n\t__proto.getAltasID=function(){\r\n\t\treturn this._atlasID;\r\n\t}\r\n\r\n\t//------------------------------------------------------------------------------\r\n\t__proto.setAltasID=function(atlasID){\r\n\t\tif (atlasID >=0){\r\n\t\t\tthis._atlasID=atlasID;\r\n\t\t}\r\n\t}\r\n\r\n\t//------------------------------------------------------------------\r\n\t__proto.addTex=function(type,width,height){\r\n\t\tvar result=this._get(width,height);\r\n\t\tif (result.ret==false){\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tthis._fill(result.x,result.y,width,height,type);\r\n\t\tthis._texCount++;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//------------------------------------------------------------------------------\r\n\t__proto._release=function(){\r\n\t\tif (this._cells !=null){\r\n\t\t\tthis._cells.length=0;\r\n\t\t\tthis._cells=null;\r\n\t\t}\r\n\t\tif (this._rowInfo){\r\n\t\t\tthis._rowInfo.length=0;\r\n\t\t\tthis._rowInfo=null;\r\n\t\t}\r\n\t}\r\n\r\n\t//------------------------------------------------------------------------------\r\n\t__proto._init=function(width,height){\r\n\t\tthis._width=width;\r\n\t\tthis._height=height;\r\n\t\tthis._release();\r\n\t\tif (this._width==0)return false;\r\n\t\tthis._cells=new Uint8Array(this._width *this._height*3);\r\n\t\tthis._rowInfo=__newvec(this._height);\r\n\t\tfor (var i=0;i < this._height;i++){\r\n\t\t\tthis._rowInfo[i]=new TexRowInfo();\r\n\t\t}\r\n\t\tthis._clear();\r\n\t\treturn true;\r\n\t}\r\n\r\n\t//------------------------------------------------------------------\r\n\t__proto._get=function(width,height){\r\n\t\tvar pFillInfo=new MergeFillInfo();\r\n\t\tif (width >=this._failSize.width && height >=this._failSize.height){\r\n\t\t\treturn pFillInfo;\r\n\t\t};\r\n\t\tvar rx=-1;\r\n\t\tvar ry=-1;\r\n\t\tvar nWidth=this._width;\r\n\t\tvar nHeight=this._height;\r\n\t\tvar pCellBox=this._cells;\r\n\t\tfor (var y=0;y < nHeight;y++){\r\n\t\t\tif (this._rowInfo[y].spaceCount < width)continue ;\r\n\t\t\tfor (var x=0;x < nWidth;){\r\n\t\t\t\tvar tm=(y *nWidth+x)*3;\r\n\t\t\t\tif (pCellBox[tm] !=0 || pCellBox[tm+1] < width || pCellBox[tm+2] < height){\r\n\t\t\t\t\tx+=pCellBox[tm+1];\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\trx=x;\r\n\t\t\t\try=y;\r\n\t\t\t\tfor (var xx=0;xx < width;xx++){\r\n\t\t\t\t\tif (pCellBox[3*xx+tm+2] < height){\r\n\t\t\t\t\t\trx=-1;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (rx < 0){\r\n\t\t\t\t\tx+=pCellBox[tm+1];\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tpFillInfo.ret=true;\r\n\t\t\t\tpFillInfo.x=rx;\r\n\t\t\t\tpFillInfo.y=ry;\r\n\t\t\t\treturn pFillInfo;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pFillInfo;\r\n\t}\r\n\r\n\t//------------------------------------------------------------------\r\n\t__proto._fill=function(x,y,w,h,type){\r\n\t\tvar nWidth=this._width;\r\n\t\tvar nHeghit=this._height;\r\n\t\tthis._check((x+w)<=nWidth && (y+h)<=nHeghit);\r\n\t\tfor (var yy=y;yy < (h+y);++yy){\r\n\t\t\tthis._check(this._rowInfo[yy].spaceCount >=w);\r\n\t\t\tthis._rowInfo[yy].spaceCount-=w;\r\n\t\t\tfor (var xx=0;xx < w;xx++){\r\n\t\t\t\tvar tm=(x+yy *nWidth+xx)*3;\r\n\t\t\t\tthis._check(this._cells[tm]==0);\r\n\t\t\t\tthis._cells[tm]=type;\r\n\t\t\t\tthis._cells[tm+1]=w;\r\n\t\t\t\tthis._cells[tm+2]=h;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (x > 0){\r\n\t\t\tfor (yy=0;yy < h;++yy){\r\n\t\t\t\tvar s=0;\r\n\t\t\t\tfor (xx=x-1;xx >=0;--xx,++s){\r\n\t\t\t\t\tif (this._cells[((y+yy)*nWidth+xx)*3] !=0)break ;\r\n\t\t\t\t}\r\n\t\t\t\tfor (xx=s;xx > 0;--xx){\r\n\t\t\t\t\tthis._cells[((y+yy)*nWidth+x-xx)*3+1]=xx;\r\n\t\t\t\t\tthis._check(xx > 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (y > 0){\r\n\t\t\tfor (xx=x;xx < (x+w);++xx){\r\n\t\t\t\ts=0;\r\n\t\t\t\tfor (yy=y-1;yy >=0;--yy,s++){\r\n\t\t\t\t\tif (this._cells[(xx+yy *nWidth)*3] !=0)break ;\r\n\t\t\t\t}\r\n\t\t\t\tfor (yy=s;yy > 0;--yy){\r\n\t\t\t\t\tthis._cells[(xx+(y-yy)*nWidth)*3+2]=yy;\r\n\t\t\t\t\tthis._check(yy > 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._check=function(ret){\r\n\t\tif (ret==false){\r\n\t\t\tconsole.log(\"xtexMerger 错误啦\");\r\n\t\t}\r\n\t}\r\n\r\n\t//------------------------------------------------------------------\r\n\t__proto._clear=function(){\r\n\t\tthis._texCount=0;\r\n\t\tfor (var y=0;y < this._height;y++){\r\n\t\t\tthis._rowInfo[y].spaceCount=this._width;\r\n\t\t}\r\n\t\tfor (var i=0;i < this._height;i++){\r\n\t\t\tfor (var j=0;j < this._width;j++){\r\n\t\t\t\tvar tm=(i *this._width+j)*3;\r\n\t\t\t\tthis._cells[tm]=0;\r\n\t\t\t\tthis._cells[tm+1]=this._width-j;\r\n\t\t\t\tthis._cells[tm+2]=this._width-i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._failSize.width=this._width+1;\r\n\t\tthis._failSize.height=this._height+1;\r\n\t}\r\n\r\n\tAtlasGrid.__init$=function(){\r\n\t\t//------------------------------------------------------------------------------\r\n\t\t//class TexRowInfo\r\n\t\tTexRowInfo=(function(){\r\n\t\t\tfunction TexRowInfo(){\r\n\t\t\t\tthis.spaceCount=0;\r\n\t\t\t}\r\n\t\t\t__class(TexRowInfo,'');\r\n\t\t\treturn TexRowInfo;\r\n\t\t})()\r\n\t\t//------------------------------------------------------------------------------\r\n\t\t//class TexMergeTexSize\r\n\t\tTexMergeTexSize=(function(){\r\n\t\t\tfunction TexMergeTexSize(){\r\n\t\t\t\tthis.width=0;\r\n\t\t\t\tthis.height=0;\r\n\t\t\t}\r\n\t\t\t__class(TexMergeTexSize,'');\r\n\t\t\treturn TexMergeTexSize;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn AtlasGrid;\r\n})()\r\n\r\n\r\n//class laya.webgl.atlas.AtlasResourceManager\r\nvar AtlasResourceManager=(function(){\r\n\tfunction AtlasResourceManager(width,height,gridSize,maxTexNum){\r\n\t\tthis._currentAtlasCount=0;\r\n\t\tthis._maxAtlaserCount=0;\r\n\t\tthis._width=0;\r\n\t\tthis._height=0;\r\n\t\tthis._gridSize=0;\r\n\t\tthis._gridNumX=0;\r\n\t\tthis._gridNumY=0;\r\n\t\tthis._init=false;\r\n\t\tthis._curAtlasIndex=0;\r\n\t\tthis._setAtlasParam=false;\r\n\t\tthis._atlaserArray=null;\r\n\t\tthis._needGC=false;\r\n\t\tthis._setAtlasParam=true;\r\n\t\tthis._width=width;\r\n\t\tthis._height=height;\r\n\t\tthis._gridSize=gridSize;\r\n\t\tthis._maxAtlaserCount=maxTexNum;\r\n\t\tthis._gridNumX=width / gridSize;\r\n\t\tthis._gridNumY=height / gridSize;\r\n\t\tthis._curAtlasIndex=0;\r\n\t\tthis._atlaserArray=[];\r\n\t}\r\n\r\n\t__class(AtlasResourceManager,'laya.webgl.atlas.AtlasResourceManager');\r\n\tvar __proto=AtlasResourceManager.prototype;\r\n\t__proto.setAtlasParam=function(width,height,gridSize,maxTexNum){\r\n\t\tif (this._setAtlasParam==true){\r\n\t\t\tAtlasResourceManager._sid_=0;\r\n\t\t\tthis._width=width;\r\n\t\t\tthis._height=height;\r\n\t\t\tthis._gridSize=gridSize;\r\n\t\t\tthis._maxAtlaserCount=maxTexNum;\r\n\t\t\tthis._gridNumX=width / gridSize;\r\n\t\t\tthis._gridNumY=height / gridSize;\r\n\t\t\tthis._curAtlasIndex=0;\r\n\t\t\tthis.freeAll();\r\n\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\tconsole.log(\"设置大图合集参数错误，只能在开始页面设置各种参数\");\r\n\t\t\tthrow-1;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//添加 图片到大图集\r\n\t__proto.pushData=function(texture){\r\n\t\tvar bitmap=texture.bitmap;\r\n\t\tvar nWebGLImageIndex=-1;\r\n\t\tvar curAtlas=null;\r\n\t\tvar i=0,n=0,altasIndex=0;\r\n\t\tfor (i=0,n=this._atlaserArray.length;i < n;i++){\r\n\t\t\taltasIndex=(this._curAtlasIndex+i)% n;\r\n\t\t\tcurAtlas=this._atlaserArray[altasIndex];\r\n\t\t\tnWebGLImageIndex=curAtlas.findBitmapIsExist(bitmap);\r\n\t\t\tif (nWebGLImageIndex !=-1){\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (nWebGLImageIndex !=-1){\r\n\t\t\tvar offset=curAtlas.InAtlasWebGLImagesOffsetValue[nWebGLImageIndex];\r\n\t\t\toffsetX=offset[0];\r\n\t\t\toffsetY=offset[1];\r\n\t\t\tcurAtlas.addToAtlas(texture,offsetX,offsetY);\r\n\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\tvar tex=texture;\r\n\t\t\tthis._setAtlasParam=false;\r\n\t\t\tvar bFound=false;\r\n\t\t\tvar nImageGridX=(Math.ceil((texture.bitmap.width+2)/ this._gridSize));\r\n\t\t\tvar nImageGridY=(Math.ceil((texture.bitmap.height+2)/ this._gridSize));\r\n\t\t\tvar bSuccess=false;\r\n\t\t\tfor (var k=0;k < 2;k++){\r\n\t\t\t\tvar maxAtlaserCount=this._maxAtlaserCount;\r\n\t\t\t\tfor (i=0;i < maxAtlaserCount;i++){\r\n\t\t\t\t\taltasIndex=(this._curAtlasIndex+i)% maxAtlaserCount;\r\n\t\t\t\t\t(this._atlaserArray.length-1 >=altasIndex)|| (this._atlaserArray.push(new Atlaser(this._gridNumX,this._gridNumY,this._width,this._height,AtlasResourceManager._sid_++)));\r\n\t\t\t\t\tvar atlas=this._atlaserArray[altasIndex];\r\n\t\t\t\t\tvar offsetX=0,offsetY=0;\r\n\t\t\t\t\tvar fillInfo=atlas.addTex(1,nImageGridX,nImageGridY);\r\n\t\t\t\t\tif (fillInfo.ret){\r\n\t\t\t\t\t\toffsetX=fillInfo.x *this._gridSize+1;\r\n\t\t\t\t\t\toffsetY=fillInfo.y *this._gridSize+1;\r\n\t\t\t\t\t\tbitmap.lock=true;\r\n\t\t\t\t\t\tatlas.addToAtlasTexture((bitmap),offsetX,offsetY);\r\n\t\t\t\t\t\tatlas.addToAtlas(texture,offsetX,offsetY);\r\n\t\t\t\t\t\tbSuccess=true;\r\n\t\t\t\t\t\tthis._curAtlasIndex=altasIndex;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bSuccess)\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tthis._atlaserArray.push(new Atlaser(this._gridNumX,this._gridNumY,this._width,this._height,AtlasResourceManager._sid_++));\r\n\t\t\t\tthis._needGC=true;\r\n\t\t\t\tthis.garbageCollection();\r\n\t\t\t\tthis._curAtlasIndex=this._atlaserArray.length-1;\r\n\t\t\t}\r\n\t\t\tif (!bSuccess){\r\n\t\t\t\tconsole.log(\">>>AtlasManager pushData error\");\r\n\t\t\t}\r\n\t\t\treturn bSuccess;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.addToAtlas=function(tex){\r\n\t\tlaya.webgl.atlas.AtlasResourceManager.instance.pushData(tex);\r\n\t}\r\n\r\n\t/**\r\n\t*回收大图合集,不建议手动调用\r\n\t*@return\r\n\t*/\r\n\t__proto.garbageCollection=function(){\r\n\t\tif (this._needGC===true){\r\n\t\t\tvar n=this._atlaserArray.length-this._maxAtlaserCount;\r\n\t\t\tfor (var i=0;i < n;i++){\r\n\t\t\t\tthis._atlaserArray[i].dispose();\r\n\t\t\t\tconsole.log(\"AtlasResourceManager:Dispose the inner Atlas。\");\r\n\t\t\t}\r\n\t\t\tconsole.log(\">>>>altas garbageCollection =\"+n);\r\n\t\t\tthis._atlaserArray.splice(0,n);\r\n\t\t\tthis._needGC=false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto.freeAll=function(){\r\n\t\tfor (var i=0,n=this._atlaserArray.length;i < n;i++){\r\n\t\t\tthis._atlaserArray[i].dispose();\r\n\t\t}\r\n\t\tthis._atlaserArray.length=0;\r\n\t\tthis._curAtlasIndex=0;\r\n\t}\r\n\r\n\t__proto.getAtlaserCount=function(){\r\n\t\treturn this._atlaserArray.length;\r\n\t}\r\n\r\n\t__proto.getAtlaserByIndex=function(index){\r\n\t\treturn this._atlaserArray[index];\r\n\t}\r\n\r\n\t__getset(1,AtlasResourceManager,'instance',function(){\r\n\t\tif (!AtlasResourceManager._Instance){\r\n\t\t\tAtlasResourceManager._Instance=new AtlasResourceManager(laya.webgl.atlas.AtlasResourceManager.atlasTextureWidth,laya.webgl.atlas.AtlasResourceManager.atlasTextureHeight,/*CLASS CONST:laya.webgl.atlas.AtlasResourceManager.gridSize*/16,laya.webgl.atlas.AtlasResourceManager.maxTextureCount);\r\n\t\t}\r\n\t\treturn AtlasResourceManager._Instance;\r\n\t});\r\n\r\n\t__getset(1,AtlasResourceManager,'enabled',function(){\r\n\t\treturn Config.atlasEnable;\r\n\t});\r\n\r\n\t__getset(1,AtlasResourceManager,'atlasLimitWidth',function(){\r\n\t\treturn AtlasResourceManager._atlasLimitWidth;\r\n\t\t},function(value){\r\n\t\tAtlasResourceManager._atlasLimitWidth=value;\r\n\t});\r\n\r\n\t__getset(1,AtlasResourceManager,'atlasLimitHeight',function(){\r\n\t\treturn AtlasResourceManager._atlasLimitHeight;\r\n\t\t},function(value){\r\n\t\tAtlasResourceManager._atlasLimitHeight=value;\r\n\t});\r\n\r\n\tAtlasResourceManager._enable=function(){\r\n\t\tConfig.atlasEnable=true;\r\n\t}\r\n\r\n\tAtlasResourceManager._disable=function(){\r\n\t\tConfig.atlasEnable=false;\r\n\t}\r\n\r\n\tAtlasResourceManager.__init__=function(){\r\n\t\tAtlasResourceManager.atlasTextureWidth=2048;\r\n\t\tAtlasResourceManager.atlasTextureHeight=2048;\r\n\t\tAtlasResourceManager.maxTextureCount=6;\r\n\t\tAtlasResourceManager.atlasLimitWidth=512;\r\n\t\tAtlasResourceManager.atlasLimitHeight=512;\r\n\t}\r\n\r\n\tAtlasResourceManager._atlasLimitWidth=0;\r\n\tAtlasResourceManager._atlasLimitHeight=0;\r\n\tAtlasResourceManager.gridSize=16;\r\n\tAtlasResourceManager.atlasTextureWidth=0;\r\n\tAtlasResourceManager.atlasTextureHeight=0;\r\n\tAtlasResourceManager.maxTextureCount=0;\r\n\tAtlasResourceManager._atlasRestore=0;\r\n\tAtlasResourceManager.BOARDER_TYPE_NO=0;\r\n\tAtlasResourceManager.BOARDER_TYPE_RIGHT=1;\r\n\tAtlasResourceManager.BOARDER_TYPE_LEFT=2;\r\n\tAtlasResourceManager.BOARDER_TYPE_BOTTOM=4;\r\n\tAtlasResourceManager.BOARDER_TYPE_TOP=8;\r\n\tAtlasResourceManager.BOARDER_TYPE_ALL=15;\r\n\tAtlasResourceManager._sid_=0;\r\n\tAtlasResourceManager._Instance=null;\r\n\treturn AtlasResourceManager;\r\n})()\r\n\r\n\r\n//class laya.webgl.atlas.MergeFillInfo\r\nvar MergeFillInfo=(function(){\r\n\tfunction MergeFillInfo(){\r\n\t\tthis.x=0;\r\n\t\tthis.y=0;\r\n\t\tthis.ret=false;\r\n\t\tthis.ret=false;\r\n\t\tthis.x=0;\r\n\t\tthis.y=0;\r\n\t}\r\n\r\n\t__class(MergeFillInfo,'laya.webgl.atlas.MergeFillInfo');\r\n\treturn MergeFillInfo;\r\n})()\r\n\r\n\r\n;\r\n//class laya.webgl.canvas.BlendMode\r\nvar BlendMode=(function(){\r\n\tfunction BlendMode(){}\r\n\t__class(BlendMode,'laya.webgl.canvas.BlendMode');\r\n\tBlendMode._init_=function(gl){\r\n\t\tBlendMode.fns=[BlendMode.BlendNormal,BlendMode.BlendAdd,BlendMode.BlendMultiply,BlendMode.BlendScreen,BlendMode.BlendOverlay,BlendMode.BlendLight,BlendMode.BlendMask,BlendMode.BlendDestinationOut];\r\n\t\tBlendMode.targetFns=[BlendMode.BlendNormalTarget,BlendMode.BlendAddTarget,BlendMode.BlendMultiplyTarget,BlendMode.BlendScreenTarget,BlendMode.BlendOverlayTarget,BlendMode.BlendLightTarget,BlendMode.BlendMask,BlendMode.BlendDestinationOut];\r\n\t}\r\n\r\n\tBlendMode.BlendNormal=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_ALPHA*/0x0303);\r\n\t}\r\n\r\n\tBlendMode.BlendAdd=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.DST_ALPHA*/0x0304);\r\n\t}\r\n\r\n\tBlendMode.BlendMultiply=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.DST_COLOR*/0x0306,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_ALPHA*/0x0303);\r\n\t}\r\n\r\n\tBlendMode.BlendScreen=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE*/1);\r\n\t}\r\n\r\n\tBlendMode.BlendOverlay=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_COLOR*/0x0301);\r\n\t}\r\n\r\n\tBlendMode.BlendLight=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE*/1);\r\n\t}\r\n\r\n\tBlendMode.BlendNormalTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_ALPHA*/0x0303);\r\n\t}\r\n\r\n\tBlendMode.BlendAddTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.DST_ALPHA*/0x0304);\r\n\t}\r\n\r\n\tBlendMode.BlendMultiplyTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.DST_COLOR*/0x0306,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_ALPHA*/0x0303);\r\n\t}\r\n\r\n\tBlendMode.BlendScreenTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE*/1);\r\n\t}\r\n\r\n\tBlendMode.BlendOverlayTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE_MINUS_SRC_COLOR*/0x0301);\r\n\t}\r\n\r\n\tBlendMode.BlendLightTarget=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ONE*/1,/*laya.webgl.WebGLContext.ONE*/1);\r\n\t}\r\n\r\n\tBlendMode.BlendMask=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ZERO*/0,/*laya.webgl.WebGLContext.SRC_ALPHA*/0x0302);\r\n\t}\r\n\r\n\tBlendMode.BlendDestinationOut=function(gl){\r\n\t\tgl.blendFunc(/*laya.webgl.WebGLContext.ZERO*/0,/*laya.webgl.WebGLContext.ZERO*/0);\r\n\t}\r\n\r\n\tBlendMode.activeBlendFunction=null;\r\n\tBlendMode.NAMES=[\"normal\",\"add\",\"multiply\",\"screen\",\"overlay\",\"light\",\"mask\",\"destination-out\"];\r\n\tBlendMode.TOINT={\"normal\":0,\"add\":1,\"multiply\":2,\"screen\":3 ,\"lighter\":1,\"overlay\":4,\"light\":5,\"mask\":6,\"destination-out\":7};\r\n\tBlendMode.NORMAL=\"normal\";\r\n\tBlendMode.ADD=\"add\";\r\n\tBlendMode.MULTIPLY=\"multiply\";\r\n\tBlendMode.SCREEN=\"screen\";\r\n\tBlendMode.LIGHT=\"light\";\r\n\tBlendMode.OVERLAY=\"overlay\";\r\n\tBlendMode.DESTINATIONOUT=\"destination-out\";\r\n\tBlendMode.fns=[];\r\n\tBlendMode.targetFns=[];\r\n\treturn BlendMode;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.DrawStyle\r\nvar DrawStyle=(function(){\r\n\tfunction DrawStyle(value){\r\n\t\tthis._color=Color.create(\"black\");\r\n\t\tthis.setValue(value);\r\n\t}\r\n\r\n\t__class(DrawStyle,'laya.webgl.canvas.DrawStyle');\r\n\tvar __proto=DrawStyle.prototype;\r\n\t__proto.setValue=function(value){\r\n\t\tif (value){\r\n\t\t\tif ((typeof value=='string')){\r\n\t\t\t\tthis._color=Color.create(value);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ((value instanceof laya.utils.Color )){\r\n\t\t\t\tthis._color=value;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.reset=function(){\r\n\t\tthis._color=Color.create(\"black\");\r\n\t}\r\n\r\n\t__proto.equal=function(value){\r\n\t\tif ((typeof value=='string'))return this._color.strColor===value;\r\n\t\tif ((value instanceof laya.utils.Color ))return this._color.numColor===(value).numColor;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t__proto.toColorStr=function(){\r\n\t\treturn this._color.strColor;\r\n\t}\r\n\r\n\tDrawStyle.create=function(value){\r\n\t\tif (value){\r\n\t\t\tvar color;\r\n\t\t\tif ((typeof value=='string'))color=Color.create(value);\r\n\t\t\telse if ((value instanceof laya.utils.Color ))color=value;\r\n\t\t\tif (color){\r\n\t\t\t\treturn color._drawStyle || (color._drawStyle=new DrawStyle(value));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn laya.webgl.canvas.DrawStyle.DEFAULT;\r\n\t}\r\n\r\n\t__static(DrawStyle,\r\n\t['DEFAULT',function(){return this.DEFAULT=new DrawStyle(\"#000000\");}\r\n\t]);\r\n\treturn DrawStyle;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.Path\r\nvar Path=(function(){\r\n\tfunction Path(){\r\n\t\tthis._x=0;\r\n\t\tthis._y=0;\r\n\t\t//this._rect=null;\r\n\t\t//this.ib=null;\r\n\t\t//this.vb=null;\r\n\t\tthis.dirty=false;\r\n\t\t//this.geomatrys=null;\r\n\t\t//this._curGeomatry=null;\r\n\t\tthis.offset=0;\r\n\t\tthis.count=0;\r\n\t\tthis.geoStart=0;\r\n\t\tthis.tempArray=[];\r\n\t\tthis.closePath=false;\r\n\t\tthis.geomatrys=[];\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis.ib=IndexBuffer2D.create(/*laya.webgl.WebGLContext.DYNAMIC_DRAW*/0x88E8);\r\n\t\tthis.vb=VertexBuffer2D.create(5);\r\n\t}\r\n\r\n\t__class(Path,'laya.webgl.canvas.Path');\r\n\tvar __proto=Path.prototype;\r\n\t__proto.addPoint=function(pointX,pointY){\r\n\t\tthis.tempArray.push(pointX,pointY);\r\n\t}\r\n\r\n\t__proto.getEndPointX=function(){\r\n\t\treturn this.tempArray[this.tempArray.length-2];\r\n\t}\r\n\r\n\t__proto.getEndPointY=function(){\r\n\t\treturn this.tempArray[this.tempArray.length-1];\r\n\t}\r\n\r\n\t__proto.polygon=function(x,y,points,color,borderWidth,borderColor){\r\n\t\tvar geo;\r\n\t\tthis.geomatrys.push(this._curGeomatry=geo=new Polygon(x,y,points,color,borderWidth,borderColor));\r\n\t\tif (!color)geo.fill=false;\r\n\t\tif (borderColor==undefined)geo.borderWidth=0;\r\n\t\treturn geo;\r\n\t}\r\n\r\n\t__proto.setGeomtry=function(shape){\r\n\t\tthis.geomatrys.push(this._curGeomatry=shape);\r\n\t}\r\n\r\n\t__proto.drawLine=function(x,y,points,width,color){\r\n\t\tvar geo;\r\n\t\tif (this.closePath){\r\n\t\t\tthis.geomatrys.push(this._curGeomatry=geo=new LoopLine(x,y,points,width,color));\r\n\t\t\t}else {\r\n\t\t\tthis.geomatrys.push(this._curGeomatry=geo=new Line(x,y,points,width,color));\r\n\t\t}\r\n\t\tgeo.fill=false;\r\n\t\treturn geo;\r\n\t}\r\n\r\n\t__proto.update=function(){\r\n\t\tvar si=this.ib._byteLength;\r\n\t\tvar len=this.geomatrys.length;\r\n\t\tthis.offset=si;\r\n\t\tfor (var i=this.geoStart;i < len;i++){\r\n\t\t\tthis.geomatrys[i].getData(this.ib,this.vb,this.vb._byteLength / 20);\r\n\t\t}\r\n\t\tthis.geoStart=len;\r\n\t\tthis.count=(this.ib._byteLength-si)/ CONST3D2D.BYTES_PIDX;\r\n\t}\r\n\r\n\t__proto.reset=function(){\r\n\t\tthis.vb.clear();\r\n\t\tthis.ib.clear();\r\n\t\tthis.offset=this.count=this.geoStart=0;\r\n\t\tthis.geomatrys.length=0;\r\n\t}\r\n\r\n\t__proto.recover=function(){\r\n\t\tthis._curGeomatry=null;\r\n\t\tthis.vb.destory();\r\n\t\tthis.vb=null;\r\n\t\tthis.ib.destory();\r\n\t\tthis.ib=null;\r\n\t}\r\n\r\n\treturn Path;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveBase\r\nvar SaveBase=(function(){\r\n\tfunction SaveBase(){\r\n\t\t//this._valueName=null;\r\n\t\t//this._value=null;\r\n\t\t//this._dataObj=null;\r\n\t\t//this._newSubmit=false;\r\n\t}\r\n\r\n\t__class(SaveBase,'laya.webgl.canvas.save.SaveBase');\r\n\tvar __proto=SaveBase.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){return false;}\r\n\t__proto.restore=function(context){\r\n\t\tthis._dataObj[this._valueName]=this._value;\r\n\t\tSaveBase._cache[SaveBase._cache._length++]=this;\r\n\t\tthis._newSubmit && (context._curSubmit=Submit.RENDERBASE,context._renderKey=0);\r\n\t}\r\n\r\n\tSaveBase._createArray=function(){\r\n\t\tvar value=[];\r\n\t\tvalue._length=0;\r\n\t\treturn value;\r\n\t}\r\n\r\n\tSaveBase._init=function(){\r\n\t\tvar namemap=SaveBase._namemap={};\r\n\t\tnamemap[0x1]=\"ALPHA\";\r\n\t\tnamemap[0x2]=\"fillStyle\";\r\n\t\tnamemap[0x8]=\"font\";\r\n\t\tnamemap[0x100]=\"lineWidth\";\r\n\t\tnamemap[0x200]=\"strokeStyle\";\r\n\t\tnamemap[0x2000]=\"_mergeID\";\r\n\t\tnamemap[0x400]=namemap[0x800]=namemap[0x1000]=[];\r\n\t\tnamemap[0x4000]=\"textBaseline\";\r\n\t\tnamemap[0x8000]=\"textAlign\";\r\n\t\tnamemap[0x10000]=\"_nBlendType\";\r\n\t\tnamemap[0x100000]=\"shader\";\r\n\t\tnamemap[0x200000]=\"filters\";\r\n\t\treturn namemap;\r\n\t}\r\n\r\n\tSaveBase.save=function(context,type,dataObj,newSubmit){\r\n\t\tif ((context._saveMark._saveuse & type)!==type){\r\n\t\t\tcontext._saveMark._saveuse |=type;\r\n\t\t\tvar cache=SaveBase._cache;\r\n\t\t\tvar o=cache._length > 0 ? cache[--cache._length] :(new SaveBase());\r\n\t\t\to._value=dataObj[o._valueName=SaveBase._namemap[type]];\r\n\t\t\to._dataObj=dataObj;\r\n\t\t\to._newSubmit=newSubmit;\r\n\t\t\tvar _save=context._save;\r\n\t\t\t_save[_save._length++]=o;\r\n\t\t}\r\n\t}\r\n\r\n\tSaveBase._cache=laya.webgl.canvas.save.SaveBase._createArray();\r\n\tSaveBase._namemap=SaveBase._init();\r\n\treturn SaveBase;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveClipRect\r\nvar SaveClipRect=(function(){\r\n\tfunction SaveClipRect(){\r\n\t\t//this._clipSaveRect=null;\r\n\t\t//this._submitScissor=null;\r\n\t\tthis._clipRect=new Rectangle();\r\n\t}\r\n\r\n\t__class(SaveClipRect,'laya.webgl.canvas.save.SaveClipRect');\r\n\tvar __proto=SaveClipRect.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){return false;}\r\n\t__proto.restore=function(context){\r\n\t\tcontext._clipRect=this._clipSaveRect;\r\n\t\tSaveClipRect._cache[SaveClipRect._cache._length++]=this;\r\n\t\tthis._submitScissor.submitLength=context._submits._length-this._submitScissor.submitIndex;\r\n\t\tcontext._curSubmit=Submit.RENDERBASE;\r\n\t\tcontext._renderKey=0;\r\n\t}\r\n\r\n\tSaveClipRect.save=function(context,submitScissor){\r\n\t\tif ((context._saveMark._saveuse & /*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT*/0x20000)==/*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT*/0x20000)return;\r\n\t\tcontext._saveMark._saveuse |=/*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT*/0x20000;\r\n\t\tvar cache=SaveClipRect._cache;\r\n\t\tvar o=cache._length > 0 ? cache[--cache._length] :(new SaveClipRect());\r\n\t\to._clipSaveRect=context._clipRect;\r\n\t\tcontext._clipRect=o._clipRect.copyFrom(context._clipRect);\r\n\t\to._submitScissor=submitScissor;\r\n\t\tvar _save=context._save;\r\n\t\t_save[_save._length++]=o;\r\n\t}\r\n\r\n\t__static(SaveClipRect,\r\n\t['_cache',function(){return this._cache=SaveBase._createArray();}\r\n\t]);\r\n\treturn SaveClipRect;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveClipRectStencil\r\nvar SaveClipRectStencil=(function(){\r\n\tfunction SaveClipRectStencil(){\r\n\t\t//this._clipSaveRect=null;\r\n\t\t//this._saveMatrix=null;\r\n\t\tthis._contextX=0;\r\n\t\tthis._contextY=0;\r\n\t\t//this._submitStencil=null;\r\n\t\tthis._clipRect=new Rectangle();\r\n\t\tthis._rect=new Rectangle();\r\n\t\tthis._matrix=new Matrix();\r\n\t}\r\n\r\n\t__class(SaveClipRectStencil,'laya.webgl.canvas.save.SaveClipRectStencil');\r\n\tvar __proto=SaveClipRectStencil.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){return false;}\r\n\t__proto.restore=function(context){\r\n\t\tSubmitStencil.restore(context,this._rect,this._saveMatrix,this._contextX,this._contextY);\r\n\t\tcontext._clipRect=this._clipSaveRect;\r\n\t\tcontext._curMat=this._saveMatrix;\r\n\t\tcontext._x=this._contextX;\r\n\t\tcontext._y=this._contextY;\r\n\t\tSaveClipRectStencil._cache[SaveClipRectStencil._cache._length++]=this;\r\n\t\tcontext._curSubmit=Submit.RENDERBASE;\r\n\t}\r\n\r\n\tSaveClipRectStencil.save=function(context,submitStencil,x,y,width,height,clipX,clipY,clipWidth,clipHeight){\r\n\t\tif ((context._saveMark._saveuse & /*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT_STENCIL*/0x40000)==/*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT_STENCIL*/0x40000)return;\r\n\t\tcontext._saveMark._saveuse |=/*laya.webgl.canvas.save.SaveBase.TYPE_CLIPRECT_STENCIL*/0x40000;\r\n\t\tvar cache=SaveClipRectStencil._cache;\r\n\t\tvar o=cache._length > 0 ? cache[--cache._length] :(new SaveClipRectStencil());\r\n\t\to._clipSaveRect=context._clipRect;\r\n\t\to._clipRect.setTo(clipX,clipY,clipWidth,clipHeight);\r\n\t\tcontext._clipRect=o._clipRect;\r\n\t\to._rect.x=x;\r\n\t\to._rect.y=y;\r\n\t\to._rect.width=width;\r\n\t\to._rect.height=height;\r\n\t\to._contextX=context._x;\r\n\t\to._contextY=context._y;\r\n\t\to._saveMatrix=context._curMat;\r\n\t\tcontext._curMat.copyTo(o._matrix);\r\n\t\tcontext._curMat=o._matrix;\r\n\t\to._submitStencil=submitStencil;\r\n\t\tvar _save=context._save;\r\n\t\t_save[_save._length++]=o;\r\n\t}\r\n\r\n\t__static(SaveClipRectStencil,\r\n\t['_cache',function(){return this._cache=SaveBase._createArray();}\r\n\t]);\r\n\treturn SaveClipRectStencil;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveMark\r\nvar SaveMark=(function(){\r\n\tfunction SaveMark(){\r\n\t\tthis._saveuse=0;\r\n\t\t//this._preSaveMark=null;\r\n\t\t;\r\n\t}\r\n\r\n\t__class(SaveMark,'laya.webgl.canvas.save.SaveMark');\r\n\tvar __proto=SaveMark.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto.restore=function(context){\r\n\t\tcontext._saveMark=this._preSaveMark;\r\n\t\tSaveMark._no[SaveMark._no._length++]=this;\r\n\t}\r\n\r\n\tSaveMark.Create=function(context){\r\n\t\tvar no=SaveMark._no;\r\n\t\tvar o=no._length > 0 ? no[--no._length] :(new SaveMark());\r\n\t\to._saveuse=0;\r\n\t\to._preSaveMark=context._saveMark;\r\n\t\tcontext._saveMark=o;\r\n\t\treturn o;\r\n\t}\r\n\r\n\t__static(SaveMark,\r\n\t['_no',function(){return this._no=SaveBase._createArray();}\r\n\t]);\r\n\treturn SaveMark;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveTransform\r\nvar SaveTransform=(function(){\r\n\tfunction SaveTransform(){\r\n\t\t//this._savematrix=null;\r\n\t\tthis._matrix=new Matrix();\r\n\t}\r\n\r\n\t__class(SaveTransform,'laya.webgl.canvas.save.SaveTransform');\r\n\tvar __proto=SaveTransform.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){return false;}\r\n\t__proto.restore=function(context){\r\n\t\tcontext._curMat=this._savematrix;\r\n\t\tSaveTransform._no[SaveTransform._no._length++]=this;\r\n\t}\r\n\r\n\tSaveTransform.save=function(context){\r\n\t\tvar _saveMark=context._saveMark;\r\n\t\tif ((_saveMark._saveuse & /*laya.webgl.canvas.save.SaveBase.TYPE_TRANSFORM*/0x800)===/*laya.webgl.canvas.save.SaveBase.TYPE_TRANSFORM*/0x800)return;\r\n\t\t_saveMark._saveuse |=/*laya.webgl.canvas.save.SaveBase.TYPE_TRANSFORM*/0x800;\r\n\t\tvar no=SaveTransform._no;\r\n\t\tvar o=no._length > 0 ? no[--no._length] :(new SaveTransform());\r\n\t\to._savematrix=context._curMat;\r\n\t\tcontext._curMat=context._curMat.copyTo(o._matrix);\r\n\t\tvar _save=context._save;\r\n\t\t_save[_save._length++]=o;\r\n\t}\r\n\r\n\t__static(SaveTransform,\r\n\t['_no',function(){return this._no=SaveBase._createArray();}\r\n\t]);\r\n\treturn SaveTransform;\r\n})()\r\n\r\n\r\n//class laya.webgl.canvas.save.SaveTranslate\r\nvar SaveTranslate=(function(){\r\n\tfunction SaveTranslate(){\r\n\t\t//this._x=NaN;\r\n\t\t//this._y=NaN;\r\n\t}\r\n\r\n\t__class(SaveTranslate,'laya.webgl.canvas.save.SaveTranslate');\r\n\tvar __proto=SaveTranslate.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.canvas.save.ISaveData\":true})\r\n\t__proto.isSaveMark=function(){return false;}\r\n\t__proto.restore=function(context){\r\n\t\tvar mat=context._curMat;\r\n\t\tcontext._x=this._x;\r\n\t\tcontext._y=this._y;\r\n\t\tSaveTranslate._no[SaveTranslate._no._length++]=this;\r\n\t}\r\n\r\n\tSaveTranslate.save=function(context){\r\n\t\tvar no=SaveTranslate._no;\r\n\t\tvar o=no._length > 0 ? no[--no._length] :(new SaveTranslate());\r\n\t\to._x=context._x;\r\n\t\to._y=context._y;\r\n\t\tvar _save=context._save;\r\n\t\t_save[_save._length++]=o;\r\n\t}\r\n\r\n\t__static(SaveTranslate,\r\n\t['_no',function(){return this._no=SaveBase._createArray();}\r\n\t]);\r\n\treturn SaveTranslate;\r\n})()\r\n\r\n\r\n//class laya.webgl.resource.RenderTargetMAX\r\nvar RenderTargetMAX=(function(){\r\n\tfunction RenderTargetMAX(){\r\n\t\t//public var targets:Vector.<OneTarget>;//没用到\r\n\t\tthis.target=null;\r\n\t\tthis.repaint=false;\r\n\t\tthis._width=NaN;\r\n\t\tthis._height=NaN;\r\n\t\tthis._sp=null;\r\n\t\tthis._clipRect=new Rectangle();\r\n\t}\r\n\r\n\t__class(RenderTargetMAX,'laya.webgl.resource.RenderTargetMAX');\r\n\tvar __proto=RenderTargetMAX.prototype;\r\n\t__proto.setSP=function(sp){\r\n\t\tthis._sp=sp;\r\n\t}\r\n\r\n\t__proto.size=function(w,h){\r\n\t\tvar _$this=this;\r\n\t\tif (this._width===w && this._height===h){\r\n\t\t\tthis.target.size(w,h);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.repaint=true;\r\n\t\tthis._width=w;\r\n\t\tthis._height=h;\r\n\t\tif (!this.target)\r\n\t\t\tthis.target=RenderTarget2D.create(w,h);\r\n\t\telse\r\n\t\tthis.target.size(w,h);\r\n\t\tif (!this.target.hasListener(/*laya.events.Event.RECOVERED*/\"recovered\")){\r\n\t\t\tthis.target.on(/*laya.events.Event.RECOVERED*/\"recovered\",this,function(e){\r\n\t\t\t\tLaya.timer.callLater(_$this._sp,_$this._sp.repaint);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._flushToTarget=function(context,target){\r\n\t\tif (target._destroy)return;\r\n\t\tvar worldScissorTest=RenderState2D.worldScissorTest;\r\n\t\tvar preworldClipRect=RenderState2D.worldClipRect;\r\n\t\tRenderState2D.worldClipRect=this._clipRect;\r\n\t\tthis._clipRect.x=this._clipRect.y=0;\r\n\t\tthis._clipRect.width=this._width;\r\n\t\tthis._clipRect.height=this._height;\r\n\t\tRenderState2D.worldScissorTest=false;\r\n\t\tWebGL.mainContext.disable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\tvar preAlpha=RenderState2D.worldAlpha;\r\n\t\tvar preMatrix4=RenderState2D.worldMatrix4;\r\n\t\tvar preMatrix=RenderState2D.worldMatrix;\r\n\t\tvar preFilters=RenderState2D.worldFilters;\r\n\t\tvar preShaderDefines=RenderState2D.worldShaderDefines;\r\n\t\tRenderState2D.worldMatrix=Matrix.EMPTY;\r\n\t\tRenderState2D.restoreTempArray();\r\n\t\tRenderState2D.worldMatrix4=RenderState2D.TEMPMAT4_ARRAY;\r\n\t\tRenderState2D.worldAlpha=1;\r\n\t\tRenderState2D.worldFilters=null;\r\n\t\tRenderState2D.worldShaderDefines=null;\r\n\t\tBaseShader.activeShader=null;\r\n\t\ttarget.start();\r\n\t\tConfig.showCanvasMark ? target.clear(0,1,0,0.3):target.clear(0,0,0,0);\r\n\t\tcontext.flush();\r\n\t\ttarget.end();\r\n\t\tBaseShader.activeShader=null;\r\n\t\tRenderState2D.worldAlpha=preAlpha;\r\n\t\tRenderState2D.worldMatrix4=preMatrix4;\r\n\t\tRenderState2D.worldMatrix=preMatrix;\r\n\t\tRenderState2D.worldFilters=preFilters;\r\n\t\tRenderState2D.worldShaderDefines=preShaderDefines;\r\n\t\tRenderState2D.worldScissorTest=worldScissorTest\r\n\t\tif (worldScissorTest){\r\n\t\t\tvar y=RenderState2D.height-preworldClipRect.y-preworldClipRect.height;\r\n\t\t\tWebGL.mainContext.scissor(preworldClipRect.x,y,preworldClipRect.width,preworldClipRect.height);\r\n\t\t\tWebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t}\r\n\t\tRenderState2D.worldClipRect=preworldClipRect;\r\n\t}\r\n\r\n\t__proto.flush=function(context){\r\n\t\tif (this.repaint){\r\n\t\t\tthis._flushToTarget(context,this.target);\r\n\t\t\tthis.repaint=false;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.drawTo=function(context,x,y,width,height){\r\n\t\tcontext.drawTexture(this.target.getTexture(),x,y,width,height,0,0);\r\n\t}\r\n\r\n\t__proto.destroy=function(){\r\n\t\tif (this.target){\r\n\t\t\tthis.target.destroy();\r\n\t\t\tthis.target=null;\r\n\t\t\tthis._sp=null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn RenderTargetMAX;\r\n})()\r\n\r\n\r\n//class laya.webgl.shader.d2.Shader2D\r\nvar Shader2D=(function(){\r\n\tfunction Shader2D(){\r\n\t\tthis.ALPHA=1;\r\n\t\t//this.glTexture=null;\r\n\t\t//this.shader=null;\r\n\t\t//this.filters=null;\r\n\t\tthis.shaderType=0;\r\n\t\t//this.colorAdd=null;\r\n\t\t//this.strokeStyle=null;\r\n\t\t//this.fillStyle=null;\r\n\t\tthis.defines=new ShaderDefines2D();\r\n\t}\r\n\r\n\t__class(Shader2D,'laya.webgl.shader.d2.Shader2D');\r\n\tvar __proto=Shader2D.prototype;\r\n\t__proto.destroy=function(){\r\n\t\tthis.defines=null;\r\n\t\tthis.filters=null;\r\n\t\tthis.glTexture=null;\r\n\t\tthis.strokeStyle=null;\r\n\t\tthis.fillStyle=null;\r\n\t}\r\n\r\n\tShader2D.__init__=function(){\r\n\t\tShader.addInclude(\"parts/ColorFilter_ps_uniform.glsl\",\"uniform vec4 colorAlpha;\\nuniform mat4 colorMat;\");\r\n\t\tShader.addInclude(\"parts/ColorFilter_ps_logic.glsl\",\"mat4 alphaMat =colorMat;\\n\\nalphaMat[0][3] *= gl_FragColor.a;\\nalphaMat[1][3] *= gl_FragColor.a;\\nalphaMat[2][3] *= gl_FragColor.a;\\n\\ngl_FragColor = gl_FragColor * alphaMat;\\ngl_FragColor += colorAlpha/255.0*gl_FragColor.a;\\n\");\r\n\t\tShader.addInclude(\"parts/GlowFilter_ps_uniform.glsl\",\"uniform vec4 u_color;\\nuniform float u_strength;\\nuniform float u_blurX;\\nuniform float u_blurY;\\nuniform float u_offsetX;\\nuniform float u_offsetY;\\nuniform float u_textW;\\nuniform float u_textH;\");\r\n\t\tShader.addInclude(\"parts/GlowFilter_ps_logic.glsl\",\"const float c_IterationTime = 10.0;\\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\\nfloat maxNum = u_blurX * u_blurY;\\nvec2 vec2Off = vec2(0.0,0.0);\\nfloat floatOff = c_IterationTime/2.0;\\nfor(float i = 0.0;i<=c_IterationTime; ++i){\\n\tfor(float j = 0.0;j<=c_IterationTime; ++j){\\n\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\\n\t\tvec4Color += texture2D(texture, v_texcoord + vec2FilterDir + vec2Off)/floatIterationTotalTime;\\n\t}\\n}\\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\\ngl_FragColor.rgb *= gl_FragColor.a;\");\r\n\t\tShader.addInclude(\"parts/BlurFilter_ps_logic.glsl\",\"gl_FragColor =   blur();\\ngl_FragColor.w*=alpha;\");\r\n\t\tShader.addInclude(\"parts/BlurFilter_ps_uniform.glsl\",\"uniform vec4 strength_sig2_2sig2_gauss1;\\nuniform vec2 blurInfo;\\n\\n#define PI 3.141593\\n\\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\\n//float sig2 = sigma*sigma;\\n//float _2sig2 = 2.0*sig2;\\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\\n//float gauss1 = 1.0/(2.0*PI*sig2);\\n\\nfloat getGaussian(float x, float y){\\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\\n}\\n\\nvec4 blur(){\\n    const float blurw = 9.0;\\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \\n    vec2 startpos=v_texcoord-halfsz;\\n    vec2 ctexcoord = startpos;\\n    vec2 step = 1.0/blurInfo;  //每个像素      \\n    \\n    for(float y = 0.0;y<=blurw; ++y){\\n        ctexcoord.x=startpos.x;\\n        for(float x = 0.0;x<=blurw; ++x){\\n            //TODO 纹理坐标的固定偏移应该在vs中处理\\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\\n            ctexcoord.x+=step.x;\\n        }\\n        ctexcoord.y+=step.y;\\n    }\\n    return vec4Color;\\n}\");\r\n\t\tShader.addInclude(\"parts/ColorAdd_ps_uniform.glsl\",\"uniform vec4 colorAdd;\\n\");\r\n\t\tShader.addInclude(\"parts/ColorAdd_ps_logic.glsl\",\"gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\\ngl_FragColor.xyz *= colorAdd.a;\");\r\n\t\tvar vs,ps;\r\n\t\tvs=\"attribute vec4 position;\\nattribute vec2 texcoord;\\nuniform vec2 size;\\n\\n#ifdef WORLDMAT\\nuniform mat4 mmat;\\n#endif\\nvarying vec2 v_texcoord;\\nvoid main() {\\n  #ifdef WORLDMAT\\n  vec4 pos=mmat*position;\\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\\n  #else\\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\\n  #endif\\n  \\n  v_texcoord = texcoord;\\n}\";\r\n\t\tps=\"precision mediump float;\\n//precision highp float;\\nvarying vec2 v_texcoord;\\nuniform sampler2D texture;\\nuniform float alpha;\\n#include?BLUR_FILTER  \\\"parts/BlurFilter_ps_uniform.glsl\\\";\\n#include?COLOR_FILTER \\\"parts/ColorFilter_ps_uniform.glsl\\\";\\n#include?GLOW_FILTER \\\"parts/GlowFilter_ps_uniform.glsl\\\";\\n#include?COLOR_ADD \\\"parts/ColorAdd_ps_uniform.glsl\\\";\\n\\nvoid main() {\\n   vec4 color= texture2D(texture, v_texcoord);\\n   color.a*=alpha;\\n   color.rgb*=alpha;\\n   gl_FragColor=color;\\n   #include?COLOR_ADD \\\"parts/ColorAdd_ps_logic.glsl\\\";   \\n   #include?BLUR_FILTER  \\\"parts/BlurFilter_ps_logic.glsl\\\";\\n   #include?COLOR_FILTER \\\"parts/ColorFilter_ps_logic.glsl\\\";\\n   #include?GLOW_FILTER \\\"parts/GlowFilter_ps_logic.glsl\\\";\\n}\";\r\n\t\tShader.preCompile2D(0,/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,vs,ps,null);\r\n\t\tvs=\"attribute vec4 position;\\nuniform vec2 size;\\nuniform mat4 mmat;\\nvoid main() {\\n  vec4 pos=mmat*position;\\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\\n}\";\r\n\t\tps=\"precision mediump float;\\nuniform vec4 color;\\nuniform float alpha;\\n#include?COLOR_FILTER \\\"parts/ColorFilter_ps_uniform.glsl\\\";\\nvoid main() {\\n\tvec4 a = vec4(color.r, color.g, color.b, color.a);\\n\ta.w = alpha;\\n\ta.xyz *= alpha;\\n\tgl_FragColor = a;\\n\t#include?COLOR_FILTER \\\"parts/ColorFilter_ps_logic.glsl\\\";\\n}\";\r\n\t\tShader.preCompile2D(0,/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,vs,ps,null);\r\n\t\tvs=\"attribute vec4 position;\\nattribute vec3 a_color;\\nuniform mat4 mmat;\\nuniform mat4 u_mmat2;\\nuniform vec2 u_pos;\\nuniform vec2 size;\\nvarying vec3 color;\\nvoid main(){\\n  vec4 tPos = vec4(position.x + u_pos.x,position.y + u_pos.y,position.z,position.w);\\n  vec4 pos=mmat*u_mmat2*tPos;\\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\\n  color=a_color;\\n}\";\r\n\t\tps=\"precision mediump float;\\n//precision mediump float;\\nvarying vec3 color;\\nuniform float alpha;\\nvoid main(){\\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\\n\t//a.a*=alpha;\\n    gl_FragColor=vec4(color.r, color.g, color.b, alpha);\\n\tgl_FragColor.rgb*=alpha;\\n}\";\r\n\t\tShader.preCompile2D(0,/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,vs,ps,null);\r\n\t\tvs=\"attribute vec4 position;\\nattribute vec2 texcoord;\\nuniform vec2 size;\\n\\n#ifdef WORLDMAT\\nuniform mat4 mmat;\\n#endif\\nvarying vec2 v_texcoord;\\nvoid main() {\\n  #ifdef WORLDMAT\\n  vec4 pos=mmat*position;\\n  gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\\n  #else\\n  gl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\\n  #endif\\n  \\n  v_texcoord = texcoord;\\n}\";\r\n\t\tps=\"#ifdef FSHIGHPRECISION\\nprecision highp float;\\n#else\\nprecision mediump float;\\n#endif\\n//precision highp float;\\nvarying vec2 v_texcoord;\\nuniform sampler2D texture;\\nuniform float alpha;\\nuniform vec4 u_TexRange;\\nuniform vec2 u_offset;\\n#include?BLUR_FILTER  \\\"parts/BlurFilter_ps_uniform.glsl\\\";\\n#include?COLOR_FILTER \\\"parts/ColorFilter_ps_uniform.glsl\\\";\\n#include?GLOW_FILTER \\\"parts/GlowFilter_ps_uniform.glsl\\\";\\n#include?COLOR_ADD \\\"parts/ColorAdd_ps_uniform.glsl\\\";\\n\\nvoid main() {\\n   vec2 newTexCoord;\\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\\n   vec4 color= texture2D(texture, newTexCoord);\\n   color.a*=alpha;\\n   gl_FragColor=color;\\n   #include?COLOR_ADD \\\"parts/ColorAdd_ps_logic.glsl\\\";   \\n   #include?BLUR_FILTER  \\\"parts/BlurFilter_ps_logic.glsl\\\";\\n   #include?COLOR_FILTER \\\"parts/ColorFilter_ps_logic.glsl\\\";\\n   #include?GLOW_FILTER \\\"parts/GlowFilter_ps_logic.glsl\\\";\\n}\";\r\n\t\tShader.preCompile2D(0,/*laya.webgl.shader.d2.ShaderDefines2D.FILLTEXTURE*/0x100,vs,ps,null);\r\n\t\tvs=\"attribute vec2 position;\\nattribute vec2 texcoord;\\nattribute vec4 color;\\nuniform vec2 size;\\nuniform float offsetX;\\nuniform float offsetY;\\nuniform mat4 mmat;\\nuniform mat4 u_mmat2;\\nvarying vec2 v_texcoord;\\nvarying vec4 v_color;\\nvoid main() {\\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\\n  v_color = color;\\n  v_color.rgb *= v_color.a;\\n  v_texcoord = texcoord;  \\n}\";\r\n\t\tps=\"precision mediump float;\\nvarying vec2 v_texcoord;\\nvarying vec4 v_color;\\nuniform sampler2D texture;\\nuniform float alpha;\\nvoid main() {\\n\tvec4 t_color = texture2D(texture, v_texcoord);\\n\tgl_FragColor = t_color.rgba * v_color;\\n\tgl_FragColor *= alpha;\\n}\";\r\n\t\tShader.preCompile2D(0,/*laya.webgl.shader.d2.ShaderDefines2D.SKINMESH*/0x200,vs,ps,null);\r\n\t}\r\n\r\n\treturn Shader2D;\r\n})()\r\n\r\n\r\n//class laya.webgl.shader.ShaderDefines\r\nvar ShaderDefines=(function(){\r\n\tfunction ShaderDefines(name2int,int2name,int2nameMap){\r\n\t\tthis._value=0;\r\n\t\t//this._name2int=null;\r\n\t\t//this._int2name=null;\r\n\t\t//this._int2nameMap=null;\r\n\t\tthis._name2int=name2int;\r\n\t\tthis._int2name=int2name;\r\n\t\tthis._int2nameMap=int2nameMap;\r\n\t}\r\n\r\n\t__class(ShaderDefines,'laya.webgl.shader.ShaderDefines');\r\n\tvar __proto=ShaderDefines.prototype;\r\n\t__proto.add=function(value){\r\n\t\tif ((typeof value=='string'))value=this._name2int[value];\r\n\t\tthis._value |=value;\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t__proto.addInt=function(value){\r\n\t\tthis._value |=value;\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t__proto.remove=function(value){\r\n\t\tif ((typeof value=='string'))value=this._name2int[value];\r\n\t\tthis._value &=(~value);\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t__proto.isDefine=function(def){\r\n\t\treturn (this._value & def)===def;\r\n\t}\r\n\r\n\t__proto.getValue=function(){\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t__proto.setValue=function(value){\r\n\t\tthis._value=value;\r\n\t}\r\n\r\n\t__proto.toNameDic=function(){\r\n\t\tvar r=this._int2nameMap[this._value];\r\n\t\treturn r ? r :ShaderDefines._toText(this._value,this._int2name,this._int2nameMap);\r\n\t}\r\n\r\n\tShaderDefines._reg=function(name,value,_name2int,_int2name){\r\n\t\t_name2int[name]=value;\r\n\t\t_int2name[value]=name;\r\n\t}\r\n\r\n\tShaderDefines._toText=function(value,_int2name,_int2nameMap){\r\n\t\tvar r=_int2nameMap[value];\r\n\t\tif (r)return r;\r\n\t\tvar o={};\r\n\t\tvar d=1;\r\n\t\tfor (var i=0;i < 32;i++){\r\n\t\t\td=1 << i;\r\n\t\t\tif (d > value)break ;\r\n\t\t\tif (value & d){\r\n\t\t\t\tvar name=_int2name[d];\r\n\t\t\t\tname && (o[name]=\"\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t_int2nameMap[value]=o;\r\n\t\treturn o;\r\n\t}\r\n\r\n\tShaderDefines._toInt=function(names,_name2int){\r\n\t\tvar words=names.split('.');\r\n\t\tvar num=0;\r\n\t\tfor (var i=0,n=words.length;i < n;i++){\r\n\t\t\tvar value=_name2int[words[i]];\r\n\t\t\tif (!value)throw new Error(\"Defines to int err:\"+names+\"/\"+words[i]);\r\n\t\t\tnum |=value;\r\n\t\t}\r\n\t\treturn num;\r\n\t}\r\n\r\n\treturn ShaderDefines;\r\n})()\r\n\r\n\r\n/**\r\n*这里销毁的问题，后面待确认\r\n*/\r\n//class laya.webgl.shader.d2.skinAnishader.SkinMesh\r\nvar SkinMesh=(function(){\r\n\tfunction SkinMesh(){\r\n\t\tthis.mVBBuffer=null;\r\n\t\tthis.mIBBuffer=null;\r\n\t\tthis.mVBData=null;\r\n\t\tthis.mIBData=null;\r\n\t\tthis.mEleNum=0;\r\n\t\tthis.mTexture=null;\r\n\t\tthis.transform=null;\r\n\t\tthis._vs=null;\r\n\t\tthis._ps=null;\r\n\t\tthis._indexStart=-1;\r\n\t\tthis._verticles=null;\r\n\t\tthis._uvs=null;\r\n\t\tthis._tempMatrix=new Matrix();\r\n\t}\r\n\r\n\t__class(SkinMesh,'laya.webgl.shader.d2.skinAnishader.SkinMesh');\r\n\tvar __proto=SkinMesh.prototype;\r\n\t__proto.init=function(texture,vs,ps){\r\n\t\tif (vs){\r\n\t\t\tthis._vs=vs;\r\n\t\t\t}else {\r\n\t\t\tthis._vs=[];\r\n\t\t\tvar tWidth=texture.width;\r\n\t\t\tvar tHeight=texture.height;\r\n\t\t\tvar tRed=1;\r\n\t\t\tvar tGreed=1;\r\n\t\t\tvar tBlue=1;\r\n\t\t\tvar tAlpha=1;\r\n\t\t\tthis._vs.push(0,0,0,0,tRed,tGreed,tBlue,tAlpha);\r\n\t\t\tthis._vs.push(tWidth,0,1,0,tRed,tGreed,tBlue,tAlpha);\r\n\t\t\tthis._vs.push(tWidth,tHeight,1,1,tRed,tGreed,tBlue,tAlpha);\r\n\t\t\tthis._vs.push(0,tHeight,0,1,tRed,tGreed,tBlue,tAlpha);\r\n\t\t}\r\n\t\tif (ps){\r\n\t\t\tthis._ps=ps;\r\n\t\t\t}else {\r\n\t\t\tif (!SkinMesh._defaultPS){\r\n\t\t\t\tSkinMesh._defaultPS=[];\r\n\t\t\t\tSkinMesh._defaultPS.push(0,1,3,3,1,2);\r\n\t\t\t}\r\n\t\t\tthis._ps=SkinMesh._defaultPS;\r\n\t\t}\r\n\t\tthis.mVBData=new Float32Array(this._vs);\r\n\t\tthis.mIBData=new Uint16Array(this._ps.length);\r\n\t\tthis.mIBData[\"start\"]=-1;\r\n\t\tthis.mEleNum=this._ps.length;\r\n\t\tthis.mTexture=texture;\r\n\t}\r\n\r\n\t__proto.init2=function(texture,vs,ps,verticles,uvs){\r\n\t\tif (this.transform)this.transform=null;\r\n\t\tif (ps){\r\n\t\t\tthis._ps=ps;\r\n\t\t\t}else {\r\n\t\t\tthis._ps=[];\r\n\t\t\tthis._ps.push(0,1,3,3,1,2);\r\n\t\t}\r\n\t\tthis._verticles=verticles;\r\n\t\tthis._uvs=uvs;\r\n\t\tthis.mEleNum=this._ps.length;\r\n\t\tthis.mTexture=texture;\r\n\t\tif (Render.isConchNode || Render.isConchApp){\r\n\t\t\tthis._initMyData();\r\n\t\t\tthis.mVBData=new Float32Array(this._vs);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._initMyData=function(){\r\n\t\tvar vsI=0;\r\n\t\tvar vI=0;\r\n\t\tvar vLen=this._verticles.length;\r\n\t\tvar tempVLen=vLen *4;\r\n\t\tthis._vs=SkinMesh._tempVS;\r\n\t\tvar insertNew=false;\r\n\t\tif (Render.isConchNode || Render.isConchApp){\r\n\t\t\tthis._vs.length=tempVLen;\r\n\t\t\tinsertNew=true;\r\n\t\t\t}else{\r\n\t\t\tif (this._vs.length < tempVLen){\r\n\t\t\t\tthis._vs.length=tempVLen;\r\n\t\t\t\tinsertNew=true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSkinMesh._tVSLen=tempVLen;\r\n\t\tif (insertNew){\r\n\t\t\twhile (vsI < tempVLen){\r\n\t\t\t\tthis._vs[vsI]=this._verticles[vI];\r\n\t\t\t\tthis._vs[vsI+1]=this._verticles[vI+1];\r\n\t\t\t\tthis._vs[vsI+2]=this._uvs[vI];\r\n\t\t\t\tthis._vs[vsI+3]=this._uvs[vI+1];\r\n\t\t\t\tthis._vs[vsI+4]=1;\r\n\t\t\t\tthis._vs[vsI+5]=1;\r\n\t\t\t\tthis._vs[vsI+6]=1;\r\n\t\t\t\tthis._vs[vsI+7]=1;\r\n\t\t\t\tvsI+=8;\r\n\t\t\t\tvI+=2;\r\n\t\t\t}\r\n\t\t\t}else{\r\n\t\t\twhile (vsI < tempVLen){\r\n\t\t\t\tthis._vs[vsI]=this._verticles[vI];\r\n\t\t\t\tthis._vs[vsI+1]=this._verticles[vI+1];\r\n\t\t\t\tthis._vs[vsI+2]=this._uvs[vI];\r\n\t\t\t\tthis._vs[vsI+3]=this._uvs[vI+1];\r\n\t\t\t\tvsI+=8;\r\n\t\t\t\tvI+=2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getData2=function(vb,ib,start){\r\n\t\tthis.mVBBuffer=vb;\r\n\t\tthis.mIBBuffer=ib;\r\n\t\tthis._initMyData();\r\n\t\tvb.appendEx2(this._vs,Float32Array,SkinMesh._tVSLen,4);\r\n\t\tthis._indexStart=ib._byteLength;\r\n\t\tvar tIB;\r\n\t\ttIB=SkinMesh._tempIB;\r\n\t\tif (tIB.length < this._ps.length){\r\n\t\t\ttIB.length=this._ps.length;\r\n\t\t}\r\n\t\tfor (var i=0,n=this._ps.length;i < n;i++){\r\n\t\t\ttIB[i]=this._ps[i]+start;\r\n\t\t}\r\n\t\tib.appendEx2(tIB,Uint16Array,this._ps.length,2);\r\n\t}\r\n\r\n\t__proto.getData=function(vb,ib,start){\r\n\t\tthis.mVBBuffer=vb;\r\n\t\tthis.mIBBuffer=ib;\r\n\t\tvb.append(this.mVBData);\r\n\t\tthis._indexStart=ib._byteLength;\r\n\t\tif (this.mIBData[\"start\"] !=start){\r\n\t\t\tfor (var i=0,n=this._ps.length;i < n;i++){\r\n\t\t\t\tthis.mIBData[i]=this._ps[i]+start;\r\n\t\t\t}\r\n\t\t\tthis.mIBData[\"start\"]=start;\r\n\t\t}\r\n\t\tib.append(this.mIBData);\r\n\t}\r\n\r\n\t__proto.render=function(context,x,y){\r\n\t\tif (Render.isWebGL && this.mTexture){\r\n\t\t\tcontext._renderKey=0;\r\n\t\t\tcontext._shader2D.glTexture=null;\r\n\t\t\tSkinMeshBuffer.getInstance().addSkinMesh(this);\r\n\t\t\tvar tempSubmit=Submit.createShape(context,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.SKINMESH*/0x200,0));\r\n\t\t\tthis.transform || (this.transform=Matrix.EMPTY);\r\n\t\t\tthis.transform.translate(x,y);\r\n\t\t\tMatrix.mul(this.transform,context._curMat,this._tempMatrix);\r\n\t\t\tthis.transform.translate(-x,-y);\r\n\t\t\tvar tShaderValue=tempSubmit.shaderValue;\r\n\t\t\tvar tArray=tShaderValue.u_mmat2||RenderState2D.getMatrArray();\r\n\t\t\tRenderState2D.mat2MatArray(this._tempMatrix,tArray);\r\n\t\t\ttShaderValue.textureHost=this.mTexture;\r\n\t\t\ttShaderValue.offsetX=0;\r\n\t\t\ttShaderValue.offsetY=0;\r\n\t\t\ttShaderValue.u_mmat2=tArray;\r\n\t\t\ttShaderValue.ALPHA=context._shader2D.ALPHA;\r\n\t\t\tcontext._submits[context._submits._length++]=tempSubmit;\r\n\t\t}\r\n\t\telse if (Render.isConchApp&&this.mTexture){\r\n\t\t\tthis.transform || (this.transform=Matrix.EMPTY);\r\n\t\t\tcontext.setSkinMesh&&context.setSkinMesh(x,y,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform);\r\n\t\t}\r\n\t}\r\n\r\n\tSkinMesh._tempVS=[];\r\n\tSkinMesh._tempIB=[];\r\n\tSkinMesh._defaultPS=null;\r\n\tSkinMesh._tVSLen=0;\r\n\treturn SkinMesh;\r\n})()\r\n\r\n\r\n//class laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer\r\nvar SkinMeshBuffer=(function(){\r\n\tfunction SkinMeshBuffer(){\r\n\t\tthis.ib=null;\r\n\t\tthis.vb=null;\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis.ib=IndexBuffer2D.create(/*laya.webgl.WebGLContext.DYNAMIC_DRAW*/0x88E8);\r\n\t\tthis.vb=VertexBuffer2D.create(8);\r\n\t}\r\n\r\n\t__class(SkinMeshBuffer,'laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer');\r\n\tvar __proto=SkinMeshBuffer.prototype;\r\n\t__proto.addSkinMesh=function(skinMesh){\r\n\t\tskinMesh.getData2(this.vb,this.ib,this.vb._byteLength / 32);\r\n\t}\r\n\r\n\t__proto.reset=function(){\r\n\t\tthis.vb.clear();\r\n\t\tthis.ib.clear();\r\n\t}\r\n\r\n\tSkinMeshBuffer.getInstance=function(){\r\n\t\treturn SkinMeshBuffer.instance=SkinMeshBuffer.instance|| new SkinMeshBuffer();\r\n\t}\r\n\r\n\tSkinMeshBuffer.instance=null;\r\n\treturn SkinMeshBuffer;\r\n})()\r\n\r\n\r\n//此类可以减少代码\r\n//class laya.webgl.shapes.BasePoly\r\nvar BasePoly=(function(){\r\n\tfunction BasePoly(x,y,width,height,edges,color,borderWidth,borderColor,round){\r\n\t\t//this.x=NaN;\r\n\t\t//this.y=NaN;\r\n\t\t//this.r=NaN;\r\n\t\t//this.width=NaN;\r\n\t\t//this.height=NaN;\r\n\t\t//this.edges=NaN;\r\n\t\tthis.r0=0\r\n\t\t//this.color=0;\r\n\t\t//this.borderColor=NaN;\r\n\t\t//this.borderWidth=NaN;\r\n\t\t//this.round=0;\r\n\t\tthis.fill=true;\r\n\t\t//this.mUint16Array=null;\r\n\t\t//this.mFloat32Array=null;\r\n\t\tthis.r1=Math.PI / 2;\r\n\t\t(round===void 0)&& (round=0);\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t\tthis.edges=edges;\r\n\t\tthis.color=color;\r\n\t\tthis.borderWidth=borderWidth;\r\n\t\tthis.borderColor=borderColor;\r\n\t}\r\n\r\n\t__class(BasePoly,'laya.webgl.shapes.BasePoly');\r\n\tvar __proto=BasePoly.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.shapes.IShape\":true})\r\n\t__proto.getData=function(ib,vb,start){}\r\n\t__proto.rebuild=function(points){}\r\n\t__proto.setMatrix=function(mat){}\r\n\t__proto.needUpdate=function(mat){\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto.sector=function(outVert,outIndex,start){\r\n\t\tvar x=this.x,y=this.y,edges=this.edges,seg=(this.r1-this.r0)/ edges;\r\n\t\tvar w=this.width,h=this.height,color=this.color;\r\n\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\toutVert.push(x,y,r,g,b);\r\n\t\tfor (var i=0;i < edges+1;i++){\r\n\t\t\toutVert.push(x+Math.sin(seg *i+this.r0)*w,y+Math.cos(seg *i+this.r0)*h);\r\n\t\t\toutVert.push(r,g,b);\r\n\t\t}\r\n\t\tfor (i=0;i < edges;i++){\r\n\t\t\toutIndex.push(start,start+i+1,start+i+2);\r\n\t\t}\r\n\t}\r\n\r\n\t//用于画线\r\n\t__proto.createLine2=function(p,indices,lineWidth,len,outVertex,indexCount){\r\n\t\tvar points=p.concat();\r\n\t\tvar result=outVertex;\r\n\t\tvar color=this.borderColor;\r\n\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\tvar length=points.length / 2;\r\n\t\tvar iStart=len,w=lineWidth / 2;\r\n\t\tvar px,py,p1x,p1y,p2x,p2y,p3x,p3y;\r\n\t\tvar perpx,perpy,perp2x,perp2y,perp3x,perp3y;\r\n\t\tvar a1,b1,c1,a2,b2,c2;\r\n\t\tvar denom,pdist,dist;\r\n\t\tp1x=points[0];\r\n\t\tp1y=points[1];\r\n\t\tp2x=points[2];\r\n\t\tp2y=points[3];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p1x-perpx+this.x,p1y-perpy+this.y,r,g,b,p1x+perpx+this.x,p1y+perpy+this.y,r,g,b);\r\n\t\tfor (var i=1;i < length-1;i++){\r\n\t\t\tp1x=points[(i-1)*2];\r\n\t\t\tp1y=points[(i-1)*2+1];\r\n\t\t\tp2x=points[(i)*2];\r\n\t\t\tp2y=points[(i)*2+1];\r\n\t\t\tp3x=points[(i+1)*2];\r\n\t\t\tp3y=points[(i+1)*2+1];\r\n\t\t\tperpx=-(p1y-p2y);\r\n\t\t\tperpy=p1x-p2x;\r\n\t\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\t\tperpx=perpx / dist *w;\r\n\t\t\tperpy=perpy / dist *w;\r\n\t\t\tperp2x=-(p2y-p3y);\r\n\t\t\tperp2y=p2x-p3x;\r\n\t\t\tdist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);\r\n\t\t\tperp2x=perp2x / dist *w;\r\n\t\t\tperp2y=perp2y / dist *w;\r\n\t\t\ta1=(-perpy+p1y)-(-perpy+p2y);\r\n\t\t\tb1=(-perpx+p2x)-(-perpx+p1x);\r\n\t\t\tc1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);\r\n\t\t\ta2=(-perp2y+p3y)-(-perp2y+p2y);\r\n\t\t\tb2=(-perp2x+p2x)-(-perp2x+p3x);\r\n\t\t\tc2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);\r\n\t\t\tdenom=a1 *b2-a2 *b1;\r\n\t\t\tif (Math.abs(denom)< 0.1){\r\n\t\t\t\tdenom+=10.1;\r\n\t\t\t\tresult.push(p2x-perpx+this.x,p2y-perpy+this.y,r,g,b,p2x+perpx+this.x,p2y+perpy+this.y,r,g,b);\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tpx=(b1 *c2-b2 *c1)/ denom;\r\n\t\t\tpy=(a2 *c1-a1 *c2)/ denom;\r\n\t\t\tpdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);\r\n\t\t\tresult.push(px+this.x,py+this.y,r,g,b,p2x-(px-p2x)+this.x,p2y-(py-p2y)+this.y,r,g,b);\r\n\t\t}\r\n\t\tp1x=points[points.length-4];\r\n\t\tp1y=points[points.length-3];\r\n\t\tp2x=points[points.length-2];\r\n\t\tp2y=points[points.length-1];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p2x-perpx+this.x,p2y-perpy+this.y,r,g,b,p2x+perpx+this.x,p2y+perpy+this.y,r,g,b);\r\n\t\tvar groupLen=indexCount;\r\n\t\tfor (i=1;i < groupLen;i++){\r\n\t\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// /*,outVertex:Array,outIndex:Array*/\r\n\t__proto.createLine=function(p,indices,lineWidth,len){\r\n\t\tvar points=p.concat();\r\n\t\tvar result=p;\r\n\t\tvar color=this.borderColor;\r\n\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\tpoints.splice(0,5);\r\n\t\tvar length=points.length / 5;\r\n\t\tvar iStart=len,w=lineWidth / 2;\r\n\t\tvar px,py,p1x,p1y,p2x,p2y,p3x,p3y;\r\n\t\tvar perpx,perpy,perp2x,perp2y,perp3x,perp3y;\r\n\t\tvar a1,b1,c1,a2,b2,c2;\r\n\t\tvar denom,pdist,dist;\r\n\t\tp1x=points[0];\r\n\t\tp1y=points[1];\r\n\t\tp2x=points[5];\r\n\t\tp2y=points[6];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p1x-perpx,p1y-perpy,r,g,b,p1x+perpx,p1y+perpy,r,g,b);\r\n\t\tfor (var i=1;i < length-1;i++){\r\n\t\t\tp1x=points[(i-1)*5];\r\n\t\t\tp1y=points[(i-1)*5+1];\r\n\t\t\tp2x=points[(i)*5];\r\n\t\t\tp2y=points[(i)*5+1];\r\n\t\t\tp3x=points[(i+1)*5];\r\n\t\t\tp3y=points[(i+1)*5+1];\r\n\t\t\tperpx=-(p1y-p2y);\r\n\t\t\tperpy=p1x-p2x;\r\n\t\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\t\tperpx=perpx / dist *w;\r\n\t\t\tperpy=perpy / dist *w;\r\n\t\t\tperp2x=-(p2y-p3y);\r\n\t\t\tperp2y=p2x-p3x;\r\n\t\t\tdist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);\r\n\t\t\tperp2x=perp2x / dist *w;\r\n\t\t\tperp2y=perp2y / dist *w;\r\n\t\t\ta1=(-perpy+p1y)-(-perpy+p2y);\r\n\t\t\tb1=(-perpx+p2x)-(-perpx+p1x);\r\n\t\t\tc1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);\r\n\t\t\ta2=(-perp2y+p3y)-(-perp2y+p2y);\r\n\t\t\tb2=(-perp2x+p2x)-(-perp2x+p3x);\r\n\t\t\tc2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);\r\n\t\t\tdenom=a1 *b2-a2 *b1;\r\n\t\t\tif (Math.abs(denom)< 0.1){\r\n\t\t\t\tdenom+=10.1;\r\n\t\t\t\tresult.push(p2x-perpx,p2y-perpy,r,g,b,p2x+perpx,p2y+perpy,r,g,b);\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tpx=(b1 *c2-b2 *c1)/ denom;\r\n\t\t\tpy=(a2 *c1-a1 *c2)/ denom;\r\n\t\t\tpdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);\r\n\t\t\tresult.push(px,py,r,g,b,p2x-(px-p2x),p2y-(py-p2y),r,g,b);\r\n\t\t}\r\n\t\tp1x=points[points.length-10];\r\n\t\tp1y=points[points.length-9];\r\n\t\tp2x=points[points.length-5];\r\n\t\tp2y=points[points.length-4];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p2x-perpx,p2y-perpy,r,g,b,p2x+perpx,p2y+perpy,r,g,b);\r\n\t\tvar groupLen=this.edges+1;\r\n\t\tfor (i=1;i < groupLen;i++){\r\n\t\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//闭合路径\r\n\t__proto.createLoopLine=function(p,indices,lineWidth,len,outVertex,outIndex){\r\n\t\tvar points=p.concat();\r\n\t\tvar result=outVertex ? outVertex :p;\r\n\t\tvar color=this.borderColor;\r\n\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\tpoints.splice(0,5);\r\n\t\tvar firstPoint=[points[0],points[1]];\r\n\t\tvar lastPoint=[points[points.length-5],points[points.length-4]];\r\n\t\tvar midPointX=lastPoint[0]+(firstPoint[0]-lastPoint[0])*0.5;\r\n\t\tvar midPointY=lastPoint[1]+(firstPoint[1]-lastPoint[1])*0.5;\r\n\t\tpoints.unshift(midPointX,midPointY,0,0,0);\r\n\t\tpoints.push(midPointX,midPointY,0,0,0);\r\n\t\tvar length=points.length / 5;\r\n\t\tvar iStart=len,w=lineWidth / 2;\r\n\t\tvar px,py,p1x,p1y,p2x,p2y,p3x,p3y;\r\n\t\tvar perpx,perpy,perp2x,perp2y,perp3x,perp3y;\r\n\t\tvar a1,b1,c1,a2,b2,c2;\r\n\t\tvar denom,pdist,dist;\r\n\t\tp1x=points[0];\r\n\t\tp1y=points[1];\r\n\t\tp2x=points[5];\r\n\t\tp2y=points[6];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p1x-perpx,p1y-perpy,r,g,b,p1x+perpx,p1y+perpy,r,g,b);\r\n\t\tfor (var i=1;i < length-1;i++){\r\n\t\t\tp1x=points[(i-1)*5];\r\n\t\t\tp1y=points[(i-1)*5+1];\r\n\t\t\tp2x=points[(i)*5];\r\n\t\t\tp2y=points[(i)*5+1];\r\n\t\t\tp3x=points[(i+1)*5];\r\n\t\t\tp3y=points[(i+1)*5+1];\r\n\t\t\tperpx=-(p1y-p2y);\r\n\t\t\tperpy=p1x-p2x;\r\n\t\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\t\tperpx=perpx / dist *w;\r\n\t\t\tperpy=perpy / dist *w;\r\n\t\t\tperp2x=-(p2y-p3y);\r\n\t\t\tperp2y=p2x-p3x;\r\n\t\t\tdist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);\r\n\t\t\tperp2x=perp2x / dist *w;\r\n\t\t\tperp2y=perp2y / dist *w;\r\n\t\t\ta1=(-perpy+p1y)-(-perpy+p2y);\r\n\t\t\tb1=(-perpx+p2x)-(-perpx+p1x);\r\n\t\t\tc1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);\r\n\t\t\ta2=(-perp2y+p3y)-(-perp2y+p2y);\r\n\t\t\tb2=(-perp2x+p2x)-(-perp2x+p3x);\r\n\t\t\tc2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);\r\n\t\t\tdenom=a1 *b2-a2 *b1;\r\n\t\t\tif (Math.abs(denom)< 0.1){\r\n\t\t\t\tdenom+=10.1;\r\n\t\t\t\tresult.push(p2x-perpx,p2y-perpy,r,g,b,p2x+perpx,p2y+perpy,r,g,b);\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tpx=(b1 *c2-b2 *c1)/ denom;\r\n\t\t\tpy=(a2 *c1-a1 *c2)/ denom;\r\n\t\t\tpdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);\r\n\t\t\tresult.push(px,py,r,g,b,p2x-(px-p2x),p2y-(py-p2y),r,g,b);\r\n\t\t}\r\n\t\tif (outIndex){\r\n\t\t\tindices=outIndex;\r\n\t\t};\r\n\t\tvar groupLen=this.edges+1;\r\n\t\tfor (i=1;i < groupLen;i++){\r\n\t\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);\r\n\t\t}\r\n\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+1,iStart+1,iStart,iStart+(i-1)*2);\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn BasePoly;\r\n})()\r\n\r\n\r\n//class laya.webgl.shapes.Earcut\r\nvar Earcut=(function(){\r\n\tfunction Earcut(){}\r\n\t__class(Earcut,'laya.webgl.shapes.Earcut');\r\n\tEarcut.earcut=function(data,holeIndices,dim){\r\n\t\tdim=dim || 2;\r\n\t\tvar hasHoles=holeIndices && holeIndices.length,\r\n\t\touterLen=hasHoles ? holeIndices[0] *dim :data.length,\r\n\t\touterNode=Earcut.linkedList(data,0,outerLen,dim,true),\r\n\t\ttriangles=[];\r\n\t\tif (!outerNode)return triangles;\r\n\t\tvar minX,minY,maxX,maxY,x,y,invSize;\r\n\t\tif (hasHoles)outerNode=Earcut.eliminateHoles(data,holeIndices,outerNode,dim);\r\n\t\tif (data.length > 80 *dim){\r\n\t\t\tminX=maxX=data[0];\r\n\t\t\tminY=maxY=data[1];\r\n\t\t\tfor (var i=dim;i < outerLen;i+=dim){\r\n\t\t\t\tx=data[i];\r\n\t\t\t\ty=data[i+1];\r\n\t\t\t\tif (x < minX)minX=x;\r\n\t\t\t\tif (y < minY)minY=y;\r\n\t\t\t\tif (x > maxX)maxX=x;\r\n\t\t\t\tif (y > maxY)maxY=y;\r\n\t\t\t}\r\n\t\t\tinvSize=Math.max(maxX-minX,maxY-minY);\r\n\t\t\tinvSize=invSize!==0 ? 1 / invSize :0;\r\n\t\t}\r\n\t\tEarcut.earcutLinked(outerNode,triangles,dim,minX,minY,invSize);\r\n\t\treturn triangles;\r\n\t}\r\n\r\n\tEarcut.linkedList=function(data,start,end,dim,clockwise){\r\n\t\tvar i,last;\r\n\t\tif (clockwise===(Earcut.signedArea(data,start,end,dim)> 0)){\r\n\t\t\tfor (i=start;i < end;i+=dim)last=Earcut.insertNode(i,data[i],data[i+1],last);\r\n\t\t\t}else {\r\n\t\t\tfor (i=end-dim;i >=start;i-=dim)last=Earcut.insertNode(i,data[i],data[i+1],last);\r\n\t\t}\r\n\t\tif (last && Earcut.equals(last,last.next)){\r\n\t\t\tEarcut.removeNode(last);\r\n\t\t\tlast=last.next;\r\n\t\t}\r\n\t\treturn last;\r\n\t}\r\n\r\n\tEarcut.filterPoints=function(start,end){\r\n\t\tif (!start)return start;\r\n\t\tif (!end)end=start;\r\n\t\tvar p=start,\r\n\t\tagain;\r\n\t\tdo {\r\n\t\t\tagain=false;\r\n\t\t\tif (!p.steiner && (Earcut.equals(p,p.next)|| Earcut.area(p.prev,p,p.next)===0)){\r\n\t\t\t\tEarcut.removeNode(p);\r\n\t\t\t\tp=end=p.prev;\r\n\t\t\t\tif (p===p.next)break ;\r\n\t\t\t\tagain=true;\r\n\t\t\t\t}else {\r\n\t\t\t\tp=p.next;\r\n\t\t\t}\r\n\t\t}while (again || p!==end);\r\n\t\treturn end;\r\n\t}\r\n\r\n\tEarcut.earcutLinked=function(ear,triangles,dim,minX,minY,invSize,pass){\r\n\t\tif (!ear)return;\r\n\t\tif (!pass && invSize)Earcut.indexCurve(ear,minX,minY,invSize);\r\n\t\tvar stop=ear,\r\n\t\tprev,next;\r\n\t\twhile (ear.prev!==ear.next){\r\n\t\t\tprev=ear.prev;\r\n\t\t\tnext=ear.next;\r\n\t\t\tif (invSize ? Earcut.isEarHashed(ear,minX,minY,invSize):Earcut.isEar(ear)){\r\n\t\t\t\ttriangles.push(prev.i / dim);\r\n\t\t\t\ttriangles.push(ear.i / dim);\r\n\t\t\t\ttriangles.push(next.i / dim);\r\n\t\t\t\tEarcut.removeNode(ear);\r\n\t\t\t\tear=next.next;\r\n\t\t\t\tstop=next.next;\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tear=next;\r\n\t\t\tif (ear===stop){\r\n\t\t\t\tif (!pass){\r\n\t\t\t\t\tEarcut.earcutLinked(Earcut.filterPoints(ear,null),triangles,dim,minX,minY,invSize,1);\r\n\t\t\t\t\t}else if (pass===1){\r\n\t\t\t\t\tear=Earcut.cureLocalIntersections(ear,triangles,dim);\r\n\t\t\t\t\tEarcut.earcutLinked(ear,triangles,dim,minX,minY,invSize,2);\r\n\t\t\t\t\t}else if (pass===2){\r\n\t\t\t\t\tEarcut.splitEarcut(ear,triangles,dim,minX,minY,invSize);\r\n\t\t\t\t}\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tEarcut.isEar=function(ear){\r\n\t\tvar a=ear.prev,\r\n\t\tb=ear,\r\n\t\tc=ear.next;\r\n\t\tif (Earcut.area(a,b,c)>=0)return false;\r\n\t\tvar p=ear.next.next;\r\n\t\twhile (p!==ear.prev){\r\n\t\t\tif (Earcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&\r\n\t\t\t\tEarcut.area(p.prev,p,p.next)>=0)return false;\r\n\t\t\tp=p.next;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tEarcut.isEarHashed=function(ear,minX,minY,invSize){\r\n\t\tvar a=ear.prev,\r\n\t\tb=ear,\r\n\t\tc=ear.next;\r\n\t\tif (Earcut.area(a,b,c)>=0)return false;\r\n\t\tvar minTX=a.x < b.x ? (a.x < c.x ? a.x :c.x):(b.x < c.x ? b.x :c.x),\r\n\t\tminTY=a.y < b.y ? (a.y < c.y ? a.y :c.y):(b.y < c.y ? b.y :c.y),\r\n\t\tmaxTX=a.x > b.x ? (a.x > c.x ? a.x :c.x):(b.x > c.x ? b.x :c.x),\r\n\t\tmaxTY=a.y > b.y ? (a.y > c.y ? a.y :c.y):(b.y > c.y ? b.y :c.y);\r\n\t\tvar minZ=Earcut.zOrder(minTX,minTY,minX,minY,invSize),\r\n\t\tmaxZ=Earcut.zOrder(maxTX,maxTY,minX,minY,invSize);\r\n\t\tvar p=ear.nextZ;\r\n\t\twhile (p && p.z <=maxZ){\r\n\t\t\tif (p!==ear.prev && p!==ear.next &&\r\n\t\t\t\tEarcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&\r\n\t\t\tEarcut.area(p.prev,p,p.next)>=0)return false;\r\n\t\t\tp=p.nextZ;\r\n\t\t}\r\n\t\tp=ear.prevZ;\r\n\t\twhile (p && p.z >=minZ){\r\n\t\t\tif (p!==ear.prev && p!==ear.next &&\r\n\t\t\t\tEarcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&\r\n\t\t\tEarcut.area(p.prev,p,p.next)>=0)return false;\r\n\t\t\tp=p.prevZ;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tEarcut.cureLocalIntersections=function(start,triangles,dim){\r\n\t\tvar p=start;\r\n\t\tdo {\r\n\t\t\tvar a=p.prev,\r\n\t\t\tb=p.next.next;\r\n\t\t\tif (!Earcut.equals(a,b)&& Earcut.intersects(a,p,p.next,b)&& Earcut.locallyInside(a,b)&& Earcut.locallyInside(b,a)){\r\n\t\t\t\ttriangles.push(a.i / dim);\r\n\t\t\t\ttriangles.push(p.i / dim);\r\n\t\t\t\ttriangles.push(b.i / dim);\r\n\t\t\t\tEarcut.removeNode(p);\r\n\t\t\t\tEarcut.removeNode(p.next);\r\n\t\t\t\tp=start=b;\r\n\t\t\t}\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==start);\r\n\t\treturn p;\r\n\t}\r\n\r\n\tEarcut.splitEarcut=function(start,triangles,dim,minX,minY,invSize){\r\n\t\tvar a=start;\r\n\t\tdo {\r\n\t\t\tvar b=a.next.next;\r\n\t\t\twhile (b!==a.prev){\r\n\t\t\t\tif (a.i!==b.i && Earcut.isValidDiagonal(a,b)){\r\n\t\t\t\t\tvar c=Earcut.splitPolygon(a,b);\r\n\t\t\t\t\ta=Earcut.filterPoints(a,a.next);\r\n\t\t\t\t\tc=Earcut.filterPoints(c,c.next);\r\n\t\t\t\t\tEarcut.earcutLinked(a,triangles,dim,minX,minY,invSize);\r\n\t\t\t\t\tEarcut.earcutLinked(c,triangles,dim,minX,minY,invSize);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tb=b.next;\r\n\t\t\t}\r\n\t\t\ta=a.next;\r\n\t\t}while (a!==start);\r\n\t}\r\n\r\n\tEarcut.eliminateHoles=function(data,holeIndices,outerNode,dim){\r\n\t\tvar queue=[],\r\n\t\ti,len,start,end,list;\r\n\t\tfor (i=0,len=holeIndices.length;i < len;i++){\r\n\t\t\tstart=holeIndices[i] *dim;\r\n\t\t\tend=i < len-1 ? holeIndices[i+1] *dim :data.length;\r\n\t\t\tlist=Earcut.linkedList(data,start,end,dim,false);\r\n\t\t\tif (list===list.next)list.steiner=true;\r\n\t\t\tqueue.push(Earcut.getLeftmost(list));\r\n\t\t}\r\n\t\tqueue.sort(Earcut.compareX);\r\n\t\tfor (i=0;i < queue.length;i++){\r\n\t\t\tEarcut.eliminateHole(queue[i],outerNode);\r\n\t\t\touterNode=Earcut.filterPoints(outerNode,outerNode.next);\r\n\t\t}\r\n\t\treturn outerNode;\r\n\t}\r\n\r\n\tEarcut.compareX=function(a,b){\r\n\t\treturn a.x-b.x;\r\n\t}\r\n\r\n\tEarcut.eliminateHole=function(hole,outerNode){\r\n\t\touterNode=Earcut.findHoleBridge(hole,outerNode);\r\n\t\tif (outerNode){\r\n\t\t\tvar b=Earcut.splitPolygon(outerNode,hole);\r\n\t\t\tEarcut.filterPoints(b,b.next);\r\n\t\t}\r\n\t}\r\n\r\n\tEarcut.findHoleBridge=function(hole,outerNode){\r\n\t\tvar p=outerNode,\r\n\t\thx=hole.x,\r\n\t\thy=hole.y,\r\n\t\tqx=-Infinity,\r\n\t\tm;\r\n\t\tdo {\r\n\t\t\tif (hy <=p.y && hy >=p.next.y && p.next.y!==p.y){\r\n\t\t\t\tvar x=p.x+(hy-p.y)*(p.next.x-p.x)/ (p.next.y-p.y);\r\n\t\t\t\tif (x <=hx && x > qx){\r\n\t\t\t\t\tqx=x;\r\n\t\t\t\t\tif (x===hx){\r\n\t\t\t\t\t\tif (hy===p.y)return p;\r\n\t\t\t\t\t\tif (hy===p.next.y)return p.next;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tm=p.x < p.next.x ? p :p.next;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==outerNode);\r\n\t\tif (!m)return null;\r\n\t\tif (hx===qx)return m.prev;\r\n\t\tvar stop=m,\r\n\t\tmx=m.x,\r\n\t\tmy=m.y,\r\n\t\ttanMin=Infinity,\r\n\t\ttan;\r\n\t\tp=m.next;\r\n\t\twhile (p!==stop){\r\n\t\t\tif (hx >=p.x && p.x >=mx && hx!==p.x &&\r\n\t\t\t\tEarcut.pointInTriangle(hy < my ? hx :qx,hy,mx,my,hy < my ? qx :hx,hy,p.x,p.y)){\r\n\t\t\t\ttan=Math.abs(hy-p.y)/ (hx-p.x);\r\n\t\t\t\tif ((tan < tanMin || (tan===tanMin && p.x > m.x))&& Earcut.locallyInside(p,hole)){\r\n\t\t\t\t\tm=p;\r\n\t\t\t\t\ttanMin=tan;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tp=p.next;\r\n\t\t}\r\n\t\treturn m;\r\n\t}\r\n\r\n\tEarcut.indexCurve=function(start,minX,minY,invSize){\r\n\t\tvar p=start;\r\n\t\tdo {\r\n\t\t\tif (p.z===null)p.z=Earcut.zOrder(p.x,p.y,minX,minY,invSize);\r\n\t\t\tp.prevZ=p.prev;\r\n\t\t\tp.nextZ=p.next;\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==start);\r\n\t\tp.prevZ.nextZ=null;\r\n\t\tp.prevZ=null;\r\n\t\tEarcut.sortLinked(p);\r\n\t}\r\n\r\n\tEarcut.sortLinked=function(list){\r\n\t\tvar i,p,q,e,tail,numMerges,pSize,qSize,\r\n\t\tinSize=1;\r\n\t\tdo {\r\n\t\t\tp=list;\r\n\t\t\tlist=null;\r\n\t\t\ttail=null;\r\n\t\t\tnumMerges=0;\r\n\t\t\twhile (p){\r\n\t\t\t\tnumMerges++;\r\n\t\t\t\tq=p;\r\n\t\t\t\tpSize=0;\r\n\t\t\t\tfor (i=0;i < inSize;i++){\r\n\t\t\t\t\tpSize++;\r\n\t\t\t\t\tq=q.nextZ;\r\n\t\t\t\t\tif (!q)break ;\r\n\t\t\t\t}\r\n\t\t\t\tqSize=inSize;\r\n\t\t\t\twhile (pSize > 0 || (qSize > 0 && q)){\r\n\t\t\t\t\tif (pSize!==0 && (qSize===0 || !q || p.z <=q.z)){\r\n\t\t\t\t\t\te=p;\r\n\t\t\t\t\t\tp=p.nextZ;\r\n\t\t\t\t\t\tpSize--;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\te=q;\r\n\t\t\t\t\t\tq=q.nextZ;\r\n\t\t\t\t\t\tqSize--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tail)tail.nextZ=e;\r\n\t\t\t\t\telse list=e;\r\n\t\t\t\t\te.prevZ=tail;\r\n\t\t\t\t\ttail=e;\r\n\t\t\t\t}\r\n\t\t\t\tp=q;\r\n\t\t\t}\r\n\t\t\ttail.nextZ=null;\r\n\t\t\tinSize *=2;\r\n\t\t}while (numMerges > 1);\r\n\t\treturn list;\r\n\t}\r\n\r\n\tEarcut.zOrder=function(x,y,minX,minY,invSize){\r\n\t\tx=32767 *(x-minX)*invSize;\r\n\t\ty=32767 *(y-minY)*invSize;\r\n\t\tx=(x | (x << 8))& 0x00FF00FF;\r\n\t\tx=(x | (x << 4))& 0x0F0F0F0F;\r\n\t\tx=(x | (x << 2))& 0x33333333;\r\n\t\tx=(x | (x << 1))& 0x55555555;\r\n\t\ty=(y | (y << 8))& 0x00FF00FF;\r\n\t\ty=(y | (y << 4))& 0x0F0F0F0F;\r\n\t\ty=(y | (y << 2))& 0x33333333;\r\n\t\ty=(y | (y << 1))& 0x55555555;\r\n\t\treturn x | (y << 1);\r\n\t}\r\n\r\n\tEarcut.getLeftmost=function(start){\r\n\t\tvar p=start,\r\n\t\tleftmost=start;\r\n\t\tdo {\r\n\t\t\tif (p.x < leftmost.x)leftmost=p;\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==start);\r\n\t\treturn leftmost;\r\n\t}\r\n\r\n\tEarcut.pointInTriangle=function(ax,ay,bx,by,cx,cy,px,py){\r\n\t\treturn (cx-px)*(ay-py)-(ax-px)*(cy-py)>=0 &&\r\n\t\t(ax-px)*(by-py)-(bx-px)*(ay-py)>=0 &&\r\n\t\t(bx-px)*(cy-py)-(cx-px)*(by-py)>=0;\r\n\t}\r\n\r\n\tEarcut.isValidDiagonal=function(a,b){\r\n\t\treturn a.next.i!==b.i && a.prev.i!==b.i && !Earcut.intersectsPolygon(a,b)&&\r\n\t\tEarcut.locallyInside(a,b)&& Earcut.locallyInside(b,a)&& Earcut.middleInside(a,b);\r\n\t}\r\n\r\n\tEarcut.area=function(p,q,r){\r\n\t\treturn (q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y);\r\n\t}\r\n\r\n\tEarcut.equals=function(p1,p2){\r\n\t\treturn p1.x===p2.x && p1.y===p2.y;\r\n\t}\r\n\r\n\tEarcut.intersects=function(p1,q1,p2,q2){\r\n\t\tif ((Earcut.equals(p1,q1)&& Earcut.equals(p2,q2))||\r\n\t\t\t(Earcut.equals(p1,q2)&& Earcut.equals(p2,q1)))return true;\r\n\t\treturn Earcut.area(p1,q1,p2)> 0!==Earcut.area(p1,q1,q2)> 0 &&\r\n\t\tEarcut.area(p2,q2,p1)> 0!==Earcut.area(p2,q2,q1)> 0;\r\n\t}\r\n\r\n\tEarcut.intersectsPolygon=function(a,b){\r\n\t\tvar p=a;\r\n\t\tdo {\r\n\t\t\tif (p.i!==a.i && p.next.i!==a.i && p.i!==b.i && p.next.i!==b.i &&\r\n\t\t\t\tEarcut.intersects(p,p.next,a,b))return true;\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==a);\r\n\t\treturn false;\r\n\t}\r\n\r\n\tEarcut.locallyInside=function(a,b){\r\n\t\treturn Earcut.area(a.prev,a,a.next)< 0 ?\r\n\t\tEarcut.area(a,b,a.next)>=0 && Earcut.area(a,a.prev,b)>=0 :\r\n\t\tEarcut.area(a,b,a.prev)< 0 || Earcut.area(a,a.next,b)< 0;\r\n\t}\r\n\r\n\tEarcut.middleInside=function(a,b){\r\n\t\tvar p=a,\r\n\t\tinside=false,\r\n\t\tpx=(a.x+b.x)/ 2,\r\n\t\tpy=(a.y+b.y)/ 2;\r\n\t\tdo {\r\n\t\t\tif (((p.y > py)!==(p.next.y > py))&& p.next.y!==p.y &&\r\n\t\t\t\t(px < (p.next.x-p.x)*(py-p.y)/ (p.next.y-p.y)+p.x))\r\n\t\t\tinside=!inside;\r\n\t\t\tp=p.next;\r\n\t\t}while (p!==a);\r\n\t\treturn inside;\r\n\t}\r\n\r\n\tEarcut.splitPolygon=function(a,b){\r\n\t\tvar a2=new EarcutNode(a.i,a.x,a.y),\r\n\t\tb2=new EarcutNode(b.i,b.x,b.y),\r\n\t\tan=a.next,\r\n\t\tbp=b.prev;\r\n\t\ta.next=b;\r\n\t\tb.prev=a;\r\n\t\ta2.next=an;\r\n\t\tan.prev=a2;\r\n\t\tb2.next=a2;\r\n\t\ta2.prev=b2;\r\n\t\tbp.next=b2;\r\n\t\tb2.prev=bp;\r\n\t\treturn b2;\r\n\t}\r\n\r\n\tEarcut.insertNode=function(i,x,y,last){\r\n\t\tvar p=new EarcutNode(i,x,y);\r\n\t\tif (!last){\r\n\t\t\tp.prev=p;\r\n\t\t\tp.next=p;\r\n\t\t\t}else {\r\n\t\t\tp.next=last.next;\r\n\t\t\tp.prev=last;\r\n\t\t\tlast.next.prev=p;\r\n\t\t\tlast.next=p;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\r\n\tEarcut.removeNode=function(p){\r\n\t\tp.next.prev=p.prev;\r\n\t\tp.prev.next=p.next;\r\n\t\tif (p.prevZ)p.prevZ.nextZ=p.nextZ;\r\n\t\tif (p.nextZ)p.nextZ.prevZ=p.prevZ;\r\n\t}\r\n\r\n\tEarcut.signedArea=function(data,start,end,dim){\r\n\t\tvar sum=0;\r\n\t\tfor (var i=start,j=end-dim;i < end;i+=dim){\r\n\t\t\tsum+=(data[j]-data[i])*(data[i+1]+data[j+1]);\r\n\t\t\tj=i;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\n\treturn Earcut;\r\n})()\r\n\r\n\r\n//class laya.webgl.shapes.EarcutNode\r\nvar EarcutNode=(function(){\r\n\tfunction EarcutNode(i,x,y){\r\n\t\tthis.i=null;\r\n\t\tthis.x=null;\r\n\t\tthis.y=null;\r\n\t\tthis.prev=null;\r\n\t\tthis.next=null;\r\n\t\tthis.z=null;\r\n\t\tthis.prevZ=null;\r\n\t\tthis.nextZ=null;\r\n\t\tthis.steiner=null;\r\n\t\tthis.i=i;\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\tthis.prev=null;\r\n\t\tthis.next=null;\r\n\t\tthis.z=null;\r\n\t\tthis.prevZ=null;\r\n\t\tthis.nextZ=null;\r\n\t\tthis.steiner=false;\r\n\t}\r\n\r\n\t__class(EarcutNode,'laya.webgl.shapes.EarcutNode');\r\n\treturn EarcutNode;\r\n})()\r\n\r\n\r\n//class laya.webgl.shapes.GeometryData\r\nvar GeometryData=(function(){\r\n\tfunction GeometryData(lineWidth,lineColor,lineAlpha,fillColor,fillAlpha,fill,shape){\r\n\t\t//this.lineWidth=NaN;\r\n\t\t//this.lineColor=NaN;\r\n\t\t//this.lineAlpha=NaN;\r\n\t\t//this.fillColor=NaN;\r\n\t\t//this.fillAlpha=NaN;\r\n\t\t//this.shape=null;\r\n\t\t//this.fill=false;\r\n\t\tthis.lineWidth=lineWidth;\r\n\t\tthis.lineColor=lineColor;\r\n\t\tthis.lineAlpha=lineAlpha;\r\n\t\tthis.fillColor=fillColor;\r\n\t\tthis.fillAlpha=fillAlpha;\r\n\t\tthis.shape=shape;\r\n\t\tthis.fill=fill;\r\n\t}\r\n\r\n\t__class(GeometryData,'laya.webgl.shapes.GeometryData');\r\n\tvar __proto=GeometryData.prototype;\r\n\t__proto.clone=function(){\r\n\t\treturn new GeometryData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape);\r\n\t}\r\n\r\n\t__proto.getIndexData=function(){\r\n\t\treturn null;\r\n\t}\r\n\r\n\t__proto.getVertexData=function(){\r\n\t\treturn null;\r\n\t}\r\n\r\n\t__proto.destroy=function(){\r\n\t\tthis.shape=null;\r\n\t}\r\n\r\n\treturn GeometryData;\r\n})()\r\n\r\n\r\n//class laya.webgl.shapes.Vertex\r\nvar Vertex=(function(){\r\n\tfunction Vertex(p){\r\n\t\t//this.points=null;\r\n\t\tif((p instanceof Float32Array))\r\n\t\t\tthis.points=p;\r\n\t\telse if((p instanceof Array)){\r\n\t\t\tvar len=p.length;\r\n\t\t\tthis.points=new Float32Array(p);\r\n\t\t}\r\n\t}\r\n\r\n\t__class(Vertex,'laya.webgl.shapes.Vertex');\r\n\tvar __proto=Vertex.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.shapes.IShape\":true})\r\n\t__proto.getData=function(ib,vb,start){}\r\n\t__proto.needUpdate=function(mat){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t__proto.rebuild=function(points){}\r\n\t// TODO Auto Generated method stub\r\n\t__proto.setMatrix=function(mat){}\r\n\treturn Vertex;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.Submit\r\nvar Submit=(function(){\r\n\tfunction Submit(renderType){\r\n\t\t//this._selfVb=null;\r\n\t\t//this._ib=null;\r\n\t\t//this._blendFn=null;\r\n\t\t//this._renderType=0;\r\n\t\t//this._vb=null;\r\n\t\t// 从VB中什么地方开始画，画到哪\r\n\t\t//this._startIdx=0;\r\n\t\t//this._numEle=0;\r\n\t\t//this.shaderValue=null;\r\n\t\t(renderType===void 0)&& (renderType=10000);\r\n\t\tthis._renderType=renderType;\r\n\t}\r\n\r\n\t__class(Submit,'laya.webgl.submit.Submit');\r\n\tvar __proto=Submit.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=Submit._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t\tthis.shaderValue.release();\r\n\t\tthis._vb=null;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn this._renderType;\r\n\t}\r\n\r\n\t__proto.renderSubmit=function(){\r\n\t\tif (this._numEle===0)return 1;\r\n\t\tvar _tex=this.shaderValue.textureHost;\r\n\t\tif (_tex){\r\n\t\t\tvar source=_tex.source;\r\n\t\t\tif (!_tex.bitmap || !source)\r\n\t\t\t\treturn 1;\r\n\t\t\tthis.shaderValue.texture=source;\r\n\t\t}\r\n\t\tthis._vb.bind_upload(this._ib);\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis.shaderValue.upload();\r\n\t\tif (BlendMode.activeBlendFunction!==this._blendFn){\r\n\t\t\tgl.enable(/*laya.webgl.WebGLContext.BLEND*/0x0BE2);\r\n\t\t\tthis._blendFn(gl);\r\n\t\t\tBlendMode.activeBlendFunction=this._blendFn;\r\n\t\t}\r\n\t\tStat.drawCall++;\r\n\t\tStat.trianglesFaces+=this._numEle / 3;\r\n\t\tgl.drawElements(/*laya.webgl.WebGLContext.TRIANGLES*/0x0004,this._numEle,/*laya.webgl.WebGLContext.UNSIGNED_SHORT*/0x1403,this._startIdx);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\tSubmit.__init__=function(){\r\n\t\tvar s=Submit.RENDERBASE=new Submit(-1);\r\n\t\ts.shaderValue=new Value2D(0,0);\r\n\t\ts.shaderValue.ALPHA=-1234;\r\n\t}\r\n\r\n\tSubmit.createSubmit=function(context,ib,vb,pos,sv){\r\n\t\tvar o=Submit._cache._length ? Submit._cache[--Submit._cache._length] :new Submit();\r\n\t\tif (vb==null){\r\n\t\t\tvb=o._selfVb || (o._selfVb=VertexBuffer2D.create(-1));\r\n\t\t\tvb.clear();\r\n\t\t\tpos=0;\r\n\t\t}\r\n\t\to._ib=ib;\r\n\t\to._vb=vb;\r\n\t\to._startIdx=pos *CONST3D2D.BYTES_PIDX;\r\n\t\to._numEle=0;\r\n\t\tvar blendType=context._nBlendType;\r\n\t\to._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];\r\n\t\to.shaderValue=sv;\r\n\t\to.shaderValue.setValue(context._shader2D);\r\n\t\tvar filters=context._shader2D.filters;\r\n\t\tfilters && o.shaderValue.setFilters(filters);\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmit.createShape=function(ctx,ib,vb,numEle,offset,sv){\r\n\t\tvar o=(!Submit._cache._length)? (new Submit()):Submit._cache[--Submit._cache._length];\r\n\t\to._ib=ib;\r\n\t\to._vb=vb;\r\n\t\to._numEle=numEle;\r\n\t\to._startIdx=offset;\r\n\t\to.shaderValue=sv;\r\n\t\to.shaderValue.setValue(ctx._shader2D);\r\n\t\tvar blendType=ctx._nBlendType;\r\n\t\to._blendFn=ctx._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmit.TYPE_2D=10000;\r\n\tSubmit.TYPE_CANVAS=10003;\r\n\tSubmit.TYPE_CMDSETRT=10004;\r\n\tSubmit.TYPE_CUSTOM=10005;\r\n\tSubmit.TYPE_BLURRT=10006;\r\n\tSubmit.TYPE_CMDDESTORYPRERT=10007;\r\n\tSubmit.TYPE_DISABLESTENCIL=10008;\r\n\tSubmit.TYPE_OTHERIBVB=10009;\r\n\tSubmit.TYPE_PRIMITIVE=10010;\r\n\tSubmit.TYPE_RT=10011;\r\n\tSubmit.TYPE_BLUR_RT=10012;\r\n\tSubmit.TYPE_TARGET=10013;\r\n\tSubmit.TYPE_CHANGE_VALUE=10014;\r\n\tSubmit.TYPE_SHAPE=10015;\r\n\tSubmit.TYPE_TEXTURE=10016;\r\n\tSubmit.TYPE_FILLTEXTURE=10017;\r\n\tSubmit.RENDERBASE=null;\r\n\tSubmit._cache=(Submit._cache=[],Submit._cache._length=0,Submit._cache);\r\n\treturn Submit;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitCMD\r\nvar SubmitCMD=(function(){\r\n\tfunction SubmitCMD(){\r\n\t\tthis.fun=null;\r\n\t\tthis.args=null;\r\n\t}\r\n\r\n\t__class(SubmitCMD,'laya.webgl.submit.SubmitCMD');\r\n\tvar __proto=SubmitCMD.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto.renderSubmit=function(){\r\n\t\tthis.fun.apply(null,this.args);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitCMD._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t}\r\n\r\n\tSubmitCMD.create=function(args,fun){\r\n\t\tvar o=SubmitCMD._cache._length?SubmitCMD._cache[--SubmitCMD._cache._length]:new SubmitCMD();\r\n\t\to.fun=fun;\r\n\t\to.args=args;\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitCMD._cache=(SubmitCMD._cache=[],SubmitCMD._cache._length=0,SubmitCMD._cache);\r\n\treturn SubmitCMD;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitCMDScope\r\nvar SubmitCMDScope=(function(){\r\n\tfunction SubmitCMDScope(){\r\n\t\tthis.variables={};\r\n\t}\r\n\r\n\t__class(SubmitCMDScope,'laya.webgl.submit.SubmitCMDScope');\r\n\tvar __proto=SubmitCMDScope.prototype;\r\n\t__proto.getValue=function(name){\r\n\t\treturn this.variables[name];\r\n\t}\r\n\r\n\t__proto.addValue=function(name,value){\r\n\t\treturn this.variables[name]=value;\r\n\t}\r\n\r\n\t__proto.setValue=function(name,value){\r\n\t\tif(this.variables.hasOwnProperty(name)){\r\n\t\t\treturn this.variables[name]=value;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tfor(var key in this.variables){\r\n\t\t\tdelete this.variables[key];\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.recycle=function(){\r\n\t\tthis.clear();\r\n\t\tSubmitCMDScope.POOL.push(this);\r\n\t}\r\n\r\n\tSubmitCMDScope.create=function(){\r\n\t\tvar scope=SubmitCMDScope.POOL.pop();\r\n\t\tscope||(scope=new SubmitCMDScope());\r\n\t\treturn scope;\r\n\t}\r\n\r\n\tSubmitCMDScope.POOL=[];\r\n\treturn SubmitCMDScope;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitOtherIBVB\r\nvar SubmitOtherIBVB=(function(){\r\n\tfunction SubmitOtherIBVB(){\r\n\t\tthis.offset=0;\r\n\t\t//this._vb=null;\r\n\t\t//this._ib=null;\r\n\t\t//this._blendFn=null;\r\n\t\t//this._mat=null;\r\n\t\t//this._shader=null;\r\n\t\t//this._shaderValue=null;\r\n\t\t//this._numEle=0;\r\n\t\tthis.startIndex=0;\r\n\t\t;\r\n\t\tthis._mat=Matrix.create();\r\n\t}\r\n\r\n\t__class(SubmitOtherIBVB,'laya.webgl.submit.SubmitOtherIBVB');\r\n\tvar __proto=SubmitOtherIBVB.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitOtherIBVB._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn /*laya.webgl.submit.Submit.TYPE_OTHERIBVB*/10009;\r\n\t}\r\n\r\n\t__proto.renderSubmit=function(){\r\n\t\tvar _tex=this._shaderValue.textureHost;\r\n\t\tif (_tex){\r\n\t\t\tvar source=_tex.source;\r\n\t\t\tif (!_tex.bitmap || !source)\r\n\t\t\t\treturn 1;\r\n\t\t\tthis._shaderValue.texture=source;\r\n\t\t}\r\n\t\tthis._vb.bind_upload(this._ib);\r\n\t\tvar w=RenderState2D.worldMatrix4;\r\n\t\tvar wmat=Matrix.TEMP;\r\n\t\tMatrix.mulPre(this._mat,w[0],w[1],w[4],w[5],w[12],w[13],wmat);\r\n\t\tvar tmp=RenderState2D.worldMatrix4=SubmitOtherIBVB.tempMatrix4;\r\n\t\ttmp[0]=wmat.a;\r\n\t\ttmp[1]=wmat.b;\r\n\t\ttmp[4]=wmat.c;\r\n\t\ttmp[5]=wmat.d;\r\n\t\ttmp[12]=wmat.tx;\r\n\t\ttmp[13]=wmat.ty;\r\n\t\tthis._shader._offset=this.offset;\r\n\t\tthis._shaderValue.refresh();\r\n\t\tthis._shader.upload(this._shaderValue);\r\n\t\tthis._shader._offset=0;\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tif (BlendMode.activeBlendFunction!==this._blendFn){\r\n\t\t\tgl.enable(/*laya.webgl.WebGLContext.BLEND*/0x0BE2);\r\n\t\t\tthis._blendFn(gl);\r\n\t\t\tBlendMode.activeBlendFunction=this._blendFn;\r\n\t\t}\r\n\t\tStat.drawCall++;\r\n\t\tStat.trianglesFaces+=this._numEle / 3;\r\n\t\tgl.drawElements(/*laya.webgl.WebGLContext.TRIANGLES*/0x0004,this._numEle,/*laya.webgl.WebGLContext.UNSIGNED_SHORT*/0x1403,this.startIndex);\r\n\t\tRenderState2D.worldMatrix4=w;\r\n\t\tBaseShader.activeShader=null;\r\n\t\treturn 1;\r\n\t}\r\n\r\n\tSubmitOtherIBVB.create=function(context,vb,ib,numElement,shader,shaderValue,startIndex,offset,type){\r\n\t\t(type===void 0)&& (type=0);\r\n\t\tvar o=(!SubmitOtherIBVB._cache._length)? (new SubmitOtherIBVB()):SubmitOtherIBVB._cache[--SubmitOtherIBVB._cache._length];\r\n\t\to._ib=ib;\r\n\t\to._vb=vb;\r\n\t\to._numEle=numElement;\r\n\t\to._shader=shader;\r\n\t\to._shaderValue=shaderValue;\r\n\t\tvar blendType=context._nBlendType;\r\n\t\to._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];\r\n\t\tswitch(type){\r\n\t\t\tcase 0:\r\n\t\t\t\to.offset=0;\r\n\t\t\t\to.startIndex=offset / (CONST3D2D.BYTES_PE *vb.vertexStride)*1.5;\r\n\t\t\t\to.startIndex *=CONST3D2D.BYTES_PIDX;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 1:\r\n\t\t\t\to.startIndex=startIndex;\r\n\t\t\t\to.offset=offset;\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitOtherIBVB._cache=(SubmitOtherIBVB._cache=[],SubmitOtherIBVB._cache._length=0,SubmitOtherIBVB._cache);\r\n\tSubmitOtherIBVB.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,];\r\n\treturn SubmitOtherIBVB;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitScissor\r\nvar SubmitScissor=(function(){\r\n\tfunction SubmitScissor(){\r\n\t\tthis.submitIndex=0;\r\n\t\tthis.submitLength=0;\r\n\t\tthis.context=null;\r\n\t\tthis.clipRect=new Rectangle();\r\n\t\tthis.screenRect=new Rectangle();\r\n\t}\r\n\r\n\t__class(SubmitScissor,'laya.webgl.submit.SubmitScissor');\r\n\tvar __proto=SubmitScissor.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto._scissor=function(x,y,w,h){\r\n\t\tvar m=RenderState2D.worldMatrix4;\r\n\t\tvar a=m[0],d=m[5],tx=m[12],ty=m[13];\r\n\t\tx=x *a+tx;\r\n\t\ty=y *d+ty;\r\n\t\tw *=a;\r\n\t\th *=d;\r\n\t\tif (w < 1 || h < 1){\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar r=x+w;\r\n\t\tvar b=y+h;\r\n\t\tx < 0 && (x=0,w=r-x);\r\n\t\ty < 0 && (y=0,h=b-y);\r\n\t\tvar screen=RenderState2D.worldClipRect;\r\n\t\tx=Math.max(x,screen.x);\r\n\t\ty=Math.max(y,screen.y);\r\n\t\tw=Math.min(r,screen.right)-x;\r\n\t\th=Math.min(b,screen.bottom)-y;\r\n\t\tif (w < 1 || h < 1){\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar worldScissorTest=RenderState2D.worldScissorTest;\r\n\t\tthis.screenRect.copyFrom(screen);\r\n\t\tscreen.x=x;\r\n\t\tscreen.y=y;\r\n\t\tscreen.width=w;\r\n\t\tscreen.height=h;\r\n\t\tRenderState2D.worldScissorTest=true;\r\n\t\ty=RenderState2D.height-y-h;\r\n\t\tWebGL.mainContext.scissor(x,y,w,h);\r\n\t\tWebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\tthis.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength);\r\n\t\tif (worldScissorTest){\r\n\t\t\ty=RenderState2D.height-this.screenRect.y-this.screenRect.height;\r\n\t\t\tWebGL.mainContext.scissor(this.screenRect.x,y,this.screenRect.width,this.screenRect.height);\r\n\t\t\tWebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tWebGL.mainContext.disable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t\tRenderState2D.worldScissorTest=false;\r\n\t\t}\r\n\t\tscreen.copyFrom(this.screenRect);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto._scissorWithTagart=function(x,y,w,h){\r\n\t\tif (w < 1 || h < 1){\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar r=x+w;\r\n\t\tvar b=y+h;\r\n\t\tx < 0 && (x=0,w=r-x);\r\n\t\ty < 0 && (y=0,h=b-y);\r\n\t\tvar screen=RenderState2D.worldClipRect;\r\n\t\tx=Math.max(x,screen.x);\r\n\t\ty=Math.max(y,screen.y);\r\n\t\tw=Math.min(r,screen.right)-x;\r\n\t\th=Math.min(b,screen.bottom)-y;\r\n\t\tif (w < 1 || h < 1){\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar worldScissorTest=RenderState2D.worldScissorTest;\r\n\t\tthis.screenRect.copyFrom(screen);\r\n\t\tRenderState2D.worldScissorTest=true;\r\n\t\tscreen.x=x;\r\n\t\tscreen.y=y;\r\n\t\tscreen.width=w;\r\n\t\tscreen.height=h;\r\n\t\ty=RenderState2D.height-y-h;\r\n\t\tWebGL.mainContext.scissor(x,y,w,h);\r\n\t\tWebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\tthis.context.submitElement(this.submitIndex,this.submitIndex+this.submitLength);\r\n\t\tif (worldScissorTest){\r\n\t\t\ty=RenderState2D.height-this.screenRect.y-this.screenRect.height;\r\n\t\t\tWebGL.mainContext.scissor(this.screenRect.x,y,this.screenRect.width,this.screenRect.height);\r\n\t\t\tWebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tWebGL.mainContext.disable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t\tRenderState2D.worldScissorTest=false;\r\n\t\t}\r\n\t\tscreen.copyFrom(this.screenRect);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto.renderSubmit=function(){\r\n\t\tthis.submitLength=Math.min(this.context._submits._length-1,this.submitLength);\r\n\t\tif (this.submitLength < 1 || this.clipRect.width < 1 || this.clipRect.height < 1)\r\n\t\t\treturn this.submitLength+1;\r\n\t\tif (this.context._targets)\r\n\t\t\tthis._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height);\r\n\t\telse this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height);\r\n\t\treturn this.submitLength+1;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitScissor._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t\tthis.context=null;\r\n\t}\r\n\r\n\tSubmitScissor.create=function(context){\r\n\t\tvar o=SubmitScissor._cache._length?SubmitScissor._cache[--SubmitScissor._cache._length]:new SubmitScissor();\r\n\t\to.context=context;\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitScissor._cache=(SubmitScissor._cache=[],SubmitScissor._cache._length=0,SubmitScissor._cache);\r\n\treturn SubmitScissor;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitStencil\r\nvar SubmitStencil=(function(){\r\n\tfunction SubmitStencil(){\r\n\t\tthis.step=0;\r\n\t\tthis.blendMode=null;\r\n\t\tthis.level=0;\r\n\t}\r\n\r\n\t__class(SubmitStencil,'laya.webgl.submit.SubmitStencil');\r\n\tvar __proto=SubmitStencil.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto.renderSubmit=function(){\r\n\t\tswitch(this.step){\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.do1();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.do2();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.do3();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.do4();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 5:\r\n\t\t\t\tthis.do5();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 6:\r\n\t\t\t\tthis.do6();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 7:\r\n\t\t\t\tthis.do7();\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 8:\r\n\t\t\t\tthis.do8();\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitStencil._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t}\r\n\r\n\t__proto.do1=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.enable(/*laya.webgl.WebGLContext.STENCIL_TEST*/0x0B90);\r\n\t\tgl.clear(/*laya.webgl.WebGLContext.STENCIL_BUFFER_BIT*/0x00000400);\r\n\t\tgl.colorMask(false,false,false,false);\r\n\t\tgl.stencilFunc(/*laya.webgl.WebGLContext.EQUAL*/0x0202,this.level,0xFF);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.INCR*/0x1E02);\r\n\t}\r\n\r\n\t//gl.stencilOp(WebGLContext.KEEP,WebGLContext.KEEP,WebGLContext.INVERT);//测试通过给模版缓冲 写入值 一开始是0 现在是 0xFF (模版缓冲中不知道是多少位的数据)\r\n\t__proto.do2=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.stencilFunc(/*laya.webgl.WebGLContext.EQUAL*/0x0202,this.level+1,0xFF);\r\n\t\tgl.colorMask(true,true,true,true);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00);\r\n\t}\r\n\r\n\t__proto.do3=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.colorMask(true,true,true,true);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00);\r\n\t\tgl.clear(/*laya.webgl.WebGLContext.STENCIL_BUFFER_BIT*/0x00000400);\r\n\t\tgl.disable(/*laya.webgl.WebGLContext.STENCIL_TEST*/0x0B90);\r\n\t}\r\n\r\n\t__proto.do4=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tif (this.level==0){\r\n\t\t\tgl.enable(/*laya.webgl.WebGLContext.STENCIL_TEST*/0x0B90);\r\n\t\t\tgl.clear(/*laya.webgl.WebGLContext.STENCIL_BUFFER_BIT*/0x00000400);\r\n\t\t}\r\n\t\tgl.colorMask(false,false,false,false);\r\n\t\tgl.stencilFunc(/*laya.webgl.WebGLContext.ALWAYS*/0x0207,0,0xFF);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.INCR*/0x1E02);\r\n\t}\r\n\r\n\t__proto.do5=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.stencilFunc(/*laya.webgl.WebGLContext.EQUAL*/0x0202,this.level,0xFF);\r\n\t\tgl.colorMask(true,true,true,true);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00);\r\n\t}\r\n\r\n\t__proto.do6=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tBlendMode.targetFns[BlendMode.TOINT[this.blendMode]](gl);\r\n\t}\r\n\r\n\t__proto.do7=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.colorMask(false,false,false,false);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.DECR*/0x1E03);\r\n\t}\r\n\r\n\t__proto.do8=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.colorMask(true,true,true,true);\r\n\t\tgl.stencilFunc(/*laya.webgl.WebGLContext.EQUAL*/0x0202,this.level,0xFF);\r\n\t\tgl.stencilOp(/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00,/*laya.webgl.WebGLContext.KEEP*/0x1E00);\r\n\t}\r\n\r\n\tSubmitStencil.restore=function(context,clip,m,_x,_y){\r\n\t\tvar submitStencil;\r\n\t\tcontext._renderKey=0;\r\n\t\tif (SubmitStencil._mask > 0){\r\n\t\t\tSubmitStencil._mask--;\r\n\t\t}\r\n\t\tif (SubmitStencil._mask==0){\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(3);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\tcontext._curSubmit=Submit.RENDERBASE;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(7);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\tvar vb=context._vb;\r\n\t\t\tvar nPos=(vb._byteLength >> 2);\r\n\t\t\tif (GlUtils.fillRectImgVb(vb,null,clip.x,clip.y,clip.width,clip.height,Texture.DEF_UV,m,_x,_y,0,0)){\r\n\t\t\t\tvar shader=context._shader2D;\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tvar submit=context._curSubmit=Submit.createSubmit(context,context._ib,vb,((vb._byteLength-/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0));\r\n\t\t\t\tsubmit.shaderValue.ALPHA=1.0;\r\n\t\t\t\tcontext._submits[context._submits._length++]=submit;\r\n\t\t\t\tcontext._curSubmit._numEle+=6;\r\n\t\t\t\tcontext._curSubmit=Submit.RENDERBASE;\r\n\t\t\t\t}else {\r\n\t\t\t\talert(\"clipRect calc stencil rect error\");\r\n\t\t\t}\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(8);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t}\r\n\t}\r\n\r\n\tSubmitStencil.restore2=function(context,submit){\r\n\t\tvar submitStencil;\r\n\t\tcontext._renderKey=0;\r\n\t\tif (SubmitStencil._mask > 0){\r\n\t\t\tSubmitStencil._mask--;\r\n\t\t}\r\n\t\tif (SubmitStencil._mask==0){\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(3);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\tcontext._curSubmit=Submit.RENDERBASE;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(7);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\tcontext._submits[context._submits._length++]=submit;\r\n\t\t\tsubmitStencil=laya.webgl.submit.SubmitStencil.create(8);\r\n\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t}\r\n\t}\r\n\r\n\tSubmitStencil.create=function(step){\r\n\t\tvar o=SubmitStencil._cache._length?SubmitStencil._cache[--SubmitStencil._cache._length]:new SubmitStencil();\r\n\t\to.step=step;\r\n\t\tif (step==5)\r\n\t\t\t++SubmitStencil._mask;\r\n\t\to.level=SubmitStencil._mask;\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitStencil._cache=(SubmitStencil._cache=[],SubmitStencil._cache._length=0,SubmitStencil._cache);\r\n\tSubmitStencil._mask=0;\r\n\treturn SubmitStencil;\r\n})()\r\n\r\n\r\n//class laya.webgl.submit.SubmitTarget\r\nvar SubmitTarget=(function(){\r\n\tfunction SubmitTarget(){\r\n\t\tthis._renderType=0;\r\n\t\tthis._vb=null;\r\n\t\tthis._ib=null;\r\n\t\tthis._startIdx=0;\r\n\t\tthis._numEle=0;\r\n\t\tthis.shaderValue=null;\r\n\t\tthis.blendType=0;\r\n\t\tthis.proName=null;\r\n\t\tthis.scope=null;\r\n\t}\r\n\r\n\t__class(SubmitTarget,'laya.webgl.submit.SubmitTarget');\r\n\tvar __proto=SubmitTarget.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.submit.ISubmit\":true})\r\n\t__proto.renderSubmit=function(){\r\n\t\tthis._vb.bind_upload(this._ib);\r\n\t\tvar target=this.scope.getValue(this.proName);\r\n\t\tif (target){\r\n\t\t\tthis.shaderValue.texture=target.source;\r\n\t\t\tif (this.shaderValue[\"strength\"] && !this.shaderValue[\"blurInfo\"]){\r\n\t\t\t\tthis.shaderValue[\"blurInfo\"]=[target.width,target.height];\r\n\t\t\t}\r\n\t\t\tthis.shaderValue.upload();\r\n\t\t\tthis.blend();\r\n\t\t\tStat.drawCall++;\r\n\t\t\tStat.trianglesFaces+=this._numEle/3;\r\n\t\t\tWebGL.mainContext.drawElements(/*laya.webgl.WebGLContext.TRIANGLES*/0x0004,this._numEle,/*laya.webgl.WebGLContext.UNSIGNED_SHORT*/0x1403,this._startIdx);\r\n\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto.blend=function(){\r\n\t\tif (BlendMode.activeBlendFunction!==BlendMode.fns[this.blendType]){\r\n\t\t\tvar gl=WebGL.mainContext;\r\n\t\t\tgl.enable(/*laya.webgl.WebGLContext.BLEND*/0x0BE2);\r\n\t\t\tBlendMode.fns[this.blendType](gl);\r\n\t\t\tBlendMode.activeBlendFunction=BlendMode.fns[this.blendType];\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitTarget._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t}\r\n\r\n\tSubmitTarget.create=function(context,ib,vb,pos,sv,proName){\r\n\t\tvar o=SubmitTarget._cache._length?SubmitTarget._cache[--SubmitTarget._cache._length]:new SubmitTarget();\r\n\t\to._ib=ib;\r\n\t\to._vb=vb;\r\n\t\to.proName=proName;\r\n\t\to._startIdx=pos *CONST3D2D.BYTES_PIDX;\r\n\t\to._numEle=0;\r\n\t\to.blendType=context._nBlendType;\r\n\t\to.shaderValue=sv;\r\n\t\to.shaderValue.setValue(context._shader2D);\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitTarget._cache=(SubmitTarget._cache=[],SubmitTarget._cache._length=0,SubmitTarget._cache);\r\n\treturn SubmitTarget;\r\n})()\r\n\r\n\r\n/**\r\n*...特殊的字符，如泰文，必须重新实现这个类\r\n*/\r\n//class laya.webgl.text.CharSegment\r\nvar CharSegment=(function(){\r\n\tfunction CharSegment(){\r\n\t\tthis._sourceStr=null;\r\n\t}\r\n\r\n\t__class(CharSegment,'laya.webgl.text.CharSegment');\r\n\tvar __proto=CharSegment.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.text.ICharSegment\":true})\r\n\t__proto.textToSpit=function(str){\r\n\t\tthis._sourceStr=str;\r\n\t}\r\n\r\n\t__proto.getChar=function(i){\r\n\t\treturn this._sourceStr.charAt(i);\r\n\t}\r\n\r\n\t__proto.getCharCode=function(i){\r\n\t\treturn this._sourceStr.charCodeAt(i);\r\n\t}\r\n\r\n\t__proto.length=function(){\r\n\t\treturn this._sourceStr.length;\r\n\t}\r\n\r\n\treturn CharSegment;\r\n})()\r\n\r\n\r\n//class laya.webgl.text.DrawText\r\nvar DrawText=(function(){\r\n\tvar CharValue;\r\n\tfunction DrawText(){}\r\n\t__class(DrawText,'laya.webgl.text.DrawText');\r\n\tDrawText.__init__=function(){\r\n\t\tDrawText._charsTemp=new Array;\r\n\t\tDrawText._drawValue=new CharValue();\r\n\t\tDrawText._charSeg=new CharSegment();\r\n\t}\r\n\r\n\tDrawText.customCharSeg=function(charseg){\r\n\t\tDrawText._charSeg=charseg;\r\n\t}\r\n\r\n\tDrawText.getChar=function(char,id,drawValue){\r\n\t\tvar result=WebGLCharImage.createOneChar(char,drawValue);\r\n\t\tif(id!=-1)\r\n\t\t\tDrawText._charsCache[id]=result;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tDrawText._drawSlow=function(save,ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,sx,sy,underLine){\r\n\t\tvar drawValue=DrawText._drawValue.value(font,fillColor,borderColor,lineWidth,sx,sy,underLine);\r\n\t\tvar i=0,n=0;\r\n\t\tvar chars=DrawText._charsTemp;\r\n\t\tvar width=0,oneChar,htmlWord,id=NaN;\r\n\t\tif (words){\r\n\t\t\tchars.length=words.length;\r\n\t\t\tfor (i=0,n=words.length;i < n;i++){\r\n\t\t\t\thtmlWord=words[i];\r\n\t\t\t\tid=htmlWord.charNum+drawValue.txtID;\r\n\t\t\t\tchars[i]=oneChar=DrawText._charsCache[id] || DrawText.getChar(htmlWord.char,id,drawValue);\r\n\t\t\t\toneChar.active();\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tvar text=((txt instanceof laya.utils.WordText ))? txt.toString():txt;\r\n\t\t\tif (Text.CharacterCache){\r\n\t\t\t\tDrawText._charSeg.textToSpit(text);\r\n\t\t\t\tvar len=/*if err,please use iflash.method.xmlLength()*/DrawText._charSeg.length();\r\n\t\t\t\tchars.length=len;\r\n\t\t\t\tfor (i=0,n=len;i < n;i++){\r\n\t\t\t\t\tid=DrawText._charSeg.getCharCode(i)+drawValue.txtID;\r\n\t\t\t\t\tchars[i]=oneChar=DrawText._charsCache[id] || DrawText.getChar(DrawText._charSeg.getChar(i),id,drawValue);\r\n\t\t\t\t\toneChar.active();\r\n\t\t\t\t\twidth+=oneChar.cw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tchars.length=0;\r\n\t\t\t\toneChar=DrawText.getChar(text,-1,drawValue);\r\n\t\t\t\toneChar.active();\r\n\t\t\t\twidth+=oneChar.cw;\r\n\t\t\t\tchars[0]=oneChar;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar dx=0;\r\n\t\tif (textAlign!==null && textAlign!==\"left\")\r\n\t\t\tdx=-(textAlign==\"center\" ? (width / 2):width);\r\n\t\tvar uv,bdSz=NaN,texture,value,saveLength=0;\r\n\t\tif (words){\r\n\t\t\tfor (i=0,n=chars.length;i < n;i++){\r\n\t\t\t\toneChar=chars[i];\r\n\t\t\t\tif (!oneChar.isSpace){\r\n\t\t\t\t\thtmlWord=words[i];\r\n\t\t\t\t\tbdSz=oneChar.borderSize;\r\n\t\t\t\t\ttexture=oneChar.texture;\r\n\t\t\t\t\tctx._drawText(texture,x+dx+htmlWord.x *sx-bdSz,y+htmlWord.y *sy-bdSz,texture.width,texture.height,curMat,0,0,0,0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tfor (i=0,n=chars.length;i < n;i++){\r\n\t\t\t\toneChar=chars[i];\r\n\t\t\t\tif (!oneChar.isSpace){\r\n\t\t\t\t\tbdSz=oneChar.borderSize;\r\n\t\t\t\t\ttexture=oneChar.texture;\r\n\t\t\t\t\tctx._drawText(texture,x+dx-bdSz,y-bdSz,texture.width,texture.height,curMat,0,0,0,0);\r\n\t\t\t\t\tsave && (value=save[saveLength++],value || (value=save[saveLength-1]=[]),value[0]=texture,value[1]=dx-bdSz,value[2]=-bdSz);\r\n\t\t\t\t}\r\n\t\t\t\tdx+=oneChar.cw;\r\n\t\t\t}\r\n\t\t\tsave && (save.length=saveLength);\r\n\t\t}\r\n\t}\r\n\r\n\tDrawText._drawFast=function(save,ctx,curMat,x,y){\r\n\t\tvar texture,value;\r\n\t\tfor (var i=0,n=save.length;i < n;i++){\r\n\t\t\tvalue=save[i];\r\n\t\t\ttexture=value[0];\r\n\t\t\ttexture.active();\r\n\t\t\tctx._drawText(texture,x+value[1],y+value[2],texture.width,texture.height,curMat,0,0,0,0);\r\n\t\t}\r\n\t}\r\n\r\n\tDrawText.drawText=function(ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,underLine){\r\n\t\t(underLine===void 0)&& (underLine=0);\r\n\t\tif ((txt && txt.length===0)|| (words && words.length===0))\r\n\t\t\treturn;\r\n\t\tvar sx=curMat.a,sy=curMat.d;\r\n\t\t(curMat.b!==0 || curMat.c!==0)&& (sx=sy=1);\r\n\t\tvar scale=sx!==1 || sy!==1;\r\n\t\tif (scale && Laya.stage.transform){\r\n\t\t\tvar t=Laya.stage.transform;\r\n\t\t\tscale=t.a===sx && t.d===sy;\r\n\t\t}else scale=false;\r\n\t\tif (scale){\r\n\t\t\tcurMat=curMat.copyTo(WebGLContext2D._tmpMatrix);\r\n\t\t\tvar tempTx=curMat.tx;\r\n\t\t\tvar tempTy=curMat.ty;\r\n\t\t\tcurMat.scale(1 / sx,1 / sy);\r\n\t\t\tcurMat._checkTransform();\r\n\t\t\tx *=sx;\r\n\t\t\ty *=sy;\r\n\t\t\tx+=tempTx-curMat.tx;\r\n\t\t\ty+=tempTy-curMat.ty;\r\n\t\t}else sx=sy=1;\r\n\t\tif (words){\r\n\t\t\tDrawText._drawSlow(null,ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,sx,sy,underLine);\r\n\t\t\t}else {\r\n\t\t\tif (txt.toUpperCase===null){\r\n\t\t\t\tvar idNum=sx+sy *100000;\r\n\t\t\t\tvar myCache=txt;\r\n\t\t\t\tif (!myCache.changed && myCache.id===idNum){\r\n\t\t\t\t\tDrawText._drawFast(myCache.save,ctx,curMat,x,y);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tmyCache.id=idNum;\r\n\t\t\t\t\tmyCache.changed=false;\r\n\t\t\t\t\tDrawText._drawSlow(myCache.save,ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,sx,sy,underLine);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar id=txt+font.toString()+fillColor+borderColor+lineWidth+sx+sy+textAlign;\r\n\t\t\tvar cache=DrawText._textsCache[id];\r\n\t\t\tif (Text.CharacterCache){\r\n\t\t\t\tif (cache){\r\n\t\t\t\t\tDrawText._drawFast(cache,ctx,curMat,x,y);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tDrawText._textsCache.__length || (DrawText._textsCache.__length=0);\r\n\t\t\t\t\tif (DrawText._textsCache.__length > Config.WebGLTextCacheCount){\r\n\t\t\t\t\t\tDrawText._textsCache={};\r\n\t\t\t\t\t\tDrawText._textsCache.__length=0;\r\n\t\t\t\t\t\tDrawText._curPoolIndex=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDrawText._textCachesPool[DrawText._curPoolIndex] ? (cache=DrawText._textsCache[id]=DrawText._textCachesPool[DrawText._curPoolIndex],cache.length=0):(DrawText._textCachesPool[DrawText._curPoolIndex]=cache=DrawText._textsCache[id]=[]);\r\n\t\t\t\t\tDrawText._textsCache.__length++\r\n\t\t\t\t\tDrawText._curPoolIndex++;\r\n\t\t\t\t\tDrawText._drawSlow(cache,ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,sx,sy,underLine);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tDrawText._drawSlow(cache,ctx,txt,words,curMat,font,textAlign,fillColor,borderColor,lineWidth,x,y,sx,sy,underLine);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tDrawText._charsTemp=null;\r\n\tDrawText._textCachesPool=[];\r\n\tDrawText._curPoolIndex=0;\r\n\tDrawText._charsCache={};\r\n\tDrawText._textsCache={};\r\n\tDrawText._drawValue=null;\r\n\tDrawText.d=[];\r\n\tDrawText._charSeg=null;\r\n\tDrawText.__init$=function(){\r\n\t\t//class CharValue\r\n\t\tCharValue=(function(){\r\n\t\t\tfunction CharValue(){\r\n\t\t\t\t//this.txtID=NaN;\r\n\t\t\t\t//this.font=null;\r\n\t\t\t\t//this.fillColor=null;\r\n\t\t\t\t//this.borderColor=null;\r\n\t\t\t\t//this.lineWidth=0;\r\n\t\t\t\t//this.scaleX=NaN;\r\n\t\t\t\t//this.scaleY=NaN;\r\n\t\t\t\t//this.underLine=0;\r\n\t\t\t}\r\n\t\t\t__class(CharValue,'');\r\n\t\t\tvar __proto=CharValue.prototype;\r\n\t\t\t__proto.value=function(font,fillColor,borderColor,lineWidth,scaleX,scaleY,underLine){\r\n\t\t\t\tthis.font=font;\r\n\t\t\t\tthis.fillColor=fillColor;\r\n\t\t\t\tthis.borderColor=borderColor;\r\n\t\t\t\tthis.lineWidth=lineWidth;\r\n\t\t\t\tthis.scaleX=scaleX;\r\n\t\t\t\tthis.scaleY=scaleY;\r\n\t\t\t\tthis.underLine=underLine;\r\n\t\t\t\tvar key=font.toString()+scaleX+scaleY+lineWidth+fillColor+borderColor+underLine;\r\n\t\t\t\tthis.txtID=CharValue._keymap[key];\r\n\t\t\t\tif (!this.txtID){\r\n\t\t\t\t\tthis.txtID=(++CharValue._keymapCount)*0.0000001;\r\n\t\t\t\t\tCharValue._keymap[key]=this.txtID;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tCharValue.clear=function(){\r\n\t\t\t\tCharValue._keymap={};\r\n\t\t\t\tCharValue._keymapCount=1;\r\n\t\t\t}\r\n\t\t\tCharValue._keymap={};\r\n\t\t\tCharValue._keymapCount=1;\r\n\t\t\treturn CharValue;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn DrawText;\r\n})()\r\n\r\n\r\n//class laya.webgl.text.FontInContext\r\nvar FontInContext=(function(){\r\n\tfunction FontInContext(font){\r\n\t\t//this._text=null;\r\n\t\t//this._words=null;\r\n\t\tthis._index=0;\r\n\t\tthis._size=14;\r\n\t\tthis._italic=-2;\r\n\t\tFontInContext._cache2=FontInContext._cache2|| [];\r\n\t\tthis.setFont(font || \"14px Arial\");\r\n\t}\r\n\r\n\t__class(FontInContext,'laya.webgl.text.FontInContext');\r\n\tvar __proto=FontInContext.prototype;\r\n\t__proto.setFont=function(value){\r\n\t\tvar arr=FontInContext._cache2[value];\r\n\t\tif (!arr){\r\n\t\t\tthis._words=value.split(' ');\r\n\t\t\tfor (var i=0,n=this._words.length;i < n;i++){\r\n\t\t\t\tif (this._words[i].indexOf('px')> 0){\r\n\t\t\t\t\tthis._index=i;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._size=parseInt(this._words[this._index]);\r\n\t\t\tFontInContext._cache2[value]=[this._words,this._size];\r\n\t\t\t}else {\r\n\t\t\tthis._words=arr[0];\r\n\t\t\tthis._size=arr[1];\r\n\t\t}\r\n\t\tthis._text=null;\r\n\t\tthis._italic=-2;\r\n\t}\r\n\r\n\t__proto.getItalic=function(){\r\n\t\tthis._italic===-2 && (this._italic=this.hasType(\"italic\"));\r\n\t\treturn this._italic;\r\n\t}\r\n\r\n\t__proto.hasType=function(name){\r\n\t\tfor (var i=0,n=this._words.length;i < n;i++)\r\n\t\tif (this._words[i]===name)return i;\r\n\t\treturn-1;\r\n\t}\r\n\r\n\t__proto.removeType=function(name){\r\n\t\tfor (var i=0,n=this._words.length;i < n;i++)\r\n\t\tif (this._words[i]===name){\r\n\t\t\tthis._words.splice(i,1);\r\n\t\t\tif (this._index > i)this._index--;\r\n\t\t\tbreak ;\r\n\t\t}\r\n\t\tthis._text=null;\r\n\t\tthis._italic=-2;\r\n\t}\r\n\r\n\t__proto.copyTo=function(dec){\r\n\t\tdec._text=this._text;\r\n\t\tdec._size=this._size;\r\n\t\tdec._index=this._index;\r\n\t\tdec._words=this._words.slice();\r\n\t\tdec._italic=-2;\r\n\t\treturn dec;\r\n\t}\r\n\r\n\t__proto.toString=function(){\r\n\t\treturn this._text ? this._text :(this._text=this._words.join(' '));\r\n\t}\r\n\r\n\t__getset(0,__proto,'size',function(){\r\n\t\treturn this._size;\r\n\t\t},function(value){\r\n\t\tthis._size=value;\r\n\t\tthis._words[this._index]=value+\"px\";\r\n\t\tthis._text=null;\r\n\t});\r\n\r\n\tFontInContext.create=function(font){\r\n\t\tvar r=FontInContext._cache[font];\r\n\t\tif (r)return r;\r\n\t\tr=FontInContext._cache[font]=new FontInContext(font);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tFontInContext.EMPTY=new FontInContext();\r\n\tFontInContext._cache={};\r\n\tFontInContext._cache2=null;\r\n\treturn FontInContext;\r\n})()\r\n\r\n\r\n//class laya.webgl.utils.CONST3D2D\r\nvar CONST3D2D=(function(){\r\n\tfunction CONST3D2D(){}\r\n\t__class(CONST3D2D,'laya.webgl.utils.CONST3D2D');\r\n\tCONST3D2D.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\r\n\tCONST3D2D.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1];\r\n\tCONST3D2D.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0];\r\n\tCONST3D2D._TMPARRAY=[];\r\n\tCONST3D2D._OFFSETX=0;\r\n\tCONST3D2D._OFFSETY=0;\r\n\t__static(CONST3D2D,\r\n\t['BYTES_PE',function(){return this.BYTES_PE=/*__JS__ */Float32Array.BYTES_PER_ELEMENT;},'BYTES_PIDX',function(){return this.BYTES_PIDX=/*__JS__ */Uint16Array.BYTES_PER_ELEMENT;}\r\n\t]);\r\n\treturn CONST3D2D;\r\n})()\r\n\r\n\r\n//class laya.webgl.utils.GlUtils\r\nvar GlUtils=(function(){\r\n\tfunction GlUtils(){}\r\n\t__class(GlUtils,'laya.webgl.utils.GlUtils');\r\n\tGlUtils.make2DProjection=function(width,height,depth){\r\n\t\treturn [2.0 / width,0,0,0,0,-2.0 / height,0,0,0,0,2.0 / depth,0,-1,1,0,1,];\r\n\t}\r\n\r\n\tGlUtils.fillIBQuadrangle=function(buffer,count){\r\n\t\tif (count > 65535 / 4){\r\n\t\t\tthrow Error(\"IBQuadrangle count:\"+count+\" must<:\"+Math.floor(65535 / 4));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tcount=Math.floor(count);\r\n\t\tbuffer._resizeBuffer((count+1)*6 */*laya.webgl.utils.Buffer2D.SHORT*/2,false);\r\n\t\tbuffer.byteLength=buffer.bufferLength;\r\n\t\tvar bufferData=buffer.getUint16Array();\r\n\t\tvar idx=0;\r\n\t\tfor (var i=0;i < count;i++){\r\n\t\t\tbufferData[idx++]=i *4;\r\n\t\t\tbufferData[idx++]=i *4+2;\r\n\t\t\tbufferData[idx++]=i *4+1;\r\n\t\t\tbufferData[idx++]=i *4;\r\n\t\t\tbufferData[idx++]=i *4+3;\r\n\t\t\tbufferData[idx++]=i *4+2;\r\n\t\t}\r\n\t\tbuffer.setNeedUpload();\r\n\t\treturn true;\r\n\t}\r\n\r\n\tGlUtils.expandIBQuadrangle=function(buffer,count){\r\n\t\tbuffer.bufferLength >=(count *6 */*laya.webgl.utils.Buffer2D.SHORT*/2)|| GlUtils.fillIBQuadrangle(buffer,count);\r\n\t}\r\n\r\n\tGlUtils.mathCeilPowerOfTwo=function(value){\r\n\t\tvalue--;\r\n\t\tvalue |=value >> 1;\r\n\t\tvalue |=value >> 2;\r\n\t\tvalue |=value >> 4;\r\n\t\tvalue |=value >> 8;\r\n\t\tvalue |=value >> 16;\r\n\t\tvalue++;\r\n\t\treturn value;\r\n\t}\r\n\r\n\tGlUtils.fillQuadrangleImgVb=function(vb,x,y,point4,uv,m,_x,_y){\r\n\t\tvar vpos=(vb._byteLength >> 2)+/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16;\r\n\t\tvb.byteLength=(vpos << 2);\r\n\t\tvar vbdata=vb.getFloat32Array();\r\n\t\tvpos-=/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16;\r\n\t\tvbdata[vpos+2]=uv[0];\r\n\t\tvbdata[vpos+3]=uv[1];\r\n\t\tvbdata[vpos+6]=uv[2];\r\n\t\tvbdata[vpos+7]=uv[3];\r\n\t\tvbdata[vpos+10]=uv[4];\r\n\t\tvbdata[vpos+11]=uv[5];\r\n\t\tvbdata[vpos+14]=uv[6];\r\n\t\tvbdata[vpos+15]=uv[7];\r\n\t\tvar a=m.a,b=m.b,c=m.c,d=m.d;\r\n\t\tif (a!==1 || b!==0 || c!==0 || d!==1){\r\n\t\t\tm.bTransform=true;\r\n\t\t\tvar tx=m.tx+_x,ty=m.ty+_y;\r\n\t\t\tvbdata[vpos]=(point4[0]+x)*a+(point4[1]+y)*c+tx;\r\n\t\t\tvbdata[vpos+1]=(point4[0]+x)*b+(point4[1]+y)*d+ty;\r\n\t\t\tvbdata[vpos+4]=(point4[2]+x)*a+(point4[3]+y)*c+tx;\r\n\t\t\tvbdata[vpos+5]=(point4[2]+x)*b+(point4[3]+y)*d+ty;\r\n\t\t\tvbdata[vpos+8]=(point4[4]+x)*a+(point4[5]+y)*c+tx;\r\n\t\t\tvbdata[vpos+9]=(point4[4]+x)*b+(point4[5]+y)*d+ty;\r\n\t\t\tvbdata[vpos+12]=(point4[6]+x)*a+(point4[7]+y)*c+tx;\r\n\t\t\tvbdata[vpos+13]=(point4[6]+x)*b+(point4[7]+y)*d+ty;\r\n\t\t\t}else {\r\n\t\t\tm.bTransform=false;\r\n\t\t\tx+=m.tx+_x;\r\n\t\t\ty+=m.ty+_y;\r\n\t\t\tvbdata[vpos]=x+point4[0];\r\n\t\t\tvbdata[vpos+1]=y+point4[1];\r\n\t\t\tvbdata[vpos+4]=x+point4[2];\r\n\t\t\tvbdata[vpos+5]=y+point4[3];\r\n\t\t\tvbdata[vpos+8]=x+point4[4];\r\n\t\t\tvbdata[vpos+9]=y+point4[5];\r\n\t\t\tvbdata[vpos+12]=x+point4[6];\r\n\t\t\tvbdata[vpos+13]=y+point4[7];\r\n\t\t}\r\n\t\tvb._upload=true;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tGlUtils.fillTranglesVB=function(vb,x,y,points,m,_x,_y){\r\n\t\tvar vpos=(vb._byteLength >> 2)+points.length;\r\n\t\tvb.byteLength=(vpos << 2);\r\n\t\tvar vbdata=vb.getFloat32Array();\r\n\t\tvpos-=points.length;\r\n\t\tvar len=points.length;\r\n\t\tvar a=m.a,b=m.b,c=m.c,d=m.d;\r\n\t\tfor (var i=0;i < len;i+=4){\r\n\t\t\tvbdata[vpos+i+2]=points[i+2];\r\n\t\t\tvbdata[vpos+i+3]=points[i+3];\r\n\t\t\tif (a!==1 || b!==0 || c!==0 || d!==1){\r\n\t\t\t\tm.bTransform=true;\r\n\t\t\t\tvar tx=m.tx+_x,ty=m.ty+_y;\r\n\t\t\t\tvbdata[vpos+i]=(points[i]+x)*a+(points[i+1]+y)*c+tx;\r\n\t\t\t\tvbdata[vpos+i+1]=(points[i]+x)*b+(points[i+1]+y)*d+ty;\r\n\t\t\t\t}else {\r\n\t\t\t\tm.bTransform=false;\r\n\t\t\t\tx+=m.tx+_x;\r\n\t\t\t\ty+=m.ty+_y;\r\n\t\t\t\tvbdata[vpos+i]=x+points[i];\r\n\t\t\t\tvbdata[vpos+i+1]=y+points[i+1];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvb._upload=true;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tGlUtils.copyPreImgVb=function(vb,dx,dy){\r\n\t\tvar vpos=(vb._byteLength >> 2);\r\n\t\tvb.byteLength=((vpos+/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16)<< 2);\r\n\t\tvar vbdata=vb.getFloat32Array();\r\n\t\tfor (var i=0,ci=vpos-16;i < 4;i++){\r\n\t\t\tvbdata[vpos]=vbdata[ci]+dx;\r\n\t\t\t++vpos;\r\n\t\t\t++ci;\r\n\t\t\tvbdata[vpos]=vbdata[ci]+dy;\r\n\t\t\t++vpos;\r\n\t\t\t++ci;\r\n\t\t\tvbdata[vpos]=vbdata[ci];\r\n\t\t\t++vpos;\r\n\t\t\t++ci;\r\n\t\t\tvbdata[vpos]=vbdata[ci];\r\n\t\t\t++vpos;\r\n\t\t\t++ci;\r\n\t\t}\r\n\t\tvb._upload=true;\r\n\t}\r\n\r\n\tGlUtils.fillRectImgVb=function(vb,clip,x,y,width,height,uv,m,_x,_y,dx,dy,round){\r\n\t\t(round===void 0)&& (round=false);\r\n\t\tvar mType=1;\r\n\t\tvar toBx,toBy,toEx,toEy;\r\n\t\tvar cBx,cBy,cEx,cEy;\r\n\t\tvar w0,h0,tx,ty;\r\n\t\tvar finalX,finalY,offsetX,offsetY;\r\n\t\tvar a=m.a,b=m.b,c=m.c,d=m.d;\r\n\t\tvar useClip=clip && clip.width < /*laya.webgl.canvas.WebGLContext2D._MAXSIZE*/99999999;\r\n\t\tif (a!==1 || b!==0 || c!==0 || d!==1){\r\n\t\t\tm.bTransform=true;\r\n\t\t\tif (b===0 && c===0){\r\n\t\t\t\tmType=23;\r\n\t\t\t\tw0=width+x,h0=height+y;\r\n\t\t\t\ttx=m.tx+_x,ty=m.ty+_y;\r\n\t\t\t\ttoBx=a *x+tx;\r\n\t\t\t\ttoEx=a *w0+tx;\r\n\t\t\t\ttoBy=d *y+ty;\r\n\t\t\t\ttoEy=d *h0+ty;\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tmType=23;\r\n\t\t\tm.bTransform=false;\r\n\t\t\ttoBx=x+m.tx+_x;\r\n\t\t\ttoEx=toBx+width;\r\n\t\t\ttoBy=y+m.ty+_y;\r\n\t\t\ttoEy=toBy+height;\r\n\t\t}\r\n\t\tif (useClip){\r\n\t\t\tcBx=clip.x,cBy=clip.y,cEx=clip.width+cBx,cEy=clip.height+cBy;\r\n\t\t}\r\n\t\tif (mType!==1){\r\n\t\t\tif (Math.min(toBx,toEx)>=cEx)return false;\r\n\t\t\tif (Math.min(toBy,toEy)>=cEy)return false;\r\n\t\t\tif (Math.max(toEx,toBx)<=cBx)return false;\r\n\t\t\tif (Math.max(toEy,toBy)<=cBy)return false;\r\n\t\t};\r\n\t\tvar vpos=(vb._byteLength >> 2);\r\n\t\tvb.byteLength=((vpos+/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16)<< 2);\r\n\t\tvar vbdata=vb.getFloat32Array();\r\n\t\tvbdata[vpos+2]=uv[0];\r\n\t\tvbdata[vpos+3]=uv[1];\r\n\t\tvbdata[vpos+6]=uv[2];\r\n\t\tvbdata[vpos+7]=uv[3];\r\n\t\tvbdata[vpos+10]=uv[4];\r\n\t\tvbdata[vpos+11]=uv[5];\r\n\t\tvbdata[vpos+14]=uv[6];\r\n\t\tvbdata[vpos+15]=uv[7];\r\n\t\tswitch (mType){\r\n\t\t\tcase 1:\r\n\t\t\t\ttx=m.tx+_x,ty=m.ty+_y;\r\n\t\t\t\tw0=width+x,h0=height+y;\r\n\t\t\t\tvar w1=x,h1=y;\r\n\t\t\t\tvar aw1=a *w1,ch1=c *h1,dh1=d *h1,bw1=b *w1;\r\n\t\t\t\tvar aw0=a *w0,ch0=c *h0,dh0=d *h0,bw0=b *w0;\r\n\t\t\t\tif (round){\r\n\t\t\t\t\tfinalX=aw1+ch1+tx;\r\n\t\t\t\t\toffsetX=Math.round(finalX)-finalX;\r\n\t\t\t\t\tfinalY=dh1+bw1+ty;\r\n\t\t\t\t\toffsetY=Math.round(finalY)-finalY;\r\n\t\t\t\t\tvbdata[vpos]=finalX+offsetX;\r\n\t\t\t\t\tvbdata[vpos+1]=finalY+offsetY;\r\n\t\t\t\t\tvbdata[vpos+4]=aw0+ch1+tx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+5]=dh1+bw0+ty+offsetY;\r\n\t\t\t\t\tvbdata[vpos+8]=aw0+ch0+tx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+9]=dh0+bw0+ty+offsetY;\r\n\t\t\t\t\tvbdata[vpos+12]=aw1+ch0+tx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+13]=dh0+bw1+ty+offsetY;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tvbdata[vpos]=aw1+ch1+tx;\r\n\t\t\t\t\tvbdata[vpos+1]=dh1+bw1+ty;\r\n\t\t\t\t\tvbdata[vpos+4]=aw0+ch1+tx;\r\n\t\t\t\t\tvbdata[vpos+5]=dh1+bw0+ty;\r\n\t\t\t\t\tvbdata[vpos+8]=aw0+ch0+tx;\r\n\t\t\t\t\tvbdata[vpos+9]=dh0+bw0+ty;\r\n\t\t\t\t\tvbdata[vpos+12]=aw1+ch0+tx;\r\n\t\t\t\t\tvbdata[vpos+13]=dh0+bw1+ty;\r\n\t\t\t\t}\r\n\t\t\t\tbreak ;\r\n\t\t\tcase 23:\r\n\t\t\t\tif (round){\r\n\t\t\t\t\tfinalX=toBx+dx;\r\n\t\t\t\t\toffsetX=Math.round(finalX)-finalX;\r\n\t\t\t\t\tfinalY=toBy;\r\n\t\t\t\t\toffsetY=Math.round(finalY)-finalY;\r\n\t\t\t\t\tvbdata[vpos]=finalX+offsetX;\r\n\t\t\t\t\tvbdata[vpos+1]=finalY+offsetY;\r\n\t\t\t\t\tvbdata[vpos+4]=toEx+dx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+5]=toBy+offsetY;\r\n\t\t\t\t\tvbdata[vpos+8]=toEx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+9]=toEy+offsetY;\r\n\t\t\t\t\tvbdata[vpos+12]=toBx+offsetX;\r\n\t\t\t\t\tvbdata[vpos+13]=toEy+offsetY;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tvbdata[vpos]=toBx+dx;\r\n\t\t\t\t\tvbdata[vpos+1]=toBy;\r\n\t\t\t\t\tvbdata[vpos+4]=toEx+dx;\r\n\t\t\t\t\tvbdata[vpos+5]=toBy;\r\n\t\t\t\t\tvbdata[vpos+8]=toEx;\r\n\t\t\t\t\tvbdata[vpos+9]=toEy;\r\n\t\t\t\t\tvbdata[vpos+12]=toBx;\r\n\t\t\t\t\tvbdata[vpos+13]=toEy;\r\n\t\t\t\t}\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\tvb._upload=true;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tGlUtils.fillLineVb=function(vb,clip,fx,fy,tx,ty,width,mat){\r\n\t\tvar linew=width *.5;\r\n\t\tvar data=GlUtils._fillLineArray;\r\n\t\tvar perpx=-(fy-ty),perpy=fx-tx;\r\n\t\tvar dist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx /=dist,perpy /=dist,perpx *=linew,perpy *=linew;\r\n\t\tdata[0]=fx-perpx,data[1]=fy-perpy,data[4]=fx+perpx,data[5]=fy+perpy,data[8]=tx+perpx,data[9]=ty+perpy,data[12]=tx-perpx,data[13]=ty-perpy;\r\n\t\tmat && mat.transformPointArray(data,data);\r\n\t\tvar vpos=(vb._byteLength >> 2)+/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16;\r\n\t\tvb.byteLength=(vpos << 2);\r\n\t\tvb.insertData(data,vpos-/*laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tGlUtils._fillLineArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\r\n\treturn GlUtils;\r\n})()\r\n\r\n\r\n//class laya.webgl.utils.MatirxArray\r\nvar MatirxArray=(function(){\r\n\tfunction MatirxArray(){}\r\n\t__class(MatirxArray,'laya.webgl.utils.MatirxArray');\r\n\tMatirxArray.ArrayMul=function(a,b,o){\r\n\t\tif (!a){\r\n\t\t\tMatirxArray.copyArray(b,o);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!b){\r\n\t\t\tMatirxArray.copyArray(a,o);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar ai0=NaN,ai1=NaN,ai2=NaN,ai3=NaN;\r\n\t\tfor (var i=0;i < 4;i++){\r\n\t\t\tai0=a[i];\r\n\t\t\tai1=a[i+4];\r\n\t\t\tai2=a[i+8];\r\n\t\t\tai3=a[i+12];\r\n\t\t\to[i]=ai0 *b[0]+ai1 *b[1]+ai2 *b[2]+ai3 *b[3];\r\n\t\t\to[i+4]=ai0 *b[4]+ai1 *b[5]+ai2 *b[6]+ai3 *b[7];\r\n\t\t\to[i+8]=ai0 *b[8]+ai1 *b[9]+ai2 *b[10]+ai3 *b[11];\r\n\t\t\to[i+12]=ai0 *b[12]+ai1 *b[13]+ai2 *b[14]+ai3 *b[15];\r\n\t\t}\r\n\t}\r\n\r\n\tMatirxArray.copyArray=function(f,t){\r\n\t\tif (!f)return;\r\n\t\tif (!t)return;\r\n\t\tfor (var i=0;i < f.length;i++){\r\n\t\t\tt[i]=f[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn MatirxArray;\r\n})()\r\n\r\n\r\n/**\r\n*Mesh2d只是保存数据。描述attribute用的。本身不具有渲染功能。\r\n*/\r\n//class laya.webgl.utils.Mesh2D\r\nvar Mesh2D=(function(){\r\n\tfunction Mesh2D(stride,vballoc,iballoc){\r\n\t\tthis._stride=0;\r\n\t\t//顶点结构大小。每个mesh的顶点结构是固定的。\r\n\t\tthis.vertNum=0;\r\n\t\t//当前的顶点的个数\r\n\t\tthis.indexNum=0;\r\n\t\t//实际index 个数。例如一个三角形是3个。由于ib本身可能超过实际使用的数量，所以需要一个indexNum\r\n\t\tthis._applied=false;\r\n\t\t//是否已经设置给webgl了\r\n\t\tthis._vb=null;\r\n\t\t//vb和ib都可能需要在外部修改，所以public\r\n\t\tthis._ib=null;\r\n\t\tthis._vao=null;\r\n\t\tthis._attribInfo=null;\r\n\t\t//保存起来的属性定义数组。\r\n\t\tthis._quadNum=0;\r\n\t\t//public static var meshlist:Array=[];//活着的mesh对象列表。\r\n\t\tthis.canReuse=false;\r\n\t\tthis._stride=stride;\r\n\t\tthis._vb=new VertexBuffer2D(stride,/*laya.webgl.WebGLContext.DYNAMIC_DRAW*/0x88E8);\r\n\t\tif (vballoc){\r\n\t\t\tthis._vb._resizeBuffer(vballoc,false);\r\n\t\t}else{}\r\n\t\tthis._ib=new IndexBuffer2D();\r\n\t\tif (iballoc){\r\n\t\t\tthis._ib._resizeBuffer(iballoc,false);\r\n\t\t}\r\n\t}\r\n\r\n\t__class(Mesh2D,'laya.webgl.utils.Mesh2D');\r\n\tvar __proto=Mesh2D.prototype;\r\n\t/**\r\n\t*重新创建一个mesh。复用这个对象的vertex结构，ib对象和attribinfo对象\r\n\t*/\r\n\t__proto.cloneWithNewVB=function(){\r\n\t\tvar mesh=new Mesh2D(this._stride,0,0);\r\n\t\tmesh._ib=this._ib;\r\n\t\tmesh._quadNum=this._quadNum;\r\n\t\tmesh._attribInfo=this._attribInfo;\r\n\t\treturn mesh;\r\n\t}\r\n\r\n\t/**\r\n\t*创建一个mesh，使用当前对象的vertex结构。vb和ib自己提供。\r\n\t*@return\r\n\t*/\r\n\t__proto.cloneWithNewVBIB=function(){\r\n\t\tvar mesh=new Mesh2D(this._stride,0,0);\r\n\t\tmesh._attribInfo=this._attribInfo;\r\n\t\treturn mesh;\r\n\t}\r\n\r\n\t/**\r\n\t*获得一个可以写的vb对象\r\n\t*/\r\n\t__proto.getVBW=function(){\r\n\t\tthis._vb.setNeedUpload();\r\n\t\treturn this._vb;\r\n\t}\r\n\r\n\t/**\r\n\t*获得一个只读vb\r\n\t*/\r\n\t__proto.getVBR=function(){\r\n\t\treturn this._vb;\r\n\t}\r\n\r\n\t__proto.getIBR=function(){\r\n\t\treturn this._ib;\r\n\t}\r\n\r\n\t/**\r\n\t*获得一个可写的ib\r\n\t*/\r\n\t__proto.getIBW=function(){\r\n\t\tthis._ib.setNeedUpload();\r\n\t\treturn this._ib;\r\n\t}\r\n\r\n\t/**\r\n\t*直接创建一个固定的ib。按照固定四边形的索引。\r\n\t*@param var QuadNum\r\n\t*/\r\n\t__proto.createQuadIB=function(QuadNum){\r\n\t\tthis._quadNum=QuadNum;\r\n\t\tthis._ib._resizeBuffer(QuadNum *6 *2,false);\r\n\t\tthis._ib.byteLength=this._ib.bufferLength;\r\n\t\tvar bd=this._ib.getUint16Array();\r\n\t\tvar idx=0;\r\n\t\tvar curvert=0;\r\n\t\tfor (var i=0;i < QuadNum;i++){\r\n\t\t\tbd[idx++]=curvert;\r\n\t\t\tbd[idx++]=curvert+2;\r\n\t\t\tbd[idx++]=curvert+1;\r\n\t\t\tbd[idx++]=curvert;\r\n\t\t\tbd[idx++]=curvert+3;\r\n\t\t\tbd[idx++]=curvert+2;\r\n\t\t\tcurvert+=4;\r\n\t\t}\r\n\t\tthis._ib.setNeedUpload();\r\n\t}\r\n\r\n\t/**\r\n\t*设置mesh的属性。每3个一组，对应的location分别是0,1,2...\r\n\t*含义是：type,size,offset\r\n\t*不允许多流。因此stride是固定的，offset只是在一个vertex之内。\r\n\t*@param attribs\r\n\t*/\r\n\t__proto.setAttributes=function(attribs){\r\n\t\tthis._attribInfo=attribs;\r\n\t\tif (this._attribInfo.length % 3 !=0){\r\n\t\t\tthrow 'Mesh2D setAttributes error!';\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getEleNum=function(){\r\n\t\treturn this._ib.getBuffer().byteLength / 2;\r\n\t}\r\n\r\n\t/**\r\n\t*子类实现。用来把自己放到对应的回收池中，以便复用。\r\n\t*/\r\n\t__proto.releaseMesh=function(){}\r\n\t/**\r\n\t*释放资源。\r\n\t*/\r\n\t__proto.destroy=function(){}\r\n\t/**\r\n\t*清理vb数据\r\n\t*/\r\n\t__proto.clearVB=function(){\r\n\t\tthis._vb.clear();\r\n\t}\r\n\r\n\tMesh2D._gvaoid=0;\r\n\treturn Mesh2D;\r\n})()\r\n\r\n\r\n//class laya.webgl.utils.RenderState2D\r\nvar RenderState2D=(function(){\r\n\tfunction RenderState2D(){}\r\n\t__class(RenderState2D,'laya.webgl.utils.RenderState2D');\r\n\tRenderState2D.getMatrArray=function(){\r\n\t\treturn [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\r\n\t}\r\n\r\n\tRenderState2D.mat2MatArray=function(mat,matArray){\r\n\t\tvar m=mat;\r\n\t\tvar m4=matArray;\r\n\t\tm4[0]=m.a;\r\n\t\tm4[1]=m.b;\r\n\t\tm4[2]=RenderState2D.EMPTYMAT4_ARRAY[2];\r\n\t\tm4[3]=RenderState2D.EMPTYMAT4_ARRAY[3];\r\n\t\tm4[4]=m.c;\r\n\t\tm4[5]=m.d;\r\n\t\tm4[6]=RenderState2D.EMPTYMAT4_ARRAY[6];\r\n\t\tm4[7]=RenderState2D.EMPTYMAT4_ARRAY[7];\r\n\t\tm4[8]=RenderState2D.EMPTYMAT4_ARRAY[8];\r\n\t\tm4[9]=RenderState2D.EMPTYMAT4_ARRAY[9];\r\n\t\tm4[10]=RenderState2D.EMPTYMAT4_ARRAY[10];\r\n\t\tm4[11]=RenderState2D.EMPTYMAT4_ARRAY[11];\r\n\t\tm4[12]=m.tx;\r\n\t\tm4[13]=m.ty;\r\n\t\tm4[14]=RenderState2D.EMPTYMAT4_ARRAY[14];\r\n\t\tm4[15]=RenderState2D.EMPTYMAT4_ARRAY[15];\r\n\t\treturn matArray;\r\n\t}\r\n\r\n\tRenderState2D.restoreTempArray=function(){\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[0]=1;\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[1]=0;\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[4]=0;\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[5]=1;\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[12]=0;\r\n\t\tRenderState2D.TEMPMAT4_ARRAY[13]=0;\r\n\t}\r\n\r\n\tRenderState2D.clear=function(){\r\n\t\tRenderState2D.worldScissorTest=false;\r\n\t\tRenderState2D.worldShaderDefines=null;\r\n\t\tRenderState2D.worldFilters=null;\r\n\t\tRenderState2D.worldAlpha=1;\r\n\t\tRenderState2D.worldClipRect.x=RenderState2D.worldClipRect.y=0;\r\n\t\tRenderState2D.worldClipRect.width=RenderState2D.width;\r\n\t\tRenderState2D.worldClipRect.height=RenderState2D.height;\r\n\t\tRenderState2D.curRenderTarget=null;\r\n\t}\r\n\r\n\tRenderState2D._MAXSIZE=99999999;\r\n\tRenderState2D.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\r\n\tRenderState2D.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\r\n\tRenderState2D.worldMatrix4=RenderState2D.TEMPMAT4_ARRAY;\r\n\tRenderState2D.worldAlpha=1.0;\r\n\tRenderState2D.worldScissorTest=false;\r\n\tRenderState2D.worldFilters=null;\r\n\tRenderState2D.worldShaderDefines=null;\r\n\tRenderState2D.curRenderTarget=null;\r\n\tRenderState2D.width=0;\r\n\tRenderState2D.height=0;\r\n\t__static(RenderState2D,\r\n\t['worldMatrix',function(){return this.worldMatrix=new Matrix();},'worldClipRect',function(){return this.worldClipRect=new Rectangle(0,0,99999999,99999999);}\r\n\t]);\r\n\treturn RenderState2D;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*<code>ShaderCompile</code> 类用于实现Shader编译。\r\n*/\r\n//class laya.webgl.utils.ShaderCompile\r\nvar ShaderCompile=(function(){\r\n\tvar ShaderNode,InlcudeFile;\r\n\tfunction ShaderCompile(name,vs,ps,nameMap,defs){\r\n\t\t//this._nameMap=null;\r\n\t\t//this._VS=null;\r\n\t\t//this._PS=null;\r\n\t\tvar _$this=this;\r\n\t\tfunction _compile (script){\r\n\t\t\tvar includefiles=[];\r\n\t\t\tvar top=new ShaderNode(includefiles);\r\n\t\t\t_$this._compileToTree(top,script.split('\\n'),0,includefiles,defs);\r\n\t\t\treturn top;\r\n\t\t};\r\n\t\tvar startTime=Browser.now();\r\n\t\tthis._VS=_compile(vs);\r\n\t\tthis._PS=_compile(ps);\r\n\t\tthis._nameMap=nameMap;\r\n\t\tif ((Browser.now()-startTime)> 2)\r\n\t\t\tconsole.log(\"ShaderCompile use time:\"+(Browser.now()-startTime)+\"  size:\"+vs.length+\"/\"+ps.length);\r\n\t}\r\n\r\n\t__class(ShaderCompile,'laya.webgl.utils.ShaderCompile');\r\n\tvar __proto=ShaderCompile.prototype;\r\n\t__proto._compileToTree=function(parent,lines,start,includefiles,defs){\r\n\t\tvar node,preNode;\r\n\t\tvar text,name,fname;\r\n\t\tvar ofs=0,words,noUseNode;\r\n\t\tvar i=0,n=0,j=0;\r\n\t\tfor (i=start;i < lines.length;i++){\r\n\t\t\ttext=lines[i];\r\n\t\t\tif (text.length < 1)continue ;\r\n\t\t\tofs=text.indexOf(\"//\");\r\n\t\t\tif (ofs===0)continue ;\r\n\t\t\tif (ofs >=0)text=text.substr(0,ofs);\r\n\t\t\tnode=noUseNode || new ShaderNode(includefiles);\r\n\t\t\tnoUseNode=null;\r\n\t\t\tnode.text=text;\r\n\t\t\tnode.noCompile=true;\r\n\t\t\tif ((ofs=text.indexOf(\"#\"))>=0){\r\n\t\t\t\tname=\"#\";\r\n\t\t\t\tfor (j=ofs+1,n=text.length;j < n;j++){\r\n\t\t\t\t\tvar c=text.charAt(j);\r\n\t\t\t\t\tif (c===' ' || c==='\\t' || c==='?')break ;\r\n\t\t\t\t\tname+=c;\r\n\t\t\t\t}\r\n\t\t\t\tnode.name=name;\r\n\t\t\t\tswitch (name){\r\n\t\t\t\t\tcase \"#ifdef\":\r\n\t\t\t\t\tcase \"#ifndef\":\r\n\t\t\t\t\t\tnode.src=text;\r\n\t\t\t\t\t\tnode.noCompile=text.match(/[!&|()=<>]/)!=null;\r\n\t\t\t\t\t\tif (!node.noCompile){\r\n\t\t\t\t\t\t\twords=text.replace(/^\\s*/,'').split(/\\s+/);\r\n\t\t\t\t\t\t\tnode.setCondition(words[1],name===\"#ifdef\" ? 1 :2);\r\n\t\t\t\t\t\t\tnode.text=\"//\"+node.text;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tconsole.log(\"function():Boolean{return \"+text.substr(ofs+node.name.length)+\"}\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.setParent(parent);\r\n\t\t\t\t\t\tparent=node;\r\n\t\t\t\t\t\tif (defs){\r\n\t\t\t\t\t\t\twords=text.substr(j).split(ShaderCompile._splitToWordExps3);\r\n\t\t\t\t\t\t\tfor (j=0;j < words.length;j++){\r\n\t\t\t\t\t\t\t\ttext=words[j];\r\n\t\t\t\t\t\t\t\ttext.length && (defs[ text]=true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tcase \"#if\":\r\n\t\t\t\t\t\tnode.src=text;\r\n\t\t\t\t\t\tnode.noCompile=true;\r\n\t\t\t\t\t\tnode.setParent(parent);\r\n\t\t\t\t\t\tparent=node;\r\n\t\t\t\t\t\tif (defs){\r\n\t\t\t\t\t\t\twords=text.substr(j).split(ShaderCompile._splitToWordExps3);\r\n\t\t\t\t\t\t\tfor (j=0;j < words.length;j++){\r\n\t\t\t\t\t\t\t\ttext=words[j];\r\n\t\t\t\t\t\t\t\ttext.length && text!=\"defined\" && (defs[ text]=true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tcase \"#else\":\r\n\t\t\t\t\t\tnode.src=text;\r\n\t\t\t\t\t\tparent=parent.parent;\r\n\t\t\t\t\t\tpreNode=parent.childs[parent.childs.length-1];\r\n\t\t\t\t\t\tnode.noCompile=preNode.noCompile\r\n\t\t\t\t\t\tif (!(node.noCompile)){\r\n\t\t\t\t\t\t\tnode.condition=preNode.condition;\r\n\t\t\t\t\t\t\tnode.conditionType=preNode.conditionType==1 ? 2 :1;\r\n\t\t\t\t\t\t\tnode.text=\"//\"+node.text+\" \"+preNode.text+\" \"+node.conditionType;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.setParent(parent);\r\n\t\t\t\t\t\tparent=node;\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tcase \"#endif\":\r\n\t\t\t\t\t\tparent=parent.parent;\r\n\t\t\t\t\t\tpreNode=parent.childs[parent.childs.length-1];\r\n\t\t\t\t\t\tnode.noCompile=preNode.noCompile;\r\n\t\t\t\t\t\tif (!(node.noCompile)){\r\n\t\t\t\t\t\t\tnode.text=\"//\"+node.text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.setParent(parent);\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tcase \"#include\":\r\n\t\t\t\t\t\twords=ShaderCompile.splitToWords(text,null);\r\n\t\t\t\t\t\tvar inlcudeFile=ShaderCompile.includes[words[1]];\r\n\t\t\t\t\t\tif (!inlcudeFile){\r\n\t\t\t\t\t\t\tthrow \"ShaderCompile error no this include file:\"+words[1];\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((ofs=words[0].indexOf(\"?\"))< 0){\r\n\t\t\t\t\t\t\tnode.setParent(parent);\r\n\t\t\t\t\t\t\ttext=inlcudeFile.getWith(words[2]=='with' ? words[3] :null);\r\n\t\t\t\t\t\t\tthis._compileToTree(node,text.split('\\n'),0,includefiles,defs);\r\n\t\t\t\t\t\t\tnode.text=\"\";\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode.setCondition(words[0].substr(ofs+1),1);\r\n\t\t\t\t\t\tnode.text=inlcudeFile.getWith(words[2]=='with' ? words[3] :null);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"#import\":\r\n\t\t\t\t\t\twords=ShaderCompile.splitToWords(text,null);\r\n\t\t\t\t\t\tfname=words[1];\r\n\t\t\t\t\t\tincludefiles.push({node:node,file:ShaderCompile.includes[fname],ofs:node.text.length});\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\tpreNode=parent.childs[parent.childs.length-1];\r\n\t\t\t\tif (preNode && !preNode.name){\r\n\t\t\t\t\tincludefiles.length > 0 && ShaderCompile.splitToWords(text,preNode);\r\n\t\t\t\t\tnoUseNode=node;\r\n\t\t\t\t\tpreNode.text+=\"\\n\"+text;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tincludefiles.length > 0 && ShaderCompile.splitToWords(text,node);\r\n\t\t\t}\r\n\t\t\tnode.setParent(parent);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.createShader=function(define,shaderName,createShader){\r\n\t\tvar defMap={};\r\n\t\tvar defineStr=\"\";\r\n\t\tif (define){\r\n\t\t\tfor (var i in define){\r\n\t\t\t\tdefineStr+=\"#define \"+i+\"\\n\";\r\n\t\t\t\tdefMap[i]=true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar vs=this._VS.toscript(defMap,[]);\r\n\t\tvar ps=this._PS.toscript(defMap,[]);\r\n\t\treturn (createShader || Shader.create)(defineStr+vs.join('\\n'),defineStr+ps.join('\\n'),shaderName,this._nameMap);\r\n\t}\r\n\r\n\tShaderCompile._parseOne=function(attributes,uniforms,words,i,word,b){\r\n\t\tvar one={type:ShaderCompile.shaderParamsMap[words[i+1]],name:words[i+2],size:isNaN(parseInt(words[i+3]))? 1 :parseInt(words[i+3])};\r\n\t\tif (b){\r\n\t\t\tif (word==\"attribute\"){\r\n\t\t\t\tattributes.push(one);\r\n\t\t\t\t}else {\r\n\t\t\t\tuniforms.push(one);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (words[i+3]==':'){\r\n\t\t\tone.type=words[i+4];\r\n\t\t\ti+=2;\r\n\t\t}\r\n\t\ti+=2;\r\n\t\treturn i;\r\n\t}\r\n\r\n\tShaderCompile.addInclude=function(fileName,txt){\r\n\t\tif (!txt || txt.length===0)\r\n\t\t\tthrow new Error(\"add shader include file err:\"+fileName);\r\n\t\tif (ShaderCompile.includes[fileName])\r\n\t\t\tthrow new Error(\"add shader include file err, has add:\"+fileName);\r\n\t\tShaderCompile.includes[fileName]=new InlcudeFile(txt);\r\n\t}\r\n\r\n\tShaderCompile.preGetParams=function(vs,ps){\r\n\t\tvar text=[vs,ps];\r\n\t\tvar result={};\r\n\t\tvar attributes=[];\r\n\t\tvar uniforms=[];\r\n\t\tvar definesInfo={};\r\n\t\tvar definesName=[];\r\n\t\tresult.attributes=attributes;\r\n\t\tresult.uniforms=uniforms;\r\n\t\tresult.defines=definesInfo;\r\n\t\tvar i=0,n=0,one;\r\n\t\tfor (var s=0;s < 2;s++){\r\n\t\t\ttext[s]=text[s].replace(ShaderCompile._removeAnnotation,\"\");\r\n\t\t\tvar words=text[s].match(ShaderCompile._reg);\r\n\t\t\tvar tempelse;\r\n\t\t\tfor (i=0,n=words.length;i < n;i++){\r\n\t\t\t\tvar word=words[i];\r\n\t\t\t\tif (word !=\"attribute\" && word !=\"uniform\"){\r\n\t\t\t\t\tif (word==\"#define\"){\r\n\t\t\t\t\t\tword=words[++i];\r\n\t\t\t\t\t\tdefinesName[word]=1;\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t}else if (word==\"#ifdef\"){\r\n\t\t\t\t\t\ttempelse=words[++i];\r\n\t\t\t\t\t\tvar def=definesInfo[tempelse]=definesInfo[tempelse] || [];\r\n\t\t\t\t\t\tfor (i++;i < n;i++){\r\n\t\t\t\t\t\t\tword=words[i];\r\n\t\t\t\t\t\t\tif (word !=\"attribute\" && word !=\"uniform\"){\r\n\t\t\t\t\t\t\t\tif (word==\"#else\"){\r\n\t\t\t\t\t\t\t\t\tfor (i++;i < n;i++){\r\n\t\t\t\t\t\t\t\t\t\tword=words[i];\r\n\t\t\t\t\t\t\t\t\t\tif (word !=\"attribute\" && word !=\"uniform\"){\r\n\t\t\t\t\t\t\t\t\t\t\tif (word==\"#endif\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ti=ShaderCompile._parseOne(attributes,uniforms,words,i,word,!definesName[tempelse]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti=ShaderCompile._parseOne(attributes,uniforms,words,i,word,definesName[tempelse]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\ti=ShaderCompile._parseOne(attributes,uniforms,words,i,word,true);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tShaderCompile.splitToWords=function(str,block){\r\n\t\tvar out=[];\r\n\t\tvar c;\r\n\t\tvar ofs=-1;\r\n\t\tvar word;\r\n\t\tfor (var i=0,n=str.length;i < n;i++){\r\n\t\t\tc=str.charAt(i);\r\n\t\t\tif (\" \\t=+-*/&%!<>()'\\\",;\".indexOf(c)>=0){\r\n\t\t\t\tif (ofs >=0 && (i-ofs)> 1){\r\n\t\t\t\t\tword=str.substr(ofs,i-ofs);\r\n\t\t\t\t\tout.push(word);\r\n\t\t\t\t}\r\n\t\t\t\tif (c=='\"' || c==\"'\"){\r\n\t\t\t\t\tvar ofs2=str.indexOf(c,i+1);\r\n\t\t\t\t\tif (ofs2 < 0){\r\n\t\t\t\t\t\tthrow \"Sharder err:\"+str;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.push(str.substr(i+1,ofs2-i-1));\r\n\t\t\t\t\ti=ofs2;\r\n\t\t\t\t\tofs=-1;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tif (c=='(' && block && out.length > 0){\r\n\t\t\t\t\tword=out[out.length-1]+\";\";\r\n\t\t\t\t\tif (\"vec4;main;\".indexOf(word)< 0)\r\n\t\t\t\t\t\tblock.useFuns+=word;\r\n\t\t\t\t}\r\n\t\t\t\tofs=-1;\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tif (ofs < 0)ofs=i;\r\n\t\t}\r\n\t\tif (ofs < n && (n-ofs)> 1){\r\n\t\t\tword=str.substr(ofs,n-ofs);\r\n\t\t\tout.push(word);\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tShaderCompile.IFDEF_NO=0;\r\n\tShaderCompile.IFDEF_YES=1;\r\n\tShaderCompile.IFDEF_ELSE=2;\r\n\tShaderCompile.IFDEF_PARENT=3;\r\n\tShaderCompile._removeAnnotation=new RegExp(\"(/\\\\*([^*]|[\\\\r\\\\\\n]|(\\\\*+([^*/]|[\\\\r\\\\n])))*\\\\*+/)|(//.*)\",\"g\");\r\n\tShaderCompile._reg=new RegExp(\"(\\\".*\\\")|('.*')|([#\\\\w\\\\*-\\\\.+/()=<>{}\\\\\\\\]+)|([,;:\\\\\\\\])\",\"g\");\r\n\tShaderCompile._splitToWordExps=new RegExp(\"[(\\\".*\\\")]+|[('.*')]+|([ \\\\t=\\\\+\\\\-*/&%!<>!%\\(\\),;])\",\"g\");\r\n\tShaderCompile.includes={};\r\n\t__static(ShaderCompile,\r\n\t['shaderParamsMap',function(){return this.shaderParamsMap={\"float\":/*laya.webgl.WebGLContext.FLOAT*/0x1406,\"int\":/*laya.webgl.WebGLContext.INT*/0x1404,\"bool\":/*laya.webgl.WebGLContext.BOOL*/0x8B56,\"vec2\":/*laya.webgl.WebGLContext.FLOAT_VEC2*/0x8B50,\"vec3\":/*laya.webgl.WebGLContext.FLOAT_VEC3*/0x8B51,\"vec4\":/*laya.webgl.WebGLContext.FLOAT_VEC4*/0x8B52,\"ivec2\":/*laya.webgl.WebGLContext.INT_VEC2*/0x8B53,\"ivec3\":/*laya.webgl.WebGLContext.INT_VEC3*/0x8B54,\"ivec4\":/*laya.webgl.WebGLContext.INT_VEC4*/0x8B55,\"bvec2\":/*laya.webgl.WebGLContext.BOOL_VEC2*/0x8B57,\"bvec3\":/*laya.webgl.WebGLContext.BOOL_VEC3*/0x8B58,\"bvec4\":/*laya.webgl.WebGLContext.BOOL_VEC4*/0x8B59,\"mat2\":/*laya.webgl.WebGLContext.FLOAT_MAT2*/0x8B5A,\"mat3\":/*laya.webgl.WebGLContext.FLOAT_MAT3*/0x8B5B,\"mat4\":/*laya.webgl.WebGLContext.FLOAT_MAT4*/0x8B5C,\"sampler2D\":/*laya.webgl.WebGLContext.SAMPLER_2D*/0x8B5E,\"samplerCube\":/*laya.webgl.WebGLContext.SAMPLER_CUBE*/0x8B60};},'_splitToWordExps3',function(){return this._splitToWordExps3=new RegExp(\"[ \\\\t=\\\\+\\\\-*/&%!<>!%\\(\\),;\\\\|]\",\"g\");}\r\n\t]);\r\n\tShaderCompile.__init$=function(){\r\n\t\t//class ShaderNode\r\n\t\tShaderNode=(function(){\r\n\t\t\tfunction ShaderNode(includefiles){\r\n\t\t\t\tthis.childs=[];\r\n\t\t\t\tthis.text=\"\";\r\n\t\t\t\tthis.parent=null;\r\n\t\t\t\tthis.name=null;\r\n\t\t\t\tthis.noCompile=false;\r\n\t\t\t\tthis.includefiles=null;\r\n\t\t\t\tthis.condition=null;\r\n\t\t\t\tthis.conditionType=0;\r\n\t\t\t\tthis.useFuns=\"\";\r\n\t\t\t\tthis.z=0;\r\n\t\t\t\tthis.src=null;\r\n\t\t\t\tthis.includefiles=includefiles;\r\n\t\t\t}\r\n\t\t\t__class(ShaderNode,'');\r\n\t\t\tvar __proto=ShaderNode.prototype;\r\n\t\t\t__proto.setParent=function(parent){\r\n\t\t\t\tparent.childs.push(this);\r\n\t\t\t\tthis.z=parent.z+1;\r\n\t\t\t\tthis.parent=parent;\r\n\t\t\t}\r\n\t\t\t__proto.setCondition=function(condition,type){\r\n\t\t\t\tif (condition){\r\n\t\t\t\t\tthis.conditionType=type;\r\n\t\t\t\t\tcondition=condition.replace(/(\\s*$)/g,\"\");\r\n\t\t\t\t\tthis.condition=function (){\r\n\t\t\t\t\t\treturn this[condition];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.condition.__condition=condition;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t__proto.toscript=function(def,out){\r\n\t\t\t\treturn this._toscript(def,out,++ShaderNode.__id);\r\n\t\t\t}\r\n\t\t\t__proto._toscript=function(def,out,id){\r\n\t\t\t\tif (this.childs.length < 1 && !this.text)return out;\r\n\t\t\t\tvar outIndex=out.length;\r\n\t\t\t\tif (this.condition){\r\n\t\t\t\t\tvar ifdef=!!this.condition.call(def);\r\n\t\t\t\t\tthis.conditionType===/*laya.webgl.utils.ShaderCompile.IFDEF_ELSE*/2 && (ifdef=!ifdef);\r\n\t\t\t\t\tif (!ifdef)return out;\r\n\t\t\t\t}\r\n\t\t\t\tthis.text && out.push(this.text);\r\n\t\t\t\tthis.childs.length > 0 && this.childs.forEach(function(o,index,arr){\r\n\t\t\t\t\to._toscript(def,out,id);\r\n\t\t\t\t});\r\n\t\t\t\tif (this.includefiles.length > 0 && this.useFuns.length > 0){\r\n\t\t\t\t\tvar funsCode;\r\n\t\t\t\t\tfor (var i=0,n=this.includefiles.length;i < n;i++){\r\n\t\t\t\t\t\tif (this.includefiles[i].curUseID==id){\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfunsCode=this.includefiles[i].file.getFunsScript(this.useFuns);\r\n\t\t\t\t\t\tif (funsCode.length > 0){\r\n\t\t\t\t\t\t\tthis.includefiles[i].curUseID=id;\r\n\t\t\t\t\t\t\tout[0]=funsCode+out[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn out;\r\n\t\t\t}\r\n\t\t\tShaderNode.__id=1;\r\n\t\t\treturn ShaderNode;\r\n\t\t})()\r\n\t\t//class InlcudeFile\r\n\t\tInlcudeFile=(function(){\r\n\t\t\tfunction InlcudeFile(txt){\r\n\t\t\t\tthis.script=null;\r\n\t\t\t\tthis.codes={};\r\n\t\t\t\tthis.funs={};\r\n\t\t\t\tthis.curUseID=-1;\r\n\t\t\t\tthis.funnames=\"\";\r\n\t\t\t\tthis.script=txt;\r\n\t\t\t\tvar begin=0,ofs=0,end=0;\r\n\t\t\t\twhile (true){\r\n\t\t\t\t\tbegin=txt.indexOf(\"#begin\",begin);\r\n\t\t\t\t\tif (begin < 0)break ;\r\n\t\t\t\t\tend=begin+5;\r\n\t\t\t\t\twhile (true){\r\n\t\t\t\t\t\tend=txt.indexOf(\"#end\",end);\r\n\t\t\t\t\t\tif (end < 0)break ;\r\n\t\t\t\t\t\tif (txt.charAt(end+4)==='i')\r\n\t\t\t\t\t\t\tend+=5;\r\n\t\t\t\t\t\telse break ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (end < 0){\r\n\t\t\t\t\t\tthrow \"add include err,no #end:\"+txt;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tofs=txt.indexOf('\\n',begin);\r\n\t\t\t\t\tvar words=ShaderCompile.splitToWords(txt.substr(begin,ofs-begin),null);\r\n\t\t\t\t\tif (words[1]=='code'){\r\n\t\t\t\t\t\tthis.codes[words[2]]=txt.substr(ofs+1,end-ofs-1);\r\n\t\t\t\t\t\t}else if (words[1]=='function'){\r\n\t\t\t\t\t\tofs=txt.indexOf(\"function\",begin);\r\n\t\t\t\t\t\tofs+=\"function\".length;\r\n\t\t\t\t\t\tthis.funs[words[3]]=txt.substr(ofs+1,end-ofs-1);\r\n\t\t\t\t\t\tthis.funnames+=words[3]+\";\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbegin=end+1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t__class(InlcudeFile,'');\r\n\t\t\tvar __proto=InlcudeFile.prototype;\r\n\t\t\t__proto.getWith=function(name){\r\n\t\t\t\tvar r=name ? this.codes[name] :this.script;\r\n\t\t\t\tif (!r){\r\n\t\t\t\t\tthrow \"get with error:\"+name;\r\n\t\t\t\t}\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t\t\t__proto.getFunsScript=function(funsdef){\r\n\t\t\t\tvar r=\"\";\r\n\t\t\t\tfor (var i in this.funs){\r\n\t\t\t\t\tif (funsdef.indexOf(i+\";\")>=0){\r\n\t\t\t\t\t\tr+=this.funs[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t\t\treturn InlcudeFile;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn ShaderCompile;\r\n})()\r\n\r\n\r\n/**\r\n*@private\r\n*/\r\n//class laya.webgl.WebGL\r\nvar WebGL=(function(){\r\n\tfunction WebGL(){}\r\n\t__class(WebGL,'laya.webgl.WebGL');\r\n\tWebGL._uint8ArraySlice=function(){\r\n\t\tvar _this=/*__JS__ */this;\r\n\t\tvar sz=_this.length;\r\n\t\tvar dec=new Uint8Array(_this.length);\r\n\t\tfor (var i=0;i < sz;i++)dec[i]=_this[i];\r\n\t\treturn dec;\r\n\t}\r\n\r\n\tWebGL._float32ArraySlice=function(){\r\n\t\tvar _this=/*__JS__ */this;\r\n\t\tvar sz=_this.length;\r\n\t\tvar dec=new Float32Array(_this.length);\r\n\t\tfor (var i=0;i < sz;i++)dec[i]=_this[i];\r\n\t\treturn dec;\r\n\t}\r\n\r\n\tWebGL._uint16ArraySlice=function(__arg){\r\n\t\tvar arg=arguments;\r\n\t\tvar _this=/*__JS__ */this;\r\n\t\tvar sz=0;\r\n\t\tvar dec;\r\n\t\tvar i=0;\r\n\t\tif (arg.length===0){\r\n\t\t\tsz=_this.length;\r\n\t\t\tdec=new Uint16Array(sz);\r\n\t\t\tfor (i=0;i < sz;i++)\r\n\t\t\tdec[i]=_this[i];\r\n\t\t\t}else if (arg.length===2){\r\n\t\t\tvar start=arg[0];\r\n\t\t\tvar end=arg[1];\r\n\t\t\tif (end > start){\r\n\t\t\t\tsz=end-start;\r\n\t\t\t\tdec=new Uint16Array(sz);\r\n\t\t\t\tfor (i=start;i < end;i++)\r\n\t\t\t\tdec[i-start]=_this[i];\r\n\t\t\t\t}else {\r\n\t\t\t\tdec=new Uint16Array(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dec;\r\n\t}\r\n\r\n\tWebGL.expandContext=function(){\r\n\t\tvar from=Context.prototype;\r\n\t\tvar to=/*__JS__ */CanvasRenderingContext2D.prototype;\r\n\t\tto.fillTrangles=from.fillTrangles;\r\n\t\tBuffer2D.__int__(null);\r\n\t\tto.setIBVB=function (x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex,offset){\r\n\t\t\t(startIndex===void 0)&& (startIndex=0);\r\n\t\t\t(offset===void 0)&& (offset=0);\r\n\t\t\tif (ib===null){\r\n\t\t\t\tthis._ib=this._ib || IndexBuffer2D.QuadrangleIB;\r\n\t\t\t\tib=this._ib;\r\n\t\t\t\tGlUtils.expandIBQuadrangle(ib,(vb._byteLength / (4 *16)+8));\r\n\t\t\t}\r\n\t\t\tthis._setIBVB(x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex,offset);\r\n\t\t};\r\n\t\tto.fillTrangles=function (tex,x,y,points,m){\r\n\t\t\tthis._curMat=this._curMat || Matrix.create();\r\n\t\t\tthis._vb=this._vb || VertexBuffer2D.create();\r\n\t\t\tif (!this._ib){\r\n\t\t\t\tthis._ib=IndexBuffer2D.create();\r\n\t\t\t\tGlUtils.fillIBQuadrangle(this._ib,length / 4);\r\n\t\t\t};\r\n\t\t\tvar vb=this._vb;\r\n\t\t\tvar length=points.length >> 4;\r\n\t\t\tGlUtils.fillTranglesVB(vb,x,y,points,m || this._curMat,0,0);\r\n\t\t\tGlUtils.expandIBQuadrangle(this._ib,(vb._byteLength / (4 *16)+8));\r\n\t\t\tvar shaderValues=new Value2D(0x01,0);\r\n\t\t\tshaderValues.textureHost=tex;\r\n\t\t\tvar sd=new Shader2X(\"attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }\",\"precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; void main() {vec4 color= texture2D(texture, v_texcoord); color.a*=1.0; gl_FragColor= color;}\");\r\n\t\t\t/*__JS__ */vb._vertType=3;\r\n\t\t\tthis._setIBVB(x,y,this._ib,vb,length *6,m,sd,shaderValues,0,0);\r\n\t\t}\r\n\t}\r\n\r\n\tWebGL.enable=function(){\r\n\t\tBrowser.__init__();\r\n\t\tif (Render.isConchApp){\r\n\t\t\tif (!Render.isConchWebGL){\r\n\t\t\t\tRunDriver.skinAniSprite=function (){\r\n\t\t\t\t\tvar tSkinSprite=new SkinMesh()\r\n\t\t\t\t\treturn tSkinSprite;\r\n\t\t\t\t}\r\n\t\t\t\tWebGL.expandContext();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tRunDriver.getWebGLContext=function getWebGLContext (canvas){\r\n\t\t\tvar gl;\r\n\t\t\tvar names=[\"webgl\",\"experimental-webgl\",\"webkit-3d\",\"moz-webgl\"];\r\n\t\t\tfor (var i=0;i < names.length;i++){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tgl=canvas.getContext(names[i],{stencil:Config.isStencil,alpha:Config.isAlpha,antialias:Config.isAntialias,premultipliedAlpha:Config.premultipliedAlpha,preserveDrawingBuffer:Config.preserveDrawingBuffer});\r\n\t\t\t\t}catch (e){}\r\n\t\t\t\tif (gl)\r\n\t\t\t\t\treturn gl;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tWebGL.mainContext=RunDriver.getWebGLContext(Render._mainCanvas);\r\n\t\tif (WebGL.mainContext==null)\r\n\t\t\treturn false;\r\n\t\tif (Render.isWebGL)return true;\r\n\t\tHTMLImage.create=function (src,def){\r\n\t\t\treturn new WebGLImage(src,def);\r\n\t\t}\r\n\t\tHTMLSubImage.create=function (canvas,offsetX,offsetY,width,height,atlasImage,src){\r\n\t\t\treturn new WebGLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src);\r\n\t\t}\r\n\t\tRender.WebGL=WebGL;\r\n\t\tRender.isWebGL=true;\r\n\t\tDrawText.__init__();\r\n\t\tRunDriver.createRenderSprite=function (type,next){\r\n\t\t\treturn new RenderSprite3D(type,next);\r\n\t\t}\r\n\t\tRunDriver.createWebGLContext2D=function (c){\r\n\t\t\treturn new WebGLContext2D(c);\r\n\t\t}\r\n\t\tRunDriver.changeWebGLSize=function (width,height){\r\n\t\t\tlaya.webgl.WebGL.onStageResize(width,height);\r\n\t\t}\r\n\t\tRunDriver.createGraphics=function (){\r\n\t\t\treturn new GraphicsGL();\r\n\t\t};\r\n\t\tvar action=RunDriver.createFilterAction;\r\n\t\tRunDriver.createFilterAction=action ? action :function (type){\r\n\t\t\treturn new ColorFilterActionGL()\r\n\t\t}\r\n\t\tRunDriver.clear=function (color){\r\n\t\t\tRenderState2D.worldScissorTest && laya.webgl.WebGL.mainContext.disable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t\tvar ctx=Render.context.ctx;\r\n\t\t\tvar c=(ctx._submits._length==0 || Config.preserveDrawingBuffer)? Color.create(color)._color :Stage._wgColor;\r\n\t\t\tif (c)ctx.clearBG(c[0],c[1],c[2],c[3]);\r\n\t\t\tRenderState2D.clear();\r\n\t\t}\r\n\t\tRunDriver.addToAtlas=function (texture,force){\r\n\t\t\t(force===void 0)&& (force=false);\r\n\t\t\tvar bitmap=texture.bitmap;\r\n\t\t\tif (!Render.optimizeTextureMemory(texture.url,texture)){\r\n\t\t\t\t(bitmap).enableMerageInAtlas=false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ((Laya.__typeof(bitmap,'laya.webgl.resource.IMergeAtlasBitmap'))&& ((bitmap).allowMerageInAtlas)){\r\n\t\t\t\tbitmap.on(/*laya.events.Event.RECOVERED*/\"recovered\",texture,texture.addTextureToAtlas);\r\n\t\t\t}\r\n\t\t}\r\n\t\tRunDriver.isAtlas=function (bitmap){\r\n\t\t\treturn (bitmap instanceof laya.webgl.atlas.AtlasWebGLCanvas );\r\n\t\t}\r\n\t\tAtlasResourceManager._enable();\r\n\t\tRunDriver.beginFlush=function (){\r\n\t\t\tvar atlasResourceManager=AtlasResourceManager.instance;\r\n\t\t\tvar count=atlasResourceManager.getAtlaserCount();\r\n\t\t\tfor (var i=0;i < count;i++){\r\n\t\t\t\tvar atlerCanvas=atlasResourceManager.getAtlaserByIndex(i).texture;\r\n\t\t\t\t(atlerCanvas._flashCacheImageNeedFlush)&& (RunDriver.flashFlushImage(atlerCanvas));\r\n\t\t\t}\r\n\t\t}\r\n\t\tRunDriver.drawToCanvas=function (sprite,_renderType,canvasWidth,canvasHeight,offsetX,offsetY){\r\n\t\t\tif (canvasWidth <=0 || canvasHeight <=0){\r\n\t\t\t\tconsole.log(\"[error] canvasWidth and canvasHeight should greater than zero\");\r\n\t\t\t}\r\n\t\t\toffsetX-=sprite.x;\r\n\t\t\toffsetY-=sprite.y;\r\n\t\t\tcanvasWidth |=1;canvasHeight |=1;offsetX |=1;offsetY |=1;\r\n\t\t\tvar renderTarget=RenderTarget2D.create(canvasWidth,canvasHeight,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,0,false);\r\n\t\t\trenderTarget.start();\r\n\t\t\trenderTarget.clear(0,0,0,0);\r\n\t\t\tRender.context.clear();\r\n\t\t\tRenderSprite.renders[_renderType]._fun(sprite,Render.context,offsetX,RenderState2D.height-canvasHeight+offsetY);\r\n\t\t\tRender.context.flush();\r\n\t\t\trenderTarget.end();\r\n\t\t\tvar pixels=renderTarget.getData(0,0,canvasWidth,canvasHeight);\r\n\t\t\trenderTarget.recycle();\r\n\t\t\tif (pixels.byteLength !=canvasWidth *canvasHeight *4){\r\n\t\t\t\tconsole.log('drawToCanvas error: w:'+canvasWidth+',h:'+canvasHeight+',datalen:'+pixels.byteLength);\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar htmlCanvas=new WebGLCanvas();\r\n\t\t\thtmlCanvas._canvas=Browser.createElement(\"canvas\");\r\n\t\t\thtmlCanvas.size(canvasWidth,canvasHeight);\r\n\t\t\tvar context=htmlCanvas._canvas.getContext('2d');\r\n\t\t\tBrowser.canvas.size(canvasWidth,canvasHeight);\r\n\t\t\tvar tempContext=Browser.context;\r\n\t\t\tvar imgData=tempContext.createImageData(canvasWidth,canvasHeight);\r\n\t\t\timgData.data.set(/*__JS__ */new Uint8ClampedArray(pixels.buffer));\r\n\t\t\thtmlCanvas._imgData=imgData;\r\n\t\t\ttempContext.putImageData(imgData,0,0);\r\n\t\t\tcontext.save();\r\n\t\t\tcontext.translate(0,canvasHeight);\r\n\t\t\tcontext.scale(1,-1);\r\n\t\t\tcontext.drawImage(Browser.canvas.source,0,0);\r\n\t\t\tcontext.restore();\r\n\t\t\treturn htmlCanvas;\r\n\t\t}\r\n\t\tRunDriver.createFilterAction=function (type){\r\n\t\t\tvar action;\r\n\t\t\tswitch (type){\r\n\t\t\t\tcase /*laya.filters.Filter.COLOR*/0x20:\r\n\t\t\t\t\taction=new ColorFilterActionGL();\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\treturn action;\r\n\t\t}\r\n\t\tRunDriver.addTextureToAtlas=function (texture){\r\n\t\t\ttexture._uvID++;\r\n\t\t\tAtlasResourceManager._atlasRestore++;\r\n\t\t\t((texture.bitmap).enableMerageInAtlas)&& (AtlasResourceManager.instance.addToAtlas(texture));\r\n\t\t}\r\n\t\tRunDriver.getTexturePixels=function (value,x,y,width,height){\r\n\t\t\t(Render.context.ctx).clear();\r\n\t\t\tvar tSprite=new Sprite();\r\n\t\t\ttSprite.graphics.drawTexture(value,-x,-y);\r\n\t\t\tvar tRenderTarget=RenderTarget2D.create(width,height);\r\n\t\t\ttRenderTarget.start();\r\n\t\t\ttRenderTarget.clear(0,0,0,0);\r\n\t\t\ttSprite.render(Render.context,0,0);\r\n\t\t\t(Render.context.ctx).flush();\r\n\t\t\ttRenderTarget.end();\r\n\t\t\tvar tUint8Array=tRenderTarget.getData(0,0,width,height);\r\n\t\t\tvar tArray=[];\r\n\t\t\tvar tIndex=0;\r\n\t\t\tfor (var i=height-1;i >=0;i--){\r\n\t\t\t\tfor (var j=0;j < width;j++){\r\n\t\t\t\t\ttIndex=(i *width+j)*4;\r\n\t\t\t\t\ttArray.push(tUint8Array[tIndex]);\r\n\t\t\t\t\ttArray.push(tUint8Array[tIndex+1]);\r\n\t\t\t\t\ttArray.push(tUint8Array[tIndex+2]);\r\n\t\t\t\t\ttArray.push(tUint8Array[tIndex+3]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tArray;\r\n\t\t}\r\n\t\tRunDriver.skinAniSprite=function (){\r\n\t\t\tvar tSkinSprite=new SkinMesh()\r\n\t\t\treturn tSkinSprite;\r\n\t\t}\r\n\t\tHTMLCanvas.create=function (type,canvas){\r\n\t\t\tvar ret=new WebGLCanvas();\r\n\t\t\tret._imgData=canvas;\r\n\t\t\tret.flipY=false;\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t\tFilter._filterStart=function (scope,sprite,context,x,y){\r\n\t\t\tvar b=scope.getValue(\"bounds\");\r\n\t\t\tvar source=RenderTarget2D.create(b.width,b.height);\r\n\t\t\tsource.start();\r\n\t\t\tsource.clear(0,0,0,0);\r\n\t\t\tscope.addValue(\"src\",source);\r\n\t\t\tscope.addValue(\"ScissorTest\",RenderState2D.worldScissorTest);\r\n\t\t\tif (RenderState2D.worldScissorTest){\r\n\t\t\t\tvar tClilpRect=new Rectangle();\r\n\t\t\t\ttClilpRect.copyFrom((context.ctx)._clipRect)\r\n\t\t\t\tscope.addValue(\"clipRect\",tClilpRect);\r\n\t\t\t\tRenderState2D.worldScissorTest=false;\r\n\t\t\t\tlaya.webgl.WebGL.mainContext.disable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t\t}\r\n\t\t}\r\n\t\tFilter._filterEnd=function (scope,sprite,context,x,y){\r\n\t\t\tvar b=scope.getValue(\"bounds\");\r\n\t\t\tvar source=scope.getValue(\"src\");\r\n\t\t\tsource.end();\r\n\t\t\tvar out=RenderTarget2D.create(b.width,b.height);\r\n\t\t\tout.start();\r\n\t\t\tout.clear(0,0,0,0);\r\n\t\t\tscope.addValue(\"out\",out);\r\n\t\t\tsprite._set$P('_filterCache',out);\r\n\t\t\tsprite._set$P('_isHaveGlowFilter',scope.getValue(\"_isHaveGlowFilter\"));\r\n\t\t}\r\n\t\tFilter._EndTarget=function (scope,context){\r\n\t\t\tvar source=scope.getValue(\"src\");\r\n\t\t\tsource.recycle();\r\n\t\t\tvar out=scope.getValue(\"out\");\r\n\t\t\tout.end();\r\n\t\t\tvar b=scope.getValue(\"ScissorTest\");\r\n\t\t\tif (b){\r\n\t\t\t\tRenderState2D.worldScissorTest=true;\r\n\t\t\t\tlaya.webgl.WebGL.mainContext.enable(/*laya.webgl.WebGLContext.SCISSOR_TEST*/0x0C11);\r\n\t\t\t\tcontext.ctx.save();\r\n\t\t\t\tvar tClipRect=scope.getValue(\"clipRect\");\r\n\t\t\t\t(context.ctx).clipRect(tClipRect.x,tClipRect.y,tClipRect.width,tClipRect.height);\r\n\t\t\t}\r\n\t\t}\r\n\t\tFilter._useSrc=function (scope){\r\n\t\t\tvar source=scope.getValue(\"out\");\r\n\t\t\tsource.end();\r\n\t\t\tsource=scope.getValue(\"src\");\r\n\t\t\tsource.start();\r\n\t\t\tsource.clear(0,0,0,0);\r\n\t\t}\r\n\t\tFilter._endSrc=function (scope){\r\n\t\t\tvar source=scope.getValue(\"src\");\r\n\t\t\tsource.end();\r\n\t\t}\r\n\t\tFilter._useOut=function (scope){\r\n\t\t\tvar source=scope.getValue(\"src\");\r\n\t\t\tsource.end();\r\n\t\t\tsource=scope.getValue(\"out\");\r\n\t\t\tsource.start();\r\n\t\t\tsource.clear(0,0,0,0);\r\n\t\t}\r\n\t\tFilter._endOut=function (scope){\r\n\t\t\tvar source=scope.getValue(\"out\");\r\n\t\t\tsource.end();\r\n\t\t}\r\n\t\tFilter._recycleScope=function (scope){\r\n\t\t\tscope.recycle();\r\n\t\t}\r\n\t\tFilter._filter=function (sprite,context,x,y){\r\n\t\t\tvar next=this._next;\r\n\t\t\tif (next){\r\n\t\t\t\tvar filters=sprite.filters,len=filters.length;\r\n\t\t\t\tif (len==1 && (filters[0].type==/*laya.filters.Filter.COLOR*/0x20)){\r\n\t\t\t\t\tcontext.ctx.save();\r\n\t\t\t\t\tcontext.ctx.setFilters([filters[0]]);\r\n\t\t\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t\t\t\tcontext.ctx.restore();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tvar shaderValue;\r\n\t\t\t\tvar b;\r\n\t\t\t\tvar scope=SubmitCMDScope.create();\r\n\t\t\t\tvar p=Point.TEMP;\r\n\t\t\t\tvar tMatrix=context.ctx._getTransformMatrix();\r\n\t\t\t\tvar mat=Matrix.create();\r\n\t\t\t\ttMatrix.copyTo(mat);\r\n\t\t\t\tvar tPadding=0;\r\n\t\t\t\tvar tHalfPadding=0;\r\n\t\t\t\tvar tIsHaveGlowFilter=false;\r\n\t\t\t\tvar out=sprite._$P._filterCache ? sprite._$P._filterCache :null;\r\n\t\t\t\tif (!out || sprite._repaint){\r\n\t\t\t\t\ttIsHaveGlowFilter=sprite._isHaveGlowFilter();\r\n\t\t\t\t\tscope.addValue(\"_isHaveGlowFilter\",tIsHaveGlowFilter);\r\n\t\t\t\t\tif (tIsHaveGlowFilter){\r\n\t\t\t\t\t\ttPadding=50;\r\n\t\t\t\t\t\ttHalfPadding=25;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb=new Rectangle();\r\n\t\t\t\t\tb.copyFrom((sprite).getSelfBounds());\r\n\t\t\t\t\tb.x+=(sprite).x;\r\n\t\t\t\t\tb.y+=(sprite).y;\r\n\t\t\t\t\tb.x-=(sprite).pivotX+4;\r\n\t\t\t\t\tb.y-=(sprite).pivotY+4;\r\n\t\t\t\t\tvar tSX=b.x;\r\n\t\t\t\t\tvar tSY=b.y;\r\n\t\t\t\t\tb.width+=(tPadding+8);\r\n\t\t\t\t\tb.height+=(tPadding+8);\r\n\t\t\t\t\tp.x=b.x *mat.a+b.y *mat.c;\r\n\t\t\t\t\tp.y=b.y *mat.d+b.x *mat.b;\r\n\t\t\t\t\tb.x=p.x;\r\n\t\t\t\t\tb.y=p.y;\r\n\t\t\t\t\tp.x=b.width *mat.a+b.height *mat.c;\r\n\t\t\t\t\tp.y=b.height *mat.d+b.width *mat.b;\r\n\t\t\t\t\tb.width=p.x;\r\n\t\t\t\t\tb.height=p.y;\r\n\t\t\t\t\tif (b.width <=0 || b.height <=0){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout && out.recycle();\r\n\t\t\t\t\tscope.addValue(\"bounds\",b);\r\n\t\t\t\t\tvar submit=SubmitCMD.create([scope,sprite,context,0,0],Filter._filterStart);\r\n\t\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\t\t(context.ctx)._renderKey=0;\r\n\t\t\t\t\t(context.ctx)._shader2D.glTexture=null;\r\n\t\t\t\t\tvar tX=sprite.x-tSX+tHalfPadding;\r\n\t\t\t\t\tvar tY=sprite.y-tSY+tHalfPadding;\r\n\t\t\t\t\tnext._fun.call(next,sprite,context,tX,tY);\r\n\t\t\t\t\tsubmit=SubmitCMD.create([scope,sprite,context,0,0],Filter._filterEnd);\r\n\t\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\t\tfor (var i=0;i < len;i++){\r\n\t\t\t\t\t\tif (i !=0){\r\n\t\t\t\t\t\t\tsubmit=SubmitCMD.create([scope],Filter._useSrc);\r\n\t\t\t\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\t\t\t\tshaderValue=Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0);\r\n\t\t\t\t\t\t\tMatrix.TEMP.identity();\r\n\t\t\t\t\t\t\tcontext.ctx.drawTarget(scope,0,0,b.width,b.height,Matrix.TEMP,\"out\",shaderValue,null,BlendMode.TOINT.overlay);\r\n\t\t\t\t\t\t\tsubmit=SubmitCMD.create([scope],Filter._useOut);\r\n\t\t\t\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvar fil=filters[i];\r\n\t\t\t\t\t\tfil.action.apply3d(scope,sprite,context,0,0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsubmit=SubmitCMD.create([scope,context],Filter._EndTarget);\r\n\t\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\ttIsHaveGlowFilter=sprite._$P._isHaveGlowFilter ? sprite._$P._isHaveGlowFilter :false;\r\n\t\t\t\t\tif (tIsHaveGlowFilter){\r\n\t\t\t\t\t\ttPadding=50;\r\n\t\t\t\t\t\ttHalfPadding=25;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb=sprite.getBounds();\r\n\t\t\t\t\tif (b.width <=0 || b.height <=0){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tb.width+=tPadding;\r\n\t\t\t\t\tb.height+=tPadding;\r\n\t\t\t\t\tp.x=b.x *mat.a+b.y *mat.c;\r\n\t\t\t\t\tp.y=b.y *mat.d+b.x *mat.b;\r\n\t\t\t\t\tb.x=p.x;\r\n\t\t\t\t\tb.y=p.y;\r\n\t\t\t\t\tp.x=b.width *mat.a+b.height *mat.c;\r\n\t\t\t\t\tp.y=b.height *mat.d+b.width *mat.b;\r\n\t\t\t\t\tb.width=p.x;\r\n\t\t\t\t\tb.height=p.y;\r\n\t\t\t\t\tscope.addValue(\"out\",out);\r\n\t\t\t\t}\r\n\t\t\t\tx=x-tHalfPadding-sprite.x;\r\n\t\t\t\ty=y-tHalfPadding-sprite.y;\r\n\t\t\t\tp.setTo(x,y);\r\n\t\t\t\tmat.transformPoint(p);\r\n\t\t\t\tx=p.x+b.x;\r\n\t\t\t\ty=p.y+b.y;\r\n\t\t\t\tshaderValue=Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0);\r\n\t\t\t\tMatrix.TEMP.identity();\r\n\t\t\t\t(context.ctx).drawTarget(scope,x,y,b.width,b.height,Matrix.TEMP,\"out\",shaderValue,null,BlendMode.TOINT.overlay);\r\n\t\t\t\tsubmit=SubmitCMD.create([scope],Filter._recycleScope);\r\n\t\t\t\tcontext.addRenderObject(submit);\r\n\t\t\t\tmat.destroy();\r\n\t\t\t}\r\n\t\t}\r\n\t\tFloat32Array.prototype.slice || (Float32Array.prototype.slice=WebGL._float32ArraySlice);\r\n\t\tUint16Array.prototype.slice || (Uint16Array.prototype.slice=WebGL._uint16ArraySlice);\r\n\t\tUint8Array.prototype.slice || (Uint8Array.prototype.slice=WebGL._uint8ArraySlice);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tWebGL.onStageResize=function(width,height){\r\n\t\tif (WebGL.mainContext==null)return;\r\n\t\tWebGL.mainContext.viewport(0,0,width,height);\r\n\t\tRenderState2D.width=width;\r\n\t\tRenderState2D.height=height;\r\n\t}\r\n\r\n\tWebGL.onInvalidGLRes=function(){\r\n\t\tAtlasResourceManager.instance.freeAll();\r\n\t\tResourceManager.releaseContentManagers(true);\r\n\t\tWebGL.doNodeRepaint(Laya.stage);\r\n\t\tWebGL.mainContext.viewport(0,0,RenderState2D.width,RenderState2D.height);\r\n\t\tLaya.stage.event(/*laya.events.Event.DEVICE_LOST*/\"devicelost\");\r\n\t}\r\n\r\n\tWebGL.doNodeRepaint=function(sprite){\r\n\t\t(sprite.numChildren==0)&& (sprite.repaint());\r\n\t\tfor (var i=0;i < sprite.numChildren;i++)\r\n\t\tWebGL.doNodeRepaint(sprite.getChildAt(i));\r\n\t}\r\n\r\n\tWebGL.init=function(canvas,width,height){\r\n\t\tWebGL.mainCanvas=canvas;\r\n\t\tHTMLCanvas._createContext=function (canvas){\r\n\t\t\treturn new WebGLContext2D(canvas);\r\n\t\t}\r\n\t\tWebGLCanvas._createContext=function (canvas){\r\n\t\t\treturn new WebGLContext2D(canvas);\r\n\t\t};\r\n\t\tvar gl=laya.webgl.WebGL.mainContext;\r\n\t\tif (gl.getShaderPrecisionFormat !=null){\r\n\t\t\tvar vertexPrecisionFormat=gl.getShaderPrecisionFormat(/*laya.webgl.WebGLContext.VERTEX_SHADER*/0x8B31,/*laya.webgl.WebGLContext.HIGH_FLOAT*/0x8DF2);\r\n\t\t\tvar framePrecisionFormat=gl.getShaderPrecisionFormat(/*laya.webgl.WebGLContext.FRAGMENT_SHADER*/0x8B30,/*laya.webgl.WebGLContext.HIGH_FLOAT*/0x8DF2);\r\n\t\t\tWebGL.shaderHighPrecision=(vertexPrecisionFormat.precision&&framePrecisionFormat.precision)? true :false;\r\n\t\t\t}else {\r\n\t\t\tWebGL.shaderHighPrecision=false;\r\n\t\t}\r\n\t\tWebGL.compressAstc=gl.getExtension(\"WEBGL_compressed_texture_astc\");\r\n\t\tWebGL.compressAtc=gl.getExtension(\"WEBGL_compressed_texture_atc\");\r\n\t\tWebGL.compressEtc=gl.getExtension(\"WEBGL_compressed_texture_etc\");\r\n\t\tWebGL.compressEtc1=gl.getExtension(\"WEBGL_compressed_texture_etc1\");\r\n\t\tWebGL.compressPvrtc=gl.getExtension(\"WEBGL_compressed_texture_pvrtc\");\r\n\t\tWebGL.compressS3tc=gl.getExtension(\"WEBGL_compressed_texture_s3tc\");\r\n\t\tWebGL.compressS3tc_srgb=gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\");\r\n\t\tgl.deleteTexture1=gl.deleteTexture;\r\n\t\tgl.deleteTexture=function (t){\r\n\t\t\tif (t==WebGLContext.curBindTexValue){\r\n\t\t\t\tWebGLContext.curBindTexValue=null;\r\n\t\t\t}\r\n\t\t\tgl.deleteTexture1(t);\r\n\t\t}\r\n\t\tWebGL.onStageResize(width,height);\r\n\t\tif (WebGL.mainContext==null)\r\n\t\t\tthrow new Error(\"webGL getContext err!\");\r\n\t\tSystem.__init__();\r\n\t\tAtlasResourceManager.__init__();\r\n\t\tShaderDefines2D.__init__();\r\n\t\tSubmit.__init__();\r\n\t\tWebGLContext2D.__init__();\r\n\t\tValue2D.__init__();\r\n\t\tShader2D.__init__();\r\n\t\tBuffer2D.__int__(gl);\r\n\t\tBlendMode._init_(gl);\r\n\t\tif (Render.isConchApp){\r\n\t\t\t/*__JS__ */conch.setOnInvalidGLRes(WebGL.onInvalidGLRes);\r\n\t\t}\r\n\t}\r\n\r\n\tWebGL.compressAstc=null;\r\n\tWebGL.compressAtc=null;\r\n\tWebGL.compressEtc=null;\r\n\tWebGL.compressEtc1=null;\r\n\tWebGL.compressPvrtc=null;\r\n\tWebGL.compressS3tc=null;\r\n\tWebGL.compressS3tc_srgb=null;\r\n\tWebGL.mainCanvas=null;\r\n\tWebGL.mainContext=null;\r\n\tWebGL.antialias=true;\r\n\tWebGL.shaderHighPrecision=false;\r\n\tWebGL._bg_null=[0,0,0,0];\r\n\treturn WebGL;\r\n})()\r\n\r\n\r\n//class laya.webgl.WebGLContext\r\nvar WebGLContext=(function(){\r\n\tfunction WebGLContext(){}\r\n\t__class(WebGLContext,'laya.webgl.WebGLContext');\r\n\tWebGLContext.UseProgram=function(program){\r\n\t\tif (WebGLContext._useProgram===program)return false;\r\n\t\tWebGL.mainContext.useProgram(program);\r\n\t\tWebGLContext._useProgram=program;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tWebGLContext.setDepthTest=function(gl,value){\r\n\t\tvalue!==WebGLContext._depthTest && (WebGLContext._depthTest=value,value?gl.enable(/*CLASS CONST:laya.webgl.WebGLContext.DEPTH_TEST*/0x0B71):gl.disable(/*CLASS CONST:laya.webgl.WebGLContext.DEPTH_TEST*/0x0B71));\r\n\t}\r\n\r\n\tWebGLContext.setDepthMask=function(gl,value){\r\n\t\tvalue!==WebGLContext._depthMask && (WebGLContext._depthMask=value,gl.depthMask(value));\r\n\t}\r\n\r\n\tWebGLContext.setDepthFunc=function(gl,value){\r\n\t\tvalue!==WebGLContext._depthFunc && (WebGLContext._depthFunc=value,gl.depthFunc(value));\r\n\t}\r\n\r\n\tWebGLContext.setBlend=function(gl,value){\r\n\t\tvalue!==WebGLContext._blend && (WebGLContext._blend=value,value?gl.enable(/*CLASS CONST:laya.webgl.WebGLContext.BLEND*/0x0BE2):gl.disable(/*CLASS CONST:laya.webgl.WebGLContext.BLEND*/0x0BE2));\r\n\t}\r\n\r\n\tWebGLContext.setBlendFunc=function(gl,sFactor,dFactor){\r\n\t\t(sFactor!==WebGLContext._sFactor||dFactor!==WebGLContext._dFactor)&& (WebGLContext._sFactor=sFactor,WebGLContext._dFactor=dFactor,gl.blendFunc(sFactor,dFactor));\r\n\t}\r\n\r\n\tWebGLContext.setCullFace=function(gl,value){\r\n\t\tvalue!==WebGLContext._cullFace && (WebGLContext._cullFace=value,value?gl.enable(/*CLASS CONST:laya.webgl.WebGLContext.CULL_FACE*/0x0B44):gl.disable(/*CLASS CONST:laya.webgl.WebGLContext.CULL_FACE*/0x0B44));\r\n\t}\r\n\r\n\tWebGLContext.setFrontFace=function(gl,value){\r\n\t\tvalue!==WebGLContext._frontFace && (WebGLContext._frontFace=value,gl.frontFace(value));\r\n\t}\r\n\r\n\tWebGLContext.bindTexture=function(gl,target,texture){\r\n\t\tgl.bindTexture(target,texture);\r\n\t\tWebGLContext.curBindTexTarget=target;\r\n\t\tWebGLContext.curBindTexValue=texture;\r\n\t}\r\n\r\n\tWebGLContext.DEPTH_BUFFER_BIT=0x00000100;\r\n\tWebGLContext.STENCIL_BUFFER_BIT=0x00000400;\r\n\tWebGLContext.COLOR_BUFFER_BIT=0x00004000;\r\n\tWebGLContext.POINTS=0x0000;\r\n\tWebGLContext.LINES=0x0001;\r\n\tWebGLContext.LINE_LOOP=0x0002;\r\n\tWebGLContext.LINE_STRIP=0x0003;\r\n\tWebGLContext.TRIANGLES=0x0004;\r\n\tWebGLContext.TRIANGLE_STRIP=0x0005;\r\n\tWebGLContext.TRIANGLE_FAN=0x0006;\r\n\tWebGLContext.ZERO=0;\r\n\tWebGLContext.ONE=1;\r\n\tWebGLContext.SRC_COLOR=0x0300;\r\n\tWebGLContext.ONE_MINUS_SRC_COLOR=0x0301;\r\n\tWebGLContext.SRC_ALPHA=0x0302;\r\n\tWebGLContext.ONE_MINUS_SRC_ALPHA=0x0303;\r\n\tWebGLContext.DST_ALPHA=0x0304;\r\n\tWebGLContext.ONE_MINUS_DST_ALPHA=0x0305;\r\n\tWebGLContext.DST_COLOR=0x0306;\r\n\tWebGLContext.ONE_MINUS_DST_COLOR=0x0307;\r\n\tWebGLContext.SRC_ALPHA_SATURATE=0x0308;\r\n\tWebGLContext.FUNC_ADD=0x8006;\r\n\tWebGLContext.BLEND_EQUATION=0x8009;\r\n\tWebGLContext.BLEND_EQUATION_RGB=0x8009;\r\n\tWebGLContext.BLEND_EQUATION_ALPHA=0x883D;\r\n\tWebGLContext.FUNC_SUBTRACT=0x800A;\r\n\tWebGLContext.FUNC_REVERSE_SUBTRACT=0x800B;\r\n\tWebGLContext.BLEND_DST_RGB=0x80C8;\r\n\tWebGLContext.BLEND_SRC_RGB=0x80C9;\r\n\tWebGLContext.BLEND_DST_ALPHA=0x80CA;\r\n\tWebGLContext.BLEND_SRC_ALPHA=0x80CB;\r\n\tWebGLContext.CONSTANT_COLOR=0x8001;\r\n\tWebGLContext.ONE_MINUS_CONSTANT_COLOR=0x8002;\r\n\tWebGLContext.CONSTANT_ALPHA=0x8003;\r\n\tWebGLContext.ONE_MINUS_CONSTANT_ALPHA=0x8004;\r\n\tWebGLContext.BLEND_COLOR=0x8005;\r\n\tWebGLContext.ARRAY_BUFFER=0x8892;\r\n\tWebGLContext.ELEMENT_ARRAY_BUFFER=0x8893;\r\n\tWebGLContext.ARRAY_BUFFER_BINDING=0x8894;\r\n\tWebGLContext.ELEMENT_ARRAY_BUFFER_BINDING=0x8895;\r\n\tWebGLContext.STREAM_DRAW=0x88E0;\r\n\tWebGLContext.STATIC_DRAW=0x88E4;\r\n\tWebGLContext.DYNAMIC_DRAW=0x88E8;\r\n\tWebGLContext.BUFFER_SIZE=0x8764;\r\n\tWebGLContext.BUFFER_USAGE=0x8765;\r\n\tWebGLContext.CURRENT_VERTEX_ATTRIB=0x8626;\r\n\tWebGLContext.FRONT=0x0404;\r\n\tWebGLContext.BACK=0x0405;\r\n\tWebGLContext.CULL_FACE=0x0B44;\r\n\tWebGLContext.FRONT_AND_BACK=0x0408;\r\n\tWebGLContext.BLEND=0x0BE2;\r\n\tWebGLContext.DITHER=0x0BD0;\r\n\tWebGLContext.STENCIL_TEST=0x0B90;\r\n\tWebGLContext.DEPTH_TEST=0x0B71;\r\n\tWebGLContext.SCISSOR_TEST=0x0C11;\r\n\tWebGLContext.POLYGON_OFFSET_FILL=0x8037;\r\n\tWebGLContext.SAMPLE_ALPHA_TO_COVERAGE=0x809E;\r\n\tWebGLContext.SAMPLE_COVERAGE=0x80A0;\r\n\tWebGLContext.NO_ERROR=0;\r\n\tWebGLContext.INVALID_ENUM=0x0500;\r\n\tWebGLContext.INVALID_VALUE=0x0501;\r\n\tWebGLContext.INVALID_OPERATION=0x0502;\r\n\tWebGLContext.OUT_OF_MEMORY=0x0505;\r\n\tWebGLContext.CW=0x0900;\r\n\tWebGLContext.CCW=0x0901;\r\n\tWebGLContext.LINE_WIDTH=0x0B21;\r\n\tWebGLContext.ALIASED_POINT_SIZE_RANGE=0x846D;\r\n\tWebGLContext.ALIASED_LINE_WIDTH_RANGE=0x846E;\r\n\tWebGLContext.CULL_FACE_MODE=0x0B45;\r\n\tWebGLContext.FRONT_FACE=0x0B46;\r\n\tWebGLContext.DEPTH_RANGE=0x0B70;\r\n\tWebGLContext.DEPTH_WRITEMASK=0x0B72;\r\n\tWebGLContext.DEPTH_CLEAR_VALUE=0x0B73;\r\n\tWebGLContext.DEPTH_FUNC=0x0B74;\r\n\tWebGLContext.STENCIL_CLEAR_VALUE=0x0B91;\r\n\tWebGLContext.STENCIL_FUNC=0x0B92;\r\n\tWebGLContext.STENCIL_FAIL=0x0B94;\r\n\tWebGLContext.STENCIL_PASS_DEPTH_FAIL=0x0B95;\r\n\tWebGLContext.STENCIL_PASS_DEPTH_PASS=0x0B96;\r\n\tWebGLContext.STENCIL_REF=0x0B97;\r\n\tWebGLContext.STENCIL_VALUE_MASK=0x0B93;\r\n\tWebGLContext.STENCIL_WRITEMASK=0x0B98;\r\n\tWebGLContext.STENCIL_BACK_FUNC=0x8800;\r\n\tWebGLContext.STENCIL_BACK_FAIL=0x8801;\r\n\tWebGLContext.STENCIL_BACK_PASS_DEPTH_FAIL=0x8802;\r\n\tWebGLContext.STENCIL_BACK_PASS_DEPTH_PASS=0x8803;\r\n\tWebGLContext.STENCIL_BACK_REF=0x8CA3;\r\n\tWebGLContext.STENCIL_BACK_VALUE_MASK=0x8CA4;\r\n\tWebGLContext.STENCIL_BACK_WRITEMASK=0x8CA5;\r\n\tWebGLContext.VIEWPORT=0x0BA2;\r\n\tWebGLContext.SCISSOR_BOX=0x0C10;\r\n\tWebGLContext.COLOR_CLEAR_VALUE=0x0C22;\r\n\tWebGLContext.COLOR_WRITEMASK=0x0C23;\r\n\tWebGLContext.UNPACK_ALIGNMENT=0x0CF5;\r\n\tWebGLContext.PACK_ALIGNMENT=0x0D05;\r\n\tWebGLContext.MAX_TEXTURE_SIZE=0x0D33;\r\n\tWebGLContext.MAX_VIEWPORT_DIMS=0x0D3A;\r\n\tWebGLContext.SUBPIXEL_BITS=0x0D50;\r\n\tWebGLContext.RED_BITS=0x0D52;\r\n\tWebGLContext.GREEN_BITS=0x0D53;\r\n\tWebGLContext.BLUE_BITS=0x0D54;\r\n\tWebGLContext.ALPHA_BITS=0x0D55;\r\n\tWebGLContext.DEPTH_BITS=0x0D56;\r\n\tWebGLContext.STENCIL_BITS=0x0D57;\r\n\tWebGLContext.POLYGON_OFFSET_UNITS=0x2A00;\r\n\tWebGLContext.POLYGON_OFFSET_FACTOR=0x8038;\r\n\tWebGLContext.TEXTURE_BINDING_2D=0x8069;\r\n\tWebGLContext.SAMPLE_BUFFERS=0x80A8;\r\n\tWebGLContext.SAMPLES=0x80A9;\r\n\tWebGLContext.SAMPLE_COVERAGE_VALUE=0x80AA;\r\n\tWebGLContext.SAMPLE_COVERAGE_INVERT=0x80AB;\r\n\tWebGLContext.NUM_COMPRESSED_TEXTURE_FORMATS=0x86A2;\r\n\tWebGLContext.COMPRESSED_TEXTURE_FORMATS=0x86A3;\r\n\tWebGLContext.DONT_CARE=0x1100;\r\n\tWebGLContext.FASTEST=0x1101;\r\n\tWebGLContext.NICEST=0x1102;\r\n\tWebGLContext.GENERATE_MIPMAP_HINT=0x8192;\r\n\tWebGLContext.BYTE=0x1400;\r\n\tWebGLContext.UNSIGNED_BYTE=0x1401;\r\n\tWebGLContext.SHORT=0x1402;\r\n\tWebGLContext.UNSIGNED_SHORT=0x1403;\r\n\tWebGLContext.INT=0x1404;\r\n\tWebGLContext.UNSIGNED_INT=0x1405;\r\n\tWebGLContext.FLOAT=0x1406;\r\n\tWebGLContext.DEPTH_COMPONENT=0x1902;\r\n\tWebGLContext.ALPHA=0x1906;\r\n\tWebGLContext.RGB=0x1907;\r\n\tWebGLContext.RGBA=0x1908;\r\n\tWebGLContext.LUMINANCE=0x1909;\r\n\tWebGLContext.LUMINANCE_ALPHA=0x190A;\r\n\tWebGLContext.UNSIGNED_SHORT_4_4_4_4=0x8033;\r\n\tWebGLContext.UNSIGNED_SHORT_5_5_5_1=0x8034;\r\n\tWebGLContext.UNSIGNED_SHORT_5_6_5=0x8363;\r\n\tWebGLContext.FRAGMENT_SHADER=0x8B30;\r\n\tWebGLContext.VERTEX_SHADER=0x8B31;\r\n\tWebGLContext.MAX_VERTEX_ATTRIBS=0x8869;\r\n\tWebGLContext.MAX_VERTEX_UNIFORM_VECTORS=0x8DFB;\r\n\tWebGLContext.MAX_VARYING_VECTORS=0x8DFC;\r\n\tWebGLContext.MAX_COMBINED_TEXTURE_IMAGE_UNITS=0x8B4D;\r\n\tWebGLContext.MAX_VERTEX_TEXTURE_IMAGE_UNITS=0x8B4C;\r\n\tWebGLContext.MAX_TEXTURE_IMAGE_UNITS=0x8872;\r\n\tWebGLContext.MAX_FRAGMENT_UNIFORM_VECTORS=0x8DFD;\r\n\tWebGLContext.SHADER_TYPE=0x8B4F;\r\n\tWebGLContext.DELETE_STATUS=0x8B80;\r\n\tWebGLContext.LINK_STATUS=0x8B82;\r\n\tWebGLContext.VALIDATE_STATUS=0x8B83;\r\n\tWebGLContext.ATTACHED_SHADERS=0x8B85;\r\n\tWebGLContext.ACTIVE_UNIFORMS=0x8B86;\r\n\tWebGLContext.ACTIVE_ATTRIBUTES=0x8B89;\r\n\tWebGLContext.SHADING_LANGUAGE_VERSION=0x8B8C;\r\n\tWebGLContext.CURRENT_PROGRAM=0x8B8D;\r\n\tWebGLContext.NEVER=0x0200;\r\n\tWebGLContext.LESS=0x0201;\r\n\tWebGLContext.EQUAL=0x0202;\r\n\tWebGLContext.LEQUAL=0x0203;\r\n\tWebGLContext.GREATER=0x0204;\r\n\tWebGLContext.NOTEQUAL=0x0205;\r\n\tWebGLContext.GEQUAL=0x0206;\r\n\tWebGLContext.ALWAYS=0x0207;\r\n\tWebGLContext.KEEP=0x1E00;\r\n\tWebGLContext.REPLACE=0x1E01;\r\n\tWebGLContext.INCR=0x1E02;\r\n\tWebGLContext.DECR=0x1E03;\r\n\tWebGLContext.INVERT=0x150A;\r\n\tWebGLContext.INCR_WRAP=0x8507;\r\n\tWebGLContext.DECR_WRAP=0x8508;\r\n\tWebGLContext.VENDOR=0x1F00;\r\n\tWebGLContext.RENDERER=0x1F01;\r\n\tWebGLContext.VERSION=0x1F02;\r\n\tWebGLContext.NEAREST=0x2600;\r\n\tWebGLContext.LINEAR=0x2601;\r\n\tWebGLContext.NEAREST_MIPMAP_NEAREST=0x2700;\r\n\tWebGLContext.LINEAR_MIPMAP_NEAREST=0x2701;\r\n\tWebGLContext.NEAREST_MIPMAP_LINEAR=0x2702;\r\n\tWebGLContext.LINEAR_MIPMAP_LINEAR=0x2703;\r\n\tWebGLContext.TEXTURE_MAG_FILTER=0x2800;\r\n\tWebGLContext.TEXTURE_MIN_FILTER=0x2801;\r\n\tWebGLContext.TEXTURE_WRAP_S=0x2802;\r\n\tWebGLContext.TEXTURE_WRAP_T=0x2803;\r\n\tWebGLContext.TEXTURE_2D=0x0DE1;\r\n\tWebGLContext.TEXTURE=0x1702;\r\n\tWebGLContext.TEXTURE_CUBE_MAP=0x8513;\r\n\tWebGLContext.TEXTURE_BINDING_CUBE_MAP=0x8514;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_POSITIVE_X=0x8515;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_X=0x8516;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_POSITIVE_Y=0x8517;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_Y=0x8518;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_POSITIVE_Z=0x8519;\r\n\tWebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_Z=0x851A;\r\n\tWebGLContext.MAX_CUBE_MAP_TEXTURE_SIZE=0x851C;\r\n\tWebGLContext.TEXTURE0=0x84C0;\r\n\tWebGLContext.TEXTURE1=0x84C1;\r\n\tWebGLContext.TEXTURE2=0x84C2;\r\n\tWebGLContext.TEXTURE3=0x84C3;\r\n\tWebGLContext.TEXTURE4=0x84C4;\r\n\tWebGLContext.TEXTURE5=0x84C5;\r\n\tWebGLContext.TEXTURE6=0x84C6;\r\n\tWebGLContext.TEXTURE7=0x84C7;\r\n\tWebGLContext.TEXTURE8=0x84C8;\r\n\tWebGLContext.TEXTURE9=0x84C9;\r\n\tWebGLContext.TEXTURE10=0x84CA;\r\n\tWebGLContext.TEXTURE11=0x84CB;\r\n\tWebGLContext.TEXTURE12=0x84CC;\r\n\tWebGLContext.TEXTURE13=0x84CD;\r\n\tWebGLContext.TEXTURE14=0x84CE;\r\n\tWebGLContext.TEXTURE15=0x84CF;\r\n\tWebGLContext.TEXTURE16=0x84D0;\r\n\tWebGLContext.TEXTURE17=0x84D1;\r\n\tWebGLContext.TEXTURE18=0x84D2;\r\n\tWebGLContext.TEXTURE19=0x84D3;\r\n\tWebGLContext.TEXTURE20=0x84D4;\r\n\tWebGLContext.TEXTURE21=0x84D5;\r\n\tWebGLContext.TEXTURE22=0x84D6;\r\n\tWebGLContext.TEXTURE23=0x84D7;\r\n\tWebGLContext.TEXTURE24=0x84D8;\r\n\tWebGLContext.TEXTURE25=0x84D9;\r\n\tWebGLContext.TEXTURE26=0x84DA;\r\n\tWebGLContext.TEXTURE27=0x84DB;\r\n\tWebGLContext.TEXTURE28=0x84DC;\r\n\tWebGLContext.TEXTURE29=0x84DD;\r\n\tWebGLContext.TEXTURE30=0x84DE;\r\n\tWebGLContext.TEXTURE31=0x84DF;\r\n\tWebGLContext.ACTIVE_TEXTURE=0x84E0;\r\n\tWebGLContext.REPEAT=0x2901;\r\n\tWebGLContext.CLAMP_TO_EDGE=0x812F;\r\n\tWebGLContext.MIRRORED_REPEAT=0x8370;\r\n\tWebGLContext.FLOAT_VEC2=0x8B50;\r\n\tWebGLContext.FLOAT_VEC3=0x8B51;\r\n\tWebGLContext.FLOAT_VEC4=0x8B52;\r\n\tWebGLContext.INT_VEC2=0x8B53;\r\n\tWebGLContext.INT_VEC3=0x8B54;\r\n\tWebGLContext.INT_VEC4=0x8B55;\r\n\tWebGLContext.BOOL=0x8B56;\r\n\tWebGLContext.BOOL_VEC2=0x8B57;\r\n\tWebGLContext.BOOL_VEC3=0x8B58;\r\n\tWebGLContext.BOOL_VEC4=0x8B59;\r\n\tWebGLContext.FLOAT_MAT2=0x8B5A;\r\n\tWebGLContext.FLOAT_MAT3=0x8B5B;\r\n\tWebGLContext.FLOAT_MAT4=0x8B5C;\r\n\tWebGLContext.SAMPLER_2D=0x8B5E;\r\n\tWebGLContext.SAMPLER_CUBE=0x8B60;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_ENABLED=0x8622;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_SIZE=0x8623;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_STRIDE=0x8624;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_TYPE=0x8625;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_NORMALIZED=0x886A;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_POINTER=0x8645;\r\n\tWebGLContext.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=0x889F;\r\n\tWebGLContext.COMPILE_STATUS=0x8B81;\r\n\tWebGLContext.LOW_FLOAT=0x8DF0;\r\n\tWebGLContext.MEDIUM_FLOAT=0x8DF1;\r\n\tWebGLContext.HIGH_FLOAT=0x8DF2;\r\n\tWebGLContext.LOW_INT=0x8DF3;\r\n\tWebGLContext.MEDIUM_INT=0x8DF4;\r\n\tWebGLContext.HIGH_INT=0x8DF5;\r\n\tWebGLContext.FRAMEBUFFER=0x8D40;\r\n\tWebGLContext.RENDERBUFFER=0x8D41;\r\n\tWebGLContext.RGBA4=0x8056;\r\n\tWebGLContext.RGB5_A1=0x8057;\r\n\tWebGLContext.RGB565=0x8D62;\r\n\tWebGLContext.DEPTH_COMPONENT16=0x81A5;\r\n\tWebGLContext.STENCIL_INDEX=0x1901;\r\n\tWebGLContext.STENCIL_INDEX8=0x8D48;\r\n\tWebGLContext.DEPTH_STENCIL=0x84F9;\r\n\tWebGLContext.RENDERBUFFER_WIDTH=0x8D42;\r\n\tWebGLContext.RENDERBUFFER_HEIGHT=0x8D43;\r\n\tWebGLContext.RENDERBUFFER_INTERNAL_FORMAT=0x8D44;\r\n\tWebGLContext.RENDERBUFFER_RED_SIZE=0x8D50;\r\n\tWebGLContext.RENDERBUFFER_GREEN_SIZE=0x8D51;\r\n\tWebGLContext.RENDERBUFFER_BLUE_SIZE=0x8D52;\r\n\tWebGLContext.RENDERBUFFER_ALPHA_SIZE=0x8D53;\r\n\tWebGLContext.RENDERBUFFER_DEPTH_SIZE=0x8D54;\r\n\tWebGLContext.RENDERBUFFER_STENCIL_SIZE=0x8D55;\r\n\tWebGLContext.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=0x8CD0;\r\n\tWebGLContext.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=0x8CD1;\r\n\tWebGLContext.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=0x8CD2;\r\n\tWebGLContext.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=0x8CD3;\r\n\tWebGLContext.COLOR_ATTACHMENT0=0x8CE0;\r\n\tWebGLContext.DEPTH_ATTACHMENT=0x8D00;\r\n\tWebGLContext.STENCIL_ATTACHMENT=0x8D20;\r\n\tWebGLContext.DEPTH_STENCIL_ATTACHMENT=0x821A;\r\n\tWebGLContext.NONE=0;\r\n\tWebGLContext.FRAMEBUFFER_COMPLETE=0x8CD5;\r\n\tWebGLContext.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=0x8CD6;\r\n\tWebGLContext.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=0x8CD7;\r\n\tWebGLContext.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=0x8CD9;\r\n\tWebGLContext.FRAMEBUFFER_UNSUPPORTED=0x8CDD;\r\n\tWebGLContext.FRAMEBUFFER_BINDING=0x8CA6;\r\n\tWebGLContext.RENDERBUFFER_BINDING=0x8CA7;\r\n\tWebGLContext.MAX_RENDERBUFFER_SIZE=0x84E8;\r\n\tWebGLContext.INVALID_FRAMEBUFFER_OPERATION=0x0506;\r\n\tWebGLContext.UNPACK_FLIP_Y_WEBGL=0x9240;\r\n\tWebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL=0x9241;\r\n\tWebGLContext.CONTEXT_LOST_WEBGL=0x9242;\r\n\tWebGLContext.UNPACK_COLORSPACE_CONVERSION_WEBGL=0x9243;\r\n\tWebGLContext.BROWSER_DEFAULT_WEBGL=0x9244;\r\n\tWebGLContext._useProgram=null;\r\n\tWebGLContext._depthTest=true;\r\n\tWebGLContext._depthMask=true;\r\n\tWebGLContext._blend=false;\r\n\tWebGLContext._cullFace=false;\r\n\tWebGLContext.curBindTexTarget=null;\r\n\tWebGLContext.curBindTexValue=null;\r\n\t__static(WebGLContext,\r\n\t['_depthFunc',function(){return this._depthFunc=/*CLASS CONST:laya.webgl.WebGLContext.LESS*/0x0201;},'_sFactor',function(){return this._sFactor=/*CLASS CONST:laya.webgl.WebGLContext.ONE*/1;},'_dFactor',function(){return this._dFactor=/*CLASS CONST:laya.webgl.WebGLContext.ZERO*/0;},'_frontFace',function(){return this._frontFace=/*CLASS CONST:laya.webgl.WebGLContext.CCW*/0x0901;}\r\n\t]);\r\n\treturn WebGLContext;\r\n})()\r\n\r\n\r\n//class laya.webgl.display.GraphicsGL extends laya.display.Graphics\r\nvar GraphicsGL=(function(_super){\r\n\tfunction GraphicsGL(){\r\n\t\tGraphicsGL.__super.call(this);\r\n\t}\r\n\r\n\t__class(GraphicsGL,'laya.webgl.display.GraphicsGL',_super);\r\n\tvar __proto=GraphicsGL.prototype;\r\n\t__proto.setShader=function(shader){\r\n\t\tthis._saveToCmd(Render.context._setShader,[shader]);\r\n\t}\r\n\r\n\t__proto.setIBVB=function(x,y,ib,vb,numElement,shader){\r\n\t\tthis._saveToCmd(Render.context._setIBVB,[x,y,ib,vb,numElement,shader]);\r\n\t}\r\n\r\n\t__proto.drawParticle=function(x,y,ps){\r\n\t\tvar pt=RunDriver.createParticleTemplate2D(ps);\r\n\t\tpt.x=x;\r\n\t\tpt.y=y;\r\n\t\tthis._saveToCmd(Render.context._drawParticle,[pt]);\r\n\t}\r\n\r\n\treturn GraphicsGL;\r\n})(Graphics)\r\n\r\n\r\n//class laya.webgl.canvas.WebGLContext2D extends laya.resource.Context\r\nvar WebGLContext2D=(function(_super){\r\n\tvar ContextParams;\r\n\tfunction WebGLContext2D(c){\r\n\t\tthis._x=0;\r\n\t\tthis._y=0;\r\n\t\tthis._id=++WebGLContext2D._COUNT;\r\n\t\t//this._other=null;\r\n\t\tthis._path=null;\r\n\t\t//this._primitiveValue2D=null;\r\n\t\tthis._drawCount=1;\r\n\t\tthis._maxNumEle=0;\r\n\t\tthis._clear=false;\r\n\t\tthis._isMain=false;\r\n\t\tthis._atlasResourceChange=0;\r\n\t\tthis._submits=null;\r\n\t\tthis._curSubmit=null;\r\n\t\tthis._ib=null;\r\n\t\tthis._vb=null;\r\n\t\t//this._curMat=null;\r\n\t\tthis._nBlendType=0;\r\n\t\t//this._save=null;\r\n\t\t//this._targets=null;\r\n\t\t//this._renderKey=NaN;\r\n\t\tthis._saveMark=null;\r\n\t\tthis._shader2D=null;\r\n\t\t//this._triangleMesh=null;\r\n\t\t//drawTriangles专用mesh。由于ib不固定，所以不能与_mesh通用\r\n\t\tthis.meshlist=[];\r\n\t\t/**所cacheAs精灵*/\r\n\t\t//this.sprite=null;\r\n\t\t/*******************************************start矢量绘制***************************************************/\r\n\t\tthis.mId=-1;\r\n\t\tthis.mHaveKey=false;\r\n\t\tthis.mHaveLineKey=false;\r\n\t\tthis.mX=0;\r\n\t\tthis.mY=0;\r\n\t\tWebGLContext2D.__super.call(this);\r\n\t\tthis._width=99999999;\r\n\t\tthis._height=99999999;\r\n\t\tthis._clipRect=WebGLContext2D.MAXCLIPRECT;\r\n\t\tthis.mOutPoint\r\n\t\tthis._canvas=c;\r\n\t\tWebGLContext2D._contextcount++;\r\n\t\tif (Render.isFlash){\r\n\t\t\tthis._ib=IndexBuffer2D.create(/*laya.webgl.WebGLContext.STATIC_DRAW*/0x88E4);\r\n\t\t\tGlUtils.fillIBQuadrangle(this._ib,16);\r\n\t\t}else\r\n\t\tthis._ib=IndexBuffer2D.QuadrangleIB;\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\t__class(WebGLContext2D,'laya.webgl.canvas.WebGLContext2D',_super);\r\n\tvar __proto=WebGLContext2D.prototype;\r\n\t__proto.setIsMainContext=function(){\r\n\t\tthis._isMain=true;\r\n\t}\r\n\r\n\t__proto.clearBG=function(r,g,b,a){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.clearColor(r,g,b,a);\r\n\t\tgl.clear(/*laya.webgl.WebGLContext.COLOR_BUFFER_BIT*/0x00004000);\r\n\t}\r\n\r\n\t__proto._getSubmits=function(){\r\n\t\treturn this._submits;\r\n\t}\r\n\r\n\t__proto._releaseMem=function(){\r\n\t\tif (!this._submits)\r\n\t\t\treturn;\r\n\t\tthis._curMat.destroy();\r\n\t\tthis._curMat=null;\r\n\t\tthis._shader2D.destroy();\r\n\t\tthis._shader2D=null;\r\n\t\tfor (var i=0,n=this._submits._length;i < n;i++)\r\n\t\tthis._submits[i].releaseRender();\r\n\t\tthis._submits.length=0;\r\n\t\tthis._submits._length=0;\r\n\t\tthis._submits=null;\r\n\t\tthis._curSubmit=null;\r\n\t\tthis._path && this._path.recover();\r\n\t\tthis._path=null;\r\n\t\tthis._other && (this._other.font=null);\r\n\t\tthis._save=null;\r\n\t\tif (this._vb){\r\n\t\t\tthis._vb.releaseResource();\r\n\t\t\tthis._vb.destroy();\r\n\t\t\tthis._vb.destory();\r\n\t\t\tthis._vb=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.destroy=function(){\r\n\t\t--WebGLContext2D._contextcount;\r\n\t\tthis.sprite=null;\r\n\t\tthis._releaseMem();\r\n\t\tthis._targets && this._targets.destroy();\r\n\t\tthis._targets=null;\r\n\t\tthis._canvas=null;\r\n\t\tthis._ib && (this._ib !=IndexBuffer2D.QuadrangleIB)&& this._ib.releaseResource();\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tif (!this._submits){\r\n\t\t\tthis._other=ContextParams.DEFAULT;\r\n\t\t\tthis._curMat=Matrix.create();\r\n\t\t\tthis._vb=VertexBuffer2D.create(-1);\r\n\t\t\tthis._submits=[];\r\n\t\t\tthis._save=[SaveMark.Create(this)];\r\n\t\t\tthis._save.length=10;\r\n\t\t\tthis._shader2D=new Shader2D();\r\n\t\t\tthis._triangleMesh=MeshTexture.getAMesh();\r\n\t\t}\r\n\t\tthis._vb.clear();\r\n\t\tthis._targets && (this._targets.repaint=true);\r\n\t\tthis._other=ContextParams.DEFAULT;\r\n\t\tthis._clear=true;\r\n\t\tthis._repaint=false;\r\n\t\tthis._drawCount=1;\r\n\t\tthis._renderKey=0;\r\n\t\tthis._other.lineWidth=this._shader2D.ALPHA=1.0;\r\n\t\tthis._nBlendType=0;\r\n\t\tthis._clipRect=WebGLContext2D.MAXCLIPRECT;\r\n\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\tthis._shader2D.glTexture=null;\r\n\t\tthis._shader2D.fillStyle=this._shader2D.strokeStyle=DrawStyle.DEFAULT;\r\n\t\tfor (var i=0,n=this._submits._length;i < n;i++)\r\n\t\tthis._submits[i].releaseRender();\r\n\t\tthis._submits._length=0;\r\n\t\tthis._curMat.identity();\r\n\t\tthis._other.clear();\r\n\t\tthis._saveMark=this._save[0];\r\n\t\tthis._save._length=1;\r\n\t}\r\n\r\n\t__proto.size=function(w,h){\r\n\t\tif (this._width !=w || this._height !=h){\r\n\t\t\tif (w==0 || h==0){\r\n\t\t\t\tif (this._vb._byteLength !=0){\r\n\t\t\t\t\tthis._width=w;\r\n\t\t\t\t\tthis._height=h;\r\n\t\t\t\t\tthis._vb.clear();\r\n\t\t\t\t\tthis._vb.upload();\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i=0,n=this._submits._length;i < n;i++)\r\n\t\t\t\tthis._submits[i].releaseRender();\r\n\t\t\t\tthis._submits.length=0;\r\n\t\t\t\tthis._submits._length=0;\r\n\t\t\t\tthis._curSubmit=null;\r\n\t\t\t\tthis._path && this._path.recover();\r\n\t\t\t\tthis._path=null;\r\n\t\t\t\tthis.sprite=null;\r\n\t\t\t\tthis._targets && (this._targets.destroy());\r\n\t\t\t\tthis._targets=null;\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._width=w;\r\n\t\t\t\tthis._height=h;\r\n\t\t\t\tthis._targets && (this._targets.size(w,h));\r\n\t\t\t\tthis._canvas.memorySize-=this._canvas.memorySize;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (w===0 && h===0)this._releaseMem();\r\n\t}\r\n\r\n\t__proto._getTransformMatrix=function(){\r\n\t\treturn this._curMat;\r\n\t}\r\n\r\n\t__proto.translate=function(x,y){\r\n\t\tif (x!==0 || y!==0){\r\n\t\t\tSaveTranslate.save(this);\r\n\t\t\tif (this._curMat.bTransform){\r\n\t\t\t\tSaveTransform.save(this);\r\n\t\t\t\tthis._curMat.transformPointN(Point.TEMP.setTo(x,y));\r\n\t\t\t\tx=Point.TEMP.x;\r\n\t\t\t\ty=Point.TEMP.y;\r\n\t\t\t}\r\n\t\t\tthis._x+=x;\r\n\t\t\tthis._y+=y;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.save=function(){\r\n\t\tthis._save[this._save._length++]=SaveMark.Create(this);\r\n\t}\r\n\r\n\t__proto.restore=function(){\r\n\t\tvar sz=this._save._length;\r\n\t\tif (sz < 1)\r\n\t\t\treturn;\r\n\t\tfor (var i=sz-1;i >=0;i--){\r\n\t\t\tvar o=this._save[i];\r\n\t\t\to.restore(this);\r\n\t\t\tif (o.isSaveMark()){\r\n\t\t\t\tthis._save._length=i;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._fillText=function(txt,words,x,y,fontStr,color,strokeColor,lineWidth,textAlign,underLine){\r\n\t\t(underLine===void 0)&& (underLine=0);\r\n\t\tvar shader=this._shader2D;\r\n\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\tvar font=fontStr ? FontInContext.create(fontStr):this._other.font;\r\n\t\tif (AtlasResourceManager.enabled){\r\n\t\t\tif (shader.ALPHA!==curShader.ALPHA)\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\tDrawText.drawText(this,txt,words,this._curMat,font,textAlign || this._other.textAlign,color,strokeColor,lineWidth,x,y,underLine);\r\n\t\t\t}else {\r\n\t\t\tvar preDef=this._shader2D.defines.getValue();\r\n\t\t\tvar colorAdd=color ? Color.create(color)._color :shader.colorAdd;\r\n\t\t\tif (shader.ALPHA!==curShader.ALPHA || colorAdd!==shader.colorAdd || curShader.colorAdd!==shader.colorAdd){\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tshader.colorAdd=colorAdd;\r\n\t\t\t}\r\n\t\t\tDrawText.drawText(this,txt,words,this._curMat,font,textAlign || this._other.textAlign,color,strokeColor,lineWidth,x,y,underLine);\r\n\t\t}\r\n\t}\r\n\r\n\t//TODO:实现下划线\r\n\t__proto.fillWords=function(words,x,y,fontStr,color,underLine){\r\n\t\tthis._fillText(null,words,x,y,fontStr,color,null,-1,null,underLine);\r\n\t}\r\n\r\n\t__proto.fillBorderWords=function(words,x,y,font,color,borderColor,lineWidth){\r\n\t\tthis._fillBorderText(null,words,x,y,font,color,borderColor,lineWidth,null);\r\n\t}\r\n\r\n\t__proto.fillText=function(txt,x,y,fontStr,color,textAlign){\r\n\t\tthis._fillText(txt,null,x,y,fontStr,color,null,-1,textAlign);\r\n\t}\r\n\r\n\t__proto.strokeText=function(txt,x,y,fontStr,color,lineWidth,textAlign){\r\n\t\tthis._fillText(txt,null,x,y,fontStr,null,color,lineWidth || 1,textAlign);\r\n\t}\r\n\r\n\t__proto.fillBorderText=function(txt,x,y,fontStr,fillColor,borderColor,lineWidth,textAlign){\r\n\t\tthis._fillBorderText(txt,null,x,y,fontStr,fillColor,borderColor,lineWidth,textAlign);\r\n\t}\r\n\r\n\t__proto._fillBorderText=function(txt,words,x,y,fontStr,fillColor,borderColor,lineWidth,textAlign){\r\n\t\tif (!AtlasResourceManager.enabled){\r\n\t\t\tthis._fillText(txt,words,x,y,fontStr,null,borderColor,lineWidth || 1,textAlign);\r\n\t\t\tthis._fillText(txt,words,x,y,fontStr,fillColor,null,-1,textAlign);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar shader=this._shader2D;\r\n\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\tif (shader.ALPHA!==curShader.ALPHA)\r\n\t\t\tshader.glTexture=null;\r\n\t\tvar font=fontStr ? (WebGLContext2D._fontTemp.setFont(fontStr),WebGLContext2D._fontTemp):this._other.font;\r\n\t\tDrawText.drawText(this,txt,words,this._curMat,font,textAlign || this._other.textAlign,fillColor,borderColor,lineWidth || 1,x,y,0);\r\n\t}\r\n\r\n\t__proto.fillRect=function(x,y,width,height,fillStyle){\r\n\t\tvar vb=this._vb;\r\n\t\tif (GlUtils.fillRectImgVb(vb,this._clipRect,x,y,width,height,Texture.DEF_UV,this._curMat,this._x,this._y,0,0)){\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar pre=this._shader2D.fillStyle;\r\n\t\t\tfillStyle && (this._shader2D.fillStyle=DrawStyle.create(fillStyle));\r\n\t\t\tvar shader=this._shader2D;\r\n\t\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\t\tif (shader.fillStyle!==curShader.fillStyle || shader.ALPHA!==curShader.ALPHA){\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tvar submit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength-16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0));\r\n\t\t\t\tsubmit.shaderValue.color=shader.fillStyle._color._color;\r\n\t\t\t\tsubmit.shaderValue.ALPHA=shader.ALPHA;\r\n\t\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\t}\r\n\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t\tthis._shader2D.fillStyle=pre;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.fillTexture=function(texture,x,y,width,height,type,offset,other){\r\n\t\tif (!(texture.loaded && texture.bitmap && texture.source)){\r\n\t\t\tif (this.sprite){\r\n\t\t\t\tLaya.timer.callLater(this,this._repaintSprite);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar vb=this._vb;\r\n\t\tvar w=texture.bitmap.width,h=texture.bitmap.height,uv=texture.uv;\r\n\t\tvar ox=offset.x % texture.width,oy=offset.y % texture.height;\r\n\t\tif (w !=other.w || h !=other.h){\r\n\t\t\tif (!other.w && !other.h){\r\n\t\t\t\tother.oy=other.ox=0;\r\n\t\t\t\tswitch (type){\r\n\t\t\t\t\tcase \"repeat\":\r\n\t\t\t\t\t\tother.width=width;\r\n\t\t\t\t\t\tother.height=height;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"repeat-x\":\r\n\t\t\t\t\t\tother.width=width;\r\n\t\t\t\t\t\tif (oy < 0){\r\n\t\t\t\t\t\t\tif (texture.height+oy > height){\r\n\t\t\t\t\t\t\t\tother.height=height;\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tother.height=texture.height+oy;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tother.oy=oy;\r\n\t\t\t\t\t\t\tif (texture.height+oy > height){\r\n\t\t\t\t\t\t\t\tother.height=height-oy;\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tother.height=texture.height;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"repeat-y\":\r\n\t\t\t\t\t\tif (ox < 0){\r\n\t\t\t\t\t\t\tif (texture.width+ox > width){\r\n\t\t\t\t\t\t\t\tother.width=width;\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tother.width=texture.width+ox;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tother.ox=ox;\r\n\t\t\t\t\t\t\tif (texture.width+ox > width){\r\n\t\t\t\t\t\t\t\tother.width=width-ox;\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tother.width=texture.width;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tother.height=height;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tother.width=width;\r\n\t\t\t\t\t\tother.height=height;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tother.w=w;\r\n\t\t\tother.h=h;\r\n\t\t\tother.uv=[0,0,other.width / w,0,other.width / w,other.height / h,0,other.height / h];\r\n\t\t}\r\n\t\tx+=other.ox;\r\n\t\ty+=other.oy;\r\n\t\tox-=other.ox;\r\n\t\toy-=other.oy;\r\n\t\tif (GlUtils.fillRectImgVb(vb,this._clipRect,x,y,other.width,other.height,other.uv,this._curMat,this._x,this._y,0,0)){\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar submit=SubmitTexture.create(this,this._ib,vb,((vb._byteLength-16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.FILLTEXTURE*/0x100,0));\r\n\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\tvar shaderValue=submit.shaderValue;\r\n\t\t\tshaderValue.textureHost=texture;\r\n\t\t\tvar tTextureX=uv[0] *w;\r\n\t\t\tvar tTextureY=uv[1] *h;\r\n\t\t\tvar tTextureW=(uv[2]-uv[0])*w;\r\n\t\t\tvar tTextureH=(uv[5]-uv[3])*h;\r\n\t\t\tvar tx=-ox / w;\r\n\t\t\tvar ty=-oy / h;\r\n\t\t\tshaderValue.u_TexRange[0]=tTextureX / w;\r\n\t\t\tshaderValue.u_TexRange[1]=tTextureW / w;\r\n\t\t\tshaderValue.u_TexRange[2]=tTextureY / h;\r\n\t\t\tshaderValue.u_TexRange[3]=tTextureH / h;\r\n\t\t\tshaderValue.u_offset[0]=tx;\r\n\t\t\tshaderValue.u_offset[1]=ty;\r\n\t\t\tif (AtlasResourceManager.enabled && !this._isMain)\r\n\t\t\t\tsubmit.addTexture(texture,(vb._byteLength >> 2)-/*CLASS CONST:laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16);\r\n\t\t\tthis._curSubmit=submit;\r\n\t\t\tsubmit._renderType=/*laya.webgl.submit.Submit.TYPE_FILLTEXTURE*/10017;\r\n\t\t\tsubmit._numEle+=6;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.setShader=function(shader){\r\n\t\tSaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_SHADER*/0x100000,this._shader2D,true);\r\n\t\tthis._shader2D.shader=shader;\r\n\t}\r\n\r\n\t__proto.setFilters=function(value){\r\n\t\tSaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_FILTERS*/0x200000,this._shader2D,true);\r\n\t\tthis._shader2D.filters=value;\r\n\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\tthis._renderKey=0;\r\n\t\tthis._drawCount++;\r\n\t}\r\n\r\n\t__proto.drawTexture=function(tex,x,y,width,height,tx,ty){\r\n\t\tthis._drawTextureM(tex,x,y,width,height,tx,ty,null,1);\r\n\t}\r\n\r\n\t__proto.addTextureVb=function(invb,x,y){\r\n\t\tvar finalVB=this._curSubmit._vb || this._vb;\r\n\t\tvar vpos=(finalVB._byteLength >> 2);\r\n\t\tfinalVB.byteLength=((vpos+/*CLASS CONST:laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16)<< 2);\r\n\t\tvar vbdata=finalVB.getFloat32Array();\r\n\t\tfor (var i=0,ci=0;i < 16;i+=4){\r\n\t\t\tvbdata[vpos++]=invb[i]+x;\r\n\t\t\tvbdata[vpos++]=invb[i+1]+y;\r\n\t\t\tvbdata[vpos++]=invb[i+2];\r\n\t\t\tvbdata[vpos++]=invb[i+3];\r\n\t\t}\r\n\t\tthis._curSubmit._numEle+=6;\r\n\t\tthis._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);\r\n\t\tfinalVB._upload=true;\r\n\t}\r\n\r\n\t__proto.willDrawTexture=function(tex,alpha){\r\n\t\tif (!(tex.loaded && tex.bitmap && tex.source)){\r\n\t\t\tif (this.sprite){\r\n\t\t\t\tLaya.timer.callLater(this,this._repaintSprite);\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t};\r\n\t\tvar webGLImg=tex.bitmap;\r\n\t\tvar rid=webGLImg.id+this._shader2D.ALPHA *alpha+/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\tif (rid==this._renderKey)return rid;\r\n\t\tvar shader=this._shader2D;\r\n\t\tvar preAlpha=shader.ALPHA;\r\n\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\tshader.ALPHA *=alpha;\r\n\t\tthis._renderKey=rid;\r\n\t\tthis._drawCount++;\r\n\t\tshader.glTexture=webGLImg;\r\n\t\tvar vb=this._vb;\r\n\t\tvar submit=null;\r\n\t\tvar vbSize=(vb._byteLength / 32)*3;\r\n\t\tsubmit=SubmitTexture.create(this,this._ib,vb,vbSize,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\tthis._submits[this._submits._length++]=submit;\r\n\t\tsubmit.shaderValue.textureHost=tex;\r\n\t\tsubmit._renderType=/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\tsubmit._preIsSameTextureShader=this._curSubmit._renderType===/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016 && shader.ALPHA===curShader.ALPHA;\r\n\t\tthis._curSubmit=submit;\r\n\t\tshader.ALPHA=preAlpha;\r\n\t\treturn rid;\r\n\t}\r\n\r\n\t__proto.drawTextures=function(tex,pos,tx,ty){\r\n\t\tif (!(tex.loaded && tex.bitmap && tex.source)){\r\n\t\t\tthis.sprite && Laya.timer.callLater(this,this._repaintSprite);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar pre=this._clipRect;\r\n\t\tthis._clipRect=WebGLContext2D.MAXCLIPRECT;\r\n\t\tif (!this._drawTextureM(tex,pos[0],pos[1],tex.width,tex.height,tx,ty,null,1)){\r\n\t\t\talert(\"drawTextures err\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._clipRect=pre;\r\n\t\tStat.drawCall++;\r\n\t\tif (pos.length < 4)\r\n\t\t\treturn;\r\n\t\tvar finalVB=this._curSubmit._vb || this._vb;\r\n\t\tvar sx=this._curMat.a,sy=this._curMat.d;\r\n\t\tfor (var i=2,sz=pos.length;i < sz;i+=2){\r\n\t\t\tGlUtils.copyPreImgVb(finalVB,(pos[i]-pos[i-2])*sx,(pos[i+1]-pos[i-1])*sy);\r\n\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t}\r\n\t\tthis._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);\r\n\t}\r\n\r\n\t__proto._drawTextureM=function(tex,x,y,width,height,tx,ty,m,alpha){\r\n\t\tif (!(tex.loaded && tex.source)){\r\n\t\t\tif (this.sprite){\r\n\t\t\t\tLaya.timer.callLater(this,this._repaintSprite);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\t\tvar finalVB=this._curSubmit._vb || this._vb;\r\n\t\tvar webGLImg=tex.bitmap;\r\n\t\tx+=tx;\r\n\t\ty+=ty;\r\n\t\tthis._drawCount++;\r\n\t\tvar rid=webGLImg.id+this._shader2D.ALPHA *alpha+/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\tif (rid !=this._renderKey){\r\n\t\t\tthis._renderKey=rid;\r\n\t\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\t\tvar shader=this._shader2D;\r\n\t\t\tvar alphaBack=shader.ALPHA;\r\n\t\t\tshader.ALPHA *=alpha;\r\n\t\t\tshader.glTexture=webGLImg;\r\n\t\t\tvar vb=this._vb;\r\n\t\t\tvar submit=null;\r\n\t\t\tvar vbSize=(vb._byteLength / 32)*3;\r\n\t\t\tsubmit=SubmitTexture.create(this,this._ib,vb,vbSize,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\tsubmit.shaderValue.textureHost=tex;\r\n\t\t\tsubmit._renderType=/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\t\tsubmit._preIsSameTextureShader=this._curSubmit._renderType===/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016 && shader.ALPHA===curShader.ALPHA;\r\n\t\t\tthis._curSubmit=submit;\r\n\t\t\tfinalVB=this._curSubmit._vb || this._vb;\r\n\t\t\tshader.ALPHA=alphaBack;\r\n\t\t}\r\n\t\tif (GlUtils.fillRectImgVb(finalVB,this._clipRect,x,y,width || tex.width,height || tex.height,tex.uv,m || this._curMat,this._x,this._y,0,0)){\r\n\t\t\tif (AtlasResourceManager.enabled && !this._isMain)\r\n\t\t\t\t(this._curSubmit).addTexture(tex,(finalVB._byteLength >> 2)-/*CLASS CONST:laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16);\r\n\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t\tthis._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t__proto._repaintSprite=function(){\r\n\t\tif(this.sprite)\r\n\t\t\tthis.sprite.repaint();\r\n\t}\r\n\r\n\t//}\r\n\t__proto._drawText=function(tex,x,y,width,height,m,tx,ty,dx,dy){\r\n\t\tvar webGLImg=tex.bitmap;\r\n\t\tthis._drawCount++;\r\n\t\tvar rid=webGLImg.id+this._shader2D.ALPHA+/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\tif (rid !=this._renderKey){\r\n\t\t\tthis._renderKey=rid;\r\n\t\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\t\tvar shader=this._shader2D;\r\n\t\t\tshader.glTexture=webGLImg;\r\n\t\t\tvar vb=this._vb;\r\n\t\t\tvar submit=null;\r\n\t\t\tvar submitID=NaN;\r\n\t\t\tvar vbSize=(vb._byteLength / 32)*3;\r\n\t\t\tif (AtlasResourceManager.enabled){\r\n\t\t\t\tsubmit=SubmitTexture.create(this,this._ib,vb,vbSize,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\t\t\t}else {\r\n\t\t\t\tsubmit=SubmitTexture.create(this,this._ib,vb,vbSize,TextSV.create());\r\n\t\t\t}\r\n\t\t\tsubmit._preIsSameTextureShader=this._curSubmit._renderType===/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016 && shader.ALPHA===curShader.ALPHA;\r\n\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\tsubmit.shaderValue.textureHost=tex;\r\n\t\t\tsubmit._renderType=/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\t\tthis._curSubmit=submit;\r\n\t\t}\r\n\t\ttex.active();\r\n\t\tvar finalVB=this._curSubmit._vb || this._vb;\r\n\t\tif (GlUtils.fillRectImgVb(finalVB,this._clipRect,x+tx,y+ty,width || tex.width,height || tex.height,tex.uv,m || this._curMat,this._x,this._y,dx,dy,true)){\r\n\t\t\tif (AtlasResourceManager.enabled && !this._isMain){\r\n\t\t\t\t(this._curSubmit).addTexture(tex,(finalVB._byteLength >> 2)-/*CLASS CONST:laya.webgl.canvas.WebGLContext2D._RECTVBSIZE*/16);\r\n\t\t\t}\r\n\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t\tthis._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.drawTextureWithTransform=function(tex,x,y,width,height,transform,tx,ty,alpha){\r\n\t\tif (!transform){\r\n\t\t\tthis._drawTextureM(tex,x,y,width,height,tx,ty,null,alpha);\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar curMat=this._curMat;\r\n\t\tvar prex=this._x;\r\n\t\tvar prey=this._y;\r\n\t\t(tx!==0 || ty!==0)&& (this._x=tx *curMat.a+ty *curMat.c,this._y=ty *curMat.d+tx *curMat.b);\r\n\t\tif (transform && curMat.bTransform){\r\n\t\t\tMatrix.mul(transform,curMat,WebGLContext2D._tmpMatrix);\r\n\t\t\ttransform=WebGLContext2D._tmpMatrix;\r\n\t\t\ttransform._checkTransform();\r\n\t\t\t}else {\r\n\t\t\tthis._x+=curMat.tx;\r\n\t\t\tthis._y+=curMat.ty;\r\n\t\t}\r\n\t\tthis._drawTextureM(tex,x,y,width,height,0,0,transform,alpha);\r\n\t\tthis._x=prex;\r\n\t\tthis._y=prey;\r\n\t}\r\n\r\n\t__proto.fillQuadrangle=function(tex,x,y,point4,m){\r\n\t\tvar submit=this._curSubmit;\r\n\t\tvar vb=this._vb;\r\n\t\tvar shader=this._shader2D;\r\n\t\tvar curShader=submit.shaderValue;\r\n\t\tthis._renderKey=0;\r\n\t\tif (tex.bitmap){\r\n\t\t\tvar t_tex=tex.bitmap;\r\n\t\t\tif (shader.glTexture !=t_tex || shader.ALPHA!==curShader.ALPHA){\r\n\t\t\t\tshader.glTexture=t_tex;\r\n\t\t\t\tsubmit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\t\t\tsubmit.shaderValue.glTexture=t_tex;\r\n\t\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\t}\r\n\t\t\tGlUtils.fillQuadrangleImgVb(vb,x,y,point4,tex.uv,m || this._curMat,this._x,this._y);\r\n\t\t\t}else {\r\n\t\t\tif (!submit.shaderValue.fillStyle || !submit.shaderValue.fillStyle.equal(tex)|| shader.ALPHA!==curShader.ALPHA){\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tsubmit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0));\r\n\t\t\t\tsubmit.shaderValue.defines.add(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02);\r\n\t\t\t\tsubmit.shaderValue.fillStyle=DrawStyle.create(tex);\r\n\t\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\t}\r\n\t\t\tGlUtils.fillQuadrangleImgVb(vb,x,y,point4,Texture.DEF_UV,m || this._curMat,this._x,this._y);\r\n\t\t}\r\n\t\tsubmit._numEle+=6;\r\n\t}\r\n\r\n\t__proto.drawTexture2=function(x,y,pivotX,pivotY,transform,alpha,blendMode,args){\r\n\t\tif (alpha==0)return;\r\n\t\tvar curMat=this._curMat;\r\n\t\tthis._x=x *curMat.a+y *curMat.c;\r\n\t\tthis._y=y *curMat.d+x *curMat.b;\r\n\t\tif (transform){\r\n\t\t\tif (curMat.bTransform || transform.bTransform){\r\n\t\t\t\tMatrix.mul(transform,curMat,WebGLContext2D._tmpMatrix);\r\n\t\t\t\ttransform=WebGLContext2D._tmpMatrix;\r\n\t\t\t\t}else {\r\n\t\t\t\tthis._x+=transform.tx+curMat.tx;\r\n\t\t\t\tthis._y+=transform.ty+curMat.ty;\r\n\t\t\t\ttransform=Matrix.EMPTY;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (alpha===1 && !blendMode)\r\n\t\t\tthis._drawTextureM(args[0],args[1]-pivotX,args[2]-pivotY,args[3],args[4],0,0,transform,1);\r\n\t\telse {\r\n\t\t\tvar preAlpha=this._shader2D.ALPHA;\r\n\t\t\tvar preblendType=this._nBlendType;\r\n\t\t\tthis._shader2D.ALPHA=alpha;\r\n\t\t\tblendMode && (this._nBlendType=BlendMode.TOINT(blendMode));\r\n\t\t\tthis._drawTextureM(args[0],args[1]-pivotX,args[2]-pivotY,args[3],args[4],0,0,transform,1);\r\n\t\t\tthis._shader2D.ALPHA=preAlpha;\r\n\t\t\tthis._nBlendType=preblendType;\r\n\t\t}\r\n\t\tthis._x=this._y=0;\r\n\t}\r\n\r\n\t__proto.drawCanvas=function(canvas,x,y,width,height){\r\n\t\tvar src=canvas.context;\r\n\t\tthis._renderKey=0;\r\n\t\tif (src._targets){\r\n\t\t\tthis._submits[this._submits._length++]=SubmitCanvas.create(src,0,null);\r\n\t\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\t\tsrc._targets.drawTo(this,x,y,width,height);\r\n\t\t\t}else {\r\n\t\t\tvar submit=this._submits[this._submits._length++]=SubmitCanvas.create(src,this._shader2D.ALPHA,this._shader2D.filters);\r\n\t\t\tvar sx=width / canvas.width;\r\n\t\t\tvar sy=height / canvas.height;\r\n\t\t\tvar mat=submit._matrix;\r\n\t\t\tthis._curMat.copyTo(mat);\r\n\t\t\tsx !=1 && sy !=1 && mat.scale(sx,sy);\r\n\t\t\tvar tx=mat.tx,ty=mat.ty;\r\n\t\t\tmat.tx=mat.ty=0;\r\n\t\t\tmat.transformPoint(Point.TEMP.setTo(x,y));\r\n\t\t\tmat.translate(Point.TEMP.x+tx,Point.TEMP.y+ty);\r\n\t\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\t}\r\n\t\tif (Config.showCanvasMark){\r\n\t\t\tthis.save();\r\n\t\t\tthis.lineWidth=4;\r\n\t\t\tthis.strokeStyle=src._targets ? \"yellow\" :\"green\";\r\n\t\t\tthis.strokeRect(x-1,y-1,width+2,height+2,1);\r\n\t\t\tthis.strokeRect(x,y,width,height,1);\r\n\t\t\tthis.restore();\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.drawTarget=function(scope,x,y,width,height,m,proName,shaderValue,uv,blend){\r\n\t\t(blend===void 0)&& (blend=-1);\r\n\t\tvar vb=this._vb;\r\n\t\tif (GlUtils.fillRectImgVb(vb,this._clipRect,x,y,width,height,uv || Texture.DEF_UV,m || this._curMat,this._x,this._y,0,0)){\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar shader=this._shader2D;\r\n\t\t\tshader.glTexture=null;\r\n\t\t\tvar curShader=this._curSubmit.shaderValue;\r\n\t\t\tvar submit=this._curSubmit=SubmitTarget.create(this,this._ib,vb,((vb._byteLength-16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,shaderValue,proName);\r\n\t\t\tif (blend==-1){\r\n\t\t\t\tsubmit.blendType=this._nBlendType;\r\n\t\t\t\t}else {\r\n\t\t\t\tsubmit.blendType=blend;\r\n\t\t\t}\r\n\t\t\tsubmit.scope=scope;\r\n\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*把颜色跟当前设置的alpha混合\r\n\t*@return\r\n\t*/\r\n\t__proto.mixRGBandAlpha=function(color){\r\n\t\treturn this._mixRGBandAlpha(color,this._shader2D.ALPHA);\r\n\t}\r\n\r\n\t__proto._mixRGBandAlpha=function(color,alpha){\r\n\t\tvar a=((color & 0xff000000)>>> 24);\r\n\t\tif (a !=0){\r\n\t\t\ta*=alpha;\r\n\t\t\t}else {\r\n\t\t\ta=alpha*255;\r\n\t\t}\r\n\t\treturn (color & 0x00ffffff)| (a << 24);\r\n\t}\r\n\r\n\t__proto.drawTriangles=function(tex,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){\r\n\t\tif (!(tex.loaded && tex.source)){\r\n\t\t\tif (this.sprite){\r\n\t\t\t\tLaya.timer.callLater(this,this._repaintSprite);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis._drawCount++;\r\n\t\tvar webGLImg=tex.bitmap;\r\n\t\tvar rgba=this._mixRGBandAlpha(0xffffffff,alpha);\r\n\t\tvar vertNum=vertices.length / 2;\r\n\t\tvar eleNum=indices.length;\r\n\t\tthis._renderKey=-1;\r\n\t\tvar submit=this._curSubmit=SubmitTexture.create(this,this._triangleMesh.getIBR(),this._triangleMesh.getVBR(),this._triangleMesh.indexNum,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\tsubmit.shaderValue.textureHost=tex;\r\n\t\tsubmit._renderType=/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016;\r\n\t\tthis._submits[this._submits._length++]=submit;\r\n\t\tif(matrix){\r\n\t\t\tWebGLContext2D._tmpMatrix.a=matrix.a;WebGLContext2D._tmpMatrix.b=matrix.b;WebGLContext2D._tmpMatrix.c=matrix.c;WebGLContext2D._tmpMatrix.d=matrix.d;WebGLContext2D._tmpMatrix.tx=matrix.tx+x;WebGLContext2D._tmpMatrix.ty=matrix.ty+y;\r\n\t\t\tMatrix.mul(WebGLContext2D._tmpMatrix,this._curMat,WebGLContext2D._tmpMatrix);\r\n\t\t\t}else {\r\n\t\t\tWebGLContext2D._tmpMatrix.a=this._curMat.a;WebGLContext2D._tmpMatrix.b=this._curMat.b;WebGLContext2D._tmpMatrix.c=this._curMat.c;WebGLContext2D._tmpMatrix.d=this._curMat.d;WebGLContext2D._tmpMatrix.tx=this._curMat.tx+x;WebGLContext2D._tmpMatrix.ty=this._curMat.ty+y;\r\n\t\t}\r\n\t\tthis._triangleMesh.addData(vertices,uvs,indices,WebGLContext2D._tmpMatrix,rgba,this);\r\n\t\tthis._curSubmit._numEle+=eleNum;\r\n\t\tthis._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto.transform=function(a,b,c,d,tx,ty){\r\n\t\tSaveTransform.save(this);\r\n\t\tMatrix.mul(Matrix.TEMP.setTo(a,b,c,d,tx,ty),this._curMat,this._curMat);\r\n\t\tthis._curMat._checkTransform();\r\n\t}\r\n\r\n\t__proto.setTransformByMatrix=function(value){\r\n\t\tvalue.copyTo(this._curMat);\r\n\t}\r\n\r\n\t__proto.transformByMatrix=function(value){\r\n\t\tSaveTransform.save(this);\r\n\t\tMatrix.mul(value,this._curMat,this._curMat);\r\n\t\tthis._curMat._checkTransform();\r\n\t}\r\n\r\n\t__proto.rotate=function(angle){\r\n\t\tSaveTransform.save(this);\r\n\t\tthis._curMat.rotateEx(angle);\r\n\t}\r\n\r\n\t__proto.scale=function(scaleX,scaleY){\r\n\t\tSaveTransform.save(this);\r\n\t\tthis._curMat.scaleEx(scaleX,scaleY);\r\n\t}\r\n\r\n\t__proto.clipRect=function(x,y,width,height){\r\n\t\tif (this._curMat.b !=0 || this._curMat.c !=0){\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar submitStencil0=SubmitStencil.create(4);\r\n\t\t\tthis.addRenderObject(submitStencil0);\r\n\t\t\tvar vb=this._vb;\r\n\t\t\tvar nPos=(vb._byteLength >> 2);\r\n\t\t\tif (GlUtils.fillRectImgVb(vb,null,x,y,width,height,Texture.DEF_UV,this._curMat,this._x,this._y,0,0)){\r\n\t\t\t\tvar shader=this._shader2D;\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tvar submit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength-16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0));\r\n\t\t\t\tsubmit.shaderValue.ALPHA=1.0;\r\n\t\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\t\tthis._curSubmit._numEle+=6;\r\n\t\t\t\t}else {\r\n\t\t\t\talert(\"clipRect calc stencil rect error\");\r\n\t\t\t};\r\n\t\t\tvar submitStencil1=SubmitStencil.create(5);\r\n\t\t\tthis.addRenderObject(submitStencil1);\r\n\t\t\tvar vbdata=vb.getFloat32Array();\r\n\t\t\tvar minx=Math.min(Math.min(Math.min(vbdata[nPos+0],vbdata[nPos+4]),vbdata[nPos+8]),vbdata[nPos+12]);\r\n\t\t\tvar maxx=Math.max(Math.max(Math.max(vbdata[nPos+0],vbdata[nPos+4]),vbdata[nPos+8]),vbdata[nPos+12]);\r\n\t\t\tvar miny=Math.min(Math.min(Math.min(vbdata[nPos+1],vbdata[nPos+5]),vbdata[nPos+9]),vbdata[nPos+13]);\r\n\t\t\tvar maxy=Math.max(Math.max(Math.max(vbdata[nPos+1],vbdata[nPos+5]),vbdata[nPos+9]),vbdata[nPos+13]);\r\n\t\t\tSaveClipRectStencil.save(this,submitStencil1,x,y,width,height,minx,miny,maxx-minx,maxy-miny);\r\n\t\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\t\t}else {\r\n\t\t\twidth *=this._curMat.a;\r\n\t\t\theight *=this._curMat.d;\r\n\t\t\tvar p=Point.TEMP;\r\n\t\t\tthis._curMat.transformPoint(p.setTo(x,y));\r\n\t\t\tif (width < 0){\r\n\t\t\t\tp.x=p.x+width;\r\n\t\t\t\twidth=-width;\r\n\t\t\t}\r\n\t\t\tif (height < 0){\r\n\t\t\t\tp.y=p.y+height;\r\n\t\t\t\theight=-height;\r\n\t\t\t}\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar submitSc=this._curSubmit=SubmitScissor.create(this);\r\n\t\t\tthis._submits[this._submits._length++]=submitSc;\r\n\t\t\tsubmitSc.submitIndex=this._submits._length;\r\n\t\t\tsubmitSc.submitLength=9999999;\r\n\t\t\tSaveClipRect.save(this,submitSc);\r\n\t\t\tvar clip=this._clipRect;\r\n\t\t\tvar x1=clip.x,y1=clip.y;\r\n\t\t\tvar r=p.x+width,b=p.y+height;\r\n\t\t\tx1 < p.x && (clip.x=p.x);\r\n\t\t\ty1 < p.y && (clip.y=p.y);\r\n\t\t\tclip.width=Math.min(r,x1+clip.width)-clip.x;\r\n\t\t\tclip.height=Math.min(b,y1+clip.height)-clip.y;\r\n\t\t\tthis._shader2D.glTexture=null;\r\n\t\t\tsubmitSc.clipRect.copyFrom(clip);\r\n\t\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.setIBVB=function(x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex,offset,type){\r\n\t\t(startIndex===void 0)&& (startIndex=0);\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\t(type===void 0)&& (type=0);\r\n\t\tif (ib===null){\r\n\t\t\tif (!Render.isFlash){\r\n\t\t\t\tib=this._ib;\r\n\t\t\t\t}else {\r\n\t\t\t\tvar falshVB=vb;\r\n\t\t\t\t(falshVB._selfIB)|| (falshVB._selfIB=IndexBuffer2D.create(/*laya.webgl.WebGLContext.STATIC_DRAW*/0x88E4));\r\n\t\t\t\tfalshVB._selfIB.clear();\r\n\t\t\t\tib=falshVB._selfIB;\r\n\t\t\t}\r\n\t\t\tGlUtils.expandIBQuadrangle(ib,(vb._byteLength / (/*laya.webgl.utils.Buffer2D.FLOAT32*/4 *vb.vertexStride *4)));\r\n\t\t}\r\n\t\tif (!shaderValues || !shader)\r\n\t\t\tthrow Error(\"setIBVB must input:shader shaderValues\");\r\n\t\tvar submit=SubmitOtherIBVB.create(this,vb,ib,numElement,shader,shaderValues,startIndex,offset,type);\r\n\t\tmat || (mat=Matrix.EMPTY);\r\n\t\tmat.translate(x,y);\r\n\t\tMatrix.mul(mat,this._curMat,submit._mat);\r\n\t\tmat.translate(-x,-y);\r\n\t\tthis._submits[this._submits._length++]=submit;\r\n\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\tthis._renderKey=0;\r\n\t}\r\n\r\n\t__proto.addRenderObject=function(o){\r\n\t\tthis._submits[this._submits._length++]=o;\r\n\t}\r\n\r\n\t__proto.fillTrangles=function(tex,x,y,points,m){\r\n\t\tvar submit=this._curSubmit;\r\n\t\tvar vb=this._vb;\r\n\t\tvar shader=this._shader2D;\r\n\t\tvar curShader=submit.shaderValue;\r\n\t\tvar length=points.length >> 4;\r\n\t\tvar t_tex=tex.bitmap;\r\n\t\tthis._renderKey=0;\r\n\t\tif (shader.glTexture !=t_tex || shader.ALPHA!==curShader.ALPHA){\r\n\t\t\tsubmit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0));\r\n\t\t\tsubmit.shaderValue.textureHost=tex;\r\n\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t}\r\n\t\tGlUtils.fillTranglesVB(vb,x,y,points,m || this._curMat,this._x,this._y);\r\n\t\tsubmit._numEle+=length *6;\r\n\t}\r\n\r\n\t__proto.submitElement=function(start,end){\r\n\t\tvar renderList=this._submits;\r\n\t\tend < 0 && (end=renderList._length);\r\n\t\twhile (start < end){\r\n\t\t\tstart+=renderList[start].renderSubmit();\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.finish=function(){\r\n\t\tWebGL.mainContext.finish();\r\n\t}\r\n\r\n\t__proto.flush=function(){\r\n\t\tvar maxNum=Math.max(this._vb._byteLength / (/*laya.webgl.utils.Buffer2D.FLOAT32*/4 *16),this._maxNumEle / 6)+8;\r\n\t\tif (maxNum > (this._ib.bufferLength / (6 */*laya.webgl.utils.Buffer2D.SHORT*/2))){\r\n\t\t\tGlUtils.expandIBQuadrangle(this._ib,maxNum);\r\n\t\t}\r\n\t\tif (!this._isMain && AtlasResourceManager.enabled && AtlasResourceManager._atlasRestore > this._atlasResourceChange){\r\n\t\t\tthis._atlasResourceChange=AtlasResourceManager._atlasRestore;\r\n\t\t\tvar renderList=this._submits;\r\n\t\t\tfor (var i=0,s=renderList._length;i < s;i++){\r\n\t\t\t\tvar submit=renderList [i];\r\n\t\t\t\tif (submit.getRenderType()===/*laya.webgl.submit.Submit.TYPE_TEXTURE*/10016)\r\n\t\t\t\t\t(submit).checkTexture();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.submitElement(0,this._submits._length);\r\n\t\tthis._path && this._path.reset();\r\n\t\tSkinMeshBuffer.instance && SkinMeshBuffer.getInstance().reset();\r\n\t\tvar sz=0;\r\n\t\tfor (i=0,sz=this.meshlist.length;i < sz;i++){\r\n\t\t\tvar curm=this.meshlist[i];\r\n\t\t\tcurm.canReuse?(curm.releaseMesh()):(curm.destroy());\r\n\t\t}\r\n\t\tthis.meshlist.length=0;\r\n\t\tthis._curSubmit=Submit.RENDERBASE;\r\n\t\tthis._renderKey=0;\r\n\t\tthis._triangleMesh=MeshTexture.getAMesh();\r\n\t\tthis.meshlist.push(this._triangleMesh);\r\n\t\treturn this._submits._length;\r\n\t}\r\n\r\n\t__proto.setPathId=function(id){\r\n\t\tthis.mId=id;\r\n\t\tif (this.mId !=-1){\r\n\t\t\tthis.mHaveKey=false;\r\n\t\t\tvar tVGM=VectorGraphManager.getInstance();\r\n\t\t\tif (tVGM.shapeDic[this.mId]){\r\n\t\t\t\tthis.mHaveKey=true;\r\n\t\t\t}\r\n\t\t\tthis.mHaveLineKey=false;\r\n\t\t\tif (tVGM.shapeLineDic[this.mId]){\r\n\t\t\t\tthis.mHaveLineKey=true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.movePath=function(x,y){\r\n\t\tvar _x1=x,_y1=y;\r\n\t\tx=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;\r\n\t\ty=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;\r\n\t\tthis.mX+=x;\r\n\t\tthis.mY+=y;\r\n\t}\r\n\r\n\t__proto.beginPath=function(){\r\n\t\tvar tPath=this._getPath();\r\n\t\ttPath.tempArray.length=0;\r\n\t\ttPath.closePath=false;\r\n\t\tthis.mX=0;\r\n\t\tthis.mY=0;\r\n\t}\r\n\r\n\t__proto.closePath=function(){\r\n\t\tthis._path.closePath=true;\r\n\t}\r\n\r\n\t__proto.fill=function(isConvexPolygon){\r\n\t\t(isConvexPolygon===void 0)&& (isConvexPolygon=false);\r\n\t\tvar tPath=this._getPath();\r\n\t\tthis.drawPoly(0,0,tPath.tempArray,this.fillStyle._color.numColor,0,0,isConvexPolygon);\r\n\t}\r\n\r\n\t__proto.stroke=function(){\r\n\t\tvar tPath=this._getPath();\r\n\t\tif (this.lineWidth > 0){\r\n\t\t\tif (this.mId==-1){\r\n\t\t\t\ttPath.drawLine(0,0,tPath.tempArray,this.lineWidth,this.strokeStyle._color.numColor);\r\n\t\t\t\t}else {\r\n\t\t\t\tif (this.mHaveLineKey){\r\n\t\t\t\t\tvar tShapeLine=VectorGraphManager.getInstance().shapeLineDic[this.mId];\r\n\t\t\t\t\ttShapeLine.rebuild(tPath.tempArray);\r\n\t\t\t\t\ttPath.setGeomtry(tShapeLine);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tVectorGraphManager.getInstance().addLine(this.mId,tPath.drawLine(0,0,tPath.tempArray,this.lineWidth,this.strokeStyle._color.numColor));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttPath.update();\r\n\t\t\tvar tPosArray=[this.mX,this.mY];\r\n\t\t\tvar tempSubmit=Submit.createShape(this,tPath.ib,tPath.vb,tPath.count,tPath.offset,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,0));\r\n\t\t\ttempSubmit.shaderValue.ALPHA=this._shader2D.ALPHA;\r\n\t\t\t(tempSubmit.shaderValue).u_pos=tPosArray;\r\n\t\t\ttempSubmit.shaderValue.u_mmat2=RenderState2D.TEMPMAT4_ARRAY;\r\n\t\t\tthis._submits[this._submits._length++]=tempSubmit;\r\n\t\t\tthis._renderKey=-1;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.line=function(fromX,fromY,toX,toY,lineWidth,mat){\r\n\t\tvar submit=this._curSubmit;\r\n\t\tvar vb=this._vb;\r\n\t\tif (GlUtils.fillLineVb(vb,this._clipRect,fromX,fromY,toX,toY,lineWidth,mat)){\r\n\t\t\tthis._renderKey=0;\r\n\t\t\tvar shader=this._shader2D;\r\n\t\t\tvar curShader=submit.shaderValue;\r\n\t\t\tif (shader.strokeStyle!==curShader.strokeStyle || shader.ALPHA!==curShader.ALPHA){\r\n\t\t\t\tshader.glTexture=null;\r\n\t\t\t\tsubmit=this._curSubmit=Submit.createSubmit(this,this._ib,vb,((vb._byteLength-16 */*laya.webgl.utils.Buffer2D.FLOAT32*/4)/ 32)*3,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0));\r\n\t\t\t\tsubmit.shaderValue.strokeStyle=shader.strokeStyle;\r\n\t\t\t\tsubmit.shaderValue.mainID=/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02;\r\n\t\t\t\tsubmit.shaderValue.ALPHA=shader.ALPHA;\r\n\t\t\t\tthis._submits[this._submits._length++]=submit;\r\n\t\t\t}\r\n\t\t\tsubmit._numEle+=6;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.moveTo=function(x,y,b){\r\n\t\t(b===void 0)&& (b=true);\r\n\t\tvar tPath=this._getPath();\r\n\t\tif (b){\r\n\t\t\tvar _x1=x,_y1=y;\r\n\t\t\tx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\t\ty=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\t}\r\n\t\ttPath.addPoint(x,y);\r\n\t}\r\n\r\n\t__proto.lineTo=function(x,y,b){\r\n\t\t(b===void 0)&& (b=true);\r\n\t\tvar tPath=this._getPath();\r\n\t\tif (b){\r\n\t\t\tvar _x1=x,_y1=y;\r\n\t\t\tx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\t\ty=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\t}\r\n\t\ttPath.addPoint(x,y);\r\n\t}\r\n\r\n\t__proto.drawCurves=function(x,y,args){\r\n\t\tthis.setPathId(-1);\r\n\t\tthis.beginPath();\r\n\t\tthis.strokeStyle=args[3];\r\n\t\tthis.lineWidth=args[4];\r\n\t\tvar points=args[2];\r\n\t\tx+=args[0],y+=args[1];\r\n\t\tthis.movePath(x,y);\r\n\t\tthis.moveTo(points[0],points[1]);\r\n\t\tvar i=2,n=points.length;\r\n\t\twhile (i < n){\r\n\t\t\tthis.quadraticCurveTo(points[i++],points[i++],points[i++],points[i++]);\r\n\t\t}\r\n\t\tthis.stroke();\r\n\t}\r\n\r\n\t__proto.arcTo=function(x1,y1,x2,y2,r){\r\n\t\tif (this.mId !=-1){\r\n\t\t\tif (this.mHaveKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar i=0;\r\n\t\tvar x=0,y=0;\r\n\t\tvar tPath=this._getPath();\r\n\t\tthis._curMat.copyTo(WebGLContext2D._tmpMatrix);\r\n\t\tWebGLContext2D._tmpMatrix.tx=WebGLContext2D._tmpMatrix.ty=0;\r\n\t\tWebGLContext2D._tempPoint.setTo(tPath.getEndPointX(),tPath.getEndPointY());\r\n\t\tWebGLContext2D._tmpMatrix.invertTransformPoint(WebGLContext2D._tempPoint);\r\n\t\tvar dx=WebGLContext2D._tempPoint.x-x1;\r\n\t\tvar dy=WebGLContext2D._tempPoint.y-y1;\r\n\t\tvar len1=Math.sqrt(dx*dx+dy*dy);\r\n\t\tif (len1 <=0.000001){\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar ndx=dx / len1;\r\n\t\tvar ndy=dy / len1;\r\n\t\tvar dx2=x2-x1;\r\n\t\tvar dy2=y2-y1;\r\n\t\tvar len22=dx2*dx2+dy2*dy2;\r\n\t\tvar len2=Math.sqrt(len22);\r\n\t\tif (len2 <=0.000001){\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar ndx2=dx2 / len2;\r\n\t\tvar ndy2=dy2 / len2;\r\n\t\tvar odx=ndx+ndx2;\r\n\t\tvar ody=ndy+ndy2;\r\n\t\tvar olen=Math.sqrt(odx*odx+ody*ody);\r\n\t\tif (olen <=0.000001){\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar nOdx=odx / olen;\r\n\t\tvar nOdy=ody / olen;\r\n\t\tvar alpha=Math.acos(nOdx*ndx+nOdy*ndy);\r\n\t\tvar halfAng=Math.PI / 2-alpha;\r\n\t\tlen1=r / Math.tan(halfAng);\r\n\t\tvar ptx1=len1*ndx+x1;\r\n\t\tvar pty1=len1*ndy+y1;\r\n\t\tvar orilen=Math.sqrt(len1*len1+r*r);\r\n\t\tvar orix=x1+nOdx*orilen;\r\n\t\tvar oriy=y1+nOdy*orilen;\r\n\t\tvar ptx2=len1*ndx2+x1;\r\n\t\tvar pty2=len1*ndy2+y1;\r\n\t\tvar dir=ndx *ndy2-ndy *ndx2;\r\n\t\tvar fChgAng=0;\r\n\t\tvar sinx=0.0;\r\n\t\tvar cosx=0.0;\r\n\t\tif (dir >=0){\r\n\t\t\tfChgAng=halfAng *2;\r\n\t\t\tvar fda=fChgAng / WebGLContext2D.SEGNUM;\r\n\t\t\tsinx=Math.sin(fda);\r\n\t\t\tcosx=Math.cos(fda);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfChgAng=-halfAng *2;\r\n\t\t\tfda=fChgAng / WebGLContext2D.SEGNUM;\r\n\t\t\tsinx=Math.sin(fda);\r\n\t\t\tcosx=Math.cos(fda);\r\n\t\t}\r\n\t\tx=this._curMat.a *ptx1+this._curMat.c *pty1;\r\n\t\ty=this._curMat.b *ptx1+this._curMat.d *pty1;\r\n\t\tif (x !=this._path.getEndPointX()|| y !=this._path.getEndPointY()){\r\n\t\t\ttPath.addPoint(x,y);\r\n\t\t};\r\n\t\tvar cvx=ptx1-orix;\r\n\t\tvar cvy=pty1-oriy;\r\n\t\tvar tx=0.0;\r\n\t\tvar ty=0.0;\r\n\t\tfor (i=0;i < WebGLContext2D.SEGNUM;i++){\r\n\t\t\tvar cx=cvx*cosx+cvy*sinx;\r\n\t\t\tvar cy=-cvx*sinx+cvy*cosx;\r\n\t\t\tx=cx+orix;\r\n\t\t\ty=cy+oriy;\r\n\t\t\tx1=this._curMat.a *x+this._curMat.c *y;\r\n\t\t\ty1=this._curMat.b *x+this._curMat.d *y;\r\n\t\t\tx=x1;\r\n\t\t\ty=y1;\r\n\t\t\tif (x !=this._path.getEndPointX()|| y !=this._path.getEndPointY()){\r\n\t\t\t\ttPath.addPoint(x,y);\r\n\t\t\t}\r\n\t\t\tcvx=cx;\r\n\t\t\tcvy=cy;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.arc=function(cx,cy,r,startAngle,endAngle,counterclockwise,b){\r\n\t\t(counterclockwise===void 0)&& (counterclockwise=false);\r\n\t\t(b===void 0)&& (b=true);\r\n\t\tif (this.mId !=-1){\r\n\t\t\tvar tShape=VectorGraphManager.getInstance().shapeDic[this.mId];\r\n\t\t\tif (tShape){\r\n\t\t\t\tif (this.mHaveKey && !tShape.needUpdate(this._curMat))\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcx=0;\r\n\t\t\tcy=0;\r\n\t\t};\r\n\t\tvar a=0,da=0,hda=0,kappa=0;\r\n\t\tvar dx=0,dy=0,x=0,y=0,tanx=0,tany=0;\r\n\t\tvar px=0,py=0,ptanx=0,ptany=0;\r\n\t\tvar i=0,ndivs=0,nvals=0;\r\n\t\tda=endAngle-startAngle;\r\n\t\tif (!counterclockwise){\r\n\t\t\tif (Math.abs(da)>=Math.PI *2){\r\n\t\t\t\tda=Math.PI *2;\r\n\t\t\t\t}else {\r\n\t\t\t\twhile (da < 0.0){\r\n\t\t\t\t\tda+=Math.PI *2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tif (Math.abs(da)>=Math.PI *2){\r\n\t\t\t\tda=-Math.PI *2;\r\n\t\t\t\t}else {\r\n\t\t\t\twhile (da > 0.0){\r\n\t\t\t\t\tda-=Math.PI *2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (r < 101){\r\n\t\t\tndivs=Math.max(10,da *r / 5);\r\n\t\t\t}else if (r < 201){\r\n\t\t\tndivs=Math.max(10,da *r / 20);\r\n\t\t\t}else {\r\n\t\t\tndivs=Math.max(10,da *r / 40);\r\n\t\t}\r\n\t\thda=(da / ndivs)/ 2.0;\r\n\t\tkappa=Math.abs(4 / 3 *(1-Math.cos(hda))/ Math.sin(hda));\r\n\t\tif (counterclockwise)\r\n\t\t\tkappa=-kappa;\r\n\t\tnvals=0;\r\n\t\tvar tPath=this._getPath();\r\n\t\tvar _x1=NaN,_y1=NaN;\r\n\t\tfor (i=0;i <=ndivs;i++){\r\n\t\t\ta=startAngle+da *(i / ndivs);\r\n\t\t\tdx=Math.cos(a);\r\n\t\t\tdy=Math.sin(a);\r\n\t\t\tx=cx+dx *r;\r\n\t\t\ty=cy+dy *r;\r\n\t\t\tif (b){\r\n\t\t\t\t_x1=x,_y1=y;\r\n\t\t\t\tx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\t\t\ty=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\t\t}\r\n\t\t\tif (x !=this._path.getEndPointX()|| y !=this._path.getEndPointY()){\r\n\t\t\t\ttPath.addPoint(x,y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdx=Math.cos(endAngle);\r\n\t\tdy=Math.sin(endAngle);\r\n\t\tx=cx+dx *r;\r\n\t\ty=cy+dy *r;\r\n\t\tif (b){\r\n\t\t\t_x1=x,_y1=y;\r\n\t\t\tx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\t\ty=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\t}\r\n\t\tif (x !=this._path.getEndPointX()|| y !=this._path.getEndPointY()){\r\n\t\t\ttPath.addPoint(x,y);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.quadraticCurveTo=function(cpx,cpy,x,y){\r\n\t\tvar tBezier=Bezier.I;\r\n\t\tvar tResultArray=[];\r\n\t\tvar _x1=x,_y1=y;\r\n\t\tx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\ty=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\t_x1=cpx,_y1=cpy;\r\n\t\tcpx=this._curMat.a *_x1+this._curMat.c *_y1;\r\n\t\tcpy=this._curMat.b *_x1+this._curMat.d *_y1;\r\n\t\tvar tArray=tBezier.getBezierPoints([this._path.getEndPointX(),this._path.getEndPointY(),cpx,cpy,x,y],30,2);\r\n\t\tfor (var i=0,n=tArray.length / 2;i < n;i++){\r\n\t\t\tthis.lineTo(tArray[i *2],tArray[i *2+1],false);\r\n\t\t}\r\n\t\tthis.lineTo(x,y,false);\r\n\t}\r\n\r\n\t__proto.rect=function(x,y,width,height){\r\n\t\tthis._other=this._other.make();\r\n\t\tthis._other.path || (this._other.path=new Path());\r\n\t\tthis._other.path.rect(x,y,width,height);\r\n\t}\r\n\r\n\t__proto.strokeRect=function(x,y,width,height,parameterLineWidth){\r\n\t\tvar tW=parameterLineWidth *0.5;\r\n\t\tthis.line(x-tW,y,x+width+tW,y,parameterLineWidth,this._curMat);\r\n\t\tthis.line(x+width,y,x+width,y+height,parameterLineWidth,this._curMat);\r\n\t\tthis.line(x,y,x,y+height,parameterLineWidth,this._curMat);\r\n\t\tthis.line(x-tW,y+height,x+width+tW,y+height,parameterLineWidth,this._curMat);\r\n\t}\r\n\r\n\t__proto.clip=function(){}\r\n\t/**\r\n\t*画多边形(用)\r\n\t*@param x\r\n\t*@param y\r\n\t*@param points\r\n\t*/\r\n\t__proto.drawPoly=function(x,y,points,color,lineWidth,boderColor,isConvexPolygon){\r\n\t\t(isConvexPolygon===void 0)&& (isConvexPolygon=false);\r\n\t\tthis._renderKey=0;\r\n\t\tthis._shader2D.glTexture=null;\r\n\t\tvar tPath=this._getPath();\r\n\t\tif (this.mId==-1){\r\n\t\t\ttPath.polygon(x,y,points,color,lineWidth ? lineWidth :1,boderColor)\r\n\t\t\t}else {\r\n\t\t\tif (this.mHaveKey){\r\n\t\t\t\tvar tShape=VectorGraphManager.getInstance().shapeDic[this.mId];\r\n\t\t\t\ttShape.setMatrix(this._curMat);\r\n\t\t\t\ttShape.rebuild(tPath.tempArray);\r\n\t\t\t\ttPath.setGeomtry(tShape);\r\n\t\t\t\t}else {\r\n\t\t\t\tvar t=tPath.polygon(x,y,points,color,lineWidth ? lineWidth :1,boderColor);\r\n\t\t\t\tVectorGraphManager.getInstance().addShape(this.mId,t);\r\n\t\t\t\tt.setMatrix(this._curMat);\r\n\t\t\t}\r\n\t\t}\r\n\t\ttPath.update();\r\n\t\tvar tPosArray=[this.mX,this.mY];\r\n\t\tvar tempSubmit;\r\n\t\ttempSubmit=Submit.createShape(this,tPath.ib,tPath.vb,tPath.count,tPath.offset,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,0));\r\n\t\ttempSubmit.shaderValue.ALPHA=this._shader2D.ALPHA;\r\n\t\t(tempSubmit.shaderValue).u_pos=tPosArray;\r\n\t\ttempSubmit.shaderValue.u_mmat2=RenderState2D.EMPTYMAT4_ARRAY;\r\n\t\tthis._submits[this._submits._length++]=tempSubmit;\r\n\t\tif (lineWidth > 0){\r\n\t\t\tif (this.mHaveLineKey){\r\n\t\t\t\tvar tShapeLine=VectorGraphManager.getInstance().shapeLineDic[this.mId];\r\n\t\t\t\ttShapeLine.rebuild(tPath.tempArray);\r\n\t\t\t\ttPath.setGeomtry(tShapeLine);\r\n\t\t\t\t}else {\r\n\t\t\t\tVectorGraphManager.getInstance().addShape(this.mId,tPath.drawLine(x,y,points,lineWidth,boderColor));\r\n\t\t\t}\r\n\t\t\ttPath.update();\r\n\t\t\ttempSubmit=Submit.createShape(this,tPath.ib,tPath.vb,tPath.count,tPath.offset,Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,0));\r\n\t\t\ttempSubmit.shaderValue.ALPHA=this._shader2D.ALPHA;\r\n\t\t\ttempSubmit.shaderValue.u_mmat2=RenderState2D.EMPTYMAT4_ARRAY;\r\n\t\t\tthis._submits[this._submits._length++]=tempSubmit;\r\n\t\t}\r\n\t}\r\n\r\n\t/*******************************************end矢量绘制***************************************************/\r\n\t__proto.drawParticle=function(x,y,pt){\r\n\t\tpt.x=x;\r\n\t\tpt.y=y;\r\n\t\tthis._submits[this._submits._length++]=pt;\r\n\t}\r\n\r\n\t__proto._getPath=function(){\r\n\t\treturn this._path || (this._path=new Path());\r\n\t}\r\n\r\n\t/*,_shader2D.ALPHA=1*/\r\n\t__getset(0,__proto,'globalCompositeOperation',function(){\r\n\t\treturn BlendMode.NAMES[this._nBlendType];\r\n\t\t},function(value){\r\n\t\tvar n=BlendMode.TOINT[value];\r\n\t\tn==null || (this._nBlendType===n)|| (SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_GLOBALCOMPOSITEOPERATION*/0x10000,this,true),this._curSubmit=Submit.RENDERBASE,this._renderKey=0,this._nBlendType=n);\r\n\t});\r\n\r\n\t__getset(0,__proto,'strokeStyle',function(){\r\n\t\treturn this._shader2D.strokeStyle;\r\n\t\t},function(value){\r\n\t\tthis._shader2D.strokeStyle.equal(value)|| (SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_STROKESTYLE*/0x200,this._shader2D,false),this._shader2D.strokeStyle=DrawStyle.create(value));\r\n\t});\r\n\r\n\t__getset(0,__proto,'globalAlpha',function(){\r\n\t\treturn this._shader2D.ALPHA;\r\n\t\t},function(value){\r\n\t\tvalue=Math.floor(value *1000)/ 1000;\r\n\t\tif (value !=this._shader2D.ALPHA){\r\n\t\t\tSaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_ALPHA*/0x1,this._shader2D,true);\r\n\t\t\tthis._shader2D.ALPHA=value;\r\n\t\t}\r\n\t});\r\n\r\n\t__getset(0,__proto,'asBitmap',null,function(value){\r\n\t\tif (value){\r\n\t\t\tthis._targets || (this._targets=new RenderTargetMAX());\r\n\t\t\tthis._targets.repaint=true;\r\n\t\t\tif (!this._width || !this._height)\r\n\t\t\t\tthrow Error(\"asBitmap no size!\");\r\n\t\t\tthis._targets.setSP(this.sprite);\r\n\t\t\tthis._targets.size(this._width,this._height);\r\n\t\t}else\r\n\t\tthis._targets=null;\r\n\t});\r\n\r\n\t__getset(0,__proto,'fillStyle',function(){\r\n\t\treturn this._shader2D.fillStyle;\r\n\t\t},function(value){\r\n\t\tthis._shader2D.fillStyle.equal(value)|| (SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_FILESTYLE*/0x2,this._shader2D,false),this._shader2D.fillStyle=DrawStyle.create(value));\r\n\t});\r\n\r\n\t__getset(0,__proto,'textAlign',function(){\r\n\t\treturn this._other.textAlign;\r\n\t\t},function(value){\r\n\t\t(this._other.textAlign===value)|| (this._other=this._other.make(),SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_TEXTALIGN*/0x8000,this._other,false),this._other.textAlign=value);\r\n\t});\r\n\r\n\t__getset(0,__proto,'lineWidth',function(){\r\n\t\treturn this._other.lineWidth;\r\n\t\t},function(value){\r\n\t\t(this._other.lineWidth===value)|| (this._other=this._other.make(),SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_LINEWIDTH*/0x100,this._other,false),this._other.lineWidth=value);\r\n\t});\r\n\r\n\t__getset(0,__proto,'textBaseline',function(){\r\n\t\treturn this._other.textBaseline;\r\n\t\t},function(value){\r\n\t\t(this._other.textBaseline===value)|| (this._other=this._other.make(),SaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_TEXTBASELINE*/0x4000,this._other,false),this._other.textBaseline=value);\r\n\t});\r\n\r\n\t__getset(0,__proto,'font',null,function(str){\r\n\t\tif (str==this._other.font.toString())\r\n\t\t\treturn;\r\n\t\tthis._other=this._other.make();\r\n\t\tSaveBase.save(this,/*laya.webgl.canvas.save.SaveBase.TYPE_FONT*/0x8,this._other,false);\r\n\t\tthis._other.font===FontInContext.EMPTY ? (this._other.font=new FontInContext(str)):(this._other.font.setFont(str));\r\n\t});\r\n\r\n\tWebGLContext2D.__init__=function(){\r\n\t\tContextParams.DEFAULT=new ContextParams();\r\n\t}\r\n\r\n\tWebGLContext2D._tempPoint=new Point();\r\n\tWebGLContext2D._SUBMITVBSIZE=32000;\r\n\tWebGLContext2D._MAXSIZE=99999999;\r\n\tWebGLContext2D._RECTVBSIZE=16;\r\n\tWebGLContext2D.MAXCLIPRECT=new Rectangle(0,0,99999999,99999999);\r\n\tWebGLContext2D._COUNT=0;\r\n\tWebGLContext2D._tmpMatrix=new Matrix();\r\n\tWebGLContext2D.SEGNUM=32;\r\n\tWebGLContext2D._contextcount=0;\r\n\t__static(WebGLContext2D,\r\n\t['_fontTemp',function(){return this._fontTemp=new FontInContext();},'_drawStyleTemp',function(){return this._drawStyleTemp=new DrawStyle(null);}\r\n\t]);\r\n\tWebGLContext2D.__init$=function(){\r\n\t\t//class ContextParams\r\n\t\tContextParams=(function(){\r\n\t\t\tfunction ContextParams(){\r\n\t\t\t\tthis.lineWidth=1;\r\n\t\t\t\tthis.path=null;\r\n\t\t\t\tthis.textAlign=null;\r\n\t\t\t\tthis.textBaseline=null;\r\n\t\t\t\tthis.font=FontInContext.EMPTY;\r\n\t\t\t}\r\n\t\t\t__class(ContextParams,'');\r\n\t\t\tvar __proto=ContextParams.prototype;\r\n\t\t\t__proto.clear=function(){\r\n\t\t\t\tthis.lineWidth=1;\r\n\t\t\t\tthis.path && this.path.clear();\r\n\t\t\t\tthis.textAlign=this.textBaseline=null;\r\n\t\t\t\tthis.font=FontInContext.EMPTY;\r\n\t\t\t}\r\n\t\t\t__proto.make=function(){\r\n\t\t\t\treturn this===ContextParams.DEFAULT ? new ContextParams():this;\r\n\t\t\t}\r\n\t\t\tContextParams.DEFAULT=null;\r\n\t\t\treturn ContextParams;\r\n\t\t})()\r\n\t}\r\n\r\n\treturn WebGLContext2D;\r\n})(Context)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.Value2D extends laya.webgl.shader.ShaderValue\r\nvar Value2D=(function(_super){\r\n\tfunction Value2D(mainID,subID){\r\n\t\tthis.size=[0,0];\r\n\t\tthis.alpha=1.0;\r\n\t\t//this.mmat=null;\r\n\t\tthis.ALPHA=1.0;\r\n\t\t//this.shader=null;\r\n\t\t//this.mainID=0;\r\n\t\tthis.subID=0;\r\n\t\t//this.filters=null;\r\n\t\t//this.textureHost=null;\r\n\t\t//this.texture=null;\r\n\t\t//this.fillStyle=null;\r\n\t\t//this.color=null;\r\n\t\t//this.strokeStyle=null;\r\n\t\t//this.colorAdd=null;\r\n\t\t//this.glTexture=null;\r\n\t\t//this.u_mmat2=null;\r\n\t\t//this._inClassCache=null;\r\n\t\tthis._cacheID=0;\r\n\t\tValue2D.__super.call(this);\r\n\t\tthis.defines=new ShaderDefines2D();\r\n\t\tthis.position=Value2D._POSITION;\r\n\t\tthis.mainID=mainID;\r\n\t\tthis.subID=subID;\r\n\t\tthis.textureHost=null;\r\n\t\tthis.texture=null;\r\n\t\tthis.fillStyle=null;\r\n\t\tthis.color=null;\r\n\t\tthis.strokeStyle=null;\r\n\t\tthis.colorAdd=null;\r\n\t\tthis.glTexture=null;\r\n\t\tthis.u_mmat2=null;\r\n\t\tthis._cacheID=mainID|subID;\r\n\t\tthis._inClassCache=Value2D._cache[this._cacheID];\r\n\t\tif (mainID>0 && !this._inClassCache){\r\n\t\t\tthis._inClassCache=Value2D._cache[this._cacheID]=[];\r\n\t\t\tthis._inClassCache._length=0;\r\n\t\t}\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\t__class(Value2D,'laya.webgl.shader.d2.value.Value2D',_super);\r\n\tvar __proto=Value2D.prototype;\r\n\t__proto.setValue=function(value){}\r\n\t//throw new Error(\"todo in subclass\");\r\n\t__proto.refresh=function(){\r\n\t\tvar size=this.size;\r\n\t\tsize[0]=RenderState2D.width;\r\n\t\tsize[1]=RenderState2D.height;\r\n\t\tthis.alpha=this.ALPHA *RenderState2D.worldAlpha;\r\n\t\tthis.mmat=RenderState2D.worldMatrix4;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto._ShaderWithCompile=function(){\r\n\t\treturn Shader.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID | this.defines._value,Shader2X.create);\r\n\t}\r\n\r\n\t__proto._withWorldShaderDefines=function(){\r\n\t\tvar defs=RenderState2D.worldShaderDefines;\r\n\t\tvar sd=Shader.sharders [this.mainID | this.defines._value | defs.getValue()];\r\n\t\tif (!sd){\r\n\t\t\tvar def={};\r\n\t\t\tvar dic;\r\n\t\t\tvar name;\r\n\t\t\tdic=this.defines.toNameDic();for (name in dic)def[name]=\"\";\r\n\t\t\tdic=defs.toNameDic();for (name in dic)def[name]=\"\";\r\n\t\t\tsd=Shader.withCompile2D(0,this.mainID,def,this.mainID | this.defines._value| defs.getValue(),Shader2X.create);\r\n\t\t};\r\n\t\tvar worldFilters=RenderState2D.worldFilters;\r\n\t\tif (!worldFilters)return sd;\r\n\t\tvar n=worldFilters.length,f;\r\n\t\tfor (var i=0;i < n;i++){\r\n\t\t\t((f=worldFilters[i]))&& f.action.setValue(this);\r\n\t\t}\r\n\t\treturn sd;\r\n\t}\r\n\r\n\t__proto.upload=function(){\r\n\t\tvar renderstate2d=RenderState2D;\r\n\t\tthis.alpha=this.ALPHA *renderstate2d.worldAlpha;\r\n\t\tif (RenderState2D.worldMatrix4!==RenderState2D.TEMPMAT4_ARRAY)this.defines.add(/*laya.webgl.shader.d2.ShaderDefines2D.WORLDMAT*/0x80);\r\n\t\t(WebGL.shaderHighPrecision)&& (this.defines.add(/*laya.webgl.shader.d2.ShaderDefines2D.SHADERDEFINE_FSHIGHPRECISION*/0x400));\r\n\t\tvar sd=renderstate2d.worldShaderDefines?this._withWorldShaderDefines():(Shader.sharders [this.mainID | this.defines._value] || this._ShaderWithCompile());\r\n\t\tvar params;\r\n\t\tthis.size[0]=renderstate2d.width,this.size[1]=renderstate2d.height;\r\n\t\tthis.mmat=renderstate2d.worldMatrix4;\r\n\t\tif (BaseShader.activeShader!==sd){\r\n\t\t\tif (sd._shaderValueWidth!==renderstate2d.width || sd._shaderValueHeight!==renderstate2d.height){\r\n\t\t\t\tsd._shaderValueWidth=renderstate2d.width;\r\n\t\t\t\tsd._shaderValueHeight=renderstate2d.height;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tparams=sd._params2dQuick2 || sd._make2dQuick2();\r\n\t\t\t}\r\n\t\t\tsd.upload(this,params);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif (sd._shaderValueWidth!==renderstate2d.width || sd._shaderValueHeight!==renderstate2d.height){\r\n\t\t\t\tsd._shaderValueWidth=renderstate2d.width;\r\n\t\t\t\tsd._shaderValueHeight=renderstate2d.height;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tparams=(sd._params2dQuick1)|| sd._make2dQuick1();\r\n\t\t\t}\r\n\t\t\tsd.upload(this,params);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.setFilters=function(value){\r\n\t\tthis.filters=value;\r\n\t\tif (!value)\r\n\t\t\treturn;\r\n\t\tvar n=value.length,f;\r\n\t\tfor (var i=0;i < n;i++){\r\n\t\t\tf=value[i];\r\n\t\t\tif (f){\r\n\t\t\t\tthis.defines.add(f.type);\r\n\t\t\t\tf.action.setValue(this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis.defines.setValue(this.subID);\r\n\t}\r\n\r\n\t__proto.release=function(){\r\n\t\tthis._inClassCache[this._inClassCache._length++]=this;\r\n\t\tthis.fillStyle=null;\r\n\t\tthis.strokeStyle=null;\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\tValue2D._initone=function(type,classT){\r\n\t\tValue2D._typeClass[type]=classT;\r\n\t\tValue2D._cache[type]=[];\r\n\t\tValue2D._cache[type]._length=0;\r\n\t}\r\n\r\n\tValue2D.__init__=function(){\r\n\t\tValue2D._POSITION=[2,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,4 *CONST3D2D.BYTES_PE,0];\r\n\t\tValue2D._TEXCOORD=[2,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,4 *CONST3D2D.BYTES_PE,2 *CONST3D2D.BYTES_PE];\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,Color2dSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,PrimitiveSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.FILLTEXTURE*/0x100,FillTextureSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.SKINMESH*/0x200,SkinSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,TextureSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01 | /*laya.webgl.shader.d2.ShaderDefines2D.COLORADD*/0x40,TextSV);\r\n\t\tValue2D._initone(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01 | /*laya.webgl.shader.d2.ShaderDefines2D.FILTERGLOW*/0x08,TextureSV);\r\n\t}\r\n\r\n\tValue2D.create=function(mainType,subType){\r\n\t\tvar types=Value2D._cache[mainType|subType];\r\n\t\tif (types._length)\r\n\t\t\treturn types[--types._length];\r\n\t\telse\r\n\t\treturn new Value2D._typeClass[mainType|subType](subType);\r\n\t}\r\n\r\n\tValue2D._POSITION=null;\r\n\tValue2D._TEXCOORD=null;\r\n\tValue2D._cache=[];\r\n\tValue2D._typeClass=[];\r\n\tValue2D.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\r\n\treturn Value2D;\r\n})(ShaderValue)\r\n\r\n\r\n//class laya.webgl.utils.RenderSprite3D extends laya.renders.RenderSprite\r\nvar RenderSprite3D=(function(_super){\r\n\tfunction RenderSprite3D(type,next){\r\n\t\tRenderSprite3D.__super.call(this,type,next);\r\n\t}\r\n\r\n\t__class(RenderSprite3D,'laya.webgl.utils.RenderSprite3D',_super);\r\n\tvar __proto=RenderSprite3D.prototype;\r\n\t__proto.onCreate=function(type){\r\n\t\tswitch (type){\r\n\t\t\tcase 0x08:\r\n\t\t\t\tthis._fun=this._blend;\r\n\t\t\t\treturn;\r\n\t\t\tcase 0x04:\r\n\t\t\t\tthis._fun=this._transform;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t}\r\n\r\n\t__proto._mask=function(sprite,context,x,y){\r\n\t\tvar next=this._next;\r\n\t\tvar mask=sprite.mask;\r\n\t\tvar submitCMD;\r\n\t\tvar submitStencil;\r\n\t\tif (mask){\r\n\t\t\tcontext.ctx.save();\r\n\t\t\tvar preBlendMode=(context.ctx).globalCompositeOperation;\r\n\t\t\tvar tRect=new Rectangle();\r\n\t\t\ttRect.copyFrom(mask.getBounds());\r\n\t\t\ttRect.width=Math.round(tRect.width);\r\n\t\t\ttRect.height=Math.round(tRect.height);\r\n\t\t\ttRect.x=Math.round(tRect.x);\r\n\t\t\ttRect.y=Math.round(tRect.y);\r\n\t\t\tif (tRect.width > 0 && tRect.height > 0){\r\n\t\t\t\tvar tf=sprite._style._tf;\r\n\t\t\t\tvar scope=SubmitCMDScope.create();\r\n\t\t\t\tscope.addValue(\"bounds\",tRect);\r\n\t\t\t\tsubmitCMD=SubmitCMD.create([scope,context],laya.webgl.utils.RenderSprite3D.tmpTarget);\r\n\t\t\t\tcontext.addRenderObject(submitCMD);\r\n\t\t\t\tmask.render(context,-tRect.x,-tRect.y);\r\n\t\t\t\tsubmitCMD=SubmitCMD.create([scope],laya.webgl.utils.RenderSprite3D.endTmpTarget);\r\n\t\t\t\tcontext.addRenderObject(submitCMD);\r\n\t\t\t\tcontext.ctx.save();\r\n\t\t\t\tcontext.clipRect(x-tf.translateX+tRect.x,y-tf.translateY+tRect.y,tRect.width,tRect.height);\r\n\t\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t\t\tcontext.ctx.restore();\r\n\t\t\t\tsubmitStencil=SubmitStencil.create(6);\r\n\t\t\t\tpreBlendMode=(context.ctx).globalCompositeOperation;\r\n\t\t\t\tsubmitStencil.blendMode=\"mask\";\r\n\t\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\t\tMatrix.TEMP.identity();\r\n\t\t\t\tvar shaderValue=Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0);\r\n\t\t\t\tvar uv=Texture.INV_UV;\r\n\t\t\t\tvar w=tRect.width;\r\n\t\t\t\tvar h=tRect.height;\r\n\t\t\t\tvar tempLimit=32;\r\n\t\t\t\tif (tRect.width < tempLimit || tRect.height < tempLimit){\r\n\t\t\t\t\tuv=RenderSprite3D.tempUV;\r\n\t\t\t\t\tuv[0]=0;\r\n\t\t\t\t\tuv[1]=0;\r\n\t\t\t\t\tuv[2]=(tRect.width >=32)? 1 :tRect.width/tempLimit;\r\n\t\t\t\t\tuv[3]=0\r\n\t\t\t\t\tuv[4]=(tRect.width >=32)? 1 :tRect.width/tempLimit;\r\n\t\t\t\t\tuv[5]=(tRect.height >=32)? 1 :tRect.height/tempLimit;\r\n\t\t\t\t\tuv[6]=0;\r\n\t\t\t\t\tuv[7]=(tRect.height >=32)? 1 :tRect.height/tempLimit;\r\n\t\t\t\t\ttRect.width=(tRect.width >=32)? tRect.width :tempLimit;\r\n\t\t\t\t\ttRect.height=(tRect.height >=32)? tRect.height :tempLimit;\r\n\t\t\t\t\tuv[1] *=-1;uv[3] *=-1;uv[5] *=-1;uv[7] *=-1;\r\n\t\t\t\t\tuv[1]+=1;uv[3]+=1;uv[5]+=1;uv[7]+=1;\r\n\t\t\t\t}\r\n\t\t\t\t(context.ctx).drawTarget(scope,x+tRect.x-tf.translateX,y+tRect.y-tf.translateY,w,h,Matrix.TEMP,\"tmpTarget\",shaderValue,uv,6);\r\n\t\t\t\tsubmitCMD=SubmitCMD.create([scope],laya.webgl.utils.RenderSprite3D.recycleTarget);\r\n\t\t\t\tcontext.addRenderObject(submitCMD);\r\n\t\t\t\tsubmitStencil=SubmitStencil.create(6);\r\n\t\t\t\tsubmitStencil.blendMode=preBlendMode;\r\n\t\t\t\tcontext.addRenderObject(submitStencil);\r\n\t\t\t}\r\n\t\t\tcontext.ctx.restore();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._blend=function(sprite,context,x,y){\r\n\t\tvar style=sprite._style;\r\n\t\tvar next=this._next;\r\n\t\tif (style.blendMode){\r\n\t\t\tcontext.ctx.save();\r\n\t\t\tcontext.ctx.globalCompositeOperation=style.blendMode;\r\n\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t\tcontext.ctx.restore();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnext._fun.call(next,sprite,context,x,y);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._transform=function(sprite,context,x,y){\r\n\t\tvar transform=sprite.transform,_next=this._next;\r\n\t\tif (transform && _next !=RenderSprite.NORENDER){\r\n\t\t\tvar ctx=context.ctx;\r\n\t\t\tvar style=sprite._style;\r\n\t\t\ttransform.tx=x;\r\n\t\t\ttransform.ty=y;\r\n\t\t\tvar m2=ctx._getTransformMatrix();\r\n\t\t\tvar m1=m2.clone();\r\n\t\t\tMatrix.mul(transform,m2,m2);\r\n\t\t\tm2._checkTransform();\r\n\t\t\ttransform.tx=transform.ty=0;\r\n\t\t\t_next._fun.call(_next,sprite,context,0,0);\r\n\t\t\tm1.copyTo(m2);\r\n\t\t\tm1.destroy();\r\n\t\t\t}else {\r\n\t\t\t_next._fun.call(_next,sprite,context,x,y);\r\n\t\t}\r\n\t}\r\n\r\n\tRenderSprite3D.tmpTarget=function(scope,context){\r\n\t\tvar b=scope.getValue(\"bounds\");\r\n\t\tvar tmpTarget=RenderTarget2D.create(b.width,b.height);\r\n\t\ttmpTarget.start();\r\n\t\ttmpTarget.clear(0,0,0,0);\r\n\t\tscope.addValue(\"tmpTarget\",tmpTarget);\r\n\t}\r\n\r\n\tRenderSprite3D.endTmpTarget=function(scope){\r\n\t\tvar tmpTarget=scope.getValue(\"tmpTarget\");\r\n\t\ttmpTarget.end();\r\n\t}\r\n\r\n\tRenderSprite3D.recycleTarget=function(scope){\r\n\t\tvar tmpTarget=scope.getValue(\"tmpTarget\");\r\n\t\ttmpTarget.recycle();\r\n\t\tscope.recycle();\r\n\t}\r\n\r\n\t__static(RenderSprite3D,\r\n\t['tempUV',function(){return this.tempUV=new Array(8);}\r\n\t]);\r\n\treturn RenderSprite3D;\r\n})(RenderSprite)\r\n\r\n\r\n//class laya.filters.webgl.ColorFilterActionGL extends laya.filters.webgl.FilterActionGL\r\nvar ColorFilterActionGL=(function(_super){\r\n\tfunction ColorFilterActionGL(){\r\n\t\tthis.data=null;\r\n\t\tColorFilterActionGL.__super.call(this);\r\n\t}\r\n\r\n\t__class(ColorFilterActionGL,'laya.filters.webgl.ColorFilterActionGL',_super);\r\n\tvar __proto=ColorFilterActionGL.prototype;\r\n\tLaya.imps(__proto,{\"laya.filters.IFilterActionGL\":true})\r\n\t__proto.setValue=function(shader){\r\n\t\tshader.colorMat=this.data._mat;\r\n\t\tshader.colorAlpha=this.data._alpha;\r\n\t}\r\n\r\n\t__proto.apply3d=function(scope,sprite,context,x,y){\r\n\t\tvar b=scope.getValue(\"bounds\");\r\n\t\tvar shaderValue=Value2D.create(/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,0);\r\n\t\tshaderValue.setFilters([this.data]);\r\n\t\tvar tMatrix=Matrix.TEMP;\r\n\t\ttMatrix.identity();\r\n\t\tcontext.ctx.drawTarget(scope,0,0,b.width,b.height,tMatrix,\"src\",shaderValue);\r\n\t}\r\n\r\n\treturn ColorFilterActionGL;\r\n})(FilterActionGL)\r\n\r\n\r\n//class laya.webgl.atlas.Atlaser extends laya.webgl.atlas.AtlasGrid\r\nvar Atlaser=(function(_super){\r\n\tfunction Atlaser(gridNumX,gridNumY,width,height,atlasID){\r\n\t\tthis._atlasCanvas=null;\r\n\t\tthis._inAtlasTextureKey=null;\r\n\t\tthis._inAtlasTextureBitmapValue=null;\r\n\t\tthis._inAtlasTextureOriUVValue=null;\r\n\t\tthis._InAtlasWebGLImagesKey=null;\r\n\t\tthis._InAtlasWebGLImagesOffsetValue=null;\r\n\t\tAtlaser.__super.call(this,gridNumX,gridNumY,atlasID);\r\n\t\tthis._inAtlasTextureKey=[];\r\n\t\tthis._inAtlasTextureBitmapValue=[];\r\n\t\tthis._inAtlasTextureOriUVValue=[];\r\n\t\tthis._InAtlasWebGLImagesKey={};\r\n\t\tthis._InAtlasWebGLImagesOffsetValue=[];\r\n\t\tthis._atlasCanvas=new AtlasWebGLCanvas();\r\n\t\tthis._atlasCanvas._atlaser=this;\r\n\t\tthis._atlasCanvas.width=width;\r\n\t\tthis._atlasCanvas.height=height;\r\n\t\tthis._atlasCanvas.activeResource();\r\n\t\tthis._atlasCanvas.lock=true;\r\n\t}\r\n\r\n\t__class(Atlaser,'laya.webgl.atlas.Atlaser',_super);\r\n\tvar __proto=Atlaser.prototype;\r\n\t__proto.computeUVinAtlasTexture=function(texture,oriUV,offsetX,offsetY){\r\n\t\tvar tex=texture;\r\n\t\tvar _width=AtlasResourceManager.atlasTextureWidth;\r\n\t\tvar _height=AtlasResourceManager.atlasTextureHeight;\r\n\t\tvar u1=offsetX / _width,v1=offsetY / _height,u2=(offsetX+texture.bitmap.width)/ _width,v2=(offsetY+texture.bitmap.height)/ _height;\r\n\t\tvar inAltasUVWidth=texture.bitmap.width / _width,inAltasUVHeight=texture.bitmap.height / _height;\r\n\t\ttexture.uv=[u1+oriUV[0] *inAltasUVWidth,v1+oriUV[1] *inAltasUVHeight,u2-(1-oriUV[2])*inAltasUVWidth,v1+oriUV[3] *inAltasUVHeight,u2-(1-oriUV[4])*inAltasUVWidth,v2-(1-oriUV[5])*inAltasUVHeight,u1+oriUV[6] *inAltasUVWidth,v2-(1-oriUV[7])*inAltasUVHeight];\r\n\t}\r\n\r\n\t__proto.findBitmapIsExist=function(bitmap){\r\n\t\tif ((bitmap instanceof laya.webgl.resource.WebGLImage )){\r\n\t\t\tvar webImage=bitmap;\r\n\t\t\tvar sUrl=webImage.url;\r\n\t\t\tvar object=this._InAtlasWebGLImagesKey[sUrl?sUrl:webImage.id]\r\n\t\t\tif (object){\r\n\t\t\t\treturn object.offsetInfoID;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn-1;\r\n\t}\r\n\r\n\t/**\r\n\t*\r\n\t*@param inAtlasRes\r\n\t*@return 是否已经存在队列中\r\n\t*/\r\n\t__proto.addToAtlasTexture=function(mergeAtlasBitmap,offsetX,offsetY){\r\n\t\tif ((mergeAtlasBitmap instanceof laya.webgl.resource.WebGLImage )){\r\n\t\t\tvar webImage=mergeAtlasBitmap;\r\n\t\t\tvar sUrl=webImage.url;\r\n\t\t\tthis._InAtlasWebGLImagesKey[sUrl?sUrl:webImage.id]={bitmap:mergeAtlasBitmap,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length};\r\n\t\t\tthis._InAtlasWebGLImagesOffsetValue.push([offsetX,offsetY]);\r\n\t\t}\r\n\t\tthis._atlasCanvas.texSubImage2D(offsetX,offsetY,mergeAtlasBitmap.atlasSource);\r\n\t\tmergeAtlasBitmap.clearAtlasSource();\r\n\t}\r\n\r\n\t__proto.addToAtlas=function(texture,offsetX,offsetY){\r\n\t\ttexture._atlasID=this._inAtlasTextureKey.length;\r\n\t\tvar oriUV=texture.uv.slice();\r\n\t\tvar oriBitmap=texture.bitmap;\r\n\t\tthis._inAtlasTextureKey.push(texture);\r\n\t\tthis._inAtlasTextureOriUVValue.push(oriUV);\r\n\t\tthis._inAtlasTextureBitmapValue.push(oriBitmap);\r\n\t\tthis.computeUVinAtlasTexture(texture,oriUV,offsetX,offsetY);\r\n\t\ttexture.bitmap=this._atlasCanvas;\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tfor (var i=0,n=this._inAtlasTextureKey.length;i < n;i++){\r\n\t\t\tthis._inAtlasTextureKey[i].bitmap=this._inAtlasTextureBitmapValue[i];\r\n\t\t\tthis._inAtlasTextureKey[i].uv=this._inAtlasTextureOriUVValue[i];\r\n\t\t\tthis._inAtlasTextureKey[i]._atlasID=-1;\r\n\t\t\tthis._inAtlasTextureKey[i].bitmap.lock=false;\r\n\t\t\tthis._inAtlasTextureKey[i].bitmap.releaseResource();\r\n\t\t}\r\n\t\tthis._inAtlasTextureKey.length=0;\r\n\t\tthis._inAtlasTextureBitmapValue.length=0;\r\n\t\tthis._inAtlasTextureOriUVValue.length=0;\r\n\t\tthis._InAtlasWebGLImagesKey=null;\r\n\t\tthis._InAtlasWebGLImagesOffsetValue.length=0;\r\n\t}\r\n\r\n\t__proto.dispose=function(){\r\n\t\tthis.clear();\r\n\t\tthis._atlasCanvas.destroy();\r\n\t}\r\n\r\n\t__getset(0,__proto,'InAtlasWebGLImagesOffsetValue',function(){\r\n\t\treturn this._InAtlasWebGLImagesOffsetValue;\r\n\t});\r\n\r\n\t__getset(0,__proto,'texture',function(){\r\n\t\treturn this._atlasCanvas;\r\n\t});\r\n\r\n\t__getset(0,__proto,'inAtlasWebGLImagesKey',function(){\r\n\t\treturn this._InAtlasWebGLImagesKey;\r\n\t});\r\n\r\n\treturn Atlaser;\r\n})(AtlasGrid)\r\n\r\n\r\n//class laya.webgl.shader.d2.ShaderDefines2D extends laya.webgl.shader.ShaderDefines\r\nvar ShaderDefines2D=(function(_super){\r\n\tfunction ShaderDefines2D(){\r\n\t\tShaderDefines2D.__super.call(this,ShaderDefines2D.__name2int,ShaderDefines2D.__int2name,ShaderDefines2D.__int2nameMap);\r\n\t}\r\n\r\n\t__class(ShaderDefines2D,'laya.webgl.shader.d2.ShaderDefines2D',_super);\r\n\tShaderDefines2D.__init__=function(){\r\n\t\tShaderDefines2D.reg(\"TEXTURE2D\",0x01);\r\n\t\tShaderDefines2D.reg(\"COLOR2D\",0x02);\r\n\t\tShaderDefines2D.reg(\"PRIMITIVE\",0x04);\r\n\t\tShaderDefines2D.reg(\"GLOW_FILTER\",0x08);\r\n\t\tShaderDefines2D.reg(\"BLUR_FILTER\",0x10);\r\n\t\tShaderDefines2D.reg(\"COLOR_FILTER\",0x20);\r\n\t\tShaderDefines2D.reg(\"COLOR_ADD\",0x40);\r\n\t\tShaderDefines2D.reg(\"WORLDMAT\",0x80);\r\n\t\tShaderDefines2D.reg(\"FILLTEXTURE\",0x100);\r\n\t\tShaderDefines2D.reg(\"FSHIGHPRECISION\",0x400);\r\n\t}\r\n\r\n\tShaderDefines2D.reg=function(name,value){\r\n\t\tShaderDefines._reg(name,value,ShaderDefines2D.__name2int,ShaderDefines2D.__int2name);\r\n\t}\r\n\r\n\tShaderDefines2D.toText=function(value,int2name,int2nameMap){\r\n\t\treturn ShaderDefines._toText(value,int2name,int2nameMap);\r\n\t}\r\n\r\n\tShaderDefines2D.toInt=function(names){\r\n\t\treturn ShaderDefines._toInt(names,ShaderDefines2D.__name2int);\r\n\t}\r\n\r\n\tShaderDefines2D.TEXTURE2D=0x01;\r\n\tShaderDefines2D.COLOR2D=0x02;\r\n\tShaderDefines2D.PRIMITIVE=0x04;\r\n\tShaderDefines2D.FILTERGLOW=0x08;\r\n\tShaderDefines2D.FILTERBLUR=0x10;\r\n\tShaderDefines2D.FILTERCOLOR=0x20;\r\n\tShaderDefines2D.COLORADD=0x40;\r\n\tShaderDefines2D.WORLDMAT=0x80;\r\n\tShaderDefines2D.FILLTEXTURE=0x100;\r\n\tShaderDefines2D.SKINMESH=0x200;\r\n\tShaderDefines2D.SHADERDEFINE_FSHIGHPRECISION=0x400;\r\n\tShaderDefines2D.__name2int={};\r\n\tShaderDefines2D.__int2name=[];\r\n\tShaderDefines2D.__int2nameMap=[];\r\n\treturn ShaderDefines2D;\r\n})(ShaderDefines)\r\n\r\n\r\n//class laya.webgl.shapes.Ellipse extends laya.webgl.shapes.BasePoly\r\nvar Ellipse=(function(_super){\r\n\tfunction Ellipse(x,y,width,height,color,borderWidth,borderColor){\r\n\t\tEllipse.__super.call(this,x,y,width,height,40,color,borderWidth,borderColor);\r\n\t}\r\n\r\n\t__class(Ellipse,'laya.webgl.shapes.Ellipse',_super);\r\n\treturn Ellipse;\r\n})(BasePoly)\r\n\r\n\r\n//class laya.webgl.shapes.Line extends laya.webgl.shapes.BasePoly\r\nvar Line=(function(_super){\r\n\tfunction Line(x,y,points,borderWidth,color){\r\n\t\tthis._points=[];\r\n\t\tthis.rebuild(points);\r\n\t\tLine.__super.call(this,x,y,0,0,0,color,borderWidth,color,0);\r\n\t}\r\n\r\n\t__class(Line,'laya.webgl.shapes.Line',_super);\r\n\tvar __proto=Line.prototype;\r\n\t__proto.rebuild=function(points){\r\n\t\tvar len=points.length;\r\n\t\tvar preLen=this._points.length;\r\n\t\tif (len !=preLen){\r\n\t\t\tthis.mUint16Array=new Uint16Array((len/2-1)*6);\r\n\t\t\tthis.mFloat32Array=new Float32Array(len*5);\r\n\t\t}\r\n\t\tthis._points.length=0;\r\n\t\tvar tCurrX=NaN;\r\n\t\tvar tCurrY=NaN;\r\n\t\tvar tLastX=-1;\r\n\t\tvar tLastY=-1;\r\n\t\tvar tLen=points.length / 2;\r\n\t\tfor (var i=0;i < tLen;i++){\r\n\t\t\ttCurrX=points[i *2];\r\n\t\t\ttCurrY=points[i *2+1];\r\n\t\t\tif (Math.abs(tLastX-tCurrX)> 0.01 || Math.abs(tLastY-tCurrY)>0.01){\r\n\t\t\t\tthis._points.push(tCurrX,tCurrY);\r\n\t\t\t}\r\n\t\t\ttLastX=tCurrX;\r\n\t\t\ttLastY=tCurrY;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.getData=function(ib,vb,start){\r\n\t\tvar indices=[];\r\n\t\tvar verts=[];\r\n\t\t(this.borderWidth > 0)&& this.createLine2(this._points,indices,this.borderWidth,start,verts,this._points.length / 2);\r\n\t\tthis.mUint16Array.set(indices,0);\r\n\t\tthis.mFloat32Array.set(verts,0);\r\n\t\tib.append(this.mUint16Array);\r\n\t\tvb.append(this.mFloat32Array);\r\n\t}\r\n\r\n\treturn Line;\r\n})(BasePoly)\r\n\r\n\r\n//class laya.webgl.shapes.LoopLine extends laya.webgl.shapes.BasePoly\r\nvar LoopLine=(function(_super){\r\n\tfunction LoopLine(x,y,points,width,color){\r\n\t\tthis._points=[];\r\n\t\tvar tCurrX=NaN;\r\n\t\tvar tCurrY=NaN;\r\n\t\tvar tLastX=-1;\r\n\t\tvar tLastY=-1;\r\n\t\tvar tLen=points.length / 2-1;\r\n\t\tfor (var i=0;i < tLen;i++){\r\n\t\t\ttCurrX=points[i *2];\r\n\t\t\ttCurrY=points[i *2+1];\r\n\t\t\tif (Math.abs(tLastX-tCurrX)> 0.01 || Math.abs(tLastY-tCurrY)> 0.01){\r\n\t\t\t\tthis._points.push(tCurrX,tCurrY);\r\n\t\t\t}\r\n\t\t\ttLastX=tCurrX;\r\n\t\t\ttLastY=tCurrY;\r\n\t\t}\r\n\t\ttCurrX=points[tLen *2];\r\n\t\ttCurrY=points[tLen *2+1];\r\n\t\ttLastX=this._points[0];\r\n\t\ttLastY=this._points[1];\r\n\t\tif (Math.abs(tLastX-tCurrX)> 0.01 || Math.abs(tLastY-tCurrY)> 0.01){\r\n\t\t\tthis._points.push(tCurrX,tCurrY);\r\n\t\t}\r\n\t\tLoopLine.__super.call(this,x,y,0,0,this._points.length / 2,0,width,color);\r\n\t}\r\n\r\n\t__class(LoopLine,'laya.webgl.shapes.LoopLine',_super);\r\n\tvar __proto=LoopLine.prototype;\r\n\t__proto.getData=function(ib,vb,start){\r\n\t\tif (this.borderWidth > 0){\r\n\t\t\tvar color=this.color;\r\n\t\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\t\tvar verts=[];\r\n\t\t\tvar tLastX=-1,tLastY=-1;\r\n\t\t\tvar tCurrX=0,tCurrY=0;\r\n\t\t\tvar indices=[];\r\n\t\t\tvar tLen=Math.floor(this._points.length / 2);\r\n\t\t\tfor (var i=0;i < tLen;i++){\r\n\t\t\t\ttCurrX=this._points[i *2];\r\n\t\t\t\ttCurrY=this._points[i *2+1];\r\n\t\t\t\tverts.push(this.x+tCurrX,this.y+tCurrY,r,g,b);\r\n\t\t\t}\r\n\t\t\tthis.createLoopLine(verts,indices,this.borderWidth,start+verts.length / 5);\r\n\t\t\tib.append(new Uint16Array(indices));\r\n\t\t\tvb.append(new Float32Array(verts));\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.createLoopLine=function(p,indices,lineWidth,len,outVertex,outIndex){\r\n\t\tvar tLen=p.length / 5;\r\n\t\tvar points=p.concat();\r\n\t\tvar result=outVertex ? outVertex :p;\r\n\t\tvar color=this.borderColor;\r\n\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\tvar firstPoint=[points[0],points[1]];\r\n\t\tvar lastPoint=[points[points.length-5],points[points.length-4]];\r\n\t\tvar midPointX=lastPoint[0]+(firstPoint[0]-lastPoint[0])*0.5;\r\n\t\tvar midPointY=lastPoint[1]+(firstPoint[1]-lastPoint[1])*0.5;\r\n\t\tpoints.unshift(midPointX,midPointY,0,0,0);\r\n\t\tpoints.push(midPointX,midPointY,0,0,0);\r\n\t\tvar length=points.length / 5;\r\n\t\tvar iStart=len,w=lineWidth / 2;\r\n\t\tvar px,py,p1x,p1y,p2x,p2y,p3x,p3y;\r\n\t\tvar perpx,perpy,perp2x,perp2y,perp3x,perp3y;\r\n\t\tvar a1,b1,c1,a2,b2,c2;\r\n\t\tvar denom,pdist,dist;\r\n\t\tp1x=points[0];\r\n\t\tp1y=points[1];\r\n\t\tp2x=points[5];\r\n\t\tp2y=points[6];\r\n\t\tperpx=-(p1y-p2y);\r\n\t\tperpy=p1x-p2x;\r\n\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\tperpx=perpx / dist *w;\r\n\t\tperpy=perpy / dist *w;\r\n\t\tresult.push(p1x-perpx,p1y-perpy,r,g,b,p1x+perpx,p1y+perpy,r,g,b);\r\n\t\tfor (var i=1;i < length-1;i++){\r\n\t\t\tp1x=points[(i-1)*5];\r\n\t\t\tp1y=points[(i-1)*5+1];\r\n\t\t\tp2x=points[(i)*5];\r\n\t\t\tp2y=points[(i)*5+1];\r\n\t\t\tp3x=points[(i+1)*5];\r\n\t\t\tp3y=points[(i+1)*5+1];\r\n\t\t\tperpx=-(p1y-p2y);\r\n\t\t\tperpy=p1x-p2x;\r\n\t\t\tdist=Math.sqrt(perpx *perpx+perpy *perpy);\r\n\t\t\tperpx=perpx / dist *w;\r\n\t\t\tperpy=perpy / dist *w;\r\n\t\t\tperp2x=-(p2y-p3y);\r\n\t\t\tperp2y=p2x-p3x;\r\n\t\t\tdist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);\r\n\t\t\tperp2x=perp2x / dist *w;\r\n\t\t\tperp2y=perp2y / dist *w;\r\n\t\t\ta1=(-perpy+p1y)-(-perpy+p2y);\r\n\t\t\tb1=(-perpx+p2x)-(-perpx+p1x);\r\n\t\t\tc1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);\r\n\t\t\ta2=(-perp2y+p3y)-(-perp2y+p2y);\r\n\t\t\tb2=(-perp2x+p2x)-(-perp2x+p3x);\r\n\t\t\tc2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);\r\n\t\t\tdenom=a1 *b2-a2 *b1;\r\n\t\t\tif (Math.abs(denom)< 0.1){\r\n\t\t\t\tdenom+=10.1;\r\n\t\t\t\tresult.push(p2x-perpx,p2y-perpy,r,g,b,p2x+perpx,p2y+perpy,r,g,b);\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tpx=(b1 *c2-b2 *c1)/ denom;\r\n\t\t\tpy=(a2 *c1-a1 *c2)/ denom;\r\n\t\t\tpdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);\r\n\t\t\tresult.push(px,py,r,g,b,p2x-(px-p2x),p2y-(py-p2y),r,g,b);\r\n\t\t}\r\n\t\tif (outIndex){\r\n\t\t\tindices=outIndex;\r\n\t\t};\r\n\t\tvar groupLen=this.edges+1;\r\n\t\tfor (i=1;i < groupLen;i++){\r\n\t\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);\r\n\t\t}\r\n\t\tindices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+1,iStart+1,iStart,iStart+(i-1)*2);\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn LoopLine;\r\n})(BasePoly)\r\n\r\n\r\n//class laya.webgl.shapes.Polygon extends laya.webgl.shapes.BasePoly\r\nvar Polygon=(function(_super){\r\n\tfunction Polygon(x,y,points,color,borderWidth,borderColor){\r\n\t\tthis._points=null;\r\n\t\tthis._start=-1;\r\n\t\tthis._repaint=false;\r\n\t\tthis.earcutTriangles=null;\r\n\t\tthis._mat=Matrix.create();\r\n\t\tthis._points=points.slice(0,points.length);\r\n\t\tPolygon.__super.call(this,x,y,0,0,this._points.length / 2,color,borderWidth,borderColor);\r\n\t}\r\n\r\n\t__class(Polygon,'laya.webgl.shapes.Polygon',_super);\r\n\tvar __proto=Polygon.prototype;\r\n\t__proto.rebuild=function(point){\r\n\t\tif (!this._repaint){\r\n\t\t\tthis._points.length=0;\r\n\t\t\tthis._points=this._points.concat(point);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.setMatrix=function(mat){\r\n\t\tmat.copyTo(this._mat);\r\n\t}\r\n\r\n\t__proto.needUpdate=function(mat){\r\n\t\tthis._repaint=(this._mat.a==mat.a && this._mat.b==mat.b && this._mat.c==mat.c && this._mat.d==mat.d && this._mat.tx==mat.tx && this._mat.ty==mat.ty);\r\n\t\treturn !this._repaint;\r\n\t}\r\n\r\n\t__proto.getData=function(ib,vb,start){\r\n\t\tvar indices,i=0;\r\n\t\tvar tArray=this._points;\r\n\t\tvar tLen=0;\r\n\t\tif (this.mUint16Array && this.mFloat32Array&&this._repaint){\r\n\t\t\tif (this._start !=start){\r\n\t\t\t\tthis._start=start;\r\n\t\t\t\tindices=[];\r\n\t\t\t\ttLen=this.earcutTriangles.length;\r\n\t\t\t\tfor (i=0;i < tLen;i++){\r\n\t\t\t\t\tindices.push(this.earcutTriangles[i]+start);\r\n\t\t\t\t}\r\n\t\t\t\tthis.mUint16Array=new Uint16Array(indices);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._start=start;\r\n\t\t\tindices=[];\r\n\t\t\tvar verts=[];\r\n\t\t\tvar vertsEarcut=[];\r\n\t\t\tvar color=this.color;\r\n\t\t\tvar r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;\r\n\t\t\ttLen=Math.floor(tArray.length / 2);\r\n\t\t\tfor (i=0;i < tLen;i++){\r\n\t\t\t\tverts.push(this.x+tArray[i *2],this.y+tArray[i *2+1],r,g,b);\r\n\t\t\t\tvertsEarcut.push(this.x+tArray[i *2],this.y+tArray[i *2+1]);\r\n\t\t\t}\r\n\t\t\tthis.earcutTriangles=Earcut.earcut(vertsEarcut,null,2);\r\n\t\t\ttLen=this.earcutTriangles.length;\r\n\t\t\tfor (i=0;i < tLen;i++){\r\n\t\t\t\tindices.push(this.earcutTriangles[i]+start);\r\n\t\t\t}\r\n\t\t\tthis.mUint16Array=new Uint16Array(indices);\r\n\t\t\tthis.mFloat32Array=new Float32Array(verts);\r\n\t\t}\r\n\t\tib.append(this.mUint16Array);\r\n\t\tvb.append(this.mFloat32Array);\r\n\t}\r\n\r\n\treturn Polygon;\r\n})(BasePoly)\r\n\r\n\r\n//class laya.webgl.submit.SubmitCanvas extends laya.webgl.submit.Submit\r\nvar SubmitCanvas=(function(_super){\r\n\tfunction SubmitCanvas(){\r\n\t\t//this._ctx_src=null;\r\n\t\tthis._matrix=new Matrix();\r\n\t\tthis._matrix4=CONST3D2D.defaultMatrix4.concat();\r\n\t\tSubmitCanvas.__super.call(this,/*laya.webgl.submit.Submit.TYPE_2D*/10000);\r\n\t\tthis.shaderValue=new Value2D(0,0);\r\n\t}\r\n\r\n\t__class(SubmitCanvas,'laya.webgl.submit.SubmitCanvas',_super);\r\n\tvar __proto=SubmitCanvas.prototype;\r\n\t__proto.renderSubmit=function(){\r\n\t\tif (this._ctx_src._targets){\r\n\t\t\tthis._ctx_src._targets.flush(this._ctx_src);\r\n\t\t\treturn 1;\r\n\t\t};\r\n\t\tvar preAlpha=RenderState2D.worldAlpha;\r\n\t\tvar preMatrix4=RenderState2D.worldMatrix4;\r\n\t\tvar preMatrix=RenderState2D.worldMatrix;\r\n\t\tvar preFilters=RenderState2D.worldFilters;\r\n\t\tvar preWorldShaderDefines=RenderState2D.worldShaderDefines;\r\n\t\tvar v=this.shaderValue;\r\n\t\tvar m=this._matrix;\r\n\t\tvar m4=this._matrix4;\r\n\t\tvar mout=Matrix.TEMP;\r\n\t\tMatrix.mul(m,preMatrix,mout);\r\n\t\tm4[0]=mout.a;\r\n\t\tm4[1]=mout.b;\r\n\t\tm4[4]=mout.c;\r\n\t\tm4[5]=mout.d;\r\n\t\tm4[12]=mout.tx;\r\n\t\tm4[13]=mout.ty;\r\n\t\tRenderState2D.worldMatrix=mout.clone();\r\n\t\tRenderState2D.worldMatrix4=m4;\r\n\t\tRenderState2D.worldAlpha=RenderState2D.worldAlpha *v.alpha;\r\n\t\tif (v.filters && v.filters.length){\r\n\t\t\tRenderState2D.worldFilters=v.filters;\r\n\t\t\tRenderState2D.worldShaderDefines=v.defines;\r\n\t\t}\r\n\t\tthis._ctx_src.flush();\r\n\t\tRenderState2D.worldAlpha=preAlpha;\r\n\t\tRenderState2D.worldMatrix4=preMatrix4;\r\n\t\tRenderState2D.worldMatrix.destroy();\r\n\t\tRenderState2D.worldMatrix=preMatrix;\r\n\t\tRenderState2D.worldFilters=preFilters;\r\n\t\tRenderState2D.worldShaderDefines=preWorldShaderDefines;\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitCanvas._cache;\r\n\t\tthis._ctx_src=null;\r\n\t\tcache[cache._length++]=this;\r\n\t}\r\n\r\n\t__proto.getRenderType=function(){\r\n\t\treturn /*laya.webgl.submit.Submit.TYPE_CANVAS*/10003;\r\n\t}\r\n\r\n\tSubmitCanvas.create=function(ctx_src,alpha,filters){\r\n\t\tvar o=(!SubmitCanvas._cache._length)? (new SubmitCanvas()):SubmitCanvas._cache[--SubmitCanvas._cache._length];\r\n\t\to._ctx_src=ctx_src;\r\n\t\tvar v=o.shaderValue;\r\n\t\tv.alpha=alpha;\r\n\t\tv.defines.setValue(0);\r\n\t\tfilters && filters.length && v.setFilters(filters);\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitCanvas._cache=(SubmitCanvas._cache=[],SubmitCanvas._cache._length=0,SubmitCanvas._cache);\r\n\treturn SubmitCanvas;\r\n})(Submit)\r\n\r\n\r\n//class laya.webgl.submit.SubmitTexture extends laya.webgl.submit.Submit\r\nvar SubmitTexture=(function(_super){\r\n\tfunction SubmitTexture(renderType){\r\n\t\tthis._preIsSameTextureShader=false;\r\n\t\tthis._isSameTexture=true;\r\n\t\tthis._texs=new Array;\r\n\t\tthis._texsID=new Array;\r\n\t\tthis._vbPos=new Array;\r\n\t\t(renderType===void 0)&& (renderType=10000);\r\n\t\tSubmitTexture.__super.call(this,renderType);\r\n\t}\r\n\r\n\t__class(SubmitTexture,'laya.webgl.submit.SubmitTexture',_super);\r\n\tvar __proto=SubmitTexture.prototype;\r\n\t__proto.releaseRender=function(){\r\n\t\tvar cache=SubmitTexture._cache;\r\n\t\tcache[cache._length++]=this;\r\n\t\tthis.shaderValue.release();\r\n\t\tthis._preIsSameTextureShader=false;\r\n\t\tthis._vb=null;\r\n\t\tthis._texs.length=0;\r\n\t\tthis._vbPos.length=0;\r\n\t\tthis._isSameTexture=true;\r\n\t}\r\n\r\n\t__proto.addTexture=function(tex,vbpos){\r\n\t\tthis._texsID[this._texs.length]=tex._uvID;\r\n\t\tthis._texs.push(tex);\r\n\t\tthis._vbPos.push(vbpos);\r\n\t}\r\n\r\n\t//检查材质是否修改，修改UV，设置是否是同一材质\r\n\t__proto.checkTexture=function(){\r\n\t\tif (this._texs.length < 1){\r\n\t\t\tthis._isSameTexture=true;\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tvar _tex=this.shaderValue.textureHost;\r\n\t\tvar webGLImg=_tex.bitmap;\r\n\t\tif (webGLImg===null)return;\r\n\t\tvar vbdata=this._vb.getFloat32Array();\r\n\t\tfor (var i=0,s=this._texs.length;i < s;i++){\r\n\t\t\tvar tex=this._texs[i];\r\n\t\t\ttex.active();\r\n\t\t\tvar newUV=tex.uv;\r\n\t\t\tif (this._texsID[i]!==tex._uvID){\r\n\t\t\t\tthis._texsID[i]=tex._uvID;\r\n\t\t\t\tvar vbPos=this._vbPos[i];\r\n\t\t\t\tvbdata[vbPos+2]=newUV[0];\r\n\t\t\t\tvbdata[vbPos+3]=newUV[1];\r\n\t\t\t\tvbdata[vbPos+6]=newUV[2];\r\n\t\t\t\tvbdata[vbPos+7]=newUV[3];\r\n\t\t\t\tvbdata[vbPos+10]=newUV[4];\r\n\t\t\t\tvbdata[vbPos+11]=newUV[5];\r\n\t\t\t\tvbdata[vbPos+14]=newUV[6];\r\n\t\t\t\tvbdata[vbPos+15]=newUV[7];\r\n\t\t\t\tthis._vb.setNeedUpload();\r\n\t\t\t}\r\n\t\t\tif (tex.bitmap!==webGLImg){\r\n\t\t\t\tthis._isSameTexture=false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.renderSubmit=function(){\r\n\t\tif (this._numEle===0){\r\n\t\t\tSubmitTexture._shaderSet=false;\r\n\t\t\treturn 1;\r\n\t\t};\r\n\t\tvar _tex=this.shaderValue.textureHost;\r\n\t\tif (_tex){\r\n\t\t\tvar source=_tex.source;\r\n\t\t\tif (!_tex.bitmap || !source){\r\n\t\t\t\tSubmitTexture._shaderSet=false;\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tthis.shaderValue.texture=source;\r\n\t\t}\r\n\t\tthis._vb.bind_upload(this._ib);\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tif (BlendMode.activeBlendFunction!==this._blendFn){\r\n\t\t\tgl.enable(/*laya.webgl.WebGLContext.BLEND*/0x0BE2);\r\n\t\t\tthis._blendFn(gl);\r\n\t\t\tBlendMode.activeBlendFunction=this._blendFn;\r\n\t\t}\r\n\t\tStat.drawCall++;\r\n\t\tStat.trianglesFaces+=this._numEle / 3;\r\n\t\tif (this._preIsSameTextureShader && BaseShader.activeShader && SubmitTexture._shaderSet)\r\n\t\t\t(BaseShader.activeShader).uploadTexture2D(this.shaderValue.texture);\r\n\t\telse this.shaderValue.upload();\r\n\t\tSubmitTexture._shaderSet=true;\r\n\t\tif (this._texs.length > 1 && !this._isSameTexture){\r\n\t\t\tvar webGLImg=_tex.bitmap;\r\n\t\t\tvar index=0;\r\n\t\t\tvar shader=BaseShader.activeShader;\r\n\t\t\tfor (var i=0,s=this._texs.length;i < s;i++){\r\n\t\t\t\tvar tex2=this._texs[i];\r\n\t\t\t\tif (tex2.bitmap!==webGLImg || (i+1)===s){\r\n\t\t\t\t\tshader.uploadTexture2D(tex2.source);\r\n\t\t\t\t\tgl.drawElements(/*laya.webgl.WebGLContext.TRIANGLES*/0x0004,(i-index+1)*6,/*laya.webgl.WebGLContext.UNSIGNED_SHORT*/0x1403,this._startIdx+index *6 *CONST3D2D.BYTES_PIDX);\r\n\t\t\t\t\twebGLImg=tex2.bitmap;\r\n\t\t\t\t\tindex=i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tgl.drawElements(/*laya.webgl.WebGLContext.TRIANGLES*/0x0004,this._numEle,/*laya.webgl.WebGLContext.UNSIGNED_SHORT*/0x1403,this._startIdx);\r\n\t\t}\r\n\t\treturn 1;\r\n\t}\r\n\r\n\tSubmitTexture.create=function(context,ib,vb,pos,sv){\r\n\t\tvar o=SubmitTexture._cache._length ? SubmitTexture._cache[--SubmitTexture._cache._length] :new SubmitTexture();\r\n\t\tif (vb==null){\r\n\t\t\tvb=o._selfVb || (o._selfVb=VertexBuffer2D.create(-1));\r\n\t\t\tvb.clear();\r\n\t\t\tpos=0;\r\n\t\t}\r\n\t\to._ib=ib;\r\n\t\to._vb=vb;\r\n\t\to._startIdx=pos *CONST3D2D.BYTES_PIDX;\r\n\t\to._numEle=0;\r\n\t\tvar blendType=context._nBlendType;\r\n\t\to._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];\r\n\t\to.shaderValue=sv;\r\n\t\to.shaderValue.setValue(context._shader2D);\r\n\t\tvar filters=context._shader2D.filters;\r\n\t\tfilters && o.shaderValue.setFilters(filters);\r\n\t\treturn o;\r\n\t}\r\n\r\n\tSubmitTexture._cache=(SubmitTexture._cache=[],SubmitTexture._cache._length=0,SubmitTexture._cache);\r\n\tSubmitTexture._shaderSet=true;\r\n\treturn SubmitTexture;\r\n})(Submit)\r\n\r\n\r\n/**\r\n*与MeshQuadTexture基本相同。不过index不是固定的\r\n*/\r\n//class laya.webgl.utils.MeshTexture extends laya.webgl.utils.Mesh2D\r\nvar MeshTexture=(function(_super){\r\n\tfunction MeshTexture(){\r\n\t\tMeshTexture.__super.call(this,laya.webgl.utils.MeshTexture.const_stride,0,0);\r\n\t\tthis.canReuse=true;\r\n\t\tthis.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo);\r\n\t}\r\n\r\n\t__class(MeshTexture,'laya.webgl.utils.MeshTexture',_super);\r\n\tvar __proto=MeshTexture.prototype;\r\n\t__proto.addData=function(vertices,uvs,idx,matrix,rgba,ctx){\r\n\t\tvar sz=vertices.length / 2;\r\n\t\tvar startpos=this._vb.needSize(sz *MeshTexture.const_stride);\r\n\t\tvar f32pos=startpos >> 2;\r\n\t\tvar vbdata=this._vb.getFloat32Array();\r\n\t\tvar ci=0;\r\n\t\tfor (var i=0;i < sz;i++){\r\n\t\t\tvar x=vertices[ci],y=vertices[ci+1];\r\n\t\t\tvar x1=x *matrix.a+y *matrix.c+matrix.tx;\r\n\t\t\tvar y1=x *matrix.b+y *matrix.d+matrix.ty;\r\n\t\t\tvbdata[f32pos++]=x1;vbdata[f32pos++]=y1;\r\n\t\t\tvbdata[f32pos++]=uvs[ci];vbdata[f32pos++]=uvs[ci+1];\r\n\t\t\tci+=2;\r\n\t\t}\r\n\t\tthis._vb.setNeedUpload();\r\n\t\tvar vertN=this.vertNum;\r\n\t\tif (vertN > 0){\r\n\t\t\tsz=idx.length;\r\n\t\t\tif (sz > MeshTexture.tmpIdx.length)MeshTexture.tmpIdx=new Uint16Array(sz);\r\n\t\t\tfor (var ii=0;ii < sz;ii++){\r\n\t\t\t\tMeshTexture.tmpIdx[ii]=idx[ii]+vertN;\r\n\t\t\t}\r\n\t\t\tthis._ib.appendU16Array(MeshTexture.tmpIdx,idx.length);\r\n\t\t\t}else {\r\n\t\t\tthis._ib.append(idx);\r\n\t\t}\r\n\t\tthis._ib.setNeedUpload();\r\n\t\tthis.vertNum+=sz;\r\n\t\tthis.indexNum+=idx.length;\r\n\t}\r\n\r\n\t/**\r\n\t*把本对象放到回收池中，以便getMesh能用。\r\n\t*/\r\n\t__proto.releaseMesh=function(){\r\n\t\tthis._vb._byteLength=0;\r\n\t\tthis._ib._byteLength=0;\r\n\t\tthis.vertNum=0;\r\n\t\tthis.indexNum=0;\r\n\t\tlaya.webgl.utils.MeshTexture._POOL.push(this);\r\n\t}\r\n\r\n\t__proto.destroy=function(){\r\n\t\tthis._ib.destroy();\r\n\t\tthis._vb.destroy();\r\n\t}\r\n\r\n\tMeshTexture.getAMesh=function(){\r\n\t\tif (laya.webgl.utils.MeshTexture._POOL.length){\r\n\t\t\treturn laya.webgl.utils.MeshTexture._POOL.pop();\r\n\t\t}\r\n\t\treturn new MeshTexture();\r\n\t}\r\n\r\n\tMeshTexture.const_stride=16;\r\n\tMeshTexture._POOL=[];\r\n\t__static(MeshTexture,\r\n\t['_fixattriInfo',function(){return this._fixattriInfo=[\r\n\t\t/*laya.webgl.WebGLContext.FLOAT*/0x1406,2,0,\r\n\t\t/*laya.webgl.WebGLContext.FLOAT*/0x1406,2,8];},'tmpIdx',function(){return this.tmpIdx=new Uint16Array(4);}\r\n\t]);\r\n\treturn MeshTexture;\r\n})(Mesh2D)\r\n\r\n\r\n/**\r\n*...\r\n*@author ...\r\n*/\r\n//class laya.webgl.shader.BaseShader extends laya.resource.Resource\r\nvar BaseShader=(function(_super){\r\n\tfunction BaseShader(){\r\n\t\tBaseShader.__super.call(this);\r\n\t\tthis.lock=true;\r\n\t}\r\n\r\n\t__class(BaseShader,'laya.webgl.shader.BaseShader',_super);\r\n\tBaseShader.activeShader=null;\r\n\tBaseShader.bindShader=null;\r\n\treturn BaseShader;\r\n})(Resource)\r\n\r\n\r\n//class laya.webgl.resource.RenderTarget2D extends laya.resource.Texture\r\nvar RenderTarget2D=(function(_super){\r\n\tfunction RenderTarget2D(width,height,surfaceFormat,surfaceType,depthStencilFormat,mipMap,repeat,minFifter,magFifter){\r\n\t\tthis._type=0;\r\n\t\tthis._svWidth=NaN;\r\n\t\tthis._svHeight=NaN;\r\n\t\tthis._preRenderTarget=null;\r\n\t\t//TODO:.........................................................\r\n\t\tthis._alreadyResolved=false;\r\n\t\tthis._looked=false;\r\n\t\tthis._surfaceFormat=0;\r\n\t\tthis._surfaceType=0;\r\n\t\tthis._depthStencilFormat=0;\r\n\t\tthis._mipMap=false;\r\n\t\tthis._repeat=false;\r\n\t\tthis._minFifter=0;\r\n\t\tthis._magFifter=0;\r\n\t\tthis._destroy=false;\r\n\t\t(surfaceFormat===void 0)&& (surfaceFormat=/*laya.webgl.WebGLContext.RGBA*/0x1908);\r\n\t\t(surfaceType===void 0)&& (surfaceType=/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401);\r\n\t\t(depthStencilFormat===void 0)&& (depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9);\r\n\t\t(mipMap===void 0)&& (mipMap=false);\r\n\t\t(repeat===void 0)&& (repeat=false);\r\n\t\t(minFifter===void 0)&& (minFifter=-1);\r\n\t\t(magFifter===void 0)&& (magFifter=-1);\r\n\t\tthis._type=1;\r\n\t\tthis._w=width;\r\n\t\tthis._h=height;\r\n\t\tthis._surfaceFormat=surfaceFormat;\r\n\t\tthis._surfaceType=surfaceType;\r\n\t\tthis._depthStencilFormat=depthStencilFormat;\r\n\t\tif (Render.isConchWebGL && this._depthStencilFormat===/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9){\r\n\t\t\tthis._depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_COMPONENT16*/0x81A5;\r\n\t\t}\r\n\t\tthis._mipMap=mipMap;\r\n\t\tthis._repeat=repeat;\r\n\t\tthis._minFifter=minFifter;\r\n\t\tthis._magFifter=magFifter;\r\n\t\tthis._createWebGLRenderTarget();\r\n\t\tthis.bitmap.lock=true;\r\n\t\tRenderTarget2D.__super.call(this,this.bitmap,Texture.INV_UV);\r\n\t}\r\n\r\n\t__class(RenderTarget2D,'laya.webgl.resource.RenderTarget2D',_super);\r\n\tvar __proto=RenderTarget2D.prototype;\r\n\tLaya.imps(__proto,{\"laya.resource.IDispose\":true})\r\n\t//TODO:临时......................................................\r\n\t__proto.getType=function(){\r\n\t\treturn this._type;\r\n\t}\r\n\r\n\t//*/\r\n\t__proto.getTexture=function(){\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto.size=function(w,h){\r\n\t\tif (this._w==w && this._h==h)return;\r\n\t\tthis._w=w;\r\n\t\tthis._h=h;\r\n\t\tthis.release();\r\n\t\tif (this._w !=0 && this._h !=0)this._createWebGLRenderTarget();\r\n\t}\r\n\r\n\t__proto.release=function(){\r\n\t\tthis.destroy();\r\n\t}\r\n\r\n\t__proto.recycle=function(){\r\n\t\tRenderTarget2D.POOL.push(this);\r\n\t}\r\n\r\n\t__proto.start=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis._preRenderTarget=RenderState2D.curRenderTarget;\r\n\t\tRenderState2D.curRenderTarget=this;\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,this.bitmap.frameBuffer);\r\n\t\tthis._alreadyResolved=false;\r\n\t\tif (this._type==1){\r\n\t\t\tgl.viewport(0,0,this._w,this._h);\r\n\t\t\tthis._svWidth=RenderState2D.width;\r\n\t\t\tthis._svHeight=RenderState2D.height;\r\n\t\t\tRenderState2D.width=this._w;\r\n\t\t\tRenderState2D.height=this._h;\r\n\t\t\tBaseShader.activeShader=null;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto.clear=function(r,g,b,a){\r\n\t\t(r===void 0)&& (r=0.0);\r\n\t\t(g===void 0)&& (g=0.0);\r\n\t\t(b===void 0)&& (b=0.0);\r\n\t\t(a===void 0)&& (a=1.0);\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.clearColor(r,g,b,a);\r\n\t\tvar clearFlag=/*laya.webgl.WebGLContext.COLOR_BUFFER_BIT*/0x00004000;\r\n\t\tswitch (this._depthStencilFormat){\r\n\t\t\tcase /*laya.webgl.WebGLContext.DEPTH_COMPONENT16*/0x81A5:\r\n\t\t\t\tclearFlag |=/*laya.webgl.WebGLContext.DEPTH_BUFFER_BIT*/0x00000100;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase /*laya.webgl.WebGLContext.STENCIL_INDEX8*/0x8D48:\r\n\t\t\t\tclearFlag |=/*laya.webgl.WebGLContext.STENCIL_BUFFER_BIT*/0x00000400;\r\n\t\t\t\tbreak ;\r\n\t\t\tcase /*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9:\r\n\t\t\t\tclearFlag |=/*laya.webgl.WebGLContext.DEPTH_BUFFER_BIT*/0x00000100;\r\n\t\t\t\tclearFlag |=/*laya.webgl.WebGLContext.STENCIL_BUFFER_BIT*/0x00000400\r\n\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\tgl.clear(clearFlag);\r\n\t}\r\n\r\n\t__proto.end=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,this._preRenderTarget ? this._preRenderTarget.bitmap.frameBuffer :null);\r\n\t\tthis._alreadyResolved=true;\r\n\t\tRenderState2D.curRenderTarget=this._preRenderTarget;\r\n\t\tif (this._type==1){\r\n\t\t\tgl.viewport(0,0,this._svWidth,this._svHeight);\r\n\t\t\tRenderState2D.width=this._svWidth;\r\n\t\t\tRenderState2D.height=this._svHeight;\r\n\t\t\tBaseShader.activeShader=null;\r\n\t\t}else gl.viewport(0,0,Laya.stage.width,Laya.stage.height);\r\n\t}\r\n\r\n\t__proto.getData=function(x,y,width,height){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,(this.bitmap).frameBuffer);\r\n\t\tvar canRead=(gl.checkFramebufferStatus(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40)===/*laya.webgl.WebGLContext.FRAMEBUFFER_COMPLETE*/0x8CD5);\r\n\t\tif (!canRead){\r\n\t\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,null);\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tvar pixels=new Uint8Array(this._w *this._h *4);\r\n\t\tgl.readPixels(x,y,width,height,this._surfaceFormat,this._surfaceType,pixels);\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,null);\r\n\t\treturn pixels;\r\n\t}\r\n\r\n\t/**彻底清理资源,注意会强制解锁清理*/\r\n\t__proto.destroy=function(foreDiposeTexture){\r\n\t\t(foreDiposeTexture===void 0)&& (foreDiposeTexture=false);\r\n\t\tif (!this._destroy){\r\n\t\t\tthis._loaded=false;\r\n\t\t\tthis.bitmap.offAll();\r\n\t\t\tthis.bitmap.disposeResource();\r\n\t\t\tthis.bitmap.dispose();\r\n\t\t\tthis.offAll();\r\n\t\t\tthis.bitmap=null;\r\n\t\t\tthis._alreadyResolved=false;\r\n\t\t\tthis._destroy=true;\r\n\t\t\t_super.prototype.destroy.call(this);\r\n\t\t}\r\n\t}\r\n\r\n\t//待测试\r\n\t__proto.dispose=function(){}\r\n\t__proto._createWebGLRenderTarget=function(){\r\n\t\tthis.bitmap=new WebGLRenderTarget(this.width,this.height,this._surfaceFormat,this._surfaceType,this._depthStencilFormat,this._mipMap,this._repeat,this._minFifter,this._magFifter);\r\n\t\tthis.bitmap.activeResource();\r\n\t\tthis._alreadyResolved=true;\r\n\t\tthis._destroy=false;\r\n\t\tthis._loaded=true;\r\n\t\tthis.bitmap.on(/*laya.events.Event.RECOVERED*/\"recovered\",this,function(e){\r\n\t\t\tthis.event(/*laya.events.Event.RECOVERED*/\"recovered\");\r\n\t\t})\r\n\t}\r\n\r\n\t__getset(0,__proto,'surfaceFormat',function(){\r\n\t\treturn this._surfaceFormat;\r\n\t});\r\n\r\n\t__getset(0,__proto,'magFifter',function(){\r\n\t\treturn this._magFifter;\r\n\t});\r\n\r\n\t__getset(0,__proto,'surfaceType',function(){\r\n\t\treturn this._surfaceType;\r\n\t});\r\n\r\n\t__getset(0,__proto,'mipMap',function(){\r\n\t\treturn this._mipMap;\r\n\t});\r\n\r\n\t__getset(0,__proto,'depthStencilFormat',function(){\r\n\t\treturn this._depthStencilFormat;\r\n\t});\r\n\r\n\t//}\r\n\t__getset(0,__proto,'minFifter',function(){\r\n\t\treturn this._minFifter;\r\n\t});\r\n\r\n\t/**返回RenderTarget的Texture*/\r\n\t__getset(0,__proto,'source',function(){\r\n\t\tif (this._alreadyResolved)\r\n\t\t\treturn Laya.superGet(Texture,this,'source');\r\n\t\treturn null;\r\n\t});\r\n\r\n\tRenderTarget2D.create=function(w,h,surfaceFormat,surfaceType,depthStencilFormat,mipMap,repeat,minFifter,magFifter){\r\n\t\t(surfaceFormat===void 0)&& (surfaceFormat=/*laya.webgl.WebGLContext.RGBA*/0x1908);\r\n\t\t(surfaceType===void 0)&& (surfaceType=/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401);\r\n\t\t(depthStencilFormat===void 0)&& (depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9);\r\n\t\t(mipMap===void 0)&& (mipMap=false);\r\n\t\t(repeat===void 0)&& (repeat=false);\r\n\t\t(minFifter===void 0)&& (minFifter=-1);\r\n\t\t(magFifter===void 0)&& (magFifter=-1);\r\n\t\tvar t=RenderTarget2D.POOL.pop();\r\n\t\tt || (t=new RenderTarget2D(w,h));\r\n\t\tif (!t.bitmap || t._w !=w || t._h !=h || t._surfaceFormat !=surfaceFormat || t._surfaceType !=surfaceType || t._depthStencilFormat !=depthStencilFormat || t._mipMap !=mipMap || t._repeat !=repeat || t._minFifter !=minFifter || t._magFifter !=magFifter){\r\n\t\t\tt._w=w;\r\n\t\t\tt._h=h;\r\n\t\t\tt._surfaceFormat=surfaceFormat;\r\n\t\t\tt._surfaceType=surfaceType;\r\n\t\t\tt._depthStencilFormat=depthStencilFormat;\r\n\t\t\tif (Render.isConchWebGL && t._depthStencilFormat===/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9){\r\n\t\t\t\tt._depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_COMPONENT16*/0x81A5;\r\n\t\t\t}\r\n\t\t\tt._mipMap=mipMap;\r\n\t\t\tt._repeat=repeat;\r\n\t\t\tt._minFifter=minFifter;\r\n\t\t\tt._magFifter=magFifter;\r\n\t\t\tt.release();\r\n\t\t\tt._createWebGLRenderTarget();\r\n\t\t}\r\n\t\treturn t;\r\n\t}\r\n\r\n\tRenderTarget2D.TYPE2D=1;\r\n\tRenderTarget2D.TYPE3D=2;\r\n\tRenderTarget2D.POOL=[];\r\n\treturn RenderTarget2D;\r\n})(Texture)\r\n\r\n\r\n//class laya.webgl.utils.Buffer extends laya.resource.Resource\r\nvar Buffer=(function(_super){\r\n\tfunction Buffer(){\r\n\t\tthis._glBuffer=null;\r\n\t\tthis._buffer=null;\r\n\t\t//可能为Float32Array、Uint16Array、Uint8Array、ArrayBuffer等。\r\n\t\tthis._bufferType=0;\r\n\t\tthis._bufferUsage=0;\r\n\t\tthis._byteLength=0;\r\n\t\tBuffer.__super.call(this);\r\n\t\tBuffer._gl=WebGL.mainContext;\r\n\t}\r\n\r\n\t__class(Buffer,'laya.webgl.utils.Buffer',_super);\r\n\tvar __proto=Buffer.prototype;\r\n\t__proto._bind=function(){\r\n\t\tthis.activeResource();\r\n\t\tif (Buffer._bindActive[this._bufferType]!==this._glBuffer){\r\n\t\t\t(this._bufferType===/*laya.webgl.WebGLContext.ARRAY_BUFFER*/0x8892)&& (Buffer._bindVertexBuffer=this._glBuffer);\r\n\t\t\tBuffer._gl.bindBuffer(this._bufferType,Buffer._bindActive[this._bufferType]=this._glBuffer);\r\n\t\t\tBaseShader.activeShader=null;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto.recreateResource=function(){\r\n\t\tthis._glBuffer || (this._glBuffer=Buffer._gl.createBuffer());\r\n\t\tthis.completeCreate();\r\n\t}\r\n\r\n\t__proto.disposeResource=function(){\r\n\t\tif (this._glBuffer){\r\n\t\t\tWebGL.mainContext.deleteBuffer(this._glBuffer);\r\n\t\t\tthis._glBuffer=null;\r\n\t\t}\r\n\t\tthis.memorySize=0;\r\n\t}\r\n\r\n\t__getset(0,__proto,'bufferUsage',function(){\r\n\t\treturn this._bufferUsage;\r\n\t});\r\n\r\n\tBuffer._gl=null;\r\n\tBuffer._bindActive={};\r\n\tBuffer._bindVertexBuffer=null;\r\n\tBuffer._enableAtributes=[];\r\n\treturn Buffer;\r\n})(Resource)\r\n\r\n\r\n//class laya.webgl.shader.d2.skinAnishader.SkinSV extends laya.webgl.shader.d2.value.Value2D\r\nvar SkinSV=(function(_super){\r\n\tfunction SkinSV(type){\r\n\t\tthis.texcoord=null;\r\n\t\tthis.offsetX=300;\r\n\t\tthis.offsetY=0;\r\n\t\tSkinSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.SKINMESH*/0x200,0);\r\n\t\tvar _vlen=8 *CONST3D2D.BYTES_PE;\r\n\t\tthis.position=[2,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,_vlen,0];\r\n\t\tthis.texcoord=[2,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,_vlen,2 *CONST3D2D.BYTES_PE];\r\n\t\tthis.color=[4,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,_vlen,4 *CONST3D2D.BYTES_PE];\r\n\t}\r\n\r\n\t__class(SkinSV,'laya.webgl.shader.d2.skinAnishader.SkinSV',_super);\r\n\treturn SkinSV;\r\n})(Value2D)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.Color2dSV extends laya.webgl.shader.d2.value.Value2D\r\nvar Color2dSV=(function(_super){\r\n\tfunction Color2dSV(args){\r\n\t\tColor2dSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.COLOR2D*/0x02,0);\r\n\t\tthis.color=[];\r\n\t}\r\n\r\n\t__class(Color2dSV,'laya.webgl.shader.d2.value.Color2dSV',_super);\r\n\tvar __proto=Color2dSV.prototype;\r\n\t__proto.setValue=function(value){\r\n\t\tvalue.fillStyle&&(this.color=value.fillStyle._color._color);\r\n\t\tvalue.strokeStyle&&(this.color=value.strokeStyle._color._color);\r\n\t}\r\n\r\n\treturn Color2dSV;\r\n})(Value2D)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.FillTextureSV extends laya.webgl.shader.d2.value.Value2D\r\nvar FillTextureSV=(function(_super){\r\n\tfunction FillTextureSV(type){\r\n\t\tthis.u_colorMatrix=null;\r\n\t\tthis.strength=0;\r\n\t\tthis.colorMat=null;\r\n\t\tthis.colorAlpha=null;\r\n\t\tthis.u_TexRange=[0,1,0,1];\r\n\t\tthis.u_offset=[0,0];\r\n\t\tthis.texcoord=Value2D._TEXCOORD;\r\n\t\tFillTextureSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.FILLTEXTURE*/0x100,0);\r\n\t}\r\n\r\n\t__class(FillTextureSV,'laya.webgl.shader.d2.value.FillTextureSV',_super);\r\n\tvar __proto=FillTextureSV.prototype;\r\n\t//this.color=[4,WebGLContext.FLOAT,false,_vlen,4 *CONST3D2D.BYTES_PE];\r\n\t__proto.setValue=function(vo){\r\n\t\tthis.ALPHA=vo.ALPHA;\r\n\t\tvo.filters && this.setFilters(vo.filters);\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis.texture=null;\r\n\t\tthis.shader=null;\r\n\t\tthis.defines.setValue(0);\r\n\t}\r\n\r\n\treturn FillTextureSV;\r\n})(Value2D)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.TextureSV extends laya.webgl.shader.d2.value.Value2D\r\nvar TextureSV=(function(_super){\r\n\tfunction TextureSV(subID){\r\n\t\tthis.u_colorMatrix=null;\r\n\t\tthis.strength=0;\r\n\t\tthis.blurInfo=null;\r\n\t\tthis.colorMat=null;\r\n\t\tthis.colorAlpha=null;\r\n\t\tthis.texcoord=Value2D._TEXCOORD;\r\n\t\t(subID===void 0)&& (subID=0);\r\n\t\tTextureSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01,subID);\r\n\t}\r\n\r\n\t__class(TextureSV,'laya.webgl.shader.d2.value.TextureSV',_super);\r\n\tvar __proto=TextureSV.prototype;\r\n\t__proto.setValue=function(vo){\r\n\t\tthis.ALPHA=vo.ALPHA;\r\n\t\tvo.filters && this.setFilters(vo.filters);\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis.texture=null;\r\n\t\tthis.shader=null;\r\n\t\tthis.defines.setValue(0);\r\n\t}\r\n\r\n\treturn TextureSV;\r\n})(Value2D)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.PrimitiveSV extends laya.webgl.shader.d2.value.Value2D\r\nvar PrimitiveSV=(function(_super){\r\n\tfunction PrimitiveSV(args){\r\n\t\tthis.a_color=null;\r\n\t\tthis.u_pos=[0,0];\r\n\t\tPrimitiveSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.PRIMITIVE*/0x04,0);\r\n\t\tthis.position=[2,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,5 *CONST3D2D.BYTES_PE,0];\r\n\t\tthis.a_color=[3,/*laya.webgl.WebGLContext.FLOAT*/0x1406,false,5 *CONST3D2D.BYTES_PE,2 *CONST3D2D.BYTES_PE];\r\n\t}\r\n\r\n\t__class(PrimitiveSV,'laya.webgl.shader.d2.value.PrimitiveSV',_super);\r\n\treturn PrimitiveSV;\r\n})(Value2D)\r\n\r\n\r\n//class laya.webgl.atlas.AtlasWebGLCanvas extends laya.resource.Bitmap\r\nvar AtlasWebGLCanvas=(function(_super){\r\n\tfunction AtlasWebGLCanvas(){\r\n\t\tthis._atlaser=null;\r\n\t\t/**兼容Stage3D使用*/\r\n\t\tthis._flashCacheImage=null;\r\n\t\tthis._flashCacheImageNeedFlush=false;\r\n\t\tAtlasWebGLCanvas.__super.call(this);\r\n\t}\r\n\r\n\t__class(AtlasWebGLCanvas,'laya.webgl.atlas.AtlasWebGLCanvas',_super);\r\n\tvar __proto=AtlasWebGLCanvas.prototype;\r\n\t/***重新创建资源*/\r\n\t__proto.recreateResource=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar glTex=this._source=gl.createTexture();\r\n\t\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\t\tvar preTexture=WebGLContext.curBindTexValue;\r\n\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,glTex);\r\n\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,this._w,this._h,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,null);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\t\tthis.memorySize=this._w *this._h *4;\r\n\t\tthis.completeCreate();\r\n\t}\r\n\r\n\t/***销毁资源*/\r\n\t__proto.disposeResource=function(){\r\n\t\tif (this._source){\r\n\t\t\tWebGL.mainContext.deleteTexture(this._source);\r\n\t\t\tthis._source=null;\r\n\t\t\tthis.memorySize=0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**采样image到WebGLTexture的一部分*/\r\n\t__proto.texSubImage2D=function(xoffset,yoffset,bitmap){\r\n\t\tif (!Render.isFlash){\r\n\t\t\tvar gl=WebGL.mainContext;\r\n\t\t\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\t\t\tvar preTexture=WebGLContext.curBindTexValue;\r\n\t\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source);\r\n\t\t\tif (Render.isConchWebGL){\r\n\t\t\t\t(xoffset-1 >=0)&& (gl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset-1,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(xoffset+1 <=this._w)&& (gl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset+1,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(yoffset-1 >=0)&& (gl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset-1,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(yoffset+1 <=this._h)&& (gl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset+1,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\tgl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\t\t\t(xoffset-1 >=0)&& (gl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset-1,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(xoffset+1 <=this._w)&& (gl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset+1,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(yoffset-1 >=0)&& (gl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset-1,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\t(yoffset+1 <=this._h)&& (gl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset+1,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap));\r\n\t\t\t\tgl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,bitmap);\r\n\t\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t\t\t}\r\n\t\t\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\t\t\t}else {\r\n\t\t\tif (!this._flashCacheImage){\r\n\t\t\t\tthis._flashCacheImage=HTMLImage.create(\"\");\r\n\t\t\t\tthis._flashCacheImage._image.createCanvas(this._w,this._h);\r\n\t\t\t};\r\n\t\t\tvar bmData=bitmap.bitmapdata;\r\n\t\t\tthis._flashCacheImage._image.copyPixels(bmData,0,0,bmData.width,bmData.height,xoffset,yoffset);\r\n\t\t\t(this._flashCacheImageNeedFlush)|| (this._flashCacheImageNeedFlush=true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**采样image到WebGLTexture的一部分*/\r\n\t__proto.texSubImage2DPixel=function(xoffset,yoffset,width,height,pixel){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\t\tvar preTexture=WebGLContext.curBindTexValue;\r\n\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source);\r\n\t\tvar pixels=new Uint8Array(pixel.data);\r\n\t\tif (Render.isConchWebGL){\r\n\t\t\tgl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,width,height,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,pixels);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\t\tgl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,width,height,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,pixels);\r\n\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t\t}\r\n\t\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\t}\r\n\r\n\t/***\r\n\t*设置图片宽度\r\n\t*@param value 图片宽度\r\n\t*/\r\n\t__getset(0,__proto,'width',_super.prototype._$get_width,function(value){\r\n\t\tthis._w=value;\r\n\t});\r\n\r\n\t/***\r\n\t*设置图片高度\r\n\t*@param value 图片高度\r\n\t*/\r\n\t__getset(0,__proto,'height',_super.prototype._$get_height,function(value){\r\n\t\tthis._h=value;\r\n\t});\r\n\r\n\treturn AtlasWebGLCanvas;\r\n})(Bitmap)\r\n\r\n\r\n/**@private */\r\n//class laya.webgl.resource.WebGLCanvas extends laya.resource.Bitmap\r\nvar WebGLCanvas=(function(_super){\r\n\tfunction WebGLCanvas(){\r\n\t\tthis.flipY=true;\r\n\t\t//上传的时候是否预乘alpha\r\n\t\t//this._ctx=null;\r\n\t\t/**HTML Canvas*/\r\n\t\t//this._canvas=null;\r\n\t\t//this._imgData=null;\r\n\t\t//}\r\n\t\t//this.iscpuSource=false;\r\n\t\tthis.alwaysChange=false;\r\n\t\tWebGLCanvas.__super.call(this);\r\n\t}\r\n\r\n\t__class(WebGLCanvas,'laya.webgl.resource.WebGLCanvas',_super);\r\n\tvar __proto=WebGLCanvas.prototype;\r\n\t//}\r\n\t__proto.getCanvas=function(){\r\n\t\treturn this._canvas;\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis._ctx && this._ctx.clear();\r\n\t}\r\n\r\n\t__proto.destroy=function(){\r\n\t\tthis._ctx && this._ctx.destroy();\r\n\t\tthis._ctx=null;\r\n\t}\r\n\r\n\t__proto._setContext=function(context){\r\n\t\tthis._ctx=context;\r\n\t}\r\n\r\n\t__proto.getContext=function(contextID,other){\r\n\t\treturn this._ctx ? this._ctx :(this._ctx=WebGLCanvas._createContext(this));\r\n\t}\r\n\r\n\t/*override public function copyTo(dec:Bitmap):void {\r\n\tsuper.copyTo(dec);\r\n\t(dec as WebGLCanvas)._ctx=_ctx;\r\n}*/\r\n\r\n\r\n__proto.size=function(w,h){\r\n\tif (this._w !=w || this._h !=h){\r\n\t\tthis._w=w;\r\n\t\tthis._h=h;\r\n\t\tthis._ctx && this._ctx.size(w,h);\r\n\t\tthis._canvas && (this._canvas.height=h,this._canvas.width=w);\r\n\t}\r\n\r\n}\r\n\r\n\r\n__proto.activeResource=function(force){\r\n\t(force===void 0)&& (force=false);\r\n\tif (!this._source){\r\n\t\tthis.recreateResource();\r\n\t}\r\n\r\n}\r\n\r\n\r\n__proto.recreateResource=function(){\r\n\tthis.createWebGlTexture();\r\n\tthis.completeCreate();\r\n}\r\n\r\n\r\n__proto.disposeResource=function(){\r\n\tif (this._source && !this.iscpuSource){\r\n\t\tWebGL.mainContext.deleteTexture(this._source);\r\n\t\tthis._source=null;\r\n\t\tthis.memorySize=0;\r\n\t}\r\n\r\n}\r\n\r\n\r\n__proto.createWebGlTexture=function(){\r\n\tvar gl=WebGL.mainContext;\r\n\tif (!this._canvas){\r\n\t};\r\n\r\n\tvar glTex=this._source=gl.createTexture();\r\n\tthis.iscpuSource=false;\r\n\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\tvar preTexture=WebGLContext.curBindTexValue;\r\n\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,glTex);\r\n\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_FLIP_Y_WEBGL*/0x9240,this.flipY?1:0);\r\n\tif (Render.isConchWebGL){\r\n\t\tgl.texImage2DEx(WebGLCanvas.premulAlpha,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._imgData);\r\n\t}\r\n\r\n\telse {\r\n\t\tWebGLCanvas.premulAlpha&&gl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._imgData);\r\n\t\tWebGLCanvas.premulAlpha && gl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t}\r\n\r\n\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_FLIP_Y_WEBGL*/0x9240,0);\r\n\tthis.memorySize=this._w *this._h *4;\r\n\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n}\r\n\r\n\r\n//_canvas=null;\r\n__proto.reloadCanvasData=function(){\r\n\tvar gl=WebGL.mainContext;\r\n\tif (!this._source){\r\n\t\tthrow \"reloadCanvasData error, gl texture not created!\";\r\n\t};\r\n\r\n\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\tvar preTexture=WebGLContext.curBindTexValue;\r\n\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source);\r\n\tif (Render.isConchWebGL){\r\n\t\tgl.texImage2DEx(WebGLCanvas.premulAlpha,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._imgData);\r\n\t}\r\n\r\n\telse {\r\n\t\tWebGLCanvas.premulAlpha&&gl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._imgData);\r\n\t\tWebGLCanvas.premulAlpha && gl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t}\r\n\r\n\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_FLIP_Y_WEBGL*/0x9240,0);\r\n\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n}\r\n\r\n\r\n//_canvas=null;\r\n__proto.texSubImage2D=function(webglCanvas,xoffset,yoffset){\r\n\tvar gl=WebGL.mainContext;\r\n\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\tvar preTexture=WebGLContext.curBindTexValue;\r\n\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source);\r\n\tif (Render.isConchWebGL){\r\n\t\tgl.texSubImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,webglCanvas._source);\r\n\t}\r\n\r\n\telse {\r\n\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\tgl.texSubImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,xoffset,yoffset,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,webglCanvas._source);\r\n\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t}\r\n\r\n\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n}\r\n\r\n\r\n__proto.toBase64=function(type,encoderOptions,callBack){\r\n\tvar base64Data=null;\r\n\tif (this._canvas){\r\n\t\tbase64Data=this._canvas.toDataURL(type,encoderOptions);\r\n\t}\r\n\r\n\tcallBack.call(this,base64Data);\r\n}\r\n\r\n\r\n__getset(0,__proto,'context',function(){\r\n\treturn this._ctx;\r\n});\r\n\r\n\r\n__getset(0,__proto,'source',function(){\r\n\tif (this.alwaysChange)this.reloadCanvasData();\r\n\treturn this._source;\r\n});\r\n\r\n\r\n__getset(0,__proto,'asBitmap',null,function(value){\r\n\tthis._ctx && (this._ctx.asBitmap=value);\r\n});\r\n\r\n\r\nWebGLCanvas._createContext=null;\r\nWebGLCanvas.premulAlpha=false;\r\nreturn WebGLCanvas;\r\n})(Bitmap)\r\n\r\n\r\n//class laya.webgl.resource.WebGLCharImage extends laya.resource.Bitmap\r\nvar WebGLCharImage=(function(_super){\r\n\tfunction WebGLCharImage(content,drawValue){\r\n\t\tthis.CborderSize=12;\r\n\t\t//this._ctx=null;\r\n\t\t/***是否创建私有Source*/\r\n\t\t//this._allowMerageInAtlas=false;\r\n\t\t/**是否允许加入大图合集*/\r\n\t\t//this._enableMerageInAtlas=false;\r\n\t\t/**HTML Canvas，绘制字符载体,非私有数据载体*/\r\n\t\t//this.canvas=null;\r\n\t\t/**********************************************************************************/\r\n\t\t//this.cw=NaN;\r\n\t\t//this.ch=NaN;\r\n\t\t//this.xs=NaN;\r\n\t\t//this.ys=NaN;\r\n\t\t//this.char=null;\r\n\t\t//this.fillColor=null;\r\n\t\t//this.borderColor=null;\r\n\t\t//this.borderSize=0;\r\n\t\t//this.font=null;\r\n\t\t//this.fontSize=0;\r\n\t\t//this.texture=null;\r\n\t\t//this.lineWidth=0;\r\n\t\t//this.UV=null;\r\n\t\t//this.isSpace=false;\r\n\t\t//this.underLine=0;\r\n\t\tWebGLCharImage.__super.call(this);\r\n\t\tthis.char=content;\r\n\t\tthis.isSpace=content===' ';\r\n\t\tthis.xs=drawValue.scaleX;\r\n\t\tthis.ys=drawValue.scaleY;\r\n\t\tthis.font=drawValue.font.toString();\r\n\t\tthis.fontSize=drawValue.font.size;\r\n\t\tthis.fillColor=drawValue.fillColor;\r\n\t\tthis.borderColor=drawValue.borderColor;\r\n\t\tthis.lineWidth=drawValue.lineWidth;\r\n\t\tthis.underLine=drawValue.underLine;\r\n\t\tvar bIsConchApp=Render.isConchApp;\r\n\t\tvar pCanvas;\r\n\t\tif (bIsConchApp){\r\n\t\t\t/*__JS__ */pCanvas=ConchTextCanvas;\r\n\t\t\t/*__JS__ */pCanvas._source=ConchTextCanvas;\r\n\t\t\t/*__JS__ */pCanvas._source.canvas=ConchTextCanvas;\r\n\t\t\t}else {\r\n\t\t\tpCanvas=Browser.canvas.source;\r\n\t\t}\r\n\t\tthis.canvas=pCanvas;\r\n\t\tthis._enableMerageInAtlas=true;\r\n\t\tif (bIsConchApp){\r\n\t\t\t/*__JS__ */this._ctx=pCanvas;\r\n\t\t\t}else {\r\n\t\t\tthis._ctx=this.canvas.getContext('2d',undefined);\r\n\t\t};\r\n\t\tvar t=Utils.measureText(this.char,this.font);\r\n\t\tthis.cw=t.width *this.xs;\r\n\t\tthis.ch=(t.height || this.fontSize)*this.ys;\r\n\t\tthis.onresize(this.cw+this.CborderSize *2,this.ch+this.CborderSize *2);\r\n\t\tthis.texture=new Texture(this);\r\n\t}\r\n\r\n\t__class(WebGLCharImage,'laya.webgl.resource.WebGLCharImage',_super);\r\n\tvar __proto=WebGLCharImage.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.resource.IMergeAtlasBitmap\":true})\r\n\t__proto.active=function(){\r\n\t\tthis.texture.active();\r\n\t}\r\n\r\n\t__proto.recreateResource=function(){\r\n\t\tvar bIsConchApp=Render.isConchApp;\r\n\t\tthis.onresize(this.cw+this.CborderSize *2,this.ch+this.CborderSize *2);\r\n\t\tthis.canvas && (this.canvas.height=this._h,this.canvas.width=this._w);\r\n\t\tif (bIsConchApp){\r\n\t\t\tvar nFontSize=this.fontSize;\r\n\t\t\tif (this.xs !=1 || this.ys !=1){\r\n\t\t\t\tnFontSize=parseInt(nFontSize *((this.xs > this.ys)? this.xs :this.ys)+\"\");\r\n\t\t\t};\r\n\t\t\tvar sFont=\"normal 100 \"+nFontSize+\"px Arial\";\r\n\t\t\tif (this.borderColor){\r\n\t\t\t\tsFont+=\" 1 \"+this.borderColor;\r\n\t\t\t}\r\n\t\t\tthis._ctx.font=sFont;\r\n\t\t\tthis._ctx.textBaseline=\"top\";\r\n\t\t\tthis._ctx.fillStyle=this.fillColor;\r\n\t\t\tthis._ctx.fillText(this.char,this.CborderSize,this.CborderSize,null,null,null);\r\n\t\t\t}else {\r\n\t\t\tthis._ctx.save();\r\n\t\t\t(this._ctx).clearRect(0,0,this.cw+this.CborderSize *2,this.ch+this.CborderSize *2);\r\n\t\t\tthis._ctx.font=this.font;\r\n\t\t\tif (Text.RightToLeft){\r\n\t\t\t\tthis._ctx.textAlign=\"end\";\r\n\t\t\t}\r\n\t\t\tthis._ctx.textBaseline=\"top\";\r\n\t\t\tthis._ctx.translate(this.CborderSize,this.CborderSize);\r\n\t\t\tif (this.xs !=1 || this.ys !=1){\r\n\t\t\t\tthis._ctx.scale(this.xs,this.ys);\r\n\t\t\t}\r\n\t\t\tif (this.fillColor && this.borderColor){\r\n\t\t\t\tthis._ctx.strokeStyle=this.borderColor;\r\n\t\t\t\tthis._ctx.lineWidth=this.lineWidth;\r\n\t\t\t\tthis._ctx.strokeText(this.char,0,0,null,null,0,null);\r\n\t\t\t\tthis._ctx.fillStyle=this.fillColor;\r\n\t\t\t\tthis._ctx.fillText(this.char,0,0,null,null,null);\r\n\t\t\t\t}else {\r\n\t\t\t\tif (this.lineWidth===-1){\r\n\t\t\t\t\tthis._ctx.fillStyle=this.fillColor ? this.fillColor :\"white\";\r\n\t\t\t\t\tthis._ctx.fillText(this.char,0,0,null,null,null);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\tthis._ctx.strokeStyle=this.borderColor?this.borderColor:'white';\r\n\t\t\t\t\tthis._ctx.lineWidth=this.lineWidth;\r\n\t\t\t\t\tthis._ctx.strokeText(this.char,0,0,null,null,0,null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.underLine){\r\n\t\t\t\tthis._ctx.lineWidth=1;\r\n\t\t\t\tthis._ctx.strokeStyle=this.fillColor;\r\n\t\t\t\tthis._ctx.beginPath();\r\n\t\t\t\tthis._ctx.moveTo(0,this.fontSize+1);\r\n\t\t\t\tvar nW=this._ctx.measureText(this.char).width+1;\r\n\t\t\t\tthis._ctx.lineTo(nW,this.fontSize+1);\r\n\t\t\t\tthis._ctx.stroke();\r\n\t\t\t}\r\n\t\t\tthis._ctx.restore();\r\n\t\t}\r\n\t\tthis.borderSize=this.CborderSize;\r\n\t\tthis.completeCreate();\r\n\t}\r\n\r\n\t__proto.onresize=function(w,h){\r\n\t\tthis._w=w;\r\n\t\tthis._h=h;\r\n\t\tthis._allowMerageInAtlas=true;\r\n\t}\r\n\r\n\t__proto.clearAtlasSource=function(){}\r\n\t/**\r\n\t*是否创建私有Source\r\n\t*@return 是否创建\r\n\t*/\r\n\t__getset(0,__proto,'allowMerageInAtlas',function(){\r\n\t\treturn this._allowMerageInAtlas;\r\n\t});\r\n\r\n\t__getset(0,__proto,'atlasSource',function(){\r\n\t\treturn this.canvas;\r\n\t});\r\n\r\n\t/**\r\n\t*是否创建私有Source,通常禁止修改\r\n\t*@param value 是否创建\r\n\t*/\r\n\t/**\r\n\t*是否创建私有Source\r\n\t*@return 是否创建\r\n\t*/\r\n\t__getset(0,__proto,'enableMerageInAtlas',function(){\r\n\t\treturn this._enableMerageInAtlas;\r\n\t\t},function(value){\r\n\t\tthis._enableMerageInAtlas=value;\r\n\t});\r\n\r\n\tWebGLCharImage.createOneChar=function(content,drawValue){\r\n\t\tvar char=new WebGLCharImage(content,drawValue);\r\n\t\treturn char;\r\n\t}\r\n\r\n\treturn WebGLCharImage;\r\n})(Bitmap)\r\n\r\n\r\n//class laya.webgl.resource.WebGLRenderTarget extends laya.resource.Bitmap\r\nvar WebGLRenderTarget=(function(_super){\r\n\tfunction WebGLRenderTarget(width,height,surfaceFormat,surfaceType,depthStencilFormat,mipMap,repeat,minFifter,magFifter){\r\n\t\t//this._frameBuffer=null;\r\n\t\t//this._depthStencilBuffer=null;\r\n\t\t//this._surfaceFormat=0;\r\n\t\t//this._surfaceType=0;\r\n\t\t//this._depthStencilFormat=0;\r\n\t\t//this._mipMap=false;\r\n\t\t//this._repeat=false;\r\n\t\t//this._minFifter=0;\r\n\t\t//this._magFifter=0;\r\n\t\t(surfaceFormat===void 0)&& (surfaceFormat=/*laya.webgl.WebGLContext.RGBA*/0x1908);\r\n\t\t(surfaceType===void 0)&& (surfaceType=/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401);\r\n\t\t(depthStencilFormat===void 0)&& (depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9);\r\n\t\t(mipMap===void 0)&& (mipMap=false);\r\n\t\t(repeat===void 0)&& (repeat=false);\r\n\t\t(minFifter===void 0)&& (minFifter=-1);\r\n\t\t(magFifter===void 0)&& (magFifter=1);\r\n\t\tWebGLRenderTarget.__super.call(this);\r\n\t\tthis._w=width;\r\n\t\tthis._h=height;\r\n\t\tthis._surfaceFormat=surfaceFormat;\r\n\t\tthis._surfaceType=surfaceType;\r\n\t\tthis._depthStencilFormat=depthStencilFormat;\r\n\t\tif (Render.isConchWebGL && this._depthStencilFormat===/*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9){\r\n\t\t\tthis._depthStencilFormat=/*laya.webgl.WebGLContext.DEPTH_COMPONENT16*/0x81A5;\r\n\t\t}\r\n\t\tthis._mipMap=mipMap;\r\n\t\tthis._repeat=repeat;\r\n\t\tthis._minFifter=minFifter;\r\n\t\tthis._magFifter=magFifter;\r\n\t}\r\n\r\n\t__class(WebGLRenderTarget,'laya.webgl.resource.WebGLRenderTarget',_super);\r\n\tvar __proto=WebGLRenderTarget.prototype;\r\n\t__proto.recreateResource=function(){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis._frameBuffer || (this._frameBuffer=gl.createFramebuffer());\r\n\t\tthis._source || (this._source=gl.createTexture());\r\n\t\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\t\tvar preTexture=WebGLContext.curBindTexValue;\r\n\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source);\r\n\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,this._w,this._h,0,this._surfaceFormat,this._surfaceType,null);\r\n\t\tvar minFifter=this._minFifter;\r\n\t\tvar magFifter=this._magFifter;\r\n\t\tvar repeat=this._repeat ? /*laya.webgl.WebGLContext.REPEAT*/0x2901 :/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F;\r\n\t\tvar isPot=Arith.isPOT(this._w,this._h);\r\n\t\tif (isPot){\r\n\t\t\tif (this._mipMap)\r\n\t\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR_MIPMAP_LINEAR*/0x2703);\r\n\t\t\telse\r\n\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,repeat);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,repeat);\r\n\t\t\tthis._mipMap && gl.generateMipmap(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1);\r\n\t\t\t}else {\r\n\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\t}\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,this._frameBuffer);\r\n\t\tgl.framebufferTexture2D(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,/*laya.webgl.WebGLContext.COLOR_ATTACHMENT0*/0x8CE0,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,this._source,0);\r\n\t\tif (this._depthStencilFormat){\r\n\t\t\tthis._depthStencilBuffer || (this._depthStencilBuffer=gl.createRenderbuffer());\r\n\t\t\tgl.bindRenderbuffer(/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,this._depthStencilBuffer);\r\n\t\t\tgl.renderbufferStorage(/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,this._depthStencilFormat,this._w,this._h);\r\n\t\t\tswitch (this._depthStencilFormat){\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.DEPTH_COMPONENT16*/0x81A5:\r\n\t\t\t\t\tgl.framebufferRenderbuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,/*laya.webgl.WebGLContext.DEPTH_ATTACHMENT*/0x8D00,/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,this._depthStencilBuffer);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.STENCIL_INDEX8*/0x8D48:\r\n\t\t\t\t\tgl.framebufferRenderbuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,/*laya.webgl.WebGLContext.STENCIL_ATTACHMENT*/0x8D20,/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,this._depthStencilBuffer);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.DEPTH_STENCIL*/0x84F9:\r\n\t\t\t\t\tgl.framebufferRenderbuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,/*laya.webgl.WebGLContext.DEPTH_STENCIL_ATTACHMENT*/0x821A,/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,this._depthStencilBuffer);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tgl.bindFramebuffer(/*laya.webgl.WebGLContext.FRAMEBUFFER*/0x8D40,null);\r\n\t\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\t\tgl.bindRenderbuffer(/*laya.webgl.WebGLContext.RENDERBUFFER*/0x8D41,null);\r\n\t\tif (isPot && this._mipMap)\r\n\t\t\tthis.memorySize=this._w *this._h *4 *(1+1 / 3);\r\n\t\telse\r\n\t\tthis.memorySize=this._w *this._h *4;\r\n\t\tthis.completeCreate();\r\n\t}\r\n\r\n\t__proto.disposeResource=function(){\r\n\t\tif (this._frameBuffer){\r\n\t\t\tWebGL.mainContext.deleteTexture(this._source);\r\n\t\t\tWebGL.mainContext.deleteFramebuffer(this._frameBuffer);\r\n\t\t\tWebGL.mainContext.deleteRenderbuffer(this._depthStencilBuffer);\r\n\t\t\tthis._source=null;\r\n\t\t\tthis._frameBuffer=null;\r\n\t\t\tthis._depthStencilBuffer=null;\r\n\t\t\tthis.memorySize=0;\r\n\t\t}\r\n\t}\r\n\r\n\t__getset(0,__proto,'depthStencilBuffer',function(){\r\n\t\treturn this._depthStencilBuffer;\r\n\t});\r\n\r\n\t__getset(0,__proto,'frameBuffer',function(){\r\n\t\treturn this._frameBuffer;\r\n\t});\r\n\r\n\treturn WebGLRenderTarget;\r\n})(Bitmap)\r\n\r\n\r\n//class laya.webgl.resource.WebGLSubImage extends laya.resource.Bitmap\r\nvar WebGLSubImage=(function(_super){\r\n\tfunction WebGLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src){\r\n\t\t/**HTML Context*/\r\n\t\t//this._ctx=null;\r\n\t\t/***是否创建私有Source,值为false时不根据src创建私有WebGLTexture,同时销毁时也只清空source=null,不调用WebGL.mainContext.deleteTexture类似函数，调用资源激活前有效*/\r\n\t\t//this._allowMerageInAtlas=false;\r\n\t\t/**是否允许加入大图合集*/\r\n\t\t//this._enableMerageInAtlas=false;\r\n\t\t/**HTML Canvas，绘制子图载体,非私有数据载体*/\r\n\t\t//this.canvas=null;\r\n\t\t/**是否使用重复模式纹理寻址*/\r\n\t\t//this.repeat=false;\r\n\t\t/**是否使用mipLevel*/\r\n\t\t//this.mipmap=false;\r\n\t\t/**缩小过滤器*/\r\n\t\t//this.minFifter=0;\r\n\t\t/**放大过滤器*/\r\n\t\t//this.magFifter=0;\r\n\t\t//动态默认值，判断是否可生成miplevel\r\n\t\t//this.atlasImage=null;\r\n\t\tthis.offsetX=0;\r\n\t\tthis.offsetY=0;\r\n\t\t//this.src=null;\r\n\t\tWebGLSubImage.__super.call(this);\r\n\t\tthis.repeat=true;\r\n\t\tthis.mipmap=false;\r\n\t\tthis.minFifter=-1;\r\n\t\tthis.magFifter=-1;\r\n\t\tthis.atlasImage=atlasImage;\r\n\t\tthis.canvas=canvas;\r\n\t\tthis._ctx=canvas.getContext('2d',undefined);\r\n\t\tthis._w=width;\r\n\t\tthis._h=height;\r\n\t\tthis.offsetX=offsetX;\r\n\t\tthis.offsetY=offsetY;\r\n\t\tthis.src=src;\r\n\t\tthis._enableMerageInAtlas=true;\r\n\t\t(AtlasResourceManager.enabled)&& (this._w < AtlasResourceManager.atlasLimitWidth && this._h < AtlasResourceManager.atlasLimitHeight)? this._allowMerageInAtlas=true :this._allowMerageInAtlas=false;\r\n\t}\r\n\r\n\t__class(WebGLSubImage,'laya.webgl.resource.WebGLSubImage',_super);\r\n\tvar __proto=WebGLSubImage.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.resource.IMergeAtlasBitmap\":true})\r\n\t/*override public function copyTo(dec:Bitmap):void {\r\n\tvar d:WebGLSubImage=dec as WebGLSubImage;\r\n\tsuper.copyTo(dec);\r\n\td._ctx=_ctx;\r\n}*/\r\n\r\n\r\n__proto.size=function(w,h){\r\n\tthis._w=w;\r\n\tthis._h=h;\r\n\tthis._ctx && this._ctx.size(w,h);\r\n\tthis.canvas && (this.canvas.height=h,this.canvas.width=w);\r\n}\r\n\r\n\r\n__proto.recreateResource=function(){\r\n\tthis.size(this._w,this._h);\r\n\tthis._ctx.drawImage(this.atlasImage,this.offsetX,this.offsetY,this._w,this._h,0,0,this._w,this._h);\r\n\t(!(this._allowMerageInAtlas && this._enableMerageInAtlas))? (this.createWebGlTexture()):(this.memorySize=0);\r\n\tthis.completeCreate();\r\n}\r\n\r\n\r\n__proto.createWebGlTexture=function(){\r\n\tvar gl=WebGL.mainContext;\r\n\tif (!this.canvas){\r\n\t\tthrow \"create GLTextur err:no data:\"+this.canvas;\r\n\t};\r\n\r\n\tvar glTex=this._source=gl.createTexture();\r\n\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\tvar preTexture=WebGLContext.curBindTexValue;\r\n\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,glTex);\r\n\tif (Render.isConchWebGL){\r\n\t\tgl.texImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this.canvas);\r\n\t}\r\n\r\n\telse {\r\n\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this.canvas);\r\n\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t};\r\n\r\n\tvar minFifter=this.minFifter;\r\n\tvar magFifter=this.magFifter;\r\n\tvar repeat=this.repeat ? /*laya.webgl.WebGLContext.REPEAT*/0x2901 :/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F;\r\n\tvar isPOT=Arith.isPOT(this.width,this.height);\r\n\tif (isPOT){\r\n\t\tif (this.mipmap)\r\n\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR_MIPMAP_LINEAR*/0x2703);\r\n\t\telse\r\n\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,repeat);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,repeat);\r\n\t\tthis.mipmap && gl.generateMipmap(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1);\r\n\t\t}else {\r\n\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t}\r\n\r\n\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\tthis.canvas=null;\r\n\tif (isPOT && this.mipmap)\r\n\t\tthis.memorySize=this._w *this._h *4 *(1+1 / 3);\r\n\telse\r\n\tthis.memorySize=this._w *this._h *4;\r\n}\r\n\r\n\r\n__proto.disposeResource=function(){\r\n\tif (!(AtlasResourceManager.enabled && this._allowMerageInAtlas)&& this._source){\r\n\t\tWebGL.mainContext.deleteTexture(this._source);\r\n\t\tthis._source=null;\r\n\t\tthis.memorySize=0;\r\n\t}\r\n\r\n}\r\n\r\n\r\n//}\r\n__proto.clearAtlasSource=function(){}\r\n/**\r\n*是否创建私有Source\r\n*@return 是否创建\r\n*/\r\n__getset(0,__proto,'allowMerageInAtlas',function(){\r\n\treturn this._allowMerageInAtlas;\r\n});\r\n\r\n\r\n//public var createFromPixel:Boolean=true;\r\n__getset(0,__proto,'atlasSource',function(){\r\n\treturn this.canvas;\r\n});\r\n\r\n\r\n/**\r\n*是否创建私有Source,通常禁止修改\r\n*@param value 是否创建\r\n*/\r\n/**\r\n*是否创建私有Source\r\n*@return 是否创建\r\n*/\r\n__getset(0,__proto,'enableMerageInAtlas',function(){\r\n\treturn this._allowMerageInAtlas;\r\n\t},function(value){\r\n\r\n\tthis._allowMerageInAtlas=value;\r\n});\r\n\r\n\r\nreturn WebGLSubImage;\r\n})(Bitmap)\r\n\r\n\r\n//class laya.webgl.shader.Shader extends laya.webgl.shader.BaseShader\r\nvar Shader=(function(_super){\r\n\tfunction Shader(vs,ps,saveName,nameMap){\r\n\t\t//this._nameMap=null;\r\n\t\t//shader参数别名，语义\r\n\t\t//this._vs=null;\r\n\t\t//this._ps=null;\r\n\t\tthis._curActTexIndex=0;\r\n\t\t//this._reCompile=false;\r\n\t\t//存储一些私有变量\r\n\t\tthis.tag={};\r\n\t\t//this._vshader=null;\r\n\t\t//this._pshader=null;\r\n\t\tthis._program=null;\r\n\t\tthis._params=null;\r\n\t\tthis._paramsMap={};\r\n\t\tthis._offset=0;\r\n\t\t//this._id=0;\r\n\t\tShader.__super.call(this);\r\n\t\tif ((!vs)|| (!ps))throw \"Shader Error\";\r\n\t\tthis._id=++Shader._count;\r\n\t\tthis._vs=vs;\r\n\t\tthis._ps=ps;\r\n\t\tthis._nameMap=nameMap ? nameMap :{};\r\n\t\tsaveName !=null && (Shader.sharders[saveName]=this);\r\n\t}\r\n\r\n\t__class(Shader,'laya.webgl.shader.Shader',_super);\r\n\tvar __proto=Shader.prototype;\r\n\t__proto.recreateResource=function(){\r\n\t\tthis._compile();\r\n\t\tthis.completeCreate();\r\n\t\tthis.memorySize=0;\r\n\t}\r\n\r\n\t//忽略尺寸尺寸\r\n\t__proto.disposeResource=function(){\r\n\t\tWebGL.mainContext.deleteShader(this._vshader);\r\n\t\tWebGL.mainContext.deleteShader(this._pshader);\r\n\t\tWebGL.mainContext.deleteProgram(this._program);\r\n\t\tthis._vshader=this._pshader=this._program=null;\r\n\t\tthis._params=null;\r\n\t\tthis._paramsMap={};\r\n\t\tthis.memorySize=0;\r\n\t\tthis._curActTexIndex=0;\r\n\t}\r\n\r\n\t__proto._compile=function(){\r\n\t\tif (!this._vs || !this._ps || this._params)\r\n\t\t\treturn;\r\n\t\tthis._reCompile=true;\r\n\t\tthis._params=[];\r\n\t\tvar text=[this._vs,this._ps];\r\n\t\tvar result;\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tthis._program=gl.createProgram();\r\n\t\tthis._vshader=Shader._createShader(gl,text[0],/*laya.webgl.WebGLContext.VERTEX_SHADER*/0x8B31);\r\n\t\tthis._pshader=Shader._createShader(gl,text[1],/*laya.webgl.WebGLContext.FRAGMENT_SHADER*/0x8B30);\r\n\t\tgl.attachShader(this._program,this._vshader);\r\n\t\tgl.attachShader(this._program,this._pshader);\r\n\t\tgl.linkProgram(this._program);\r\n\t\tif (!Render.isConchApp && !gl.getProgramParameter(this._program,/*laya.webgl.WebGLContext.LINK_STATUS*/0x8B82)){\r\n\t\t\tthrow gl.getProgramInfoLog(this._program);\r\n\t\t};\r\n\t\tvar one,i=0,j=0,n=0,location;\r\n\t\tvar attribNum=0;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tattribNum=gl.getProgramParameterEx(this._vs,this._ps,\"\",/*laya.webgl.WebGLContext.ACTIVE_ATTRIBUTES*/0x8B89);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tattribNum=gl.getProgramParameter(this._program,/*laya.webgl.WebGLContext.ACTIVE_ATTRIBUTES*/0x8B89);\r\n\t\t}\r\n\t\tfor (i=0;i < attribNum;i++){\r\n\t\t\tvar attrib=null;\r\n\t\t\tif (Render.isConchApp){\r\n\t\t\t\tattrib=gl.getActiveAttribEx(this._vs,this._ps,\"\",i);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tattrib=gl.getActiveAttrib(this._program,i);\r\n\t\t\t}\r\n\t\t\tlocation=gl.getAttribLocation(this._program,attrib.name);\r\n\t\t\tone={vartype:\"attribute\",glfun:null,ivartype:0,attrib:attrib,location:location,name:attrib.name,type:attrib.type,isArray:false,isSame:false,preValue:null,indexOfParams:0};\r\n\t\t\tthis._params.push(one);\r\n\t\t};\r\n\t\tvar nUniformNum=0;\r\n\t\tif (Render.isConchApp){\r\n\t\t\tnUniformNum=gl.getProgramParameterEx(this._vs,this._ps,\"\",/*laya.webgl.WebGLContext.ACTIVE_UNIFORMS*/0x8B86);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnUniformNum=gl.getProgramParameter(this._program,/*laya.webgl.WebGLContext.ACTIVE_UNIFORMS*/0x8B86);\r\n\t\t}\r\n\t\tfor (i=0;i < nUniformNum;i++){\r\n\t\t\tvar uniform=null;\r\n\t\t\tif (Render.isConchApp){\r\n\t\t\t\tuniform=gl.getActiveUniformEx(this._vs,this._ps,\"\",i);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tuniform=gl.getActiveUniform(this._program,i);\r\n\t\t\t}\r\n\t\t\tlocation=gl.getUniformLocation(this._program,uniform.name);\r\n\t\t\tone={vartype:\"uniform\",glfun:null,ivartype:1,attrib:attrib,location:location,name:uniform.name,type:uniform.type,isArray:false,isSame:false,preValue:null,indexOfParams:0};\r\n\t\t\tif (one.name.indexOf('[0]')> 0){\r\n\t\t\t\tone.name=one.name.substr(0,one.name.length-3);\r\n\t\t\t\tone.isArray=true;\r\n\t\t\t\tone.location=gl.getUniformLocation(this._program,one.name);\r\n\t\t\t}\r\n\t\t\tthis._params.push(one);\r\n\t\t}\r\n\t\tfor (i=0,n=this._params.length;i < n;i++){\r\n\t\t\tone=this._params[i];\r\n\t\t\tone.indexOfParams=i;\r\n\t\t\tone.index=1;\r\n\t\t\tone.value=[one.location,null];\r\n\t\t\tone.codename=one.name;\r\n\t\t\tone.name=this._nameMap[one.codename] ? this._nameMap[one.codename] :one.codename;\r\n\t\t\tthis._paramsMap[one.name]=one;\r\n\t\t\tone._this=this;\r\n\t\t\tone.uploadedValue=[];\r\n\t\t\tif (one.vartype===\"attribute\"){\r\n\t\t\t\tone.fun=this._attribute;\r\n\t\t\t\tcontinue ;\r\n\t\t\t}\r\n\t\t\tswitch (one.type){\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.INT*/0x1404:\r\n\t\t\t\t\tone.fun=one.isArray ? this._uniform1iv :this._uniform1i;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT*/0x1406:\r\n\t\t\t\t\tone.fun=one.isArray ? this._uniform1fv :this._uniform1f;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_VEC2*/0x8B50:\r\n\t\t\t\t\tone.fun=one.isArray ? this._uniform_vec2v:this._uniform_vec2;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_VEC3*/0x8B51:\r\n\t\t\t\t\tone.fun=one.isArray ? this._uniform_vec3v:this._uniform_vec3;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_VEC4*/0x8B52:\r\n\t\t\t\t\tone.fun=one.isArray ? this._uniform_vec4v:this._uniform_vec4;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.SAMPLER_2D*/0x8B5E:\r\n\t\t\t\t\tone.fun=this._uniform_sampler2D;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.SAMPLER_CUBE*/0x8B60:\r\n\t\t\t\t\tone.fun=this._uniform_samplerCube;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_MAT4*/0x8B5C:\r\n\t\t\t\t\tone.glfun=gl.uniformMatrix4fv;\r\n\t\t\t\t\tone.fun=this._uniformMatrix4fv;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.BOOL*/0x8B56:\r\n\t\t\t\t\tone.fun=this._uniform1i;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_MAT2*/0x8B5A:\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.FLOAT_MAT3*/0x8B5B:\r\n\t\t\t\t\tthrow new Error(\"compile shader err!\");\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\tthrow new Error(\"compile shader err!\");\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t*根据变量名字获得\r\n\t*@param name\r\n\t*@return\r\n\t*/\r\n\t__proto.getUniform=function(name){\r\n\t\treturn this._paramsMap[name];\r\n\t}\r\n\r\n\t__proto._attribute=function(one,value){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar enableAtributes=Buffer._enableAtributes;\r\n\t\tvar location=one.location;\r\n\t\t(enableAtributes[location])||(gl.enableVertexAttribArray(location));\r\n\t\tgl.vertexAttribPointer(location,value[0],value[1],value[2],value[3],value[4]+this._offset);\r\n\t\tenableAtributes[location]=Buffer._bindVertexBuffer;\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform1f=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value){\r\n\t\t\tWebGL.mainContext.uniform1f(one.location,uploadedValue[0]=value);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform1fv=function(one,value){\r\n\t\tif (value.length < 4){\r\n\t\t\tvar uploadedValue=one.uploadedValue;\r\n\t\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){\r\n\t\t\t\tWebGL.mainContext.uniform1fv(one.location,value);\r\n\t\t\t\tuploadedValue[0]=value[0];\r\n\t\t\t\tuploadedValue[1]=value[1];\r\n\t\t\t\tuploadedValue[2]=value[2];\r\n\t\t\t\tuploadedValue[3]=value[3];\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t\t}else {\r\n\t\t\tWebGL.mainContext.uniform1fv(one.location,value);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._uniform_vec2=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){\r\n\t\t\tWebGL.mainContext.uniform2f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_vec2v=function(one,value){\r\n\t\tif (value.length < 2){\r\n\t\t\tvar uploadedValue=one.uploadedValue;\r\n\t\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){\r\n\t\t\t\tWebGL.mainContext.uniform2fv(one.location,value);\r\n\t\t\t\tuploadedValue[0]=value[0];\r\n\t\t\t\tuploadedValue[1]=value[1];\r\n\t\t\t\tuploadedValue[2]=value[2];\r\n\t\t\t\tuploadedValue[3]=value[3];\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t\t}else {\r\n\t\t\tWebGL.mainContext.uniform2fv(one.location,value);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._uniform_vec3=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){\r\n\t\t\tWebGL.mainContext.uniform3f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_vec3v=function(one,value){\r\n\t\tWebGL.mainContext.uniform3fv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform_vec4=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){\r\n\t\t\tWebGL.mainContext.uniform4f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_vec4v=function(one,value){\r\n\t\tWebGL.mainContext.uniform4fv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniformMatrix2fv=function(one,value){\r\n\t\tWebGL.mainContext.uniformMatrix2fv(one.location,false,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniformMatrix3fv=function(one,value){\r\n\t\tWebGL.mainContext.uniformMatrix3fv(one.location,false,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniformMatrix4fv=function(one,value){\r\n\t\tWebGL.mainContext.uniformMatrix4fv(one.location,false,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform1i=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value){\r\n\t\t\tWebGL.mainContext.uniform1i(one.location,uploadedValue[0]=value);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform1iv=function(one,value){\r\n\t\tWebGL.mainContext.uniform1iv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform_ivec2=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){\r\n\t\t\tWebGL.mainContext.uniform2i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_ivec2v=function(one,value){\r\n\t\tWebGL.mainContext.uniform2iv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform_vec3i=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){\r\n\t\t\tWebGL.mainContext.uniform3i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_vec3vi=function(one,value){\r\n\t\tWebGL.mainContext.uniform3iv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform_vec4i=function(one,value){\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){\r\n\t\t\tWebGL.mainContext.uniform4i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t__proto._uniform_vec4vi=function(one,value){\r\n\t\tWebGL.mainContext.uniform4iv(one.location,value);\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t__proto._uniform_sampler2D=function(one,value){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]==null){\r\n\t\t\tuploadedValue[0]=this._curActTexIndex;\r\n\t\t\tgl.uniform1i(one.location,this._curActTexIndex);\r\n\t\t\tgl.activeTexture(Shader._TEXTURES[this._curActTexIndex]);\r\n\t\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,value);\r\n\t\t\tthis._curActTexIndex++;\r\n\t\t\treturn 1;\r\n\t\t\t}else {\r\n\t\t\tgl.activeTexture(Shader._TEXTURES[uploadedValue[0]]);\r\n\t\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,value);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._uniform_samplerCube=function(one,value){\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar uploadedValue=one.uploadedValue;\r\n\t\tif (uploadedValue[0]==null){\r\n\t\t\tuploadedValue[0]=this._curActTexIndex;\r\n\t\t\tgl.uniform1i(one.location,this._curActTexIndex);\r\n\t\t\tgl.activeTexture(Shader._TEXTURES[this._curActTexIndex]);\r\n\t\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_CUBE_MAP*/0x8513,value);\r\n\t\t\tthis._curActTexIndex++;\r\n\t\t\treturn 1;\r\n\t\t\t}else {\r\n\t\t\tgl.activeTexture(Shader._TEXTURES[uploadedValue[0]]);\r\n\t\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_CUBE_MAP*/0x8513,value);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._noSetValue=function(one){\r\n\t\tconsole.log(\"no....:\"+one.name);\r\n\t}\r\n\r\n\t//throw new Error(\"upload shader err,must set value:\"+one.name);\r\n\t__proto.uploadOne=function(name,value){\r\n\t\tthis.activeResource();\r\n\t\tWebGLContext.UseProgram(this._program);\r\n\t\tvar one=this._paramsMap[name];\r\n\t\tone.fun.call(this,one,value);\r\n\t}\r\n\r\n\t__proto.uploadTexture2D=function(value){\r\n\t\tStat.shaderCall++;\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tgl.activeTexture(/*laya.webgl.WebGLContext.TEXTURE0*/0x84C0);\r\n\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,value);\r\n\t}\r\n\r\n\t/**\r\n\t*提交shader到GPU\r\n\t*@param shaderValue\r\n\t*/\r\n\t__proto.upload=function(shaderValue,params){\r\n\t\tBaseShader.activeShader=BaseShader.bindShader=this;\r\n\t\tthis._lastUseFrameCount===Stat.loopCount || this.activeResource();\r\n\t\tWebGLContext.UseProgram(this._program);\r\n\t\tif (this._reCompile){\r\n\t\t\tparams=this._params;\r\n\t\t\tthis._reCompile=false;\r\n\t\t\t}else {\r\n\t\t\tparams=params || this._params;\r\n\t\t};\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar one,value,n=params.length,shaderCall=0;\r\n\t\tfor (var i=0;i < n;i++){\r\n\t\t\tone=params[i];\r\n\t\t\tif ((value=shaderValue[one.name])!==null)\r\n\t\t\t\tshaderCall+=one.fun.call(this,one,value);\r\n\t\t}\r\n\t\tStat.shaderCall+=shaderCall;\r\n\t}\r\n\r\n\t/**\r\n\t*按数组的定义提交\r\n\t*@param shaderValue 数组格式[name,value,...]\r\n\t*/\r\n\t__proto.uploadArray=function(shaderValue,length,_bufferUsage){\r\n\t\tBaseShader.activeShader=this;\r\n\t\tBaseShader.bindShader=this;\r\n\t\tthis.activeResource();\r\n\t\tWebGLContext.UseProgram(this._program);\r\n\t\tvar params=this._params,value;\r\n\t\tvar one,shaderCall=0;\r\n\t\tfor (var i=length-2;i >=0;i-=2){\r\n\t\t\tone=this._paramsMap[shaderValue[i]];\r\n\t\t\tif (!one)\r\n\t\t\t\tcontinue ;\r\n\t\t\tvalue=shaderValue[i+1];\r\n\t\t\tif (value !=null){\r\n\t\t\t\t_bufferUsage && _bufferUsage[one.name] && _bufferUsage[one.name].bind();\r\n\t\t\t\tshaderCall+=one.fun.call(this,one,value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tStat.shaderCall+=shaderCall;\r\n\t}\r\n\r\n\t/**\r\n\t*得到编译后的变量及相关预定义\r\n\t*@return\r\n\t*/\r\n\t__proto.getParams=function(){\r\n\t\treturn this._params;\r\n\t}\r\n\r\n\tShader.getShader=function(name){\r\n\t\treturn Shader.sharders[name];\r\n\t}\r\n\r\n\tShader.create=function(vs,ps,saveName,nameMap){\r\n\t\treturn new Shader(vs,ps,saveName,nameMap);\r\n\t}\r\n\r\n\tShader.withCompile=function(nameID,define,shaderName,createShader){\r\n\t\tif (shaderName && Shader.sharders[shaderName])\r\n\t\t\treturn Shader.sharders[shaderName];\r\n\t\tvar pre=Shader._preCompileShader[0.0002 *nameID];\r\n\t\tif (!pre)\r\n\t\t\tthrow new Error(\"withCompile shader err!\"+nameID);\r\n\t\treturn pre.createShader(define,shaderName,createShader);\r\n\t}\r\n\r\n\tShader.withCompile2D=function(nameID,mainID,define,shaderName,createShader){\r\n\t\tif (shaderName && Shader.sharders[shaderName])\r\n\t\t\treturn Shader.sharders[shaderName];\r\n\t\tvar pre=Shader._preCompileShader[0.0002 *nameID+mainID];\r\n\t\tif (!pre)\r\n\t\t\tthrow new Error(\"withCompile shader err!\"+nameID+\" \"+mainID);\r\n\t\treturn pre.createShader(define,shaderName,createShader);\r\n\t}\r\n\r\n\tShader.addInclude=function(fileName,txt){\r\n\t\tShaderCompile.addInclude(fileName,txt);\r\n\t}\r\n\r\n\tShader.preCompile=function(nameID,vs,ps,nameMap){\r\n\t\tvar id=0.0002 *nameID;\r\n\t\tShader._preCompileShader[id]=new ShaderCompile(id,vs,ps,nameMap);\r\n\t}\r\n\r\n\tShader.preCompile2D=function(nameID,mainID,vs,ps,nameMap){\r\n\t\tvar id=0.0002 *nameID+mainID;\r\n\t\tShader._preCompileShader[id]=new ShaderCompile(id,vs,ps,nameMap);\r\n\t}\r\n\r\n\tShader._createShader=function(gl,str,type){\r\n\t\tvar shader=gl.createShader(type);\r\n\t\tgl.shaderSource(shader,str);\r\n\t\tgl.compileShader(shader);\r\n\t\treturn shader;\r\n\t}\r\n\r\n\tShader._TEXTURES=[ /*laya.webgl.WebGLContext.TEXTURE0*/0x84C0,/*laya.webgl.WebGLContext.TEXTURE1*/0x84C1,/*laya.webgl.WebGLContext.TEXTURE2*/0x84C2,/*laya.webgl.WebGLContext.TEXTURE3*/0x84C3,/*laya.webgl.WebGLContext.TEXTURE4*/0x84C4,/*laya.webgl.WebGLContext.TEXTURE5*/0x84C5,/*laya.webgl.WebGLContext.TEXTURE6*/0x84C6,,/*laya.webgl.WebGLContext.TEXTURE7*/0x84C7,/*laya.webgl.WebGLContext.TEXTURE8*/0x84C8];\r\n\tShader._count=0;\r\n\tShader._preCompileShader={};\r\n\tShader.SHADERNAME2ID=0.0002;\r\n\tShader.sharders=(Shader.sharders=[],Shader.sharders.length=0x20,Shader.sharders);\r\n\t__static(Shader,\r\n\t['nameKey',function(){return this.nameKey=new StringKey();}\r\n\t]);\r\n\treturn Shader;\r\n})(BaseShader)\r\n\r\n\r\n//class laya.webgl.utils.Buffer2D extends laya.webgl.utils.Buffer\r\nvar Buffer2D=(function(_super){\r\n\tfunction Buffer2D(){\r\n\t\tthis._maxsize=0;\r\n\t\tthis._upload=true;\r\n\t\tthis._uploadSize=0;\r\n\t\tBuffer2D.__super.call(this);\r\n\t\tthis.lock=true;\r\n\t}\r\n\r\n\t__class(Buffer2D,'laya.webgl.utils.Buffer2D',_super);\r\n\tvar __proto=Buffer2D.prototype;\r\n\t/**\r\n\t*在当前的基础上需要多大空间，单位是byte\r\n\t*@param sz\r\n\t*@return 增加大小之前的写位置。单位是byte\r\n\t*/\r\n\t__proto.needSize=function(sz){\r\n\t\tvar old=this._byteLength;\r\n\t\tif (sz){\r\n\t\t\tvar needsz=this._byteLength+sz;\r\n\t\t\tneedsz <=this._buffer.byteLength || (this._resizeBuffer(needsz << 1,true));\r\n\t\t\tthis._byteLength=needsz;\r\n\t\t}\r\n\t\treturn old;\r\n\t}\r\n\r\n\t__proto._bufferData=function(){\r\n\t\tthis._maxsize=Math.max(this._maxsize,this._byteLength);\r\n\t\tif (Stat.loopCount % 30==0){\r\n\t\t\tif (this._buffer.byteLength > (this._maxsize+64)){\r\n\t\t\t\tthis.memorySize=this._buffer.byteLength;\r\n\t\t\t\tthis._buffer=this._buffer.slice(0,this._maxsize+64);\r\n\t\t\t\tthis._checkArrayUse();\r\n\t\t\t}\r\n\t\t\tthis._maxsize=this._byteLength;\r\n\t\t}\r\n\t\tif (this._uploadSize < this._buffer.byteLength){\r\n\t\t\tthis._uploadSize=this._buffer.byteLength;\r\n\t\t\tBuffer._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage);\r\n\t\t\tthis.memorySize=this._uploadSize;\r\n\t\t}\r\n\t\tBuffer._gl.bufferSubData(this._bufferType,0,this._buffer);\r\n\t}\r\n\r\n\t__proto._bufferSubData=function(offset,dataStart,dataLength){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\t(dataStart===void 0)&& (dataStart=0);\r\n\t\t(dataLength===void 0)&& (dataLength=0);\r\n\t\tthis._maxsize=Math.max(this._maxsize,this._byteLength);\r\n\t\tif (Stat.loopCount % 30==0){\r\n\t\t\tif (this._buffer.byteLength > (this._maxsize+64)){\r\n\t\t\t\tthis.memorySize=this._buffer.byteLength;\r\n\t\t\t\tthis._buffer=this._buffer.slice(0,this._maxsize+64);\r\n\t\t\t\tthis._checkArrayUse();\r\n\t\t\t}\r\n\t\t\tthis._maxsize=this._byteLength;\r\n\t\t}\r\n\t\tif (this._uploadSize < this._buffer.byteLength){\r\n\t\t\tthis._uploadSize=this._buffer.byteLength;\r\n\t\t\tBuffer._gl.bufferData(this._bufferType,this._uploadSize,this._bufferUsage);\r\n\t\t\tthis.memorySize=this._uploadSize;\r\n\t\t}\r\n\t\tif (dataStart || dataLength){\r\n\t\t\tvar subBuffer=this._buffer.slice(dataStart,dataLength);\r\n\t\t\tBuffer._gl.bufferSubData(this._bufferType,offset,subBuffer);\r\n\t\t\t}else {\r\n\t\t\tBuffer._gl.bufferSubData(this._bufferType,offset,this._buffer);\r\n\t\t}\r\n\t}\r\n\r\n\t__proto._checkArrayUse=function(){}\r\n\t__proto._bind_upload=function(){\r\n\t\tif (!this._upload)\r\n\t\t\treturn false;\r\n\t\tthis._upload=false;\r\n\t\tthis._bind();\r\n\t\tthis._bufferData();\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto._bind_subUpload=function(offset,dataStart,dataLength){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\t(dataStart===void 0)&& (dataStart=0);\r\n\t\t(dataLength===void 0)&& (dataLength=0);\r\n\t\tif (!this._upload)\r\n\t\t\treturn false;\r\n\t\tthis._upload=false;\r\n\t\tthis._bind();\r\n\t\tthis._bufferSubData(offset,dataStart,dataLength);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__proto._resizeBuffer=function(nsz,copy){\r\n\t\tif (nsz < this._buffer.byteLength)\r\n\t\t\treturn this;\r\n\t\tthis.memorySize=nsz;\r\n\t\tif (copy && this._buffer && this._buffer.byteLength > 0){\r\n\t\t\tvar newbuffer=new ArrayBuffer(nsz);\r\n\t\t\tvar n=new Uint8Array(newbuffer);\r\n\t\t\tn.set(new Uint8Array(this._buffer),0);\r\n\t\t\tthis._buffer=newbuffer;\r\n\t\t}else\r\n\t\tthis._buffer=new ArrayBuffer(nsz);\r\n\t\tthis._checkArrayUse();\r\n\t\tthis._upload=true;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t__proto.append=function(data){\r\n\t\tthis._upload=true;\r\n\t\tvar byteLen=0,n;\r\n\t\tbyteLen=data.byteLength;\r\n\t\tif ((data instanceof Uint8Array)){\r\n\t\t\tthis._resizeBuffer(this._byteLength+byteLen,true);\r\n\t\t\tn=new Uint8Array(this._buffer,this._byteLength);\r\n\t\t\t}else if ((data instanceof Uint16Array)){\r\n\t\t\tthis._resizeBuffer(this._byteLength+byteLen,true);\r\n\t\t\tn=new Uint16Array(this._buffer,this._byteLength);\r\n\t\t\t}else if ((data instanceof Float32Array)){\r\n\t\t\tthis._resizeBuffer(this._byteLength+byteLen,true);\r\n\t\t\tn=new Float32Array(this._buffer,this._byteLength);\r\n\t\t}\r\n\t\tn.set(data,0);\r\n\t\tthis._byteLength+=byteLen;\r\n\t\tthis._checkArrayUse();\r\n\t}\r\n\r\n\t/**\r\n\t*附加Uint16Array的数据。数据长度是len。byte的话要*2\r\n\t*@param data\r\n\t*@param len\r\n\t*/\r\n\t__proto.appendU16Array=function(data,len){\r\n\t\tthis._resizeBuffer(this._byteLength+len*2,true);\r\n\t\tvar u=new Uint16Array(this._buffer,this._byteLength,len);\r\n\t\tfor (var i=0;i < len;i++){\r\n\t\t\tu[i]=data[i];\r\n\t\t}\r\n\t\tthis._byteLength+=len *2;\r\n\t\tthis._checkArrayUse();\r\n\t}\r\n\r\n\t__proto.appendEx=function(data,type){\r\n\t\tthis._upload=true;\r\n\t\tvar byteLen=0,n;\r\n\t\tbyteLen=data.byteLength;\r\n\t\tthis._resizeBuffer(this._byteLength+byteLen,true);\r\n\t\tn=new type(this._buffer,this._byteLength);\r\n\t\tn.set(data,0);\r\n\t\tthis._byteLength+=byteLen;\r\n\t\tthis._checkArrayUse();\r\n\t}\r\n\r\n\t__proto.appendEx2=function(data,type,dataLen,perDataLen){\r\n\t\t(perDataLen===void 0)&& (perDataLen=1);\r\n\t\tthis._upload=true;\r\n\t\tvar byteLen=0,n;\r\n\t\tbyteLen=dataLen*perDataLen;\r\n\t\tthis._resizeBuffer(this._byteLength+byteLen,true);\r\n\t\tn=new type(this._buffer,this._byteLength);\r\n\t\tvar i=0;\r\n\t\tfor (i=0;i < dataLen;i++){\r\n\t\t\tn[i]=data[i];\r\n\t\t}\r\n\t\tthis._byteLength+=byteLen;\r\n\t\tthis._checkArrayUse();\r\n\t}\r\n\r\n\t__proto.getBuffer=function(){\r\n\t\treturn this._buffer;\r\n\t}\r\n\r\n\t__proto.setNeedUpload=function(){\r\n\t\tthis._upload=true;\r\n\t}\r\n\r\n\t__proto.getNeedUpload=function(){\r\n\t\treturn this._upload;\r\n\t}\r\n\r\n\t__proto.upload=function(){\r\n\t\tvar scuess=this._bind_upload();\r\n\t\tBuffer._gl.bindBuffer(this._bufferType,null);\r\n\t\tBuffer._bindActive[this._bufferType]=null;\r\n\t\tBaseShader.activeShader=null\r\n\t\treturn scuess;\r\n\t}\r\n\r\n\t__proto.subUpload=function(offset,dataStart,dataLength){\r\n\t\t(offset===void 0)&& (offset=0);\r\n\t\t(dataStart===void 0)&& (dataStart=0);\r\n\t\t(dataLength===void 0)&& (dataLength=0);\r\n\t\tvar scuess=this._bind_subUpload();\r\n\t\tBuffer._gl.bindBuffer(this._bufferType,null);\r\n\t\tBuffer._bindActive[this._bufferType]=null;\r\n\t\tBaseShader.activeShader=null\r\n\t\treturn scuess;\r\n\t}\r\n\r\n\t__proto.disposeResource=function(){\r\n\t\t_super.prototype.disposeResource.call(this);\r\n\t\tthis._upload=true;\r\n\t\tthis._uploadSize=0;\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\tthis._byteLength=0;\r\n\t\tthis._upload=true;\r\n\t}\r\n\r\n\t__getset(0,__proto,'bufferLength',function(){\r\n\t\treturn this._buffer.byteLength;\r\n\t});\r\n\r\n\t__getset(0,__proto,'byteLength',null,function(value){\r\n\t\tif (this._byteLength===value)\r\n\t\t\treturn;\r\n\t\tvalue <=this._buffer.byteLength || (this._resizeBuffer(value *2+256,true));\r\n\t\tthis._byteLength=value;\r\n\t});\r\n\r\n\tBuffer2D.__int__=function(gl){\r\n\t\tIndexBuffer2D.QuadrangleIB=IndexBuffer2D.create(/*laya.webgl.WebGLContext.STATIC_DRAW*/0x88E4);\r\n\t\tGlUtils.fillIBQuadrangle(IndexBuffer2D.QuadrangleIB,16);\r\n\t}\r\n\r\n\tBuffer2D.FLOAT32=4;\r\n\tBuffer2D.SHORT=2;\r\n\treturn Buffer2D;\r\n})(Buffer)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.GlowSV extends laya.webgl.shader.d2.value.TextureSV\r\nvar GlowSV=(function(_super){\r\n\tfunction GlowSV(args){\r\n\t\tthis.u_blurX=false;\r\n\t\tthis.u_color=null;\r\n\t\tthis.u_offset=null;\r\n\t\tthis.u_strength=NaN;\r\n\t\tthis.u_texW=0;\r\n\t\tthis.u_texH=0;\r\n\t\tGlowSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.FILTERGLOW*/0x08| /*laya.webgl.shader.d2.ShaderDefines2D.TEXTURE2D*/0x01);\r\n\t}\r\n\r\n\t__class(GlowSV,'laya.webgl.shader.d2.value.GlowSV',_super);\r\n\tvar __proto=GlowSV.prototype;\r\n\t__proto.setValue=function(vo){\r\n\t\t_super.prototype.setValue.call(this,vo);\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\t_super.prototype.clear.call(this);\r\n\t}\r\n\r\n\treturn GlowSV;\r\n})(TextureSV)\r\n\r\n\r\n//class laya.webgl.shader.d2.value.TextSV extends laya.webgl.shader.d2.value.TextureSV\r\nvar TextSV=(function(_super){\r\n\tfunction TextSV(args){\r\n\t\tTextSV.__super.call(this,/*laya.webgl.shader.d2.ShaderDefines2D.COLORADD*/0x40);\r\n\t\tthis.defines.add(/*laya.webgl.shader.d2.ShaderDefines2D.COLORADD*/0x40);\r\n\t}\r\n\r\n\t__class(TextSV,'laya.webgl.shader.d2.value.TextSV',_super);\r\n\tvar __proto=TextSV.prototype;\r\n\t__proto.release=function(){\r\n\t\tTextSV.pool[TextSV._length++]=this;\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\t__proto.clear=function(){\r\n\t\t_super.prototype.clear.call(this);\r\n\t}\r\n\r\n\tTextSV.create=function(){\r\n\t\tif (TextSV._length)return TextSV.pool[--TextSV._length];\r\n\t\telse return new TextSV(null);\r\n\t}\r\n\r\n\tTextSV.pool=[];\r\n\tTextSV._length=0;\r\n\treturn TextSV;\r\n})(TextureSV)\r\n\r\n\r\n//class laya.webgl.shader.d2.Shader2X extends laya.webgl.shader.Shader\r\nvar Shader2X=(function(_super){\r\n\tfunction Shader2X(vs,ps,saveName,nameMap){\r\n\t\tthis._params2dQuick1=null;\r\n\t\tthis._params2dQuick2=null;\r\n\t\tthis._shaderValueWidth=NaN;\r\n\t\tthis._shaderValueHeight=NaN;\r\n\t\tShader2X.__super.call(this,vs,ps,saveName,nameMap);\r\n\t}\r\n\r\n\t__class(Shader2X,'laya.webgl.shader.d2.Shader2X',_super);\r\n\tvar __proto=Shader2X.prototype;\r\n\t__proto.upload2dQuick1=function(shaderValue){\r\n\t\tthis.upload(shaderValue,this._params2dQuick1 || this._make2dQuick1());\r\n\t}\r\n\r\n\t__proto._make2dQuick1=function(){\r\n\t\tif (!this._params2dQuick1){\r\n\t\t\tthis.activeResource();\r\n\t\t\tthis._params2dQuick1=[];\r\n\t\t\tvar params=this._params,one;\r\n\t\t\tfor (var i=0,n=params.length;i < n;i++){\r\n\t\t\t\tone=params[i];\r\n\t\t\t\tif (!Render.isFlash && (one.name===\"size\" || one.name===\"position\" || one.name===\"texcoord\"))continue ;\r\n\t\t\t\tthis._params2dQuick1.push(one);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._params2dQuick1;\r\n\t}\r\n\r\n\t__proto.disposeResource=function(){\r\n\t\t_super.prototype.disposeResource.call(this);\r\n\t\tthis._params2dQuick1=null;\r\n\t\tthis._params2dQuick2=null;\r\n\t}\r\n\r\n\t__proto.upload2dQuick2=function(shaderValue){\r\n\t\tthis.upload(shaderValue,this._params2dQuick2 || this._make2dQuick2());\r\n\t}\r\n\r\n\t__proto._make2dQuick2=function(){\r\n\t\tif (!this._params2dQuick2){\r\n\t\t\tthis.activeResource();\r\n\t\t\tthis._params2dQuick2=[];\r\n\t\t\tvar params=this._params,one;\r\n\t\t\tfor (var i=0,n=params.length;i < n;i++){\r\n\t\t\t\tone=params[i];\r\n\t\t\t\tif (!Render.isFlash && (one.name===\"size\"))continue ;\r\n\t\t\t\tthis._params2dQuick2.push(one);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._params2dQuick2;\r\n\t}\r\n\r\n\tShader2X.create=function(vs,ps,saveName,nameMap){\r\n\t\treturn new Shader2X(vs,ps,saveName,nameMap);\r\n\t}\r\n\r\n\treturn Shader2X;\r\n})(Shader)\r\n\r\n\r\n//class laya.webgl.utils.IndexBuffer2D extends laya.webgl.utils.Buffer2D\r\nvar IndexBuffer2D=(function(_super){\r\n\tfunction IndexBuffer2D(bufferUsage){\r\n\t\tthis._uint8Array=null;\r\n\t\tthis._uint16Array=null;\r\n\t\t(bufferUsage===void 0)&& (bufferUsage=/*laya.webgl.WebGLContext.STATIC_DRAW*/0x88E4);\r\n\t\tIndexBuffer2D.__super.call(this);\r\n\t\tthis._bufferUsage=bufferUsage;\r\n\t\tthis._bufferType=/*laya.webgl.WebGLContext.ELEMENT_ARRAY_BUFFER*/0x8893;\r\n\t\tRender.isFlash || (this._buffer=new ArrayBuffer(8));\r\n\t}\r\n\r\n\t__class(IndexBuffer2D,'laya.webgl.utils.IndexBuffer2D',_super);\r\n\tvar __proto=IndexBuffer2D.prototype;\r\n\t__proto._checkArrayUse=function(){\r\n\t\tthis._uint8Array && (this._uint8Array=new Uint8Array(this._buffer));\r\n\t\tthis._uint16Array && (this._uint16Array=new Uint16Array(this._buffer));\r\n\t}\r\n\r\n\t__proto.getUint8Array=function(){\r\n\t\treturn this._uint8Array || (this._uint8Array=new Uint8Array(this._buffer));\r\n\t}\r\n\r\n\t__proto.getUint16Array=function(){\r\n\t\treturn this._uint16Array || (this._uint16Array=new Uint16Array(this._buffer));\r\n\t}\r\n\r\n\t__proto.destory=function(){\r\n\t\tthis._uint16Array=null;\r\n\t\tthis._uint8Array=null;\r\n\t\tthis._buffer=null;\r\n\t}\r\n\r\n\tIndexBuffer2D.QuadrangleIB=null;\r\n\tIndexBuffer2D.create=function(bufferUsage){\r\n\t\t(bufferUsage===void 0)&& (bufferUsage=/*laya.webgl.WebGLContext.STATIC_DRAW*/0x88E4);\r\n\t\treturn new IndexBuffer2D(bufferUsage);\r\n\t}\r\n\r\n\treturn IndexBuffer2D;\r\n})(Buffer2D)\r\n\r\n\r\n//class laya.webgl.utils.VertexBuffer2D extends laya.webgl.utils.Buffer2D\r\nvar VertexBuffer2D=(function(_super){\r\n\tfunction VertexBuffer2D(vertexStride,bufferUsage){\r\n\t\tthis._floatArray32=null;\r\n\t\tthis._vertexStride=0;\r\n\t\tVertexBuffer2D.__super.call(this);\r\n\t\tthis._vertexStride=vertexStride;\r\n\t\tthis._bufferUsage=bufferUsage;\r\n\t\tthis._bufferType=/*laya.webgl.WebGLContext.ARRAY_BUFFER*/0x8892;\r\n\t\tRender.isFlash || (this._buffer=new ArrayBuffer(8));\r\n\t\tthis.getFloat32Array();\r\n\t}\r\n\r\n\t__class(VertexBuffer2D,'laya.webgl.utils.VertexBuffer2D',_super);\r\n\tvar __proto=VertexBuffer2D.prototype;\r\n\t__proto.getFloat32Array=function(){\r\n\t\treturn this._floatArray32 || (this._floatArray32=new Float32Array(this._buffer));\r\n\t}\r\n\r\n\t__proto.bind=function(ibBuffer){\r\n\t\t(ibBuffer)&& (ibBuffer._bind());\r\n\t\tthis._bind();\r\n\t}\r\n\r\n\t__proto.insertData=function(data,pos){\r\n\t\tvar vbdata=this.getFloat32Array();\r\n\t\tvbdata.set(data,pos);\r\n\t\tthis._upload=true;\r\n\t}\r\n\r\n\t__proto.bind_upload=function(ibBuffer){\r\n\t\t(ibBuffer._bind_upload())|| (ibBuffer._bind());\r\n\t\t(this._bind_upload())|| (this._bind());\r\n\t}\r\n\r\n\t__proto._checkArrayUse=function(){\r\n\t\tthis._floatArray32 && (this._floatArray32=new Float32Array(this._buffer));\r\n\t}\r\n\r\n\t__proto.disposeResource=function(){\r\n\t\t_super.prototype.disposeResource.call(this);\r\n\t\tvar enableAtributes=Buffer._enableAtributes;\r\n\t\tif (!Render.isConchWebGL){\r\n\t\t\tfor (var i=0;i < 10;i++){\r\n\t\t\t\tWebGL.mainContext.disableVertexAttribArray(i);\r\n\t\t\t\tenableAtributes[i]=null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//}\r\n\t__proto.destory=function(){\r\n\t\tthis._byteLength=0;\r\n\t\tthis._upload=true;\r\n\t\tthis._buffer=null;\r\n\t\tthis._floatArray32=null;\r\n\t}\r\n\r\n\t__getset(0,__proto,'vertexStride',function(){\r\n\t\treturn this._vertexStride;\r\n\t});\r\n\r\n\tVertexBuffer2D.create=function(vertexStride,bufferUsage){\r\n\t\t(bufferUsage===void 0)&& (bufferUsage=/*laya.webgl.WebGLContext.DYNAMIC_DRAW*/0x88E8);\r\n\t\treturn new VertexBuffer2D(vertexStride,bufferUsage);\r\n\t}\r\n\r\n\treturn VertexBuffer2D;\r\n})(Buffer2D)\r\n\r\n\r\n//class laya.webgl.resource.WebGLImage extends laya.resource.HTMLImage\r\nvar WebGLImage=(function(_super){\r\n\tfunction WebGLImage(data,def,format,mipmap){\r\n\t\t/**@private */\r\n\t\tthis._format=0;\r\n\t\t/**@private */\r\n\t\tthis._mipmap=false;\r\n\t\t/***是否创建私有Source,值为false时不根据src创建私有WebGLTexture,同时销毁时也只清空source=null,不调用WebGL.mainContext.deleteTexture类似函数，调用资源激活前有效*/\r\n\t\tthis._allowMerageInAtlas=false;\r\n\t\t/**是否允许加入大图合集*/\r\n\t\tthis._enableMerageInAtlas=false;\r\n\t\t/**是否使用重复模式纹理寻址*/\r\n\t\tthis.repeat=false;\r\n\t\t/**@private */\r\n\t\tthis._image=null;\r\n\t\t/**缩小过滤器*/\r\n\t\tthis.minFifter=0;\r\n\t\t/**放大过滤器*/\r\n\t\tthis.magFifter=0;\r\n\t\t(format===void 0)&& (format=/*laya.webgl.WebGLContext.RGBA*/0x1908);\r\n\t\t(mipmap===void 0)&& (mipmap=true);\r\n\t\tWebGLImage.__super.call(this,data,def);\r\n\t\tthis._format=format;\r\n\t\tthis._mipmap=mipmap;\r\n\t\tthis.repeat=false;\r\n\t\tthis.minFifter=-1;\r\n\t\tthis.magFifter=-1;\r\n\t\tif ((typeof data=='string')){\r\n\t\t\tthis._url=data;\r\n\t\t\tthis._src=data;\r\n\t\t\tthis._image=new Browser.window.Image();\r\n\t\t\tif (def){\r\n\t\t\t\tdef.onload && (this.onload=def.onload);\r\n\t\t\t\tdef.onerror && (this.onerror=def.onerror);\r\n\t\t\t\tdef.onCreate && def.onCreate(this);\r\n\t\t\t}\r\n\t\t\tthis._image.crossOrigin=(data && (data.indexOf(\"data:\")==0))? null :\"\";\r\n\t\t\t(data)&& (this._image.src=data);\r\n\t\t\t}else if ((data instanceof ArrayBuffer)){\r\n\t\t\tthis._src=def;\r\n\t\t\tthis._url=this._src;\r\n\t\t\tvar readData=new Byte(data);\r\n\t\t\tvar magicNumber=readData.readUTFBytes(4);\r\n\t\t\tvar version=readData.readUTFBytes(2);\r\n\t\t\tvar dataType=readData.getInt16();\r\n\t\t\treadData.endian=/*laya.utils.Byte.BIG_ENDIAN*/\"bigEndian\";\r\n\t\t\tthis._w=readData.getInt16();\r\n\t\t\tthis._h=readData.getInt16();\r\n\t\t\tvar originalWidth=readData.getInt16();\r\n\t\t\tvar originalHeight=readData.getInt16();\r\n\t\t\tthis._image=new Uint8Array(data,readData.pos);\r\n\t\t\tthis._format=WebGL.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL;\r\n\t\t\t(AtlasResourceManager.enabled)&& (this._w < AtlasResourceManager.atlasLimitWidth && this._h < AtlasResourceManager.atlasLimitHeight)? this._allowMerageInAtlas=true :this._allowMerageInAtlas=false;\r\n\t\t\t}else {\r\n\t\t\tthis._src=def;\r\n\t\t\tthis._url=this._src;\r\n\t\t\tthis._image=data[\"source\"] || data;\r\n\t\t\tthis.onresize();\r\n\t\t}\r\n\t\tthis._$5__enableMerageInAtlas=true;\r\n\t}\r\n\r\n\t__class(WebGLImage,'laya.webgl.resource.WebGLImage',_super);\r\n\tvar __proto=WebGLImage.prototype;\r\n\tLaya.imps(__proto,{\"laya.webgl.resource.IMergeAtlasBitmap\":true})\r\n\t__proto._init_=function(src,def){}\r\n\t__proto._createWebGlTexture=function(){\r\n\t\tif (!this._image){\r\n\t\t\tthrow \"create GLTextur err:no data:\"+this._image;\r\n\t\t};\r\n\t\tvar gl=WebGL.mainContext;\r\n\t\tvar glTex=this._source=gl.createTexture();\r\n\t\tvar preTarget=WebGLContext.curBindTexTarget;\r\n\t\tvar preTexture=WebGLContext.curBindTexValue;\r\n\t\tWebGLContext.bindTexture(gl,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,glTex);\r\n\t\tif (Render.isConchWebGL){\r\n\t\t\tswitch (this._format){\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.RGBA*/0x1908:\r\n\t\t\t\t\tgl.texImage2DEx(true,/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,this._format,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._image);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase WebGL.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:\r\n\t\t\t\t\tgl.compressedTexImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,this._format,this._w,this._h,0,this._image);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,true);\r\n\t\t\tswitch (this._format){\r\n\t\t\t\tcase /*laya.webgl.WebGLContext.RGBA*/0x1908:\r\n\t\t\t\t\tgl.texImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,this._format,/*laya.webgl.WebGLContext.RGBA*/0x1908,/*laya.webgl.WebGLContext.UNSIGNED_BYTE*/0x1401,this._image);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase WebGL.compressEtc1.COMPRESSED_RGB_ETC1_WEBGL:\r\n\t\t\t\t\tgl.compressedTexImage2D(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,0,this._format,this._w,this._h,0,this._image);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\tgl.pixelStorei(/*laya.webgl.WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL*/0x9241,false);\r\n\t\t};\r\n\t\tvar minFifter=this.minFifter;\r\n\t\tvar magFifter=this.magFifter;\r\n\t\tvar repeat=this.repeat ? /*laya.webgl.WebGLContext.REPEAT*/0x2901 :/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F;\r\n\t\tvar isPot=Arith.isPOT(this._w,this._h);\r\n\t\tif (isPot){\r\n\t\t\tif (this.mipmap)\r\n\t\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR_MIPMAP_LINEAR*/0x2703);\r\n\t\t\telse\r\n\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,repeat);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,repeat);\r\n\t\t\tthis.mipmap && gl.generateMipmap(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1);\r\n\t\t\t}else {\r\n\t\t\t(minFifter!==-1)|| (minFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\t(magFifter!==-1)|| (magFifter=/*laya.webgl.WebGLContext.LINEAR*/0x2601);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MIN_FILTER*/0x2801,minFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_MAG_FILTER*/0x2800,magFifter);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_S*/0x2802,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\t\tgl.texParameteri(/*laya.webgl.WebGLContext.TEXTURE_2D*/0x0DE1,/*laya.webgl.WebGLContext.TEXTURE_WRAP_T*/0x2803,/*laya.webgl.WebGLContext.CLAMP_TO_EDGE*/0x812F);\r\n\t\t}\r\n\t\t(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));\r\n\t\tthis._image.onload=null;\r\n\t\tthis._image=null;\r\n\t\tif (isPot && this.mipmap)\r\n\t\t\tthis.memorySize=this._w *this._h *4 *(1+1 / 3);\r\n\t\telse\r\n\t\tthis.memorySize=this._w *this._h *4;\r\n\t\tthis._recreateLock=false;\r\n\t}\r\n\r\n\t/***重新创建资源，如果异步创建中被强制释放再创建，则需等待释放完成后再重新加载创建。*/\r\n\t__proto.recreateResource=function(){\r\n\t\tvar _$this=this;\r\n\t\tif (this._src==null || this._src===\"\")\r\n\t\t\treturn;\r\n\t\tthis._needReleaseAgain=false;\r\n\t\tif (!this._image){\r\n\t\t\tthis._recreateLock=true;\r\n\t\t\tvar _this=this;\r\n\t\t\tthis._image=new Browser.window.Image();\r\n\t\t\tthis._image.crossOrigin=this._src.indexOf(\"data:\")==0 ? null :\"\";\r\n\t\t\tthis._image.onload=function (){\r\n\t\t\t\tif (_this._needReleaseAgain){\r\n\t\t\t\t\t_this._needReleaseAgain=false;\r\n\t\t\t\t\t_this._image.onload=null;\r\n\t\t\t\t\t_this._image=null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t(!(_this._allowMerageInAtlas && _this._enableMerageInAtlas))? (_this._createWebGlTexture()):(_$this.memorySize=0,_$this._recreateLock=false);\r\n\t\t\t\t_this.completeCreate();\r\n\t\t\t};\r\n\t\t\tthis._image.src=this._src;\r\n\t\t\t}else {\r\n\t\t\tif (this._recreateLock){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t(!(this._allowMerageInAtlas && this._$5__enableMerageInAtlas))? (this._createWebGlTexture()):(this.memorySize=0,this._recreateLock=false);\r\n\t\t\tthis.completeCreate();\r\n\t\t}\r\n\t}\r\n\r\n\t/***销毁资源*/\r\n\t__proto.disposeResource=function(){\r\n\t\tif (this._recreateLock){\r\n\t\t\tthis._needReleaseAgain=true;\r\n\t\t}\r\n\t\tif (this._source){\r\n\t\t\tWebGL.mainContext.deleteTexture(this._source);\r\n\t\t\tthis._source=null;\r\n\t\t\tthis._image=null;\r\n\t\t\tthis.memorySize=0;\r\n\t\t}\r\n\t}\r\n\r\n\t/***调整尺寸*/\r\n\t__proto.onresize=function(){\r\n\t\tthis._w=this._image.width;\r\n\t\tthis._h=this._image.height;\r\n\t\t(AtlasResourceManager.enabled)&& (this._w < AtlasResourceManager.atlasLimitWidth && this._h < AtlasResourceManager.atlasLimitHeight)? this._allowMerageInAtlas=true :this._allowMerageInAtlas=false;\r\n\t}\r\n\r\n\t__proto.clearAtlasSource=function(){\r\n\t\tthis._image=null;\r\n\t}\r\n\r\n\t/**\r\n\t*获取纹理格式。\r\n\t*/\r\n\t__getset(0,__proto,'format',function(){\r\n\t\treturn this._format;\r\n\t});\r\n\r\n\t/**\r\n\t*是否创建私有Source,通常禁止修改\r\n\t*@param value 是否创建\r\n\t*/\r\n\t/**\r\n\t*是否创建私有Source\r\n\t*@return 是否创建\r\n\t*/\r\n\t__getset(0,__proto,'enableMerageInAtlas',function(){\r\n\t\treturn this._$5__enableMerageInAtlas;\r\n\t\t},function(value){\r\n\t\tthis._$5__enableMerageInAtlas=value;\r\n\t});\r\n\r\n\t/**\r\n\t*获取是否具有mipmap。\r\n\t*/\r\n\t__getset(0,__proto,'mipmap',function(){\r\n\t\treturn this._mipmap;\r\n\t});\r\n\r\n\t/**\r\n\t*是否创建私有Source\r\n\t*@return 是否创建\r\n\t*/\r\n\t__getset(0,__proto,'allowMerageInAtlas',function(){\r\n\t\treturn this._allowMerageInAtlas;\r\n\t});\r\n\r\n\t__getset(0,__proto,'atlasSource',function(){\r\n\t\treturn this._image;\r\n\t});\r\n\r\n\t/***\r\n\t*设置onload函数\r\n\t*@param value onload函数\r\n\t*/\r\n\t__getset(0,__proto,'onload',null,function(value){\r\n\t\tvar _$this=this;\r\n\t\tthis._onload=value;\r\n\t\tthis._image && (this._image.onload=this._onload !=null ? (function(){\r\n\t\t\t_$this.onresize();\r\n\t\t\t_$this._onload();\r\n\t\t}):null);\r\n\t});\r\n\r\n\t/***\r\n\t*设置onerror函数\r\n\t*@param value onerror函数\r\n\t*/\r\n\t__getset(0,__proto,'onerror',null,function(value){\r\n\t\tvar _$this=this;\r\n\t\tthis._onerror=value;\r\n\t\tthis._image && (this._image.onerror=this._onerror !=null ? (function(){\r\n\t\t\t_$this._onerror()\r\n\t\t}):null);\r\n\t});\r\n\r\n\treturn WebGLImage;\r\n})(HTMLImage)\r\n\r\n\r\n\tLaya.__init([DrawText,AtlasGrid,WebGLContext2D,ShaderCompile]);\r\n})(window,document,Laya);\r\n\r\nif (typeof define === 'function' && define.amd){\r\n\tdefine('laya.core', ['require', \"exports\"], function(require, exports) {\r\n        'use strict';\r\n        Object.defineProperty(exports, '__esModule', { value: true });\r\n        for (var i in Laya) {\r\n\t\t\tvar o = Laya[i];\r\n            o && o.__isclass && (exports[i] = o);\r\n        }\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/libs/laya.webgl.js","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = xnc9\n// module chunks = 0","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = zQR9\n// module chunks = 0"],"sourceRoot":""}